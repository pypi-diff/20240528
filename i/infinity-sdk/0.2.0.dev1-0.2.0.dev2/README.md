# Comparing `tmp/infinity_sdk-0.2.0.dev1-py3-none-any.whl.zip` & `tmp/infinity_sdk-0.2.0.dev2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,28 @@
-Zip file size: 50243 bytes, number of entries: 26
--rw-rw-r--  2.0 unx     1157 b- defN 24-Apr-11 08:29 infinity/__init__.py
--rw-rw-r--  2.0 unx     1165 b- defN 24-May-01 07:09 infinity/common.py
--rw-rw-r--  2.0 unx     1791 b- defN 24-Apr-11 15:10 infinity/connection_pool.py
--rw-rw-r--  2.0 unx     1387 b- defN 24-Mar-30 15:25 infinity/db.py
--rw-rw-r--  2.0 unx     4076 b- defN 24-Apr-23 12:28 infinity/errors.py
--rw-rw-r--  2.0 unx     2421 b- defN 24-Mar-27 16:25 infinity/index.py
--rw-rw-r--  2.0 unx     1237 b- defN 24-May-06 01:57 infinity/infinity.py
--rw-rw-r--  2.0 unx     2427 b- defN 24-Mar-27 16:25 infinity/table.py
--rw-rw-r--  2.0 unx     1391 b- defN 24-Mar-27 16:25 infinity/utils.py
+Zip file size: 50816 bytes, number of entries: 26
+-rw-rw-r--  2.0 unx     1190 b- defN 24-May-26 15:19 infinity/__init__.py
+-rw-rw-r--  2.0 unx     1341 b- defN 24-May-26 15:06 infinity/common.py
+-rw-rw-r--  2.0 unx     1791 b- defN 24-May-16 06:36 infinity/connection_pool.py
+-rw-rw-r--  2.0 unx     1387 b- defN 24-May-16 06:36 infinity/db.py
+-rw-rw-r--  2.0 unx     4527 b- defN 24-May-27 01:59 infinity/errors.py
+-rw-rw-r--  2.0 unx     2481 b- defN 24-May-27 01:52 infinity/index.py
+-rw-rw-r--  2.0 unx     1237 b- defN 24-May-17 02:48 infinity/infinity.py
+-rw-rw-r--  2.0 unx     2487 b- defN 24-May-26 15:31 infinity/table.py
+-rw-rw-r--  2.0 unx     1515 b- defN 24-May-27 01:56 infinity/utils.py
 -rw-rw-r--  2.0 unx        0 b- defN 24-Mar-27 16:25 infinity/remote_thrift/__init__.py
--rw-rw-r--  2.0 unx    13663 b- defN 24-May-06 03:21 infinity/remote_thrift/client.py
+-rw-rw-r--  2.0 unx    13794 b- defN 24-May-26 09:28 infinity/remote_thrift/client.py
 -rw-rw-r--  2.0 unx      680 b- defN 24-Mar-17 04:21 infinity/remote_thrift/common.py
--rw-rw-r--  2.0 unx    12738 b- defN 24-Apr-25 05:37 infinity/remote_thrift/db.py
--rw-rw-r--  2.0 unx     4176 b- defN 24-May-06 03:21 infinity/remote_thrift/infinity.py
--rw-rw-r--  2.0 unx     9938 b- defN 24-Mar-30 15:25 infinity/remote_thrift/query_builder.py
--rw-rw-r--  2.0 unx    18182 b- defN 24-Apr-28 04:18 infinity/remote_thrift/table.py
--rw-rw-r--  2.0 unx    10297 b- defN 24-Mar-27 16:25 infinity/remote_thrift/types.py
--rw-rw-r--  2.0 unx     7204 b- defN 24-Apr-02 08:30 infinity/remote_thrift/utils.py
--rw-rw-r--  2.0 unx   177661 b- defN 24-May-05 13:04 infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py
+-rw-rw-r--  2.0 unx    12826 b- defN 24-May-27 01:51 infinity/remote_thrift/db.py
+-rw-rw-r--  2.0 unx     4167 b- defN 24-May-26 15:22 infinity/remote_thrift/infinity.py
+-rw-rw-r--  2.0 unx    10027 b- defN 24-May-26 15:25 infinity/remote_thrift/query_builder.py
+-rw-rw-r--  2.0 unx    18214 b- defN 24-May-26 15:29 infinity/remote_thrift/table.py
+-rw-rw-r--  2.0 unx    10201 b- defN 24-May-25 12:23 infinity/remote_thrift/types.py
+-rw-rw-r--  2.0 unx     7763 b- defN 24-May-27 02:01 infinity/remote_thrift/utils.py
+-rw-rw-r--  2.0 unx   178466 b- defN 24-May-26 09:16 infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py
 -rw-rw-r--  2.0 unx       53 b- defN 24-Mar-27 16:25 infinity/remote_thrift/infinity_thrift_rpc/__init__.py
--rw-rw-r--  2.0 unx      366 b- defN 24-Apr-18 13:59 infinity/remote_thrift/infinity_thrift_rpc/constants.py
--rw-rw-r--  2.0 unx   272498 b- defN 24-May-05 13:04 infinity/remote_thrift/infinity_thrift_rpc/ttypes.py
--rw-rw-r--  2.0 unx     2027 b- defN 24-May-07 08:07 infinity_sdk-0.2.0.dev1.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 24-May-07 08:07 infinity_sdk-0.2.0.dev1.dist-info/WHEEL
--rw-rw-r--  2.0 unx        9 b- defN 24-May-07 08:07 infinity_sdk-0.2.0.dev1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2274 b- defN 24-May-07 08:07 infinity_sdk-0.2.0.dev1.dist-info/RECORD
-26 files, 548910 bytes uncompressed, 46545 bytes compressed:  91.5%
+-rw-rw-r--  2.0 unx      366 b- defN 24-May-16 06:36 infinity/remote_thrift/infinity_thrift_rpc/constants.py
+-rw-rw-r--  2.0 unx   274464 b- defN 24-May-26 09:16 infinity/remote_thrift/infinity_thrift_rpc/ttypes.py
+-rw-rw-r--  2.0 unx     2241 b- defN 24-May-28 10:07 infinity_sdk-0.2.0.dev2.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-May-28 10:07 infinity_sdk-0.2.0.dev2.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        9 b- defN 24-May-28 10:07 infinity_sdk-0.2.0.dev2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2275 b- defN 24-May-28 10:07 infinity_sdk-0.2.0.dev2.dist-info/RECORD
+26 files, 553594 bytes uncompressed, 47118 bytes compressed:  91.5%
```

## zipnote {}

```diff
@@ -60,20 +60,20 @@
 
 Filename: infinity/remote_thrift/infinity_thrift_rpc/constants.py
 Comment: 
 
 Filename: infinity/remote_thrift/infinity_thrift_rpc/ttypes.py
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev1.dist-info/METADATA
+Filename: infinity_sdk-0.2.0.dev2.dist-info/METADATA
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev1.dist-info/WHEEL
+Filename: infinity_sdk-0.2.0.dev2.dist-info/WHEEL
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev1.dist-info/top_level.txt
+Filename: infinity_sdk-0.2.0.dev2.dist-info/top_level.txt
 Comment: 
 
-Filename: infinity_sdk-0.2.0.dev1.dist-info/RECORD
+Filename: infinity_sdk-0.2.0.dev2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## infinity/__init__.py

```diff
@@ -12,18 +12,18 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import importlib.metadata
 
 __version__ = importlib.metadata.version("infinity_sdk")
 
-from infinity.common import URI, NetworkAddress, LOCAL_HOST
+from infinity.common import URI, NetworkAddress, LOCAL_HOST, InfinityException
 from infinity.infinity import InfinityConnection
 from infinity.remote_thrift.infinity import RemoteThriftInfinityConnection
 
 def connect(
         uri: URI = LOCAL_HOST
 ) -> InfinityConnection:
     if isinstance(uri, NetworkAddress) and (uri.port == 9090 or uri.port == 23817 or uri.port == 9070):
         return RemoteThriftInfinityConnection(uri)
     else:
-        raise Exception(f"unknown uri: {uri}")
+        raise InfinityException(7016, f"Unknown uri: {uri}")
```

## infinity/common.py

```diff
@@ -34,7 +34,13 @@
 LOCAL_HOST = NetworkAddress("0.0.0.0", 23817)
 
 
 class ConflictType(object):
     Ignore = 0
     Error = 1
     Replace = 2
+
+
+class InfinityException(Exception):
+    def __init__(self, error_code=0, error_message=None):
+        self.error_code = error_code
+        self.error_message = error_message
```

## infinity/errors.py

```diff
@@ -21,21 +21,24 @@
     INVALID_TIME_INFO = 1001,
     EMPTY_CONFIG_PARAMETER = 1002,
     MISMATCH_VERSION = 1003,
     INVALID_TIMEZONE = 1004,
     INVALID_BYTE_SIZE = 1005,
     INVALID_IP_ADDR = 1006,
     INVALID_LOG_LEVEL = 1007,
+    INVALID_CONFIG = 1008
 
     WRONG_PASSWD = 2001,
     INSUFFICIENT_PRIVILEGE = 2002,
+    UNSUPPORTED_VERSION_INDEX = 2003,
+    CLIENT_VERSION_MISMATCH = 2004,
 
     INVALID_USERNAME = 3001,
     INVALID_PASSWD = 3002,
-    INVALID_DB_NAME = 3003,
+    INVALID_IDENTIFIER_NAME = 3003,
     INVALID_TABLE_NAME = 3004,
     INVALID_COLUMN_NAME = 3005,
     INVALID_INDEX_NAME = 3006,
     INVALID_COLUMN_DEFINITION = 3007,
     INVALID_TABLE_DEFINITION = 3008,
     INVALID_INDEX_DEFINITION = 3009,
     DATA_TYPE_MISMATCH = 3010,
@@ -100,14 +103,20 @@
     INVALID_EXPRESSION = 3069,
     SEGMENT_NOT_EXIST = 3070,
     AGGREGATE_FUNCTION_WITH_EMPTY_ARGS = 3071,
     BLOCK_NOT_EXIST = 3072,
     INVALID_TOPK_TYPE = 3073,
     INVALID_CREATE_OPTION = 3074,
     INVALID_DROP_OPTION = 3075,
+    INVALID_COMMAND = 3076,
+    ANALYZER_NOT_FOUND = 3077,
+    NOT_SUPPORTED_ANALYZER = 3078,
+    INVALID_ANALYZER_NAME = 3079,
+    INVALID_ANALYZER_FILE = 3080,
+    INVALID_EXPLAIN_TYPE = 3081,
 
     TXN_ROLLBACK = 4001,
     TXN_CONFLICT = 4002,
 
     DISK_FULL = 5001,
     OUT_OF_MEMORY = 5002,
     TOO_MANY_CONNECTIONS = 5003,
@@ -127,11 +136,16 @@
     CATALOG_CORRUPTED = 7005,
     DATA_CORRUPTED = 7006,
     INDEX_CORRUPTED = 7007,
     FILE_NOT_FOUND = 7008,
     DIR_NOT_FOUND = 7009,
     DATA_IO_ERROR = 7010,
     UNEXPECTED_ERROR = 7011,
+    PARSER_ERROR = 7012,
+    MMAP_FILE_ERROR = 7013,
+    MUNMAP_FILE_ERROR = 7014,
+    INVALID_FILE_FLAG = 7015,
+    INVALID_SERVER_ADDRESS = 7016,
 
     INVALID_ENTRY = 8001,
     NOT_FOUND_ENTRY = 8002,
     EMPTY_ENTRY_LIST = 8003,
```

## infinity/index.py

```diff
@@ -11,14 +11,15 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from enum import Enum
 
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
+from infinity.common import InfinityException
 
 
 class IndexType(Enum):
     IVFFlat = 1
     HnswLVQ = 2
     Hnsw = 3
     FullText = 4
@@ -29,15 +30,15 @@
         elif self == IndexType.HnswLVQ:
             return ttypes.IndexType.HnswLVQ
         elif self == IndexType.Hnsw:
             return ttypes.IndexType.Hnsw
         elif self == IndexType.FullText:
             return ttypes.IndexType.FullText
         else:
-            raise Exception("Unknown index type")
+            raise InfinityException(3060, "Unknown index type")
 
 
 class InitParameter:
     def __init__(self, param_name: str, param_value: str):
         self.param_name = param_name
         self.param_value = param_value
```

## infinity/table.py

```diff
@@ -14,14 +14,15 @@
 
 from abc import ABC, abstractmethod
 from enum import Enum
 from typing import Optional, Union
 
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
 from infinity.index import IndexInfo
+from infinity.common import InfinityException
 
 
 class ExplainType(Enum):
     Analyze = 1
     Ast = 2
     UnOpt = 3
     Opt = 4
@@ -41,15 +42,15 @@
         elif self is ExplainType.Physical:
             return ttypes.ExplainType.Physical
         elif self is ExplainType.Pipeline:
             return ttypes.ExplainType.Pipeline
         elif self is ExplainType.Fragment:
             return ttypes.ExplainType.Fragment
         else:
-            raise Exception("Unknown explain type")
+            raise InfinityException(3081, "Unknown explain type")
 
 
 class Table(ABC):
 
     @abstractmethod
     def create_index(self, index_name: str, index_infos: list[IndexInfo], options=None):
         pass
```

## infinity/utils.py

```diff
@@ -8,14 +8,18 @@
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+from infinity.common import InfinityException
+from infinity.errors import ErrorCode
+
+
 def binary_exp_to_paser_exp(binary_expr_key) -> str:
     if binary_expr_key == "eq":
         return "="
     elif binary_expr_key == "gt":
         return ">"
     elif binary_expr_key == "lt":
         return "<"
@@ -34,8 +38,8 @@
     elif binary_expr_key == "sub":
         return "-"
     elif binary_expr_key == "mul":
         return "*"
     elif binary_expr_key == "div":
         return "/"
     else:
-        raise Exception(f"unknown binary expression: {binary_expr_key}")
+        raise InfinityException(ErrorCode.INVALID_EXPRESSION, f"unknown binary expression: {binary_expr_key}")
```

## infinity/remote_thrift/client.py

```diff
@@ -36,15 +36,18 @@
         # self.transport = TTransport.TFramedTransport(TSocket.TSocket(self.uri.ip, self.uri.port))  # async
         self.transport = TTransport.TBufferedTransport(
             TSocket.TSocket(self.uri.ip, self.uri.port))  # sync
         self.protocol = TBinaryProtocol.TBinaryProtocol(self.transport)
         # self.protocol = TCompactProtocol.TCompactProtocol(self.transport)
         self.client = InfinityService.Client(self.protocol)
         self.transport.open()
-        res = self.client.Connect()
+
+        # version: 0.2.0.dev2, client_version: 1
+        # version: 0.2.0.dev3, client_version: 2
+        res = self.client.Connect(ConnectRequest(client_version=1))
         self.session_id = res.session_id
 
     def create_database(self, db_name: str, conflict_type: CreateConflict = CreateConflict.Error):
         return self.client.CreateDatabase(CreateDatabaseRequest(session_id=self.session_id,
                                                                 db_name=db_name,
                                                                 create_option=CreateOption(
                                                                     conflict_type=conflict_type)))
```

## infinity/remote_thrift/db.py

```diff
@@ -17,14 +17,15 @@
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
 import numpy as np
 from infinity.db import Database
 from infinity.errors import ErrorCode
 from infinity.remote_thrift.table import RemoteTable
 from infinity.remote_thrift.utils import check_valid_name, name_validity_check, select_res_to_polars
 from infinity.common import ConflictType
+from infinity.common import InfinityException
 
 
 def get_ordinary_info(column_info, column_defs, column_name, index):
     # "c1": {"type": "int", "constraints":["primary key", ...], "default": 1/"asdf"/[1,2]/...}
     # process column definition
 
     proto_column_def = ttypes.ColumnDef(None, None, None, [], None)
@@ -49,15 +50,15 @@
         proto_column_type.logic_type = ttypes.LogicType.Double
     elif datatype == "varchar":
         proto_column_type.logic_type = ttypes.LogicType.Varchar
         proto_column_type.physical_type = ttypes.VarcharType()
     elif datatype == "bool":
         proto_column_type.logic_type = ttypes.LogicType.Boolean
     else:
-        raise Exception(f"unknown datatype: {datatype}")
+        raise InfinityException(3051, f"Unknown datatype: {datatype}")
 
     # process constraints
     proto_column_def.data_type = proto_column_type
     if "constraints" in column_info:
         constraints = column_info["constraints"]
         for constraint in constraints:
             if constraint == "null":
@@ -65,15 +66,15 @@
             elif constraint == "not null":
                 proto_column_def.constraints.append(ttypes.Constraint.NotNull)
             elif constraint == "primary key":
                 proto_column_def.constraints.append(ttypes.Constraint.PrimaryKey)
             elif constraint == "unique":
                 proto_column_def.constraints.append(ttypes.Constraint.Unique)
             else:
-                raise Exception(f"unknown constraint: {constraint}")
+                raise InfinityException(3055, f"Unknown constraint: {constraint}")
 
     # process constant expression
     default = None
     if "default" in column_info:
         default = column_info["default"]
 
     if default is None:
@@ -96,15 +97,15 @@
             if isinstance(default[0], int):
                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.IntegerArray,
                                                           i64_array_value=default)
             elif isinstance(default[0], float):
                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.DoubleArray,
                                                           f64_array_value=default)
         else:
-            raise Exception("Invalid constant expression")
+            raise InfinityException(3069, "Invalid constant expression")
         proto_column_def.constant_expr = constant_expression
     column_defs.append(proto_column_def)
 
 
 def get_embedding_info(column_info, column_defs, column_name, index):
     # "vector,1024,float32"
     column_big_info = [item.strip() for item in column_info["type"].split(",")]
@@ -128,15 +129,15 @@
     elif element_type == "int16":
         embedding_type.element_type = ttypes.ElementType.ElementInt16
     elif element_type == "int32" or element_type == "int":
         embedding_type.element_type = ttypes.ElementType.ElementInt32
     elif element_type == "int64":
         embedding_type.element_type = ttypes.ElementType.ElementInt64
     else:
-        raise Exception(f"unknown element type: {element_type}")
+        raise InfinityException(3057, f"Unknown element type: {element_type}")
     embedding_type.dimension = int(length)
     assert isinstance(embedding_type, ttypes.EmbeddingType)
     assert embedding_type.element_type is not None
     assert embedding_type.dimension is not None
     physical_type = ttypes.PhysicalType()
     physical_type.embedding_type = embedding_type
     column_type.physical_type = physical_type
@@ -167,15 +168,15 @@
             if isinstance(default[0], int):
                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.IntegerArray,
                                                           i64_array_value=default)
             elif isinstance(default[0], float):
                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.DoubleArray,
                                                           f64_array_value=default)
         else:
-            raise Exception("Invalid constant expression")
+            raise InfinityException(3069, "Invalid constant expression")
         proto_column_def.constant_expr = constant_expression
 
     column_defs.append(proto_column_def)
 
 
 class RemoteDatabase(Database, ABC):
     def __init__(self, conn, name: str):
@@ -214,69 +215,69 @@
         if conflict_type == ConflictType.Error:
             create_table_conflict = ttypes.CreateConflict.Error
         elif conflict_type == ConflictType.Ignore:
             create_table_conflict = ttypes.CreateConflict.Ignore
         elif conflict_type == ConflictType.Replace:
             create_table_conflict = ttypes.CreateConflict.Replace
         else:
-            raise Exception(f"ERROR:3066, Invalid conflict type")
+            raise InfinityException(3066, f"Invalid conflict type")
 
         res = self._conn.create_table(db_name=self._db_name, table_name=table_name,
                                       column_defs=column_defs,
                                       conflict_type=create_table_conflict)
 
         if res.error_code == ErrorCode.OK:
             return RemoteTable(self._conn, self._db_name, table_name)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("table_name", "Table")
     def drop_table(self, table_name, conflict_type: ConflictType = ConflictType.Error):
         if conflict_type == ConflictType.Error:
             return self._conn.drop_table(db_name=self._db_name, table_name=table_name,
                                          conflict_type=ttypes.DropConflict.Error)
         elif conflict_type == ConflictType.Ignore:
             return self._conn.drop_table(db_name=self._db_name, table_name=table_name,
                                          conflict_type=ttypes.DropConflict.Ignore)
         else:
-            raise Exception(f"ERROR:3066, invalid conflict type")
+            raise InfinityException(3066, "nvalid conflict type")
 
     def list_tables(self):
         res = self._conn.list_tables(self._db_name)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("table_name", "Table")
     def show_table(self, table_name):
         res = self._conn.show_table(
             db_name=self._db_name, table_name=table_name)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("table_name", "Table")
     def show_columns(self, table_name):
         res = self._conn.show_columns(
             db_name=self._db_name, table_name=table_name)
         if res.error_code == ErrorCode.OK:
             return select_res_to_polars(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("table_name", "Table")
     def get_table(self, table_name):
         res = self._conn.get_table(
             db_name=self._db_name, table_name=table_name)
         if res.error_code == ErrorCode.OK:
             return RemoteTable(self._conn, self._db_name, table_name)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_tables(self):
         res = self._conn.show_tables(self._db_name)
         if res.error_code == ErrorCode.OK:
             return select_res_to_polars(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
```

## infinity/remote_thrift/infinity.py

```diff
@@ -16,15 +16,15 @@
 
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
 from infinity import InfinityConnection
 from infinity.errors import ErrorCode
 from infinity.remote_thrift.client import ThriftInfinityClient
 from infinity.remote_thrift.db import RemoteDatabase
 from infinity.remote_thrift.utils import name_validity_check, select_res_to_polars
-from infinity.common import ConflictType
+from infinity.common import ConflictType, InfinityException
 
 
 class RemoteThriftInfinityConnection(InfinityConnection, ABC):
     def __init__(self, uri):
         super().__init__(uri)
         self.db_name = "default_db"
         self._client = ThriftInfinityClient(uri)
@@ -40,65 +40,65 @@
         if conflict_type == ConflictType.Error:
             create_database_conflict = ttypes.CreateConflict.Error
         elif conflict_type == ConflictType.Ignore:
             create_database_conflict = ttypes.CreateConflict.Ignore
         elif conflict_type == ConflictType.Replace:
             create_database_conflict = ttypes.CreateConflict.Replace
         else:
-            raise Exception(f"ERROR:3066, Invalid conflict type")
+            raise InfinityException(3066, "Invalid conflict type")
 
         res = self._client.create_database(db_name=db_name, conflict_type=create_database_conflict)
         if res.error_code == ErrorCode.OK:
             return RemoteDatabase(self._client, db_name)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def list_databases(self):
         res = self._client.list_databases()
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("db_name", "DB")
     def show_database(self, db_name: str):
         res = self._client.show_database(db_name=db_name)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("db_name", "DB")
     def drop_database(self, db_name: str, conflict_type: ConflictType = ConflictType.Error):
         drop_database_conflict: ttypes.DropConflict
         if conflict_type == ConflictType.Error:
             drop_database_conflict = ttypes.DropConflict.Error
         elif conflict_type == ConflictType.Ignore:
             drop_database_conflict = ttypes.DropConflict.Ignore
         else:
-            raise Exception(f"ERROR:3066, invalid conflict type")
+            raise InfinityException(3066, "Invalid conflict type")
 
         res = self._client.drop_database(db_name=db_name, conflict_type = drop_database_conflict)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("db_name", "DB")
     def get_database(self, db_name: str):
         res = self._client.get_database(db_name)
         if res.error_code == ErrorCode.OK:
             return RemoteDatabase(self._client, db_name)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def disconnect(self):
         res = self._client.disconnect()
         if res.error_code == ErrorCode.OK:
             self._is_connected = False
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @property
     def client(self):
         return self._client
```

## infinity/remote_thrift/query_builder.py

```diff
@@ -20,15 +20,15 @@
 import numpy as np
 import pandas as pd
 import polars as pl
 import pyarrow as pa
 from pyarrow import Table
 from sqlglot import condition, maybe_parse
 
-from infinity.common import VEC
+from infinity.common import VEC, InfinityException
 from infinity.remote_thrift.infinity_thrift_rpc.ttypes import *
 from infinity.remote_thrift.types import logic_type_to_dtype
 from infinity.remote_thrift.utils import traverse_conditions, parse_expr
 
 '''FIXME: How to disable validation of only the search field?'''
 
 
@@ -71,37 +71,37 @@
             self._search = SearchExpr()
         if self._search.knn_exprs is None:
             self._search.knn_exprs = list()
 
         column_expr = ColumnExpr(column_name=[vector_column_name], star=False)
 
         if not isinstance(topn, int):
-            raise Exception(f"Invalid topn, type should be embedded, but get {type(topn)}")
+            raise InfinityException(3073, f"Invalid topn, type should be embedded, but get {type(topn)}")
 
         # type casting
         if isinstance(embedding_data, list):
             embedding_data = embedding_data
         elif isinstance(embedding_data, tuple):
             embedding_data = embedding_data
         elif isinstance(embedding_data, np.ndarray):
             embedding_data = embedding_data.tolist()
         else:
-            raise Exception(f"Invalid embedding data, type should be embedded, but get {type(embedding_data)}")
+            raise InfinityException(3051, f"Invalid embedding data, type should be embedded, but get {type(embedding_data)}")
 
         if (embedding_data_type == 'tinyint' or
             embedding_data_type == 'smallint' or
             embedding_data_type == 'int' or
             embedding_data_type == 'bigint'):
             embedding_data = [int(x) for x in embedding_data]
 
         data = EmbeddingData()
         elem_type = ElementType.ElementFloat32
         if embedding_data_type == 'bit':
             elem_type = ElementType.ElementBit
-            raise Exception(f"Invalid embedding {embedding_data[0]} type")
+            raise InfinityException(3057, f"Invalid embedding {embedding_data[0]} type")
         elif embedding_data_type == 'tinyint':
             elem_type = ElementType.ElementInt8
             data.i8_array_value = embedding_data
         elif embedding_data_type == 'smallint':
             elem_type = ElementType.ElementInt16
             data.i16_array_value = embedding_data
         elif embedding_data_type == 'int':
@@ -113,27 +113,27 @@
         elif embedding_data_type == 'float':
             elem_type = ElementType.ElementFloat32
             data.f32_array_value = embedding_data
         elif embedding_data_type == 'double':
             elem_type = ElementType.ElementFloat64
             data.f64_array_value = embedding_data
         else:
-            raise Exception(f"Invalid embedding {embedding_data[0]} type")
+            raise InfinityException(3057, f"Invalid embedding {embedding_data[0]} type")
 
         dist_type = KnnDistanceType.L2
         if distance_type == 'l2':
             dist_type = KnnDistanceType.L2
         elif distance_type == 'cosine':
             dist_type = KnnDistanceType.Cosine
         elif distance_type == 'ip':
             dist_type = KnnDistanceType.InnerProduct
         elif distance_type == 'hamming':
             dist_type = KnnDistanceType.Hamming
         else:
-            raise Exception(f"Invalid distance type {distance_type}")
+            raise InfinityException(3056, f"Invalid distance type {distance_type}")
 
         knn_opt_params = []
         if knn_params != None:
             for k, v in knn_params.items():
                 knn_opt_params.append(InitParameter(k, v))
 
         knn_expr = KnnExpr(column_expr=column_expr, embedding_data=data, embedding_data_type=elem_type,
```

## infinity/remote_thrift/table.py

```diff
@@ -17,15 +17,15 @@
 import numpy as np
 from abc import ABC
 from typing import Optional, Union, List, Any
 
 from sqlglot import condition
 
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
-from infinity.common import INSERT_DATA, VEC
+from infinity.common import INSERT_DATA, VEC, InfinityException
 from infinity.errors import ErrorCode
 from infinity.index import IndexInfo
 from infinity.remote_thrift.query_builder import Query, InfinityThriftQueryBuilder, ExplainQuery
 from infinity.remote_thrift.types import build_result
 from infinity.remote_thrift.utils import traverse_conditions, name_validity_check, select_res_to_polars
 from infinity.table import Table, ExplainType
 from infinity.common import ConflictType
@@ -74,96 +74,96 @@
         if conflict_type == ConflictType.Error:
             create_index_conflict = ttypes.CreateConflict.Error
         elif conflict_type == ConflictType.Ignore:
             create_index_conflict = ttypes.CreateConflict.Ignore
         elif conflict_type == ConflictType.Replace:
             create_index_conflict = ttypes.CreateConflict.Replace
         else:
-            raise Exception(f"ERROR:3066, Invalid conflict type")
+            raise InfinityException(3066, f"Invalid conflict type")
 
         res = self._conn.create_index(db_name=self._db_name,
                                       table_name=self._table_name,
                                       index_name=index_name,
                                       index_info_list=index_info_list_to_use,
                                       conflict_type=create_index_conflict)
 
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("index_name", "Index")
     def drop_index(self, index_name: str, conflict_type: ConflictType = ConflictType.Error):
         drop_index_conflict: ttypes.DropConflict
         if conflict_type == ConflictType.Error:
             drop_index_conflict = ttypes.DropConflict.Error
         elif conflict_type == ConflictType.Ignore:
             drop_index_conflict = ttypes.DropConflict.Ignore
         else:
-            raise Exception(f"ERROR:3066, invalid conflict type")
+            raise InfinityException(3066, f"Invalid conflict type")
 
         res = self._conn.drop_index(db_name=self._db_name, table_name=self._table_name,
                                     index_name=index_name, conflict_type=drop_index_conflict)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     @name_validity_check("index_name", "Index")
     def show_index(self, index_name: str):
         res = self._conn.show_index(db_name=self._db_name, table_name=self._table_name, index_name=index_name)
 
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def list_indexes(self):
         res = self._conn.list_indexes(db_name=self._db_name, table_name=self._table_name)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_segments(self):
         res = self._conn.show_segments(db_name=self._db_name, table_name=self._table_name)
         if res.error_code == ErrorCode.OK:
             return select_res_to_polars(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_segment(self, segment_id: int):
         res = self._conn.show_segment(db_name=self._db_name, table_name=self._table_name, segment_id=segment_id)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_blocks(self, segment_id: int):
         res = self._conn.show_blocks(db_name=self._db_name, table_name=self._table_name, segment_id=segment_id)
         if res.error_code == ErrorCode.OK:
             return select_res_to_polars(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_block(self, segment_id: int, block_id: int):
         res = self._conn.show_block(db_name=self._db_name, table_name=self._table_name, segment_id=segment_id,
                                     block_id=block_id)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def show_block_column(self, segment_id: int, block_id: int, column_id: int):
         res = self._conn.show_block_column(db_name=self._db_name, table_name=self._table_name, segment_id=segment_id,
                                            block_id=block_id, column_id=column_id)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def insert(self, data: Union[INSERT_DATA, list[INSERT_DATA]]):
         # [{"c1": 1, "c2": 1.1}, {"c1": 2, "c2": 2.2}]
         db_name = self._db_name
         table_name = self._table_name
         column_names: list[str] = []
         fields: list[ttypes.Field] = []
@@ -191,15 +191,15 @@
                     if isinstance(value[0], int):
                         constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.IntegerArray,
                                                                   i64_array_value=value)
                     elif isinstance(value[0], float):
                         constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.DoubleArray,
                                                                   f64_array_value=value)
                 else:
-                    raise Exception("Invalid constant expression")
+                    raise InfinityException(3069, "Invalid constant expression")
 
                 expr_type = ttypes.ParsedExprType(
                     constant_expr=constant_expression)
                 paser_expr = ttypes.ParsedExpr(type=expr_type)
 
                 parse_exprs.append(paser_expr)
 
@@ -207,15 +207,15 @@
             fields.append(field)
 
         res = self._conn.insert(db_name=db_name, table_name=table_name, column_names=column_names,
                                 fields=fields)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def import_data(self, file_path: str, import_options: {} = None):
         options = ttypes.ImportOption()
         options.has_header = False
         options.delimiter = ','
         options.copy_file_type = ttypes.CopyFileType.CSV
         if import_options != None:
@@ -228,49 +228,49 @@
                     elif file_type == 'json':
                         options.copy_file_type = ttypes.CopyFileType.JSON
                     elif file_type == 'jsonl':
                         options.copy_file_type = ttypes.CopyFileType.JSONL
                     elif file_type == 'fvecs':
                         options.copy_file_type = ttypes.CopyFileType.FVECS
                     else:
-                        raise Exception("Unrecognized import file type")
+                        raise InfinityException(3037, "Unrecognized import file type")
                 elif key == 'delimiter':
                     delimiter = v.lower()
                     if len(delimiter) != 1:
-                        raise Exception("Unrecognized import file delimiter")
+                        raise InfinityException(3037, "Unrecognized import file delimiter")
                     options.delimiter = delimiter[0]
                 elif key == 'header':
                     if isinstance(v, bool):
                         options.has_header = v
                     else:
-                        raise Exception("Boolean value is expected in header field")
+                        raise InfinityException(3037, "Boolean value is expected in header field")
                 else:
-                    raise Exception("Unknown import parameter")
+                    raise InfinityException(3037, "Unknown import parameter")
 
         res = self._conn.import_data(db_name=self._db_name,
                                      table_name=self._table_name,
                                      file_name=file_path,
                                      import_options=options)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def delete(self, cond: Optional[str] = None):
         match cond:
             case None:
                 where_expr = None
             case _:
                 where_expr = traverse_conditions(condition(cond))
         res = self._conn.delete(
             db_name=self._db_name, table_name=self._table_name, where_expr=where_expr)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def update(self, cond: Optional[str],
                data: Optional[list[dict[str, Union[str, int, float, list[Union[int, float]]]]]]):
         # {"c1": 1, "c2": 1.1}
         match cond:
             case None:
                 where_expr = None
@@ -297,30 +297,30 @@
                             if isinstance(value[0], int):
                                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.IntegerArray,
                                                                           i64_array_value=value)
                             elif isinstance(value[0], float):
                                 constant_expression = ttypes.ConstantExpr(literal_type=ttypes.LiteralType.DoubleArray,
                                                                           f64_array_value=value)
                         else:
-                            raise Exception("Invalid constant expression")
+                            raise InfinityException(3069, "Invalid constant expression")
 
                         expr_type = ttypes.ParsedExprType(
                             constant_expr=constant_expression)
                         paser_expr = ttypes.ParsedExpr(type=expr_type)
                         update_expr = ttypes.UpdateExpr(
                             column_name=column_name, value=paser_expr)
 
                         update_expr_array.append(update_expr)
 
         res = self._conn.update(db_name=self._db_name, table_name=self._table_name, where_expr=where_expr,
                                 update_expr_array=update_expr_array)
         if res.error_code == ErrorCode.OK:
             return res
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def knn(self, vector_column_name: str, embedding_data: VEC, embedding_data_type: str, distance_type: str,
             topn: int, knn_params: {} = None):
         self.query_builder.knn(
             vector_column_name, embedding_data, embedding_data_type, distance_type, topn, knn_params)
         return self
 
@@ -377,23 +377,23 @@
                                 limit_expr=query.limit,
                                 offset_expr=query.offset)
 
         # process the results
         if res.error_code == ErrorCode.OK:
             return build_result(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
 
     def _explain_query(self, query: ExplainQuery) -> Any:
         res = self._conn.explain(db_name=self._db_name,
                                  table_name=self._table_name,
                                  select_list=query.columns,
                                  search_expr=query.search,
                                  where_expr=query.filter,
                                  group_by_list=None,
                                  limit_expr=query.limit,
                                  offset_expr=query.offset,
                                  explain_type=query.explain_type.to_ttype())
         if res.error_code == ErrorCode.OK:
             return select_res_to_polars(res)
         else:
-            raise Exception(f"ERROR:{res.error_code}, {res.error_msg}")
+            raise InfinityException(res.error_code, res.error_msg)
```

## infinity/remote_thrift/types.py

```diff
@@ -137,17 +137,15 @@
         case ttypes.ColumnType.ColumnBool:
             return list(struct.unpack('<{}?'.format(len(column_vector)), column_vector))
         case ttypes.ColumnType.ColumnInt8:
             return list(struct.unpack('<{}b'.format(len(column_vector)), column_vector))
         case ttypes.ColumnType.ColumnInt16:
             return list(struct.unpack('<{}h'.format(len(column_vector) // 2), column_vector))
         case ttypes.ColumnType.ColumnRowID:
-            all_list = list(struct.unpack('<{}i'.format(
-                len(column_vector) // 4), column_vector))
-            return [all_list[i:i + 2] for i in range(0, len(all_list), 2)]
+            return list(struct.unpack('<{}q'.format(len(column_vector) // 8), column_vector))
         case ttypes.ColumnType.ColumnEmbedding:
             dimension = column_data_type.physical_type.embedding_type.dimension
             # print(dimension)
             # print(len(column_vector))
             # print(len(column_vector) // dimension)
             if column_data_type.physical_type.embedding_type.element_type == ttypes.ElementType.ElementInt8:
                 all_list = list(struct.unpack(
```

## infinity/remote_thrift/utils.py

```diff
@@ -18,14 +18,16 @@
 import pandas as pd
 import polars as pl
 import sqlglot.expressions as exp
 
 import infinity.remote_thrift.infinity_thrift_rpc.ttypes as ttypes
 from infinity.remote_thrift.types import build_result, logic_type_to_dtype
 from infinity.utils import binary_exp_to_paser_exp
+from infinity.common import InfinityException
+from infinity.errors import ErrorCode
 
 
 def traverse_conditions(cons, fn=None) -> ttypes.ParsedExpr:
     if isinstance(cons, exp.Binary):
         parsed_expr = ttypes.ParsedExpr()
         function_expr = ttypes.FunctionExpr()
         function_expr.function_name = binary_exp_to_paser_exp(
@@ -73,15 +75,15 @@
         elif cons.is_number:
             constant_expr.literal_type = ttypes.LiteralType.Double
             constant_expr.f64_value = float(cons.output_name)
         elif cons.is_string:
             constant_expr.literal_type = ttypes.LiteralType.String
             constant_expr.str_value = cons.output_name
         else:
-            raise Exception(f"unknown literal type: {cons}")
+            raise InfinityException(3069, f"Unknown literal type: {cons}")
 
         paser_expr_type = ttypes.ParsedExprType()
         paser_expr_type.constant_expr = constant_expr
 
         parsed_expr.type = paser_expr_type
         return parsed_expr
 
@@ -95,23 +97,23 @@
             if cons.hashable_args[0].is_int:
                 constant_expr.literal_type = ttypes.LiteralType.Int64
                 constant_expr.i64_value = -int(cons.hashable_args[0].output_name)
             elif cons.hashable_args[0].is_number:
                 constant_expr.literal_type = ttypes.LiteralType.Double
                 constant_expr.f64_value = -float(cons.hashable_args[0].output_name)
             else:
-                raise Exception(f"unknown literal type: {cons}")
+                raise InfinityException(3069, f"unknown literal type: {cons}")
 
             paser_expr_type = ttypes.ParsedExprType()
             paser_expr_type.constant_expr = constant_expr
             parsed_expr.type = paser_expr_type
 
             return parsed_expr
     else:
-        raise Exception(f"unknown condition type: {cons}")
+        raise InfinityException(3069, f"unknown condition type: {cons}")
 
 
 def parse_expr(expr) -> ttypes.ParsedExpr:
     try:
         return traverse_conditions(expr, parse_expr)
     except:
         if isinstance(expr, exp.Func):
@@ -131,15 +133,15 @@
                 star=True,
                 column_name=[]
             )
             expr_type = ttypes.ParsedExprType(column_expr=column_expr)
             parsed_expr = ttypes.ParsedExpr(type=expr_type)
             return parsed_expr
         else:
-            raise Exception(f"unknown expression type: {expr}")
+            raise InfinityException(3069, f"unknown expression type: {expr}")
 
 
 # invalid_name_array = [
 #     [],
 #     (),
 #     {},
 #     1,
@@ -154,30 +156,32 @@
 #     None,
 # ]
 identifier_limit = 65536
 
 
 def check_valid_name(name, name_type: str = "Table"):
     if not isinstance(name, str):
-        raise ValueError(f"{name_type} name must be a string, got {type(name)}")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME,
+                                f"{name_type} name must be a string, got {type(name)}")
     if not re.match(r"^[a-zA-Z][a-zA-Z0-9_]*$", name):
-        raise ValueError(
-            f"{name_type} name '{name}' is not valid. It should start with a letter and can contain only letters, numbers and underscores")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME,
+                                f"{name_type} name '{name}' is not valid. It should start with a letter and can contain only letters, numbers and underscores")
     if len(name) > identifier_limit:
-        raise ValueError(f"{name_type} name '{name}' is not of appropriate length")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME,
+                                f"{name_type} name '{name}' is not of appropriate length")
     if name is None:
-        raise ValueError(f"invalid name: {name}")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME, f"invalid name: {name}")
     if name.isspace():
-        raise ValueError(f"{name_type} name cannot be composed of whitespace characters only")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME, f"{name_type} name cannot be composed of whitespace characters only")
     if name == '':
-        raise ValueError(f"invalid name: {name}")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME, f"invalid name: {name}")
     if name == ' ':
-        raise ValueError(f"invalid name: {name}")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME, f"invalid name: {name}")
     if name.isdigit():
-        raise ValueError(f"invalid name: {name}")
+        raise InfinityException(ErrorCode.INVALID_IDENTIFIER_NAME, f"invalid name: {name}")
 
 
 def name_validity_check(arg_name: str, name_type: str = "Table"):
     def decorator(func):
         @functools.wraps(func)
         def wrapper(*args, **kwargs):
             if arg_name in kwargs:
```

## infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py

```diff
@@ -15,15 +15,20 @@
 from .ttypes import *
 from thrift.Thrift import TProcessor
 from thrift.transport import TTransport
 all_structs = []
 
 
 class Iface(object):
-    def Connect(self):
+    def Connect(self, request):
+        """
+        Parameters:
+         - request
+
+        """
         pass
 
     def Disconnect(self, request):
         """
         Parameters:
          - request
 
@@ -250,21 +255,27 @@
 class Client(Iface):
     def __init__(self, iprot, oprot=None):
         self._iprot = self._oprot = iprot
         if oprot is not None:
             self._oprot = oprot
         self._seqid = 0
 
-    def Connect(self):
-        self.send_Connect()
+    def Connect(self, request):
+        """
+        Parameters:
+         - request
+
+        """
+        self.send_Connect(request)
         return self.recv_Connect()
 
-    def send_Connect(self):
+    def send_Connect(self, request):
         self._oprot.writeMessageBegin('Connect', TMessageType.CALL, self._seqid)
         args = Connect_args()
+        args.request = request
         args.write(self._oprot)
         self._oprot.writeMessageEnd()
         self._oprot.trans.flush()
 
     def recv_Connect(self):
         iprot = self._iprot
         (fname, mtype, rseqid) = iprot.readMessageBegin()
@@ -1234,15 +1245,15 @@
 
     def process_Connect(self, seqid, iprot, oprot):
         args = Connect_args()
         args.read(iprot)
         iprot.readMessageEnd()
         result = Connect_result()
         try:
-            result.success = self._handler.Connect()
+            result.success = self._handler.Connect(args.request)
             msg_type = TMessageType.REPLY
         except TTransport.TTransportException:
             raise
         except TApplicationException as ex:
             logging.exception('TApplication exception in handler')
             msg_type = TMessageType.EXCEPTION
             result = ex
@@ -1899,35 +1910,53 @@
         oprot.writeMessageEnd()
         oprot.trans.flush()
 
 # HELPER FUNCTIONS AND STRUCTURES
 
 
 class Connect_args(object):
+    """
+    Attributes:
+     - request
+
+    """
+
 
+    def __init__(self, request=None,):
+        self.request = request
 
     def read(self, iprot):
         if iprot._fast_decode is not None and isinstance(iprot.trans, TTransport.CReadableTransport) and self.thrift_spec is not None:
             iprot._fast_decode(self, iprot, [self.__class__, self.thrift_spec])
             return
         iprot.readStructBegin()
         while True:
             (fname, ftype, fid) = iprot.readFieldBegin()
             if ftype == TType.STOP:
                 break
+            if fid == 1:
+                if ftype == TType.STRUCT:
+                    self.request = ConnectRequest()
+                    self.request.read(iprot)
+                else:
+                    iprot.skip(ftype)
             else:
                 iprot.skip(ftype)
             iprot.readFieldEnd()
         iprot.readStructEnd()
 
     def write(self, oprot):
         if oprot._fast_encode is not None and self.thrift_spec is not None:
             oprot.trans.write(oprot._fast_encode(self, [self.__class__, self.thrift_spec]))
             return
         oprot.writeStructBegin('Connect_args')
+        if self.request is not None:
+            oprot.writeFieldBegin('request', TType.STRUCT, 1)
+            self.request.write(oprot)
+            oprot.writeFieldEnd()
         oprot.writeFieldStop()
         oprot.writeStructEnd()
 
     def validate(self):
         return
 
     def __repr__(self):
@@ -1938,14 +1967,16 @@
     def __eq__(self, other):
         return isinstance(other, self.__class__) and self.__dict__ == other.__dict__
 
     def __ne__(self, other):
         return not (self == other)
 all_structs.append(Connect_args)
 Connect_args.thrift_spec = (
+    None,  # 0
+    (1, TType.STRUCT, 'request', [ConnectRequest, None], None, ),  # 1
 )
 
 
 class Connect_result(object):
     """
     Attributes:
      - success
```

## infinity/remote_thrift/infinity_thrift_rpc/ttypes.py

```diff
@@ -2523,14 +2523,71 @@
     def __eq__(self, other):
         return isinstance(other, self.__class__) and self.__dict__ == other.__dict__
 
     def __ne__(self, other):
         return not (self == other)
 
 
+class ConnectRequest(object):
+    """
+    Attributes:
+     - client_version
+
+    """
+
+
+    def __init__(self, client_version=None,):
+        self.client_version = client_version
+
+    def read(self, iprot):
+        if iprot._fast_decode is not None and isinstance(iprot.trans, TTransport.CReadableTransport) and self.thrift_spec is not None:
+            iprot._fast_decode(self, iprot, [self.__class__, self.thrift_spec])
+            return
+        iprot.readStructBegin()
+        while True:
+            (fname, ftype, fid) = iprot.readFieldBegin()
+            if ftype == TType.STOP:
+                break
+            if fid == 1:
+                if ftype == TType.I64:
+                    self.client_version = iprot.readI64()
+                else:
+                    iprot.skip(ftype)
+            else:
+                iprot.skip(ftype)
+            iprot.readFieldEnd()
+        iprot.readStructEnd()
+
+    def write(self, oprot):
+        if oprot._fast_encode is not None and self.thrift_spec is not None:
+            oprot.trans.write(oprot._fast_encode(self, [self.__class__, self.thrift_spec]))
+            return
+        oprot.writeStructBegin('ConnectRequest')
+        if self.client_version is not None:
+            oprot.writeFieldBegin('client_version', TType.I64, 1)
+            oprot.writeI64(self.client_version)
+            oprot.writeFieldEnd()
+        oprot.writeFieldStop()
+        oprot.writeStructEnd()
+
+    def validate(self):
+        return
+
+    def __repr__(self):
+        L = ['%s=%r' % (key, value)
+             for key, value in self.__dict__.items()]
+        return '%s(%s)' % (self.__class__.__name__, ', '.join(L))
+
+    def __eq__(self, other):
+        return isinstance(other, self.__class__) and self.__dict__ == other.__dict__
+
+    def __ne__(self, other):
+        return not (self == other)
+
+
 class CommonRequest(object):
     """
     Attributes:
      - session_id
 
     """
 
@@ -6965,14 +7022,19 @@
 ImportOption.thrift_spec = (
     None,  # 0
     (1, TType.STRING, 'delimiter', 'UTF8', None, ),  # 1
     (2, TType.BOOL, 'copy_from', None, None, ),  # 2
     (3, TType.BOOL, 'has_header', None, None, ),  # 3
     (4, TType.I32, 'copy_file_type', None, None, ),  # 4
 )
+all_structs.append(ConnectRequest)
+ConnectRequest.thrift_spec = (
+    None,  # 0
+    (1, TType.I64, 'client_version', None, None, ),  # 1
+)
 all_structs.append(CommonRequest)
 CommonRequest.thrift_spec = (
     None,  # 0
     (1, TType.I64, 'session_id', None, None, ),  # 1
 )
 all_structs.append(CommonResponse)
 CommonResponse.thrift_spec = (
```

## Comparing `infinity_sdk-0.2.0.dev1.dist-info/METADATA` & `infinity_sdk-0.2.0.dev2.dist-info/METADATA`

 * *Files 20% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: infinity_sdk
-Version: 0.2.0.dev1
+Version: 0.2.0.dev2
 Summary: infinity
 Requires-Python: >=3.10
 Description-Content-Type: text/markdown
 Requires-Dist: sqlglot ~=11.7.1
 Requires-Dist: pydantic ~=2.7.1
 Requires-Dist: thrift ~=0.20.0
 Requires-Dist: setuptools ~=69.5.1
@@ -13,21 +13,28 @@
 Requires-Dist: numpy ~=1.26.4
 Requires-Dist: pyarrow ~=16.0.0
 Requires-Dist: polars ~=0.20.23
 Requires-Dist: openpyxl ~=3.1.2
 
 # python-infinity
 
-# build
+# update python client
+
+- Update "version" field of [project] chapter and client_version field of ConnectRequest message.
+- build new python SDK
+- upload to pypi.org
+- install new python SDK
+
+# build python SDK
 
 ```shell
 rm -f dist/* && python setup.py sdist bdist_wheel
 ```
 
-# install
+# install python SDK
 ```shell
 pip uninstall -y infinity-sdk && pip install dist/*.whl
 ```
 
 This will install infinity-sdk and its dependencies.
 
 # upload to pypi.org
```

## Comparing `infinity_sdk-0.2.0.dev1.dist-info/RECORD` & `infinity_sdk-0.2.0.dev2.dist-info/RECORD`

 * *Files 17% similar despite different names*

```diff
@@ -1,26 +1,26 @@
-infinity/__init__.py,sha256=2C0wTgGopUqis1YUSz9-pxhqpsBk8ey73sbmbG-4Wio,1157
-infinity/common.py,sha256=6EmWFwn-uDwSd-Q8zQpUSlaOOhq-8-EQ0We6oP0hY1Y,1165
+infinity/__init__.py,sha256=eHS_ciCPR_EfE4rSDrxMBfvPPbS9YDWVlHzGR3PURCg,1190
+infinity/common.py,sha256=1HG4pdXMuOjojxV1AjaSo2TWq7Bo2ztn-lvkKsyIdhY,1341
 infinity/connection_pool.py,sha256=OPTfDnqqh0YqzOt-4863d8_-lsQ56O378f2tCI-zB4I,1791
 infinity/db.py,sha256=WFZ_BcofXmsxUtV6PyKrOsAwrtkBbXse9RclA590QJw,1387
-infinity/errors.py,sha256=yGxmW-3UK2NYYaluTqb-l7kZjHvbGWfAhlvD6qE0ip0,4076
-infinity/index.py,sha256=VjucD7hL56A0uABYmTeEWRxNmI_WxtmHZQCtrR1zrCo,2421
+infinity/errors.py,sha256=xbx5Sr6hvJ-k2eNCxpYxB8bXqwbOekiER3MOfNHoow8,4527
+infinity/index.py,sha256=XQdc-tCNZ8Zbpvc6ZJdFVnzdQCI_yN8gJluiwf-8CeM,2481
 infinity/infinity.py,sha256=XAS6KQvYlRtpL8SFSbcRcCpwHzB6CcPXtkZxTjwL5hE,1237
-infinity/table.py,sha256=ByoGtbY-3kdya197TeEsHfJU-Ov986dXnFdtMlV7hGA,2427
-infinity/utils.py,sha256=-IDma0UnER_vgvCdIm48Omfal5fd_i7HP9iEx83lXcc,1391
+infinity/table.py,sha256=5mZPz8MQDUYV8VWyfXJkTmf3RXZXF9zDLbCy69pZcmM,2487
+infinity/utils.py,sha256=qUy-uwvggvNPrv6lb2YWzu65ewGcolWOUG7uGkjt7qI,1515
 infinity/remote_thrift/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-infinity/remote_thrift/client.py,sha256=GKoKiFMgDq0n-jnV7n7ZK-lfMuIev8fjbz7vnfwToYc,13663
+infinity/remote_thrift/client.py,sha256=Rpy1AfA0L0lUG2XeIDucA6xQuldLNiiaqijxRPgJBO4,13794
 infinity/remote_thrift/common.py,sha256=4eyCmKtUP3dNyZmtIPoCc05AAseuJsfqgfTQ6aY9iag,680
-infinity/remote_thrift/db.py,sha256=o-lCmXs6bTEkwDcnYG0s__2xpWLldOOtCeLnhrFmj-s,12738
-infinity/remote_thrift/infinity.py,sha256=r9Y7wQqs2GrXE9GFcbXhO0A3HMCRJUX8Lr1no0zrBQs,4176
-infinity/remote_thrift/query_builder.py,sha256=aM9qJqbt59jDH5AZ7iIADUNBRwYE5qeWGoEJ0EEXfZU,9938
-infinity/remote_thrift/table.py,sha256=vYtCCRxMMjPVQeFq0kwK2WNuFpnAZDUo5VAAIWRJ4aI,18182
-infinity/remote_thrift/types.py,sha256=FCd4FTQnxYDMK22jUgYPtvgfkboTYtLbLYUp7DU4xJs,10297
-infinity/remote_thrift/utils.py,sha256=6B1M5J5Yg69m1wyFLcivdk5I57mF89MMuUSEVrf57WE,7204
-infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py,sha256=vf4nFV_ZxkBgrhFzHPREuhN2ziLvBSmWX0ywHVUeJVw,177661
+infinity/remote_thrift/db.py,sha256=wjXDb65FPzyF8OZKayPBAB6gF0_75fjg8sMacBUiL_Y,12826
+infinity/remote_thrift/infinity.py,sha256=FBpOc1KgLJcBTeLpVHWKGwA26vzq4TdoTVrV1j3-sCk,4167
+infinity/remote_thrift/query_builder.py,sha256=aGu4MDfUcnHILWvfmwBGePEiIQYFRtKDNUmyNB6y9Yk,10027
+infinity/remote_thrift/table.py,sha256=0T42krWSjuk5u90soqvoaOaOjB2EWxVdbUG90FeALKE,18214
+infinity/remote_thrift/types.py,sha256=OC8kYe_knx4YnWd0WPe7ruot_SDS_uQTeUnoLe-w2ow,10201
+infinity/remote_thrift/utils.py,sha256=aHAqrMhEbls80T56NUvJJji4ZqZ0r6SMxT5AaYES-fo,7763
+infinity/remote_thrift/infinity_thrift_rpc/InfinityService.py,sha256=zZq0vvzQVVL8MvuK05LhkLNH-_KHyY-iT54B2saUB-U,178466
 infinity/remote_thrift/infinity_thrift_rpc/__init__.py,sha256=ezRvowu7Yojw8xly58EOLQ3_40IK5XUqusB8XPoRlF4,53
 infinity/remote_thrift/infinity_thrift_rpc/constants.py,sha256=fEiYY_X50Lqtkoew_h1qWBH5QmDiygExYB-6WRsifqg,366
-infinity/remote_thrift/infinity_thrift_rpc/ttypes.py,sha256=9yoewv6CuCsesyg5ojXU_aoj_EV9cy7qDzgb_A5OSXE,272498
-infinity_sdk-0.2.0.dev1.dist-info/METADATA,sha256=i-LiJ_q6MGaF42p04szJJ_wO1PdeW9MBctLxMgoMeYA,2027
-infinity_sdk-0.2.0.dev1.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-infinity_sdk-0.2.0.dev1.dist-info/top_level.txt,sha256=I5UhBoCrOOXaJN_xGXGoA73npSJ-IRiqYdRL8NYf5VY,9
-infinity_sdk-0.2.0.dev1.dist-info/RECORD,,
+infinity/remote_thrift/infinity_thrift_rpc/ttypes.py,sha256=DYKegXJnLPJMPGoTFj8OUjSjxgH8e0S2da2yuLvfMnc,274464
+infinity_sdk-0.2.0.dev2.dist-info/METADATA,sha256=PCOrt_F-gZ_JJycspmGZ57rgLyQo5expbFZZ-Txy1GA,2241
+infinity_sdk-0.2.0.dev2.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+infinity_sdk-0.2.0.dev2.dist-info/top_level.txt,sha256=I5UhBoCrOOXaJN_xGXGoA73npSJ-IRiqYdRL8NYf5VY,9
+infinity_sdk-0.2.0.dev2.dist-info/RECORD,,
```

