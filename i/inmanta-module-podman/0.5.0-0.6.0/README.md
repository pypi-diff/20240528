# Comparing `tmp/inmanta_module_podman-0.5.0-py3-none-any.whl.zip` & `tmp/inmanta_module_podman-0.6.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 30690 bytes, number of entries: 23
--rw-r--r--  2.0 unx    10417 b- defN 24-May-25 15:56 inmanta_plugins/podman/__init__.py
--rw-r--r--  2.0 unx     2229 b- defN 24-May-25 15:56 inmanta_plugins/podman/setup.cfg
--rw-r--r--  2.0 unx        0 b- defN 24-May-25 15:56 inmanta_plugins/podman/files/.gitkeep
--rw-r--r--  2.0 unx     7388 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/_init.cf
--rw-r--r--  2.0 unx     1841 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/container.cf
--rw-r--r--  2.0 unx     5256 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/container_like.cf
--rw-r--r--  2.0 unx     2345 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/helpers.cf
--rw-r--r--  2.0 unx     1066 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/network.cf
--rw-r--r--  2.0 unx     3463 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/services/_init.cf
--rw-r--r--  2.0 unx     4045 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/services/systemd_container.cf
--rw-r--r--  2.0 unx     3774 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/services/systemd_pod.cf
--rw-r--r--  2.0 unx     9732 b- defN 24-May-25 15:56 inmanta_plugins/podman/model/services/systemd_service.cf
--rw-r--r--  2.0 unx      646 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/__init__.py
--rw-r--r--  2.0 unx     3059 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/abc.py
--rw-r--r--  2.0 unx     9538 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/image.py
--rw-r--r--  2.0 unx     3208 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/image_discovery.py
--rw-r--r--  2.0 unx     8616 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/network.py
--rw-r--r--  2.0 unx     2915 b- defN 24-May-25 15:56 inmanta_plugins/podman/resources/network_discovery.py
--rw-r--r--  2.0 unx        0 b- defN 24-May-25 15:56 inmanta_plugins/podman/templates/.gitkeep
--rw-r--r--  2.0 unx      826 b- defN 24-May-25 15:56 inmanta_module_podman-0.5.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-25 15:56 inmanta_module_podman-0.5.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       16 b- defN 24-May-25 15:56 inmanta_module_podman-0.5.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2259 b- defN 24-May-25 15:56 inmanta_module_podman-0.5.0.dist-info/RECORD
-23 files, 82731 bytes uncompressed, 26894 bytes compressed:  67.5%
+Zip file size: 30826 bytes, number of entries: 23
+-rw-r--r--  2.0 unx    10417 b- defN 24-May-28 21:31 inmanta_plugins/podman/__init__.py
+-rw-r--r--  2.0 unx     2229 b- defN 24-May-28 21:31 inmanta_plugins/podman/setup.cfg
+-rw-r--r--  2.0 unx        0 b- defN 24-May-28 21:31 inmanta_plugins/podman/files/.gitkeep
+-rw-r--r--  2.0 unx     7388 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/_init.cf
+-rw-r--r--  2.0 unx     1841 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/container.cf
+-rw-r--r--  2.0 unx     5256 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/container_like.cf
+-rw-r--r--  2.0 unx     2345 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/helpers.cf
+-rw-r--r--  2.0 unx     1066 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/network.cf
+-rw-r--r--  2.0 unx     3755 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/services/_init.cf
+-rw-r--r--  2.0 unx     4045 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/services/systemd_container.cf
+-rw-r--r--  2.0 unx     3774 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/services/systemd_pod.cf
+-rw-r--r--  2.0 unx     9827 b- defN 24-May-28 21:31 inmanta_plugins/podman/model/services/systemd_service.cf
+-rw-r--r--  2.0 unx      646 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/__init__.py
+-rw-r--r--  2.0 unx     3059 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/abc.py
+-rw-r--r--  2.0 unx     9538 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/image.py
+-rw-r--r--  2.0 unx     3208 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/image_discovery.py
+-rw-r--r--  2.0 unx     8616 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/network.py
+-rw-r--r--  2.0 unx     2915 b- defN 24-May-28 21:31 inmanta_plugins/podman/resources/network_discovery.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-28 21:31 inmanta_plugins/podman/templates/.gitkeep
+-rw-r--r--  2.0 unx      826 b- defN 24-May-28 21:31 inmanta_module_podman-0.6.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-28 21:31 inmanta_module_podman-0.6.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       16 b- defN 24-May-28 21:31 inmanta_module_podman-0.6.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2259 b- defN 24-May-28 21:31 inmanta_module_podman-0.6.0.dist-info/RECORD
+23 files, 83118 bytes uncompressed, 27030 bytes compressed:  67.5%
```

## zipnote {}

```diff
@@ -51,20 +51,20 @@
 
 Filename: inmanta_plugins/podman/resources/network_discovery.py
 Comment: 
 
 Filename: inmanta_plugins/podman/templates/.gitkeep
 Comment: 
 
-Filename: inmanta_module_podman-0.5.0.dist-info/METADATA
+Filename: inmanta_module_podman-0.6.0.dist-info/METADATA
 Comment: 
 
-Filename: inmanta_module_podman-0.5.0.dist-info/WHEEL
+Filename: inmanta_module_podman-0.6.0.dist-info/WHEEL
 Comment: 
 
-Filename: inmanta_module_podman-0.5.0.dist-info/top_level.txt
+Filename: inmanta_module_podman-0.6.0.dist-info/top_level.txt
 Comment: 
 
-Filename: inmanta_module_podman-0.5.0.dist-info/RECORD
+Filename: inmanta_module_podman-0.6.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## inmanta_plugins/podman/setup.cfg

```diff
@@ -1,10 +1,10 @@
 [metadata]
 name = inmanta-module-podman
-version = 0.5.0
+version = 0.6.0
 description = Simple module to manage podman resources
 long_description = file: README.md
 long_description_content_type = text/markdown
 author = Guillaume Everarts de Velp
 author_email = edvgui@gmail.com
 license = ASL 2.0
 copyright = 2023 Guillaume Everarts de Velp
```

## inmanta_plugins/podman/model/services/_init.cf

```diff
@@ -43,26 +43,31 @@
 
     :attr name: The name of the server, the unit file created will be named accordingly, so
         the name should end with the .service suffix.
     :attr description: A description for the unit.
     :attr on_calendar: When specified, also configure a timer unit, that will trigger the
         service unit for matching calendar times.  The expression in this field should be
         a valid according to the systemd.timer (5) specifications.
+    :attr systemd_config_dir: The directory in which the unit should be created.
+        If not specified, defaults to
+        - "/etc/systemd/system/" for rootful containers/pods
+        - "/home/{user}/.config/systemd/user/" for rootless containers/pods
     :attr state: The desired execution state for this service.
     :attr enabled: Whether the systemd service should be enabled.
 
     :attr service_name: Attribute used internally to save the name of the top-level
         service to manage.
     :attr timer_name: Attribute used internally to save the name of the top-level
         timer to manager.  It is derived from the service_name attribute, swaping its
         .service suffix for a .timer suffix.
     """
     string? name = null
     string? description = null
     string? on_calendar = null
+    string? systemd_unit_dir = null
     service_state_t state
     bool enabled = true
 
     string service_name
     string timer_name
 end
 SystemdService._container_like [1] -- podman::ContainerLike._systemd_service [0:1]
```

## inmanta_plugins/podman/model/services/systemd_service.cf

```diff
@@ -51,17 +51,19 @@
 implementation service_configuration for SystemdService:
     """
     Deploy and cleanup all the configuration files required by our service.
     """
     user = self._container_like.owner
     host = self._container_like.host
 
-    systemd_path = user == "root"
-        ? "/etc/systemd/system/"
-        : f"/home/{user}/.config/systemd/user/"
+    systemd_path = self.systemd_unit_dir is defined
+        ? self.systemd_unit_dir
+            : user == "root"
+                ? "/etc/systemd/system/"
+                : f"/home/{user}/.config/systemd/user/"
 
     systemctl_command = user == "root"
         ? "systemctl"
         : f"sudo --login -u {user} -- systemctl --user"
 
     # Make sure that the systemd directory exists
     self._systemd_config_dir = std::Directory(
```

## Comparing `inmanta_module_podman-0.5.0.dist-info/METADATA` & `inmanta_module_podman-0.6.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: inmanta-module-podman
-Version: 0.5.0
+Version: 0.6.0
 Summary: Simple module to manage podman resources
 Author: Guillaume Everarts de Velp
 Author-email: edvgui@gmail.com
 License: ASL 2.0
 Description-Content-Type: text/markdown
 Requires-Dist: inmanta-module-std <6,>=4.0
 Requires-Dist: inmanta-module-exec <2,>=1.1
```

## Comparing `inmanta_module_podman-0.5.0.dist-info/RECORD` & `inmanta_module_podman-0.6.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 inmanta_plugins/podman/__init__.py,sha256=mZd53TyEBqx_fsfSTSlSiR4F24725fwaBsTCa546KnE,10417
-inmanta_plugins/podman/setup.cfg,sha256=1Km5jkm_sYiXMR39GbDgWYG8uoYUveRBriqFm8hK0EY,2229
+inmanta_plugins/podman/setup.cfg,sha256=DyY-kOeK3D9FtIkBpJpI6ShHSpXrb94FkOZhCeGSLkg,2229
 inmanta_plugins/podman/files/.gitkeep,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 inmanta_plugins/podman/model/_init.cf,sha256=9v-fV9VIO2T80i05u7VXsJ0mnp_xNCLWZlrxYl8mYxo,7388
 inmanta_plugins/podman/model/container.cf,sha256=-GDpwZcNcskQUwxUap8Vjs9OqkLlhXJioWeoqjlK33g,1841
 inmanta_plugins/podman/model/container_like.cf,sha256=4QFxX9jOkNV417h89kh5DW-QLO0VyGDxXDG9IDRgQu4,5256
 inmanta_plugins/podman/model/helpers.cf,sha256=_aQ5OWhJ5gbPKV34FdIyR-_Rs4YlKu-C2A9rXTWZRmA,2345
 inmanta_plugins/podman/model/network.cf,sha256=nHluWQn-9b04IM8HpxgihKg_jhTUPyfKP5h4CStQ7MY,1066
-inmanta_plugins/podman/model/services/_init.cf,sha256=61bjq121ujcOu9tKhiJM_Vnlz4UWpPMkjn_5GQcmzmY,3463
+inmanta_plugins/podman/model/services/_init.cf,sha256=Ii9P37gKHm4Ne4GaAhCh4l0yO3fSVohytQje09fNc6E,3755
 inmanta_plugins/podman/model/services/systemd_container.cf,sha256=qUuGJXkwcxZzqCIUxEtMF1Eb8TM4f_xeVK3bhbepjXw,4045
 inmanta_plugins/podman/model/services/systemd_pod.cf,sha256=2rDFfeTgVbWCHQ5Uqk64JhbHNK0ZJevOYZtgaZzB2GY,3774
-inmanta_plugins/podman/model/services/systemd_service.cf,sha256=ndXzl_vkLmXWUUGRurubqA3S_W8mt0nePjNLSGDNMnY,9732
+inmanta_plugins/podman/model/services/systemd_service.cf,sha256=Cb84rnMeDXSvKz3350xASmDB3seFNZ5D8i65BpF0F-M,9827
 inmanta_plugins/podman/resources/__init__.py,sha256=NVBEWheGn8M9YTpErdDAYodvUfapWtad4ys81s9KUNs,646
 inmanta_plugins/podman/resources/abc.py,sha256=4tZqTP6nYHMd5ar2Vi8M9xED0pRRu7JMhbkba3ELL14,3059
 inmanta_plugins/podman/resources/image.py,sha256=zdxZUZnWj_RyAlqbF9X4RljTt2MnSMC58343cN3XDjI,9538
 inmanta_plugins/podman/resources/image_discovery.py,sha256=D7ziB25nwobV73E-Geq7suz5qef-AcR7FV3O9Sxw-2E,3208
 inmanta_plugins/podman/resources/network.py,sha256=6TkRhNOksstoorN-w3lN1BvIsRzHru9JsHieefy9qYk,8616
 inmanta_plugins/podman/resources/network_discovery.py,sha256=4_i5EgU_ieoNPL8iOKEIKxd9hf4fGzwOItJxIPjLBvQ,2915
 inmanta_plugins/podman/templates/.gitkeep,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-inmanta_module_podman-0.5.0.dist-info/METADATA,sha256=tKpQdhf5jNmQ-tSKW8qEd1-LfK4Lz_AcDpN4EAxbkF8,826
-inmanta_module_podman-0.5.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-inmanta_module_podman-0.5.0.dist-info/top_level.txt,sha256=rb9c6eWQS8KFuSa3ktEcXpk-oSsCL9ZCVAgv7S0Eg_w,16
-inmanta_module_podman-0.5.0.dist-info/RECORD,,
+inmanta_module_podman-0.6.0.dist-info/METADATA,sha256=xH76lBKUgBjlO1KzRWxIuHOy1eBzyLzcfjV-5eu76HQ,826
+inmanta_module_podman-0.6.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+inmanta_module_podman-0.6.0.dist-info/top_level.txt,sha256=rb9c6eWQS8KFuSa3ktEcXpk-oSsCL9ZCVAgv7S0Eg_w,16
+inmanta_module_podman-0.6.0.dist-info/RECORD,,
```

