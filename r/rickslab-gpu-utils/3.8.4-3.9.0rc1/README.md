# Comparing `tmp/rickslab_gpu_utils-3.8.4-py3-none-any.whl.zip` & `tmp/rickslab_gpu_utils-3.9.0rc1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,27 +1,28 @@
-Zip file size: 155064 bytes, number of entries: 25
--rw-rw-r--  2.0 unx     3252 b- defN 23-Nov-17 05:36 GPUmodules/GPUKeys.py
+Zip file size: 156880 bytes, number of entries: 26
+-rw-rw-r--  2.0 unx     3252 b- defN 24-Apr-08 08:14 GPUmodules/GPUKeys.py
 -rw-rw-r--  2.0 unx    10090 b- defN 23-Sep-24 06:15 GPUmodules/GPUgui.py
--rw-rw-r--  2.0 unx   137206 b- defN 23-Nov-17 05:36 GPUmodules/GPUmodule.py
--rw-rw-r--  2.0 unx      656 b- defN 23-Nov-18 03:49 GPUmodules/__init__.py
--rw-rw-r--  2.0 unx    22566 b- defN 23-Sep-24 06:15 GPUmodules/env.py
--rw-r--r--  2.0 unx     1583 b- defN 22-May-13 09:03 rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-chk.1
--rw-r--r--  2.0 unx     6653 b- defN 22-May-23 06:55 rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-ls.1
--rw-r--r--  2.0 unx     5271 b- defN 22-May-13 07:21 rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-mon.1
--rw-r--r--  2.0 unx     4589 b- defN 22-May-13 08:48 rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-pac.1
--rw-r--r--  2.0 unx     4384 b- defN 22-May-13 09:02 rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-plot.1
--rw-r--r--  2.0 unx    35149 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/LICENSE
--rw-rw-r--  2.0 unx    26294 b- defN 23-Nov-18 03:49 rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/README.md
--rw-r--r--  2.0 unx     9369 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png
--rw-r--r--  2.0 unx     9417 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png
--rw-r--r--  2.0 unx    10883 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png
--rwxr-xr-x  2.0 unx    12704 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.data/scripts/gpu-chk
--rwxr-xr-x  2.0 unx     7870 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.data/scripts/gpu-ls
--rwxr-xr-x  2.0 unx    18764 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.data/scripts/gpu-mon
--rwxr-xr-x  2.0 unx    84696 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.data/scripts/gpu-pac
--rwxr-xr-x  2.0 unx    40816 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.data/scripts/gpu-plot
--rw-r--r--  2.0 unx    35149 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.dist-info/LICENSE
--rw-rw-r--  2.0 unx    27340 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.dist-info/WHEEL
--rw-r--r--  2.0 unx       11 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2607 b- defN 23-Nov-18 09:12 rickslab_gpu_utils-3.8.4.dist-info/RECORD
-25 files, 517411 bytes uncompressed, 150686 bytes compressed:  70.9%
+-rw-rw-r--  2.0 unx   138172 b- defN 24-May-28 00:12 GPUmodules/GPUmodule.py
+-rw-rw-r--  2.0 unx     5832 b- defN 24-May-28 00:12 GPUmodules/RegexPatterns.py
+-rw-rw-r--  2.0 unx      660 b- defN 24-May-28 00:12 GPUmodules/__init__.py
+-rw-rw-r--  2.0 unx    20669 b- defN 24-May-28 00:12 GPUmodules/env.py
+-rw-r--r--  2.0 unx     1583 b- defN 22-May-13 09:03 rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-chk.1
+-rw-r--r--  2.0 unx     6653 b- defN 22-May-23 06:55 rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-ls.1
+-rw-r--r--  2.0 unx     5271 b- defN 22-May-13 07:21 rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-mon.1
+-rw-r--r--  2.0 unx     4589 b- defN 22-May-13 08:48 rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-pac.1
+-rw-r--r--  2.0 unx     4384 b- defN 22-May-13 09:02 rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-plot.1
+-rw-r--r--  2.0 unx    35149 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/LICENSE
+-rw-rw-r--  2.0 unx    26538 b- defN 24-May-28 00:12 rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/README.md
+-rw-r--r--  2.0 unx     9369 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png
+-rw-r--r--  2.0 unx     9417 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png
+-rw-r--r--  2.0 unx    10883 b- defN 20-Jun-28 23:32 rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png
+-rwxr-xr-x  2.0 unx    12704 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-chk
+-rwxr-xr-x  2.0 unx     8007 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-ls
+-rwxr-xr-x  2.0 unx    18764 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-mon
+-rwxr-xr-x  2.0 unx    84769 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-pac
+-rwxr-xr-x  2.0 unx    40879 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-plot
+-rw-r--r--  2.0 unx    35149 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.dist-info/LICENSE
+-rw-rw-r--  2.0 unx    27587 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       11 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2751 b- defN 24-May-28 01:08 rickslab_gpu_utils-3.9.0rc1.dist-info/RECORD
+26 files, 523224 bytes uncompressed, 152252 bytes compressed:  70.9%
```

## zipnote {}

```diff
@@ -3,74 +3,77 @@
 
 Filename: GPUmodules/GPUgui.py
 Comment: 
 
 Filename: GPUmodules/GPUmodule.py
 Comment: 
 
+Filename: GPUmodules/RegexPatterns.py
+Comment: 
+
 Filename: GPUmodules/__init__.py
 Comment: 
 
 Filename: GPUmodules/env.py
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-chk.1
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-chk.1
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-ls.1
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-ls.1
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-mon.1
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-mon.1
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-pac.1
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-pac.1
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-plot.1
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-plot.1
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/LICENSE
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/LICENSE
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/README.md
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/README.md
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png
+Filename: rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/scripts/gpu-chk
+Filename: rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-chk
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/scripts/gpu-ls
+Filename: rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-ls
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/scripts/gpu-mon
+Filename: rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-mon
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/scripts/gpu-pac
+Filename: rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-pac
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.data/scripts/gpu-plot
+Filename: rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-plot
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.dist-info/LICENSE
+Filename: rickslab_gpu_utils-3.9.0rc1.dist-info/LICENSE
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.dist-info/METADATA
+Filename: rickslab_gpu_utils-3.9.0rc1.dist-info/METADATA
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.dist-info/WHEEL
+Filename: rickslab_gpu_utils-3.9.0rc1.dist-info/WHEEL
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.dist-info/top_level.txt
+Filename: rickslab_gpu_utils-3.9.0rc1.dist-info/top_level.txt
 Comment: 
 
-Filename: rickslab_gpu_utils-3.8.4.dist-info/RECORD
+Filename: rickslab_gpu_utils-3.9.0rc1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## GPUmodules/GPUmodule.py

```diff
@@ -67,8510 +67,8570 @@
 00000420: 2d73 7461 7465 6d65 6e74 730a 2320 7079  -statements.# py
 00000430: 6c69 6e74 3a20 6469 7361 626c 653d 6c69  lint: disable=li
 00000440: 6e65 2d74 6f6f 2d6c 6f6e 670a 2320 7079  ne-too-long.# py
 00000450: 6c69 6e74 3a20 6469 7361 626c 653d 636f  lint: disable=co
 00000460: 6e73 6964 6572 2d75 7369 6e67 2d66 2d73  nsider-using-f-s
 00000470: 7472 696e 670a 2320 7079 6c69 6e74 3a20  tring.# pylint: 
 00000480: 6469 7361 626c 653d 6261 642d 636f 6e74  disable=bad-cont
-00000490: 696e 7561 7469 6f6e 0a0a 696d 706f 7274  inuation..import
-000004a0: 2072 650a 696d 706f 7274 2073 7562 7072   re.import subpr
-000004b0: 6f63 6573 730a 6672 6f6d 2073 686c 6578  ocess.from shlex
-000004c0: 2069 6d70 6f72 7420 7370 6c69 7420 6173   import split as
-000004d0: 2073 686c 6578 5f73 706c 6974 0a69 6d70   shlex_split.imp
-000004e0: 6f72 7420 6f73 0a69 6d70 6f72 7420 7379  ort os.import sy
-000004f0: 730a 696d 706f 7274 206c 6f67 6769 6e67  s.import logging
-00000500: 0a66 726f 6d20 7479 7069 6e67 2069 6d70  .from typing imp
-00000510: 6f72 7420 556e 696f 6e2c 204c 6973 742c  ort Union, List,
-00000520: 2044 6963 742c 2054 6578 7449 4f2c 2049   Dict, TextIO, I
-00000530: 4f2c 2047 656e 6572 6174 6f72 2c20 416e  O, Generator, An
-00000540: 792c 2054 7570 6c65 2c20 5365 742c 204f  y, Tuple, Set, O
-00000550: 7074 696f 6e61 6c0a 6672 6f6d 2070 6174  ptional.from pat
-00000560: 686c 6962 2069 6d70 6f72 7420 5061 7468  hlib import Path
-00000570: 0a66 726f 6d20 7575 6964 2069 6d70 6f72  .from uuid impor
-00000580: 7420 7575 6964 340a 6672 6f6d 2067 6c6f  t uuid4.from glo
-00000590: 6220 696d 706f 7274 2067 6c6f 620a 6672  b import glob.fr
-000005a0: 6f6d 2064 6174 6574 696d 6520 696d 706f  om datetime impo
-000005b0: 7274 2064 6174 6574 696d 650a 6672 6f6d  rt datetime.from
-000005c0: 206e 756d 7079 2069 6d70 6f72 7420 6e61   numpy import na
-000005d0: 6e20 6173 206e 705f 6e61 6e0a 0a66 726f  n as np_nan..fro
-000005e0: 6d20 4750 556d 6f64 756c 6573 2e65 6e76  m GPUmodules.env
-000005f0: 2069 6d70 6f72 7420 4755 545f 434f 4e53   import GUT_CONS
-00000600: 540a 6672 6f6d 2047 5055 6d6f 6475 6c65  T.from GPUmodule
-00000610: 732e 4750 554b 6579 7320 696d 706f 7274  s.GPUKeys import
-00000620: 2047 7075 456e 756d 2c20 4770 7554 7970   GpuEnum, GpuTyp
-00000630: 652c 2047 7075 436f 6d70 6174 6962 696c  e, GpuCompatibil
-00000640: 6974 792c 2047 7075 5665 6e64 6f72 2c20  ity, GpuVendor, 
-00000650: 5365 6e73 6f72 5365 742c 2053 656e 736f  SensorSet, Senso
-00000660: 7254 7970 652c 204f 644d 6f64 650a 0a0a  rType, OdMode...
-00000670: 4c4f 4747 4552 203d 206c 6f67 6769 6e67  LOGGER = logging
-00000680: 2e67 6574 4c6f 6767 6572 2827 6770 752d  .getLogger('gpu-
-00000690: 7574 696c 7327 290a 5041 5454 4552 4e53  utils').PATTERNS
-000006a0: 203d 2047 5554 5f43 4f4e 5354 2e50 4154   = GUT_CONST.PAT
-000006b0: 5445 524e 530a 0a0a 636c 6173 7320 4f62  TERNS...class Ob
-000006c0: 6a44 6963 7428 6469 6374 293a 0a20 2020  jDict(dict):.   
-000006d0: 2022 2222 0a20 2020 2041 6c6c 6f77 2061   """.    Allow a
-000006e0: 6363 6573 7320 6f66 2064 6963 7469 6f6e  ccess of diction
-000006f0: 6172 7920 6b65 7973 2062 7920 6b65 7920  ary keys by key 
-00000700: 6e61 6d65 2e0a 2020 2020 2222 220a 2020  name..    """.  
-00000710: 2020 2320 7079 6c69 6e74 3a20 6469 7361    # pylint: disa
-00000720: 626c 653d 6174 7472 6962 7574 652d 6465  ble=attribute-de
-00000730: 6669 6e65 642d 6f75 7473 6964 652d 696e  fined-outside-in
-00000740: 6974 0a20 2020 2023 2070 796c 696e 743a  it.    # pylint:
-00000750: 2064 6973 6162 6c65 3d74 6f6f 2d6d 616e   disable=too-man
-00000760: 792d 696e 7374 616e 6365 2d61 7474 7269  y-instance-attri
-00000770: 6275 7465 730a 2020 2020 6465 6620 5f5f  butes.    def __
-00000780: 6765 7461 7474 725f 5f28 7365 6c66 2c20  getattr__(self, 
-00000790: 6e61 6d65 2920 2d3e 2073 7472 3a0a 2020  name) -> str:.  
-000007a0: 2020 2020 2020 6966 206e 616d 6520 696e        if name in
-000007b0: 2073 656c 663a 0a20 2020 2020 2020 2020   self:.         
-000007c0: 2020 2072 6574 7572 6e20 7365 6c66 5b6e     return self[n
-000007d0: 616d 655d 0a20 2020 2020 2020 2072 6169  ame].        rai
-000007e0: 7365 2041 7474 7269 6275 7465 4572 726f  se AttributeErro
-000007f0: 7228 274e 6f20 7375 6368 2061 7474 7269  r('No such attri
-00000800: 6275 7465 3a20 7b7d 272e 666f 726d 6174  bute: {}'.format
-00000810: 286e 616d 6529 290a 0a20 2020 2064 6566  (name))..    def
-00000820: 205f 5f73 6574 6174 7472 5f5f 2873 656c   __setattr__(sel
-00000830: 662c 206e 616d 652c 2076 616c 7565 2920  f, name, value) 
-00000840: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
-00000850: 2073 656c 665b 6e61 6d65 5d20 3d20 7661   self[name] = va
-00000860: 6c75 650a 0a20 2020 2064 6566 205f 5f64  lue..    def __d
-00000870: 656c 6174 7472 5f5f 2873 656c 662c 206e  elattr__(self, n
-00000880: 616d 6529 202d 3e20 4e6f 6e65 3a0a 2020  ame) -> None:.  
-00000890: 2020 2020 2020 6966 206e 616d 6520 696e        if name in
-000008a0: 2073 656c 663a 0a20 2020 2020 2020 2020   self:.         
-000008b0: 2020 2064 656c 2073 656c 665b 6e61 6d65     del self[name
-000008c0: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
-000008d0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000008e0: 6520 4174 7472 6962 7574 6545 7272 6f72  e AttributeError
-000008f0: 2827 4e6f 2073 7563 6820 6174 7472 6962  ('No such attrib
-00000900: 7574 653a 207b 7d27 2e66 6f72 6d61 7428  ute: {}'.format(
-00000910: 6e61 6d65 2929 0a0a 0a63 6c61 7373 2047  name))...class G
-00000920: 7075 4974 656d 3a0a 2020 2020 2222 2241  puItem:.    """A
-00000930: 6e20 6f62 6a65 6374 2074 6f20 7374 6f72  n object to stor
-00000940: 6520 4750 5520 6465 7461 696c 732e 0a20  e GPU details.. 
-00000950: 2020 2022 2222 0a20 2020 2023 2070 796c     """.    # pyl
-00000960: 696e 743a 2064 6973 6162 6c65 3d61 7474  int: disable=att
-00000970: 7269 6275 7465 2d64 6566 696e 6564 2d6f  ribute-defined-o
-00000980: 7574 7369 6465 2d69 6e69 740a 2020 2020  utside-init.    
-00000990: 2320 7079 6c69 6e74 3a20 6469 7361 626c  # pylint: disabl
-000009a0: 653d 746f 6f2d 6d61 6e79 2d69 6e73 7461  e=too-many-insta
-000009b0: 6e63 652d 6174 7472 6962 7574 6573 0a20  nce-attributes. 
-000009c0: 2020 206d 6172 6b5f 7570 5f63 6f64 6573     mark_up_codes
-000009d0: 203d 2047 5554 5f43 4f4e 5354 2e6d 6172   = GUT_CONST.mar
-000009e0: 6b5f 7570 5f63 6f64 6573 0a0a 2020 2020  k_up_codes..    
-000009f0: 5f66 696e 616c 697a 6564 3a20 626f 6f6c  _finalized: bool
-00000a00: 203d 2046 616c 7365 0a20 2020 205f 6275   = False.    _bu
-00000a10: 7474 6f6e 5f6c 6162 656c 733a 2044 6963  tton_labels: Dic
-00000a20: 745b 7374 722c 2073 7472 5d20 3d20 7b27  t[str, str] = {'
-00000a30: 6c6f 6164 696e 6727 3a20 2020 2020 274c  loading':     'L
-00000a40: 6f61 6425 272c 0a20 2020 2020 2020 2020  oad%',.         
-00000a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000a60: 2020 2020 2020 2020 2020 2020 2027 706f               'po
-00000a70: 7765 7227 3a20 2020 2020 2020 2750 6f77  wer':       'Pow
-00000a80: 6572 272c 0a20 2020 2020 2020 2020 2020  er',.           
-00000a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000aa0: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
-00000ab0: 725f 6361 7027 3a20 2020 2750 6f77 6572  r_cap':   'Power
-00000ac0: 4361 7027 2c0a 2020 2020 2020 2020 2020  Cap',.          
-00000ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ae0: 2020 2020 2020 2020 2020 2020 2774 656d              'tem
-00000af0: 705f 7661 6c27 3a20 2020 2027 5465 6d70  p_val':    'Temp
-00000b00: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-00000b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b20: 2020 2020 2020 2020 2027 7664 6467 6678           'vddgfx
-00000b30: 5f76 616c 273a 2020 2756 6464 4766 7827  _val':  'VddGfx'
-00000b40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00000b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b60: 2020 2020 2020 2020 2773 636c 6b5f 7073          'sclk_ps
-00000b70: 5f76 616c 273a 2027 5343 4c4b 2050 7374  _val': 'SCLK Pst
-00000b80: 6174 6527 2c0a 2020 2020 2020 2020 2020  ate',.          
-00000b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ba0: 2020 2020 2020 2020 2020 2020 2773 636c              'scl
-00000bb0: 6b5f 665f 7661 6c27 3a20 2027 5343 4c4b  k_f_val':  'SCLK
-00000bc0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-00000bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000be0: 2020 2020 2020 2020 2027 6d63 6c6b 5f70           'mclk_p
-00000bf0: 735f 7661 6c27 3a20 274d 434c 4b20 5073  s_val': 'MCLK Ps
-00000c00: 7461 7465 272c 0a20 2020 2020 2020 2020  tate',.         
-00000c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000c20: 2020 2020 2020 2020 2020 2020 2027 6d63               'mc
-00000c30: 6c6b 5f66 5f76 616c 273a 2020 274d 434c  lk_f_val':  'MCL
-00000c40: 4b27 7d0a 0a20 2020 205f 6661 6e5f 6974  K'}..    _fan_it
-00000c50: 656d 5f6c 6973 743a 2053 6574 5b73 7472  em_list: Set[str
-00000c60: 5d20 3d20 7b27 6661 6e5f 656e 6162 6c65  ] = {'fan_enable
-00000c70: 272c 2027 6661 6e5f 7461 7267 6574 272c  ', 'fan_target',
-00000c80: 2027 6661 6e5f 7370 6565 6427 2c20 2766   'fan_speed', 'f
-00000c90: 616e 5f73 7065 6564 5f72 616e 6765 272c  an_speed_range',
-00000ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000cc0: 2027 7077 6d5f 6d6f 6465 272c 2027 6661   'pwm_mode', 'fa
-00000cd0: 6e5f 7077 6d27 2c20 2766 616e 5f70 776d  n_pwm', 'fan_pwm
-00000ce0: 5f72 616e 6765 277d 0a20 2020 205f 6170  _range'}.    _ap
-00000cf0: 755f 6770 7573 3a20 5365 745b 7374 725d  u_gpus: Set[str]
-00000d00: 203d 207b 2743 6172 7269 7a6f 272c 2027   = {'Carrizo', '
-00000d10: 5265 6e6f 6972 272c 2027 4365 7a61 6e6e  Renoir', 'Cezann
-00000d20: 6527 2c20 2757 7265 7374 6c65 7227 2c20  e', 'Wrestler', 
-00000d30: 274c 6c61 6e6f 272c 2027 4f6e 7461 7269  'Llano', 'Ontari
-00000d40: 6f27 2c20 2754 7269 6e69 7479 272c 0a20  o', 'Trinity',. 
-00000d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000d60: 2020 2020 2020 2020 2020 2752 6963 686c            'Richl
-00000d70: 616e 6427 2c20 274b 6162 696e 6927 2c20  and', 'Kabini', 
-00000d80: 274b 6176 6572 6927 2c20 2750 6963 6173  'Kaveri', 'Picas
-00000d90: 736f 272c 2027 4272 6973 746f 6c20 5269  so', 'Bristol Ri
-00000da0: 6467 6527 2c20 2752 6176 656e 2052 6964  dge', 'Raven Rid
-00000db0: 6765 272c 0a20 2020 2020 2020 2020 2020  ge',.           
-00000dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000dd0: 2748 6f6e 646f 272c 2027 4465 736e 6127  'Hondo', 'Desna'
-00000de0: 2c20 275a 6163 6174 6527 2c20 2757 6561  , 'Zacate', 'Wea
-00000df0: 7468 6572 666f 7264 272c 2027 476f 6461  therford', 'Goda
-00000e00: 7661 7269 272c 2027 5465 6d61 7368 272c  vari', 'Temash',
-00000e10: 2027 5769 6e74 6572 5061 726b 272c 0a20   'WinterPark',. 
-00000e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000e30: 2020 2020 2020 2020 2020 2742 6561 7665            'Beave
-00000e40: 7243 7265 656b 272c 2027 4c75 6369 656e  rCreek', 'Lucien
-00000e50: 6e65 272c 2027 5265 6d62 7261 6e64 7427  ne', 'Rembrandt'
-00000e60: 2c20 2744 616c 6927 2c20 2753 746f 6e65  , 'Dali', 'Stone
-00000e70: 7920 5269 6467 6527 2c20 2750 6f6c 6c6f  y Ridge', 'Pollo
-00000e80: 636b 272c 0a20 2020 2020 2020 2020 2020  ck',.           
-00000e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ea0: 2742 6172 6365 6c6f 272c 2027 4265 656d  'Barcelo', 'Beem
-00000eb0: 6127 2c20 274d 756c 6c69 6e73 277d 0a0a  a', 'Mullins'}..
-00000ec0: 2020 2020 2320 4c69 7374 206f 6620 7061      # List of pa
-00000ed0: 7261 6d65 7465 7273 2066 6f72 206e 6f6e  rameters for non
-00000ee0: 2d63 6f6d 7061 7469 626c 6520 414d 4420  -compatible AMD 
-00000ef0: 4750 5573 2e0a 2020 2020 7368 6f72 745f  GPUs..    short_
-00000f00: 6c69 7374 3a20 5365 745b 7374 725d 203d  list: Set[str] =
-00000f10: 207b 2776 656e 646f 7227 2c20 2770 705f   {'vendor', 'pp_
-00000f20: 6665 6174 7572 6573 272c 2027 7265 6164  features', 'read
-00000f30: 6162 6c65 272c 2027 7772 6974 6162 6c65  able', 'writable
-00000f40: 272c 2027 636f 6d70 7574 6527 2c20 2763  ', 'compute', 'c
-00000f50: 6172 645f 6e75 6d27 2c20 2769 6427 2c0a  ard_num', 'id',.
-00000f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f70: 2020 2020 2020 2020 2020 2020 276d 6f64              'mod
-00000f80: 656c 5f64 6576 6963 655f 6465 636f 6465  el_device_decode
-00000f90: 272c 2027 6770 755f 7479 7065 272c 2027  ', 'gpu_type', '
-00000fa0: 6361 7264 5f70 6174 6827 2c20 2773 7973  card_path', 'sys
-00000fb0: 5f63 6172 645f 7061 7468 272c 2027 6877  _card_path', 'hw
-00000fc0: 6d6f 6e5f 7061 7468 272c 2027 7063 6965  mon_path', 'pcie
-00000fd0: 5f69 6427 7d0a 2020 2020 4750 555f 4e43  _id'}.    GPU_NC
-00000fe0: 5f50 6172 616d 5f4c 6973 743a 2053 6574  _Param_List: Set
-00000ff0: 5b73 7472 5d20 3d20 7b2a 7368 6f72 745f  [str] = {*short_
-00001000: 6c69 7374 2c20 276d 6f64 656c 272c 2027  list, 'model', '
-00001010: 6472 6976 6572 272c 2027 6d6f 6465 6c5f  driver', 'model_
-00001020: 6465 7669 6365 5f64 6563 6f64 6527 7d0a  device_decode'}.
-00001030: 0a20 2020 2023 2044 6566 696e 6520 7461  .    # Define ta
-00001040: 626c 6520 7061 7261 6d65 7465 7273 206c  ble parameters l
-00001050: 6162 656c 732e 0a20 2020 2074 6162 6c65  abels..    table
-00001060: 5f70 6172 616d 6574 6572 733a 204c 6973  _parameters: Lis
-00001070: 745b 7374 725d 203d 205b 276d 6f64 656c  t[str] = ['model
-00001080: 5f64 6973 706c 6179 272c 2027 6c6f 6164  _display', 'load
-00001090: 696e 6727 2c20 276d 656d 5f6c 6f61 6469  ing', 'mem_loadi
-000010a0: 6e67 272c 2027 6d65 6d5f 7672 616d 5f75  ng', 'mem_vram_u
-000010b0: 7361 6765 272c 2027 6d65 6d5f 6774 745f  sage', 'mem_gtt_
-000010c0: 7573 6167 6527 2c0a 2020 2020 2020 2020  usage',.        
-000010d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000010e0: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
-000010f0: 7227 2c20 2770 6f77 6572 5f63 6170 272c  r', 'power_cap',
-00001100: 2027 656e 6572 6779 272c 2027 7465 6d70   'energy', 'temp
-00001110: 5f76 616c 272c 2027 7664 6467 6678 5f76  _val', 'vddgfx_v
-00001120: 616c 272c 0a20 2020 2020 2020 2020 2020  al',.           
+00000490: 696e 7561 7469 6f6e 2d69 6e2d 7374 7269  inuation-in-stri
+000004a0: 6e67 0a23 2070 796c 696e 743a 2064 6973  ng.# pylint: dis
+000004b0: 6162 6c65 3d6e 6f2d 6d65 6d62 6572 0a0a  able=no-member..
+000004c0: 696d 706f 7274 2072 650a 696d 706f 7274  import re.import
+000004d0: 2073 7562 7072 6f63 6573 730a 6672 6f6d   subprocess.from
+000004e0: 2073 686c 6578 2069 6d70 6f72 7420 7370   shlex import sp
+000004f0: 6c69 7420 6173 2073 686c 6578 5f73 706c  lit as shlex_spl
+00000500: 6974 0a69 6d70 6f72 7420 6f73 0a69 6d70  it.import os.imp
+00000510: 6f72 7420 7379 730a 696d 706f 7274 206c  ort sys.import l
+00000520: 6f67 6769 6e67 0a66 726f 6d20 7479 7069  ogging.from typi
+00000530: 6e67 2069 6d70 6f72 7420 556e 696f 6e2c  ng import Union,
+00000540: 204c 6973 742c 2044 6963 742c 2054 6578   List, Dict, Tex
+00000550: 7449 4f2c 2049 4f2c 2047 656e 6572 6174  tIO, IO, Generat
+00000560: 6f72 2c20 416e 792c 2054 7570 6c65 2c20  or, Any, Tuple, 
+00000570: 5365 742c 204f 7074 696f 6e61 6c0a 6672  Set, Optional.fr
+00000580: 6f6d 2070 6174 686c 6962 2069 6d70 6f72  om pathlib impor
+00000590: 7420 5061 7468 0a66 726f 6d20 7575 6964  t Path.from uuid
+000005a0: 2069 6d70 6f72 7420 7575 6964 340a 6672   import uuid4.fr
+000005b0: 6f6d 2067 6c6f 6220 696d 706f 7274 2067  om glob import g
+000005c0: 6c6f 620a 6672 6f6d 2064 6174 6574 696d  lob.from datetim
+000005d0: 6520 696d 706f 7274 2064 6174 6574 696d  e import datetim
+000005e0: 650a 6672 6f6d 206e 756d 7079 2069 6d70  e.from numpy imp
+000005f0: 6f72 7420 6e61 6e20 6173 206e 705f 6e61  ort nan as np_na
+00000600: 6e0a 0a66 726f 6d20 4750 556d 6f64 756c  n..from GPUmodul
+00000610: 6573 2e65 6e76 2069 6d70 6f72 7420 4755  es.env import GU
+00000620: 545f 434f 4e53 540a 6672 6f6d 2047 5055  T_CONST.from GPU
+00000630: 6d6f 6475 6c65 732e 4750 554b 6579 7320  modules.GPUKeys 
+00000640: 696d 706f 7274 2047 7075 456e 756d 2c20  import GpuEnum, 
+00000650: 4770 7554 7970 652c 2047 7075 436f 6d70  GpuType, GpuComp
+00000660: 6174 6962 696c 6974 792c 2047 7075 5665  atibility, GpuVe
+00000670: 6e64 6f72 2c20 5365 6e73 6f72 5365 742c  ndor, SensorSet,
+00000680: 2053 656e 736f 7254 7970 652c 204f 644d   SensorType, OdM
+00000690: 6f64 650a 6672 6f6d 2047 5055 6d6f 6475  ode.from GPUmodu
+000006a0: 6c65 732e 5265 6765 7850 6174 7465 726e  les.RegexPattern
+000006b0: 7320 696d 706f 7274 2050 6174 7465 726e  s import Pattern
+000006c0: 4b65 7973 2061 7320 504b 0a0a 0a4c 4f47  Keys as PK...LOG
+000006d0: 4745 5220 3d20 6c6f 6767 696e 672e 6765  GER = logging.ge
+000006e0: 744c 6f67 6765 7228 2767 7075 2d75 7469  tLogger('gpu-uti
+000006f0: 6c73 2729 0a50 4154 5445 524e 5320 3d20  ls').PATTERNS = 
+00000700: 4755 545f 434f 4e53 542e 5041 5454 4552  GUT_CONST.PATTER
+00000710: 4e53 0a0a 0a63 6c61 7373 204f 626a 4469  NS...class ObjDi
+00000720: 6374 2864 6963 7429 3a0a 2020 2020 2222  ct(dict):.    ""
+00000730: 2220 416c 6c6f 7720 6163 6365 7373 206f  " Allow access o
+00000740: 6620 6469 6374 696f 6e61 7279 206b 6579  f dictionary key
+00000750: 7320 6279 206b 6579 206e 616d 652e 0a20  s by key name.. 
+00000760: 2020 2022 2222 0a20 2020 2023 2070 796c     """.    # pyl
+00000770: 696e 743a 2064 6973 6162 6c65 3d61 7474  int: disable=att
+00000780: 7269 6275 7465 2d64 6566 696e 6564 2d6f  ribute-defined-o
+00000790: 7574 7369 6465 2d69 6e69 740a 2020 2020  utside-init.    
+000007a0: 2320 7079 6c69 6e74 3a20 6469 7361 626c  # pylint: disabl
+000007b0: 653d 746f 6f2d 6d61 6e79 2d69 6e73 7461  e=too-many-insta
+000007c0: 6e63 652d 6174 7472 6962 7574 6573 0a20  nce-attributes. 
+000007d0: 2020 2064 6566 205f 5f67 6574 6174 7472     def __getattr
+000007e0: 5f5f 2873 656c 662c 206e 616d 6529 202d  __(self, name) -
+000007f0: 3e20 7374 723a 0a20 2020 2020 2020 2069  > str:.        i
+00000800: 6620 6e61 6d65 2069 6e20 7365 6c66 3a0a  f name in self:.
+00000810: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00000820: 726e 2073 656c 665b 6e61 6d65 5d0a 2020  rn self[name].  
+00000830: 2020 2020 2020 7261 6973 6520 4174 7472        raise Attr
+00000840: 6962 7574 6545 7272 6f72 2827 4e6f 2073  ibuteError('No s
+00000850: 7563 6820 6174 7472 6962 7574 653a 207b  uch attribute: {
+00000860: 7d27 2e66 6f72 6d61 7428 6e61 6d65 2929  }'.format(name))
+00000870: 0a0a 2020 2020 6465 6620 5f5f 7365 7461  ..    def __seta
+00000880: 7474 725f 5f28 7365 6c66 2c20 6e61 6d65  ttr__(self, name
+00000890: 2c20 7661 6c75 6529 202d 3e20 4e6f 6e65  , value) -> None
+000008a0: 3a0a 2020 2020 2020 2020 7365 6c66 5b6e  :.        self[n
+000008b0: 616d 655d 203d 2076 616c 7565 0a0a 2020  ame] = value..  
+000008c0: 2020 6465 6620 5f5f 6465 6c61 7474 725f    def __delattr_
+000008d0: 5f28 7365 6c66 2c20 6e61 6d65 2920 2d3e  _(self, name) ->
+000008e0: 204e 6f6e 653a 0a20 2020 2020 2020 2069   None:.        i
+000008f0: 6620 6e61 6d65 2069 6e20 7365 6c66 3a0a  f name in self:.
+00000900: 2020 2020 2020 2020 2020 2020 6465 6c20              del 
+00000910: 7365 6c66 5b6e 616d 655d 0a20 2020 2020  self[name].     
+00000920: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00000930: 2020 2020 2072 6169 7365 2041 7474 7269       raise Attri
+00000940: 6275 7465 4572 726f 7228 274e 6f20 7375  buteError('No su
+00000950: 6368 2061 7474 7269 6275 7465 3a20 7b7d  ch attribute: {}
+00000960: 272e 666f 726d 6174 286e 616d 6529 290a  '.format(name)).
+00000970: 0a0a 636c 6173 7320 4770 7549 7465 6d3a  ..class GpuItem:
+00000980: 0a20 2020 2022 2222 2041 6e20 6f62 6a65  .    """ An obje
+00000990: 6374 2074 6f20 7374 6f72 6520 4750 5520  ct to store GPU 
+000009a0: 6465 7461 696c 732e 0a20 2020 2022 2222  details..    """
+000009b0: 0a20 2020 2023 2070 796c 696e 743a 2064  .    # pylint: d
+000009c0: 6973 6162 6c65 3d61 7474 7269 6275 7465  isable=attribute
+000009d0: 2d64 6566 696e 6564 2d6f 7574 7369 6465  -defined-outside
+000009e0: 2d69 6e69 740a 2020 2020 2320 7079 6c69  -init.    # pyli
+000009f0: 6e74 3a20 6469 7361 626c 653d 746f 6f2d  nt: disable=too-
+00000a00: 6d61 6e79 2d69 6e73 7461 6e63 652d 6174  many-instance-at
+00000a10: 7472 6962 7574 6573 0a20 2020 206d 6172  tributes.    mar
+00000a20: 6b5f 7570 5f63 6f64 6573 203d 2047 5554  k_up_codes = GUT
+00000a30: 5f43 4f4e 5354 2e6d 6172 6b5f 7570 5f63  _CONST.mark_up_c
+00000a40: 6f64 6573 0a0a 2020 2020 5f66 696e 616c  odes..    _final
+00000a50: 697a 6564 3a20 626f 6f6c 203d 2046 616c  ized: bool = Fal
+00000a60: 7365 0a20 2020 205f 6275 7474 6f6e 5f6c  se.    _button_l
+00000a70: 6162 656c 733a 2044 6963 745b 7374 722c  abels: Dict[str,
+00000a80: 2073 7472 5d20 3d20 7b27 6c6f 6164 696e   str] = {'loadin
+00000a90: 6727 3a20 2020 2020 274c 6f61 6425 272c  g':     'Load%',
+00000aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ac0: 2020 2020 2020 2027 706f 7765 7227 3a20         'power': 
+00000ad0: 2020 2020 2020 2750 6f77 6572 272c 0a20        'Power',. 
+00000ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b00: 2020 2020 2027 706f 7765 725f 6361 7027       'power_cap'
+00000b10: 3a20 2020 2750 6f77 6572 4361 7027 2c0a  :   'PowerCap',.
+00000b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b40: 2020 2020 2020 2774 656d 705f 7661 6c27        'temp_val'
+00000b50: 3a20 2020 2027 5465 6d70 272c 0a20 2020  :    'Temp',.   
+00000b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000b80: 2020 2027 7664 6467 6678 5f76 616c 273a     'vddgfx_val':
+00000b90: 2020 2756 6464 4766 7827 2c0a 2020 2020    'VddGfx',.    
+00000ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bc0: 2020 2773 636c 6b5f 7073 5f76 616c 273a    'sclk_ps_val':
+00000bd0: 2027 5343 4c4b 2050 7374 6174 6527 2c0a   'SCLK Pstate',.
+00000be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c00: 2020 2020 2020 2773 636c 6b5f 665f 7661        'sclk_f_va
+00000c10: 6c27 3a20 2027 5343 4c4b 272c 0a20 2020  l':  'SCLK',.   
+00000c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c40: 2020 2027 6d63 6c6b 5f70 735f 7661 6c27     'mclk_ps_val'
+00000c50: 3a20 274d 434c 4b20 5073 7461 7465 272c  : 'MCLK Pstate',
+00000c60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000c80: 2020 2020 2020 2027 6d63 6c6b 5f66 5f76         'mclk_f_v
+00000c90: 616c 273a 2020 274d 434c 4b27 7d0a 0a20  al':  'MCLK'}.. 
+00000ca0: 2020 205f 6661 6e5f 6974 656d 5f6c 6973     _fan_item_lis
+00000cb0: 743a 2053 6574 5b73 7472 5d20 3d20 7b27  t: Set[str] = {'
+00000cc0: 6661 6e5f 656e 6162 6c65 272c 2027 6661  fan_enable', 'fa
+00000cd0: 6e5f 7461 7267 6574 272c 2027 6661 6e5f  n_target', 'fan_
+00000ce0: 7370 6565 6427 2c20 2766 616e 5f73 7065  speed', 'fan_spe
+00000cf0: 6564 5f72 616e 6765 272c 0a20 2020 2020  ed_range',.     
+00000d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000d10: 2020 2020 2020 2020 2020 2027 7077 6d5f             'pwm_
+00000d20: 6d6f 6465 272c 2027 6661 6e5f 7077 6d27  mode', 'fan_pwm'
+00000d30: 2c20 2766 616e 5f70 776d 5f72 616e 6765  , 'fan_pwm_range
+00000d40: 277d 0a20 2020 205f 6170 755f 6770 7573  '}.    _apu_gpus
+00000d50: 3a20 5365 745b 7374 725d 203d 207b 2743  : Set[str] = {'C
+00000d60: 6172 7269 7a6f 272c 2027 5265 6e6f 6972  arrizo', 'Renoir
+00000d70: 272c 2027 4365 7a61 6e6e 6527 2c20 2757  ', 'Cezanne', 'W
+00000d80: 7265 7374 6c65 7227 2c20 274c 6c61 6e6f  restler', 'Llano
+00000d90: 272c 2027 4f6e 7461 7269 6f27 2c20 2754  ', 'Ontario', 'T
+00000da0: 7269 6e69 7479 272c 0a20 2020 2020 2020  rinity',.       
+00000db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000dc0: 2020 2020 2752 6963 686c 616e 6427 2c20      'Richland', 
+00000dd0: 274b 6162 696e 6927 2c20 274b 6176 6572  'Kabini', 'Kaver
+00000de0: 6927 2c20 2750 6963 6173 736f 272c 2027  i', 'Picasso', '
+00000df0: 4272 6973 746f 6c20 5269 6467 6527 2c20  Bristol Ridge', 
+00000e00: 2752 6176 656e 2052 6964 6765 272c 0a20  'Raven Ridge',. 
+00000e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e20: 2020 2020 2020 2020 2020 2748 6f6e 646f            'Hondo
+00000e30: 272c 2027 4465 736e 6127 2c20 275a 6163  ', 'Desna', 'Zac
+00000e40: 6174 6527 2c20 2757 6561 7468 6572 666f  ate', 'Weatherfo
+00000e50: 7264 272c 2027 476f 6461 7661 7269 272c  rd', 'Godavari',
+00000e60: 2027 5465 6d61 7368 272c 2027 5769 6e74   'Temash', 'Wint
+00000e70: 6572 5061 726b 272c 0a20 2020 2020 2020  erPark',.       
+00000e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000e90: 2020 2020 2742 6561 7665 7243 7265 656b      'BeaverCreek
+00000ea0: 272c 2027 4c75 6369 656e 6e65 272c 2027  ', 'Lucienne', '
+00000eb0: 5265 6d62 7261 6e64 7427 2c20 2744 616c  Rembrandt', 'Dal
+00000ec0: 6927 2c20 2753 746f 6e65 7920 5269 6467  i', 'Stoney Ridg
+00000ed0: 6527 2c20 2750 6f6c 6c6f 636b 272c 0a20  e', 'Pollock',. 
+00000ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ef0: 2020 2020 2020 2020 2020 2742 6172 6365            'Barce
+00000f00: 6c6f 272c 2027 4265 656d 6127 2c20 274d  lo', 'Beema', 'M
+00000f10: 756c 6c69 6e73 277d 0a0a 2020 2020 2320  ullins'}..    # 
+00000f20: 4c69 7374 206f 6620 7061 7261 6d65 7465  List of paramete
+00000f30: 7273 2066 6f72 206e 6f6e 2d63 6f6d 7061  rs for non-compa
+00000f40: 7469 626c 6520 414d 4420 4750 5573 2e0a  tible AMD GPUs..
+00000f50: 2020 2020 7368 6f72 745f 6c69 7374 3a20      short_list: 
+00000f60: 5365 745b 7374 725d 203d 207b 2776 656e  Set[str] = {'ven
+00000f70: 646f 7227 2c20 2770 705f 6665 6174 7572  dor', 'pp_featur
+00000f80: 6573 272c 2027 7265 6164 6162 6c65 272c  es', 'readable',
+00000f90: 2027 7772 6974 6162 6c65 272c 2027 636f   'writable', 'co
+00000fa0: 6d70 7574 6527 2c20 2763 6172 645f 6e75  mpute', 'card_nu
+00000fb0: 6d27 2c20 2769 6427 2c0a 2020 2020 2020  m', 'id',.      
+00000fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fd0: 2020 2020 2020 276d 6f64 656c 5f64 6576        'model_dev
+00000fe0: 6963 655f 6465 636f 6465 272c 2027 6770  ice_decode', 'gp
+00000ff0: 755f 7479 7065 272c 2027 6361 7264 5f70  u_type', 'card_p
+00001000: 6174 6827 2c20 2773 7973 5f63 6172 645f  ath', 'sys_card_
+00001010: 7061 7468 272c 2027 6877 6d6f 6e5f 7061  path', 'hwmon_pa
+00001020: 7468 272c 2027 7063 6965 5f69 6427 7d0a  th', 'pcie_id'}.
+00001030: 2020 2020 4750 555f 4e43 5f50 6172 616d      GPU_NC_Param
+00001040: 5f4c 6973 743a 2053 6574 5b73 7472 5d20  _List: Set[str] 
+00001050: 3d20 7b2a 7368 6f72 745f 6c69 7374 2c20  = {*short_list, 
+00001060: 276d 6f64 656c 272c 2027 6472 6976 6572  'model', 'driver
+00001070: 272c 2027 6d6f 6465 6c5f 6465 7669 6365  ', 'model_device
+00001080: 5f64 6563 6f64 6527 7d0a 0a20 2020 2023  _decode'}..    #
+00001090: 2044 6566 696e 6520 7461 626c 6520 7061   Define table pa
+000010a0: 7261 6d65 7465 7273 206c 6162 656c 732e  rameters labels.
+000010b0: 0a20 2020 2074 6162 6c65 5f70 6172 616d  .    table_param
+000010c0: 6574 6572 733a 204c 6973 745b 7374 725d  eters: List[str]
+000010d0: 203d 205b 276d 6f64 656c 5f64 6973 706c   = ['model_displ
+000010e0: 6179 272c 2027 6c6f 6164 696e 6727 2c20  ay', 'loading', 
+000010f0: 276d 656d 5f6c 6f61 6469 6e67 272c 2027  'mem_loading', '
+00001100: 6d65 6d5f 7672 616d 5f75 7361 6765 272c  mem_vram_usage',
+00001110: 2027 6d65 6d5f 6774 745f 7573 6167 6527   'mem_gtt_usage'
+00001120: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00001130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001140: 2020 2020 2020 2020 2766 616e 5f70 776d          'fan_pwm
-00001150: 272c 2027 7363 6c6b 5f66 5f76 616c 272c  ', 'sclk_f_val',
-00001160: 2027 7363 6c6b 5f70 735f 7661 6c27 2c20   'sclk_ps_val', 
-00001170: 276d 636c 6b5f 665f 7661 6c27 2c20 276d  'mclk_f_val', 'm
-00001180: 636c 6b5f 7073 5f76 616c 272c 2027 7070  clk_ps_val', 'pp
-00001190: 6d27 5d0a 2020 2020 7368 6f72 745f 7461  m'].    short_ta
-000011a0: 626c 655f 7061 7261 6d65 7465 7273 3a20  ble_parameters: 
-000011b0: 4c69 7374 5b73 7472 5d20 3d20 5b27 6d6f  List[str] = ['mo
-000011c0: 6465 6c5f 6469 7370 6c61 7927 2c20 2770  del_display', 'p
-000011d0: 6f77 6572 272c 2027 656e 6572 6779 272c  ower', 'energy',
-000011e0: 2027 7465 6d70 5f76 616c 272c 2027 7664   'temp_val', 'vd
-000011f0: 6467 6678 5f76 616c 272c 0a20 2020 2020  dgfx_val',.     
-00001200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001220: 2020 2020 2773 636c 6b5f 665f 7661 6c27      'sclk_f_val'
-00001230: 2c20 2773 636c 6b5f 7073 5f76 616c 272c  , 'sclk_ps_val',
-00001240: 2027 6d63 6c6b 5f66 5f76 616c 272c 2027   'mclk_f_val', '
-00001250: 6d63 6c6b 5f70 735f 7661 6c27 2c20 2770  mclk_ps_val', 'p
-00001260: 706d 275d 0a20 2020 2074 6162 6c65 5f70  pm'].    table_p
-00001270: 6172 616d 5f6c 6162 656c 733a 2044 6963  aram_labels: Dic
-00001280: 745b 7374 722c 2073 7472 5d20 3d20 7b0a  t[str, str] = {.
-00001290: 2020 2020 2020 2020 276d 6f64 656c 5f64          'model_d
-000012a0: 6973 706c 6179 273a 2020 274d 6f64 656c  isplay':  'Model
-000012b0: 272c 0a20 2020 2020 2020 2027 6c6f 6164  ',.        'load
-000012c0: 696e 6727 3a20 2020 2020 2020 2027 4750  ing':        'GP
-000012d0: 5520 4c6f 6164 2025 272c 0a20 2020 2020  U Load %',.     
-000012e0: 2020 2027 6d65 6d5f 6c6f 6164 696e 6727     'mem_loading'
-000012f0: 3a20 2020 2027 4d65 6d20 4c6f 6164 2025  :    'Mem Load %
-00001300: 272c 0a20 2020 2020 2020 2027 6d65 6d5f  ',.        'mem_
-00001310: 7672 616d 5f75 7361 6765 273a 2027 5652  vram_usage': 'VR
-00001320: 414d 2055 7361 6765 2025 272c 0a20 2020  AM Usage %',.   
-00001330: 2020 2020 2027 6d65 6d5f 6774 745f 7573       'mem_gtt_us
-00001340: 6167 6527 3a20 2027 4754 5420 5573 6167  age':  'GTT Usag
-00001350: 6520 2527 2c0a 2020 2020 2020 2020 2770  e %',.        'p
-00001360: 6f77 6572 273a 2020 2020 2020 2020 2020  ower':          
-00001370: 2750 6f77 6572 2028 5729 272c 0a20 2020  'Power (W)',.   
-00001380: 2020 2020 2027 706f 7765 725f 6361 7027       'power_cap'
-00001390: 3a20 2020 2020 2027 506f 7765 7220 4361  :      'Power Ca
-000013a0: 7020 2857 2927 2c0a 2020 2020 2020 2020  p (W)',.        
-000013b0: 2765 6e65 7267 7927 3a20 2020 2020 2020  'energy':       
-000013c0: 2020 2745 6e65 7267 7920 286b 5768 2927    'Energy (kWh)'
-000013d0: 2c0a 2020 2020 2020 2020 2774 656d 705f  ,.        'temp_
-000013e0: 7661 6c27 3a20 2020 2020 2020 2754 2028  val':       'T (
-000013f0: 4329 272c 0a20 2020 2020 2020 2027 7664  C)',.        'vd
-00001400: 6467 6678 5f76 616c 273a 2020 2020 2027  dgfx_val':     '
-00001410: 5664 6447 4658 2028 6d56 2927 2c0a 2020  VddGFX (mV)',.  
-00001420: 2020 2020 2020 2766 616e 5f70 776d 273a        'fan_pwm':
-00001430: 2020 2020 2020 2020 2746 616e 2053 7064          'Fan Spd
-00001440: 2028 2529 272c 0a20 2020 2020 2020 2027   (%)',.        '
-00001450: 7363 6c6b 5f66 5f76 616c 273a 2020 2020  sclk_f_val':    
-00001460: 2027 5363 6c6b 2028 4d48 7a29 272c 0a20   'Sclk (MHz)',. 
-00001470: 2020 2020 2020 2027 7363 6c6b 5f70 735f         'sclk_ps_
-00001480: 7661 6c27 3a20 2020 2027 5363 6c6b 2050  val':    'Sclk P
-00001490: 7374 6174 6527 2c0a 2020 2020 2020 2020  state',.        
-000014a0: 276d 636c 6b5f 665f 7661 6c27 3a20 2020  'mclk_f_val':   
-000014b0: 2020 274d 636c 6b20 284d 487a 2927 2c0a    'Mclk (MHz)',.
-000014c0: 2020 2020 2020 2020 276d 636c 6b5f 7073          'mclk_ps
-000014d0: 5f76 616c 273a 2020 2020 274d 636c 6b20  _val':    'Mclk 
-000014e0: 5073 7461 7465 272c 0a20 2020 2020 2020  Pstate',.       
-000014f0: 2027 7070 6d27 3a20 2020 2020 2020 2020   'ppm':         
-00001500: 2020 2027 5065 7266 204d 6f64 6527 7d0a     'Perf Mode'}.
-00001510: 0a20 2020 2023 2043 6f6d 706c 6574 6520  .    # Complete 
-00001520: 4750 5520 7072 696e 7420 6974 656d 732c  GPU print items,
-00001530: 2075 7365 2073 6b69 7020 6c69 7374 7320   use skip lists 
-00001540: 7768 6572 6520 6170 7072 6f70 7269 6174  where appropriat
-00001550: 652e 0a20 2020 205f 4750 555f 434c 494e  e..    _GPU_CLIN
-00001560: 464f 5f4c 6162 656c 733a 2044 6963 745b  FO_Labels: Dict[
-00001570: 7374 722c 2073 7472 5d20 3d20 7b0a 2020  str, str] = {.  
-00001580: 2020 2020 2020 276f 7065 6e63 6c5f 7665        'opencl_ve
-00001590: 7273 696f 6e27 3a20 2020 2020 2720 2020  rsion':     '   
-000015a0: 4465 7669 6365 204f 7065 6e43 4c20 4320  Device OpenCL C 
-000015b0: 5665 7273 696f 6e27 2c0a 2020 2020 2020  Version',.      
-000015c0: 2020 2764 6576 6963 655f 6e61 6d65 273a    'device_name':
-000015d0: 2020 2020 2020 2020 2720 2020 4465 7669          '   Devi
-000015e0: 6365 204e 616d 6527 2c0a 2020 2020 2020  ce Name',.      
-000015f0: 2020 2764 6576 6963 655f 7665 7273 696f    'device_versio
-00001600: 6e27 3a20 2020 2020 2720 2020 4465 7669  n':     '   Devi
-00001610: 6365 2056 6572 7369 6f6e 272c 0a20 2020  ce Version',.   
-00001620: 2020 2020 2027 6472 6976 6572 5f76 6572       'driver_ver
-00001630: 7369 6f6e 273a 2020 2020 2027 2020 2044  sion':     '   D
-00001640: 7269 7665 7220 5665 7273 696f 6e27 2c0a  river Version',.
-00001650: 2020 2020 2020 2020 276d 6178 5f63 7527          'max_cu'
-00001660: 3a20 2020 2020 2020 2020 2020 2020 2720  :             ' 
-00001670: 2020 4d61 7820 436f 6d70 7574 6520 556e    Max Compute Un
-00001680: 6974 7327 2c0a 2020 2020 2020 2020 2773  its',.        's
-00001690: 696d 645f 7065 725f 6375 273a 2020 2020  imd_per_cu':    
-000016a0: 2020 2020 2720 2020 5349 4d44 2070 6572      '   SIMD per
-000016b0: 2043 5527 2c0a 2020 2020 2020 2020 2773   CU',.        's
-000016c0: 696d 645f 7769 6474 6827 3a20 2020 2020  imd_width':     
-000016d0: 2020 2020 2720 2020 5349 4d44 2057 6964      '   SIMD Wid
-000016e0: 7468 272c 0a20 2020 2020 2020 2027 7369  th',.        'si
-000016f0: 6d64 5f69 6e73 5f77 6964 7468 273a 2020  md_ins_width':  
-00001700: 2020 2027 2020 2053 494d 4420 496e 7374     '   SIMD Inst
-00001710: 7275 6374 696f 6e20 5769 6474 6827 2c0a  ruction Width',.
-00001720: 2020 2020 2020 2020 276d 6178 5f6d 656d          'max_mem
-00001730: 5f61 6c6c 6f63 6174 696f 6e27 3a20 2720  _allocation': ' 
-00001740: 2020 434c 204d 6178 204d 656d 6f72 7920    CL Max Memory 
-00001750: 416c 6c6f 6361 7469 6f6e 272c 0a20 2020  Allocation',.   
-00001760: 2020 2020 2027 6d61 785f 7769 5f64 696d       'max_wi_dim
-00001770: 273a 2020 2020 2020 2020 2027 2020 204d  ':         '   M
-00001780: 6178 2057 6f72 6b20 4974 656d 2044 696d  ax Work Item Dim
-00001790: 656e 7369 6f6e 7327 2c0a 2020 2020 2020  ensions',.      
-000017a0: 2020 276d 6178 5f77 695f 7369 7a65 7327    'max_wi_sizes'
-000017b0: 3a20 2020 2020 2020 2720 2020 4d61 7820  :       '   Max 
-000017c0: 576f 726b 2049 7465 6d20 5369 7a65 7327  Work Item Sizes'
-000017d0: 2c0a 2020 2020 2020 2020 276d 6178 5f77  ,.        'max_w
-000017e0: 675f 7369 7a65 273a 2020 2020 2020 2020  g_size':        
-000017f0: 2720 2020 4d61 7820 576f 726b 2047 726f  '   Max Work Gro
-00001800: 7570 2053 697a 6527 2c0a 2020 2020 2020  up Size',.      
-00001810: 2020 2770 7266 5f77 675f 7369 7a65 273a    'prf_wg_size':
-00001820: 2020 2020 2020 2020 2720 2020 5072 6566          '   Pref
-00001830: 6572 7265 6420 576f 726b 2047 726f 7570  erred Work Group
-00001840: 2053 697a 6527 2c0a 2020 2020 2020 2020   Size',.        
-00001850: 2770 7266 5f77 675f 6d75 6c74 6970 6c65  'prf_wg_multiple
-00001860: 273a 2020 2020 2720 2020 5072 6566 6572  ':    '   Prefer
-00001870: 7265 6420 576f 726b 2047 726f 7570 204d  red Work Group M
-00001880: 756c 7469 706c 6527 7d0a 2020 2020 5f47  ultiple'}.    _G
-00001890: 5055 5f50 6172 616d 5f4c 6162 656c 733a  PU_Param_Labels:
-000018a0: 2044 6963 745b 7374 722c 2073 7472 5d20   Dict[str, str] 
-000018b0: 3d20 7b0a 2020 2020 2020 2020 2763 6172  = {.        'car
-000018c0: 645f 6e75 6d27 3a20 2020 2020 2020 2020  d_num':         
-000018d0: 2020 2027 4361 7264 204e 756d 6265 7227     'Card Number'
-000018e0: 2c0a 2020 2020 2020 2020 2776 656e 646f  ,.        'vendo
-000018f0: 7227 3a20 2020 2020 2020 2020 2020 2020  r':             
-00001900: 2027 5665 6e64 6f72 272c 0a20 2020 2020   'Vendor',.     
-00001910: 2020 2027 7070 5f66 6561 7475 7265 7327     'pp_features'
-00001920: 3a20 2020 2020 2020 2020 2750 5020 4665  :         'PP Fe
-00001930: 6174 7572 6573 272c 0a20 2020 2020 2020  atures',.       
-00001940: 2027 7265 6164 6162 6c65 273a 2020 2020   'readable':    
-00001950: 2020 2020 2020 2020 2752 6561 6461 626c          'Readabl
-00001960: 6527 2c0a 2020 2020 2020 2020 2777 7269  e',.        'wri
-00001970: 7461 626c 6527 3a20 2020 2020 2020 2020  table':         
-00001980: 2020 2027 5772 6974 6162 6c65 272c 0a20     'Writable',. 
-00001990: 2020 2020 2020 2027 636f 6d70 7574 6527         'compute'
-000019a0: 3a20 2020 2020 2020 2020 2020 2020 2743  :             'C
-000019b0: 6f6d 7075 7465 272c 0a20 2020 2020 2020  ompute',.       
-000019c0: 2027 756e 6971 7565 5f69 6427 3a20 2020   'unique_id':   
-000019d0: 2020 2020 2020 2020 2747 5055 2055 4944          'GPU UID
-000019e0: 272c 0a20 2020 2020 2020 2027 7365 7269  ',.        'seri
-000019f0: 616c 5f6e 756d 6265 7227 3a20 2020 2020  al_number':     
-00001a00: 2020 2747 5055 2053 2f4e 272c 0a20 2020    'GPU S/N',.   
-00001a10: 2020 2020 2027 6964 273a 2020 2020 2020       'id':      
-00001a20: 2020 2020 2020 2020 2020 2020 2744 6576              'Dev
-00001a30: 6963 6520 4944 272c 0a20 2020 2020 2020  ice ID',.       
-00001a40: 2027 6d6f 6465 6c5f 6465 7669 6365 5f64   'model_device_d
-00001a50: 6563 6f64 6527 3a20 2744 6563 6f64 6564  ecode': 'Decoded
-00001a60: 2044 6576 6963 6520 4944 272c 0a20 2020   Device ID',.   
-00001a70: 2020 2020 2027 6d6f 6465 6c27 3a20 2020       'model':   
-00001a80: 2020 2020 2020 2020 2020 2020 2743 6172              'Car
-00001a90: 6420 4d6f 6465 6c27 2c0a 2020 2020 2020  d Model',.      
-00001aa0: 2020 276d 6f64 656c 5f64 6973 706c 6179    'model_display
-00001ab0: 273a 2020 2020 2020 2027 4469 7370 6c61  ':       'Displa
-00001ac0: 7920 4361 7264 204d 6f64 656c 272c 0a20  y Card Model',. 
-00001ad0: 2020 2020 2020 2027 6361 7264 5f69 6e64         'card_ind
-00001ae0: 6578 273a 2020 2020 2020 2020 2020 2743  ex':          'C
-00001af0: 6172 6420 496e 6465 7827 2c0a 2020 2020  ard Index',.    
-00001b00: 2020 2020 2770 6369 655f 6964 273a 2020      'pcie_id':  
-00001b10: 2020 2020 2020 2020 2020 2027 5043 4965             'PCIe
-00001b20: 2049 4427 2c0a 2020 2020 2020 2020 276c   ID',.        'l
-00001b30: 696e 6b5f 7370 6427 3a20 2020 2020 2020  ink_spd':       
-00001b40: 2020 2020 2027 2020 204c 696e 6b20 5370       '   Link Sp
-00001b50: 6565 6427 2c0a 2020 2020 2020 2020 276c  eed',.        'l
-00001b60: 696e 6b5f 7774 6827 3a20 2020 2020 2020  ink_wth':       
-00001b70: 2020 2020 2027 2020 204c 696e 6b20 5769       '   Link Wi
-00001b80: 6474 6827 2c0a 2020 2020 2020 2020 2773  dth',.        's
-00001b90: 6570 3127 3a20 2020 2020 2020 2020 2020  ep1':           
-00001ba0: 2020 2020 2027 2327 2c0a 2020 2020 2020       '#',.      
-00001bb0: 2020 2764 7269 7665 7227 3a20 2020 2020    'driver':     
-00001bc0: 2020 2020 2020 2020 2027 4472 6976 6572           'Driver
-00001bd0: 272c 0a20 2020 2020 2020 2027 7662 696f  ',.        'vbio
-00001be0: 7327 3a20 2020 2020 2020 2020 2020 2020  s':             
-00001bf0: 2020 2776 4249 4f53 2056 6572 7369 6f6e    'vBIOS Version
-00001c00: 272c 0a20 2020 2020 2020 2027 636f 6d70  ',.        'comp
-00001c10: 7574 655f 706c 6174 666f 726d 273a 2020  ute_platform':  
-00001c20: 2020 2743 6f6d 7075 7465 2050 6c61 7466    'Compute Platf
-00001c30: 6f72 6d27 2c0a 2020 2020 2020 2020 2763  orm',.        'c
-00001c40: 6f6d 7075 7465 5f6d 6f64 6527 3a20 2020  ompute_mode':   
-00001c50: 2020 2020 2027 436f 6d70 7574 6520 4d6f       'Compute Mo
-00001c60: 6465 272c 0a20 2020 2020 2020 2027 6770  de',.        'gp
-00001c70: 755f 7479 7065 273a 2020 2020 2020 2020  u_type':        
-00001c80: 2020 2020 2747 5055 2054 7970 6527 2c0a      'GPU Type',.
-00001c90: 2020 2020 2020 2020 2768 776d 6f6e 5f70          'hwmon_p
-00001ca0: 6174 6827 3a20 2020 2020 2020 2020 2027  ath':          '
-00001cb0: 4857 6d6f 6e27 2c0a 2020 2020 2020 2020  HWmon',.        
-00001cc0: 2763 6172 645f 7061 7468 273a 2020 2020  'card_path':    
-00001cd0: 2020 2020 2020 2027 4361 7264 2050 6174         'Card Pat
-00001ce0: 6827 2c0a 2020 2020 2020 2020 2773 7973  h',.        'sys
-00001cf0: 5f63 6172 645f 7061 7468 273a 2020 2020  _card_path':    
-00001d00: 2020 2027 5379 7374 656d 2043 6172 6420     'System Card 
-00001d10: 5061 7468 272c 0a20 2020 2020 2020 2027  Path',.        '
-00001d20: 7365 7032 273a 2020 2020 2020 2020 2020  sep2':          
-00001d30: 2020 2020 2020 2723 272c 0a20 2020 2020        '#',.     
-00001d40: 2020 2027 706f 7765 7227 3a20 2020 2020     'power':     
-00001d50: 2020 2020 2020 2020 2020 2743 7572 7265            'Curre
-00001d60: 6e74 2050 6f77 6572 2028 5729 272c 0a20  nt Power (W)',. 
-00001d70: 2020 2020 2020 2027 706f 7765 725f 6361         'power_ca
-00001d80: 7027 3a20 2020 2020 2020 2020 2020 2750  p':           'P
-00001d90: 6f77 6572 2043 6170 2028 5729 272c 0a20  ower Cap (W)',. 
-00001da0: 2020 2020 2020 2027 706f 7765 725f 6361         'power_ca
-00001db0: 705f 7261 6e67 6527 3a20 2020 2020 2720  p_range':     ' 
-00001dc0: 2020 506f 7765 7220 4361 7020 5261 6e67    Power Cap Rang
-00001dd0: 6520 2857 2927 2c0a 2020 2020 2020 2020  e (W)',.        
-00001de0: 2766 616e 5f65 6e61 626c 6527 3a20 2020  'fan_enable':   
-00001df0: 2020 2020 2020 2027 4661 6e20 456e 6162         'Fan Enab
-00001e00: 6c65 272c 0a20 2020 2020 2020 2027 7077  le',.        'pw
-00001e10: 6d5f 6d6f 6465 273a 2020 2020 2020 2020  m_mode':        
-00001e20: 2020 2020 2746 616e 2050 574d 204d 6f64      'Fan PWM Mod
-00001e30: 6527 2c0a 2020 2020 2020 2020 2766 616e  e',.        'fan
-00001e40: 5f74 6172 6765 7427 3a20 2020 2020 2020  _target':       
-00001e50: 2020 2027 4661 6e20 5461 7267 6574 2053     'Fan Target S
-00001e60: 7065 6564 2028 7270 6d29 272c 0a20 2020  peed (rpm)',.   
-00001e70: 2020 2020 2027 6661 6e5f 7370 6565 6427       'fan_speed'
-00001e80: 3a20 2020 2020 2020 2020 2020 2743 7572  :           'Cur
-00001e90: 7265 6e74 2046 616e 2053 7065 6564 2028  rent Fan Speed (
-00001ea0: 7270 6d29 272c 0a20 2020 2020 2020 2027  rpm)',.        '
-00001eb0: 6661 6e5f 7077 6d27 3a20 2020 2020 2020  fan_pwm':       
-00001ec0: 2020 2020 2020 2743 7572 7265 6e74 2046        'Current F
-00001ed0: 616e 2050 574d 2028 2529 272c 0a20 2020  an PWM (%)',.   
-00001ee0: 2020 2020 2027 6661 6e5f 7370 6565 645f       'fan_speed_
-00001ef0: 7261 6e67 6527 3a20 2020 2020 2720 2020  range':     '   
-00001f00: 4661 6e20 5370 6565 6420 5261 6e67 6520  Fan Speed Range 
-00001f10: 2872 706d 2927 2c0a 2020 2020 2020 2020  (rpm)',.        
-00001f20: 2766 616e 5f70 776d 5f72 616e 6765 273a  'fan_pwm_range':
-00001f30: 2020 2020 2020 2027 2020 2046 616e 2050         '   Fan P
-00001f40: 574d 2052 616e 6765 2028 2529 272c 0a20  WM Range (%)',. 
-00001f50: 2020 2020 2020 2027 7365 7033 273a 2020         'sep3':  
-00001f60: 2020 2020 2020 2020 2020 2020 2020 2723                '#
-00001f70: 272c 0a20 2020 2020 2020 2027 6c6f 6164  ',.        'load
-00001f80: 696e 6727 3a20 2020 2020 2020 2020 2020  ing':           
-00001f90: 2020 2743 7572 7265 6e74 2047 5055 204c    'Current GPU L
-00001fa0: 6f61 6469 6e67 2028 2529 272c 0a20 2020  oading (%)',.   
-00001fb0: 2020 2020 2027 6d65 6d5f 6c6f 6164 696e       'mem_loadin
-00001fc0: 6727 3a20 2020 2020 2020 2020 2743 7572  g':         'Cur
-00001fd0: 7265 6e74 204d 656d 6f72 7920 4c6f 6164  rent Memory Load
-00001fe0: 696e 6720 2825 2927 2c0a 2020 2020 2020  ing (%)',.      
-00001ff0: 2020 276d 656d 5f67 7474 5f75 7361 6765    'mem_gtt_usage
-00002000: 273a 2020 2020 2020 2027 4375 7272 656e  ':       'Curren
-00002010: 7420 4754 5420 4d65 6d6f 7279 2055 7361  t GTT Memory Usa
-00002020: 6765 2028 2529 272c 0a20 2020 2020 2020  ge (%)',.       
-00002030: 2027 6d65 6d5f 6774 745f 7573 6564 273a   'mem_gtt_used':
-00002040: 2020 2020 2020 2020 2720 2020 4375 7272          '   Curr
-00002050: 656e 7420 4754 5420 4d65 6d6f 7279 2055  ent GTT Memory U
-00002060: 7365 6420 2847 4229 272c 0a20 2020 2020  sed (GB)',.     
-00002070: 2020 2027 6d65 6d5f 6774 745f 746f 7461     'mem_gtt_tota
-00002080: 6c27 3a20 2020 2020 2020 2720 2020 546f  l':       '   To
-00002090: 7461 6c20 4754 5420 4d65 6d6f 7279 2028  tal GTT Memory (
-000020a0: 4742 2927 2c0a 2020 2020 2020 2020 276d  GB)',.        'm
-000020b0: 656d 5f76 7261 6d5f 7573 6167 6527 3a20  em_vram_usage': 
-000020c0: 2020 2020 2027 4375 7272 656e 7420 5652       'Current VR
-000020d0: 414d 2055 7361 6765 2028 2529 272c 0a20  AM Usage (%)',. 
-000020e0: 2020 2020 2020 2027 6d65 6d5f 7672 616d         'mem_vram
-000020f0: 5f75 7365 6427 3a20 2020 2020 2020 2720  _used':       ' 
-00002100: 2020 4375 7272 656e 7420 5652 414d 2055    Current VRAM U
-00002110: 7365 6420 2847 4229 272c 0a20 2020 2020  sed (GB)',.     
-00002120: 2020 2027 6d65 6d5f 7672 616d 5f74 6f74     'mem_vram_tot
-00002130: 616c 273a 2020 2020 2020 2720 2020 546f  al':      '   To
-00002140: 7461 6c20 5652 414d 2028 4742 2927 2c0a  tal VRAM (GB)',.
-00002150: 2020 2020 2020 2020 2774 656d 7065 7261          'tempera
-00002160: 7475 7265 7327 3a20 2020 2020 2020 2027  tures':        '
-00002170: 4375 7272 656e 7420 2054 656d 7073 2028  Current  Temps (
-00002180: 4329 272c 0a20 2020 2020 2020 2027 7465  C)',.        'te
-00002190: 6d70 5f63 7269 7473 273a 2020 2020 2020  mp_crits':      
-000021a0: 2020 2020 2743 7269 7469 6361 6c20 5465      'Critical Te
-000021b0: 6d70 7320 2843 2927 2c0a 2020 2020 2020  mps (C)',.      
-000021c0: 2020 2776 6f6c 7461 6765 7327 3a20 2020    'voltages':   
-000021d0: 2020 2020 2020 2020 2027 4375 7272 656e           'Curren
-000021e0: 7420 566f 6c74 6167 6573 2028 5629 272c  t Voltages (V)',
-000021f0: 0a20 2020 2020 2020 2027 7664 6463 5f72  .        'vddc_r
-00002200: 616e 6765 273a 2020 2020 2020 2020 2020  ange':          
-00002210: 2720 2020 5664 6463 2052 616e 6765 272c  '   Vddc Range',
-00002220: 0a20 2020 2020 2020 2027 7664 6467 6678  .        'vddgfx
-00002230: 5f6f 6666 7365 7427 3a20 2020 2020 2020  _offset':       
-00002240: 2720 2020 5664 6467 6678 204f 6666 7365  '   Vddgfx Offse
-00002250: 7420 286d 5629 272c 0a20 2020 2020 2020  t (mV)',.       
-00002260: 2027 7664 6467 6678 5f6f 6666 7365 745f   'vddgfx_offset_
-00002270: 7261 6e67 6527 3a20 2720 2020 5664 6467  range': '   Vddg
-00002280: 6678 204f 6666 7365 7420 5261 6e67 6520  fx Offset Range 
-00002290: 286d 5629 272c 0a20 2020 2020 2020 2027  (mV)',.        '
-000022a0: 6672 6571 7565 6e63 6965 7327 3a20 2020  frequencies':   
-000022b0: 2020 2020 2020 2743 7572 7265 6e74 2043        'Current C
-000022c0: 6c6b 2046 7265 7175 656e 6369 6573 2028  lk Frequencies (
-000022d0: 4d48 7a29 272c 0a20 2020 2020 2020 2027  MHz)',.        '
-000022e0: 6672 6571 7565 6e63 6965 735f 6d61 7827  frequencies_max'
-000022f0: 3a20 2020 2020 274d 6178 696d 756d 2043  :     'Maximum C
-00002300: 6c6b 2046 7265 7175 656e 6369 6573 2028  lk Frequencies (
-00002310: 4d48 7a29 272c 0a20 2020 2020 2020 2027  MHz)',.        '
-00002320: 7363 6c6b 5f70 7327 3a20 2020 2020 2020  sclk_ps':       
-00002330: 2020 2020 2020 2743 7572 7265 6e74 2053        'Current S
-00002340: 434c 4b20 502d 5374 6174 6527 2c0a 2020  CLK P-State',.  
-00002350: 2020 2020 2020 2773 636c 6b5f 665f 7261        'sclk_f_ra
-00002360: 6e67 6527 3a20 2020 2020 2020 2027 2020  nge':        '  
-00002370: 2053 434c 4b20 5261 6e67 6527 2c0a 2020   SCLK Range',.  
-00002380: 2020 2020 2020 276d 636c 6b5f 7073 273a        'mclk_ps':
-00002390: 2020 2020 2020 2020 2020 2020 2027 4375               'Cu
-000023a0: 7272 656e 7420 4d43 4c4b 2050 2d53 7461  rrent MCLK P-Sta
-000023b0: 7465 272c 0a20 2020 2020 2020 2027 6d63  te',.        'mc
-000023c0: 6c6b 5f66 5f72 616e 6765 273a 2020 2020  lk_f_range':    
-000023d0: 2020 2020 2720 2020 4d43 4c4b 2052 616e      '   MCLK Ran
-000023e0: 6765 272c 0a20 2020 2020 2020 2027 7070  ge',.        'pp
-000023f0: 6d27 3a20 2020 2020 2020 2020 2020 2020  m':             
-00002400: 2020 2020 2750 6f77 6572 2050 726f 6669      'Power Profi
-00002410: 6c65 204d 6f64 6527 2c0a 2020 2020 2020  le Mode',.      
-00002420: 2020 2770 6f77 6572 5f64 706d 5f73 7461    'power_dpm_sta
-00002430: 7465 273a 2020 2020 2027 506f 7765 7220  te':     'Power 
-00002440: 4450 4d20 5374 6174 6527 2c0a 2020 2020  DPM State',.    
-00002450: 2020 2020 2770 6f77 6572 5f64 706d 5f66      'power_dpm_f
-00002460: 6f72 6365 273a 2020 2020 2027 506f 7765  orce':     'Powe
-00002470: 7220 4450 4d20 466f 7263 6520 5065 7266  r DPM Force Perf
-00002480: 6f72 6d61 6e63 6520 4c65 7665 6c27 7d0a  ormance Level'}.
-00002490: 0a20 2020 2023 2053 6b69 7020 6c69 7374  .    # Skip list
-000024a0: 2069 6e69 7469 616c 697a 6174 696f 6e0a   initialization.
-000024b0: 2020 2020 5f75 6e73 7570 706f 7274 6564      _unsupported
-000024c0: 5f73 6b69 705f 6c69 7374 3a20 5365 7420  _skip_list: Set 
-000024d0: 3d20 7365 7428 5f47 5055 5f50 6172 616d  = set(_GPU_Param
-000024e0: 5f4c 6162 656c 7329 202d 2047 5055 5f4e  _Labels) - GPU_N
-000024f0: 435f 5061 7261 6d5f 4c69 7374 0a20 2020  C_Param_List.   
-00002500: 2023 2041 4d44 2054 7970 6520 736b 6970   # AMD Type skip
-00002510: 206c 6973 7473 2e0a 2020 2020 616d 645f   lists..    amd_
-00002520: 7479 7065 5f73 6b69 705f 6c69 7374 733a  type_skip_lists:
-00002530: 2044 6963 745b 4770 7554 7970 652c 2053   Dict[GpuType, S
-00002540: 6574 5d20 3d20 7b7d 0a20 2020 2066 6f72  et] = {}.    for
-00002550: 2061 6d64 5f67 7075 5f74 7970 6520 696e   amd_gpu_type in
-00002560: 2047 7075 5479 7065 3a0a 2020 2020 2020   GpuType:.      
-00002570: 2020 616d 645f 7479 7065 5f73 6b69 705f    amd_type_skip_
-00002580: 6c69 7374 732e 7570 6461 7465 287b 616d  lists.update({am
-00002590: 645f 6770 755f 7479 7065 3a20 7365 7428  d_gpu_type: set(
-000025a0: 297d 290a 2020 2020 616d 645f 7479 7065  )}).    amd_type
-000025b0: 5f73 6b69 705f 6c69 7374 735b 4770 7554  _skip_lists[GpuT
-000025c0: 7970 652e 556e 6465 6669 6e65 645d 203d  ype.Undefined] =
-000025d0: 205f 756e 7375 7070 6f72 7465 645f 736b   _unsupported_sk
-000025e0: 6970 5f6c 6973 740a 2020 2020 616d 645f  ip_list.    amd_
-000025f0: 7479 7065 5f73 6b69 705f 6c69 7374 735b  type_skip_lists[
-00002600: 4770 7554 7970 652e 556e 7375 7070 6f72  GpuType.Unsuppor
-00002610: 7465 645d 203d 205f 756e 7375 7070 6f72  ted] = _unsuppor
-00002620: 7465 645f 736b 6970 5f6c 6973 740a 2020  ted_skip_list.  
-00002630: 2020 616d 645f 7479 7065 5f73 6b69 705f    amd_type_skip_
-00002640: 6c69 7374 735b 4770 7554 7970 652e 4f66  lists[GpuType.Of
-00002650: 6673 6574 5d20 3d20 7b27 7664 6463 5f72  fset] = {'vddc_r
-00002660: 616e 6765 277d 0a20 2020 2061 6d64 5f74  ange'}.    amd_t
-00002670: 7970 655f 736b 6970 5f6c 6973 7473 5b47  ype_skip_lists[G
-00002680: 7075 5479 7065 2e43 7572 7665 5074 735d  puType.CurvePts]
-00002690: 203d 207b 2776 6464 6766 785f 6f66 6673   = {'vddgfx_offs
-000026a0: 6574 272c 2027 7664 6467 6678 5f6f 6666  et', 'vddgfx_off
-000026b0: 7365 745f 7261 6e67 6527 7d0a 2020 2020  set_range'}.    
-000026c0: 616d 645f 7479 7065 5f73 6b69 705f 6c69  amd_type_skip_li
-000026d0: 7374 735b 4770 7554 7970 652e 5053 7461  sts[GpuType.PSta
-000026e0: 7465 734e 455d 203d 207b 2776 6464 635f  tesNE] = {'vddc_
-000026f0: 7261 6e67 6527 2c20 2773 636c 6b5f 665f  range', 'sclk_f_
-00002700: 7261 6e67 6527 2c20 276d 636c 6b5f 665f  range', 'mclk_f_
-00002710: 7261 6e67 6527 2c20 2776 6464 6766 785f  range', 'vddgfx_
-00002720: 6f66 6673 6574 272c 0a20 2020 2020 2020  offset',.       
-00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002750: 2020 2020 2020 2027 7664 6467 6678 5f6f         'vddgfx_o
-00002760: 6666 7365 745f 7261 6e67 6527 7d0a 2020  ffset_range'}.  
-00002770: 2020 616d 645f 7479 7065 5f73 6b69 705f    amd_type_skip_
-00002780: 6c69 7374 735b 4770 7554 7970 652e 5053  lists[GpuType.PS
-00002790: 7461 7465 735d 203d 207b 2776 6464 6766  tates] = {'vddgf
-000027a0: 785f 6f66 6673 6574 272c 2027 7664 6467  x_offset', 'vddg
-000027b0: 6678 5f6f 6666 7365 745f 7261 6e67 6527  fx_offset_range'
-000027c0: 7d0a 2020 2020 616d 645f 7479 7065 5f73  }.    amd_type_s
-000027d0: 6b69 705f 6c69 7374 735b 4770 7554 7970  kip_lists[GpuTyp
-000027e0: 652e 4c65 6761 6379 5d20 3d20 7b27 7662  e.Legacy] = {'vb
-000027f0: 696f 7327 2c20 276c 6f61 6469 6e67 272c  ios', 'loading',
-00002800: 2027 6d65 6d5f 6c6f 6164 696e 6727 2c20   'mem_loading', 
-00002810: 2773 636c 6b5f 7073 272c 2027 6d63 6c6b  'sclk_ps', 'mclk
-00002820: 5f70 7327 2c20 2770 706d 272c 2027 706f  _ps', 'ppm', 'po
-00002830: 7765 7227 2c0a 2020 2020 2020 2020 2020  wer',.          
-00002840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002860: 2027 706f 7765 725f 6361 7027 2c20 2770   'power_cap', 'p
-00002870: 6f77 6572 5f63 6170 5f72 616e 6765 272c  ower_cap_range',
-00002880: 2027 6d65 6d5f 7672 616d 5f74 6f74 616c   'mem_vram_total
-00002890: 272c 2027 6d65 6d5f 7672 616d 5f75 7365  ', 'mem_vram_use
-000028a0: 6427 2c0a 2020 2020 2020 2020 2020 2020  d',.            
-000028b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028c0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000028d0: 6d65 6d5f 6774 745f 746f 7461 6c27 2c20  mem_gtt_total', 
-000028e0: 276d 656d 5f67 7474 5f75 7365 6427 2c20  'mem_gtt_used', 
-000028f0: 276d 656d 5f76 7261 6d5f 7573 6167 6527  'mem_vram_usage'
-00002900: 2c20 276d 656d 5f67 7474 5f75 7361 6765  , 'mem_gtt_usage
-00002910: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-00002920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002930: 2020 2020 2020 2020 2020 2020 2020 2766                'f
-00002940: 616e 5f73 7065 6564 5f72 616e 6765 272c  an_speed_range',
-00002950: 2027 6661 6e5f 656e 6162 6c65 272c 2027   'fan_enable', '
-00002960: 6661 6e5f 7461 7267 6574 272c 2027 6661  fan_target', 'fa
-00002970: 6e5f 7370 6565 6427 2c20 2776 6464 635f  n_speed', 'vddc_
-00002980: 7261 6e67 6527 2c0a 2020 2020 2020 2020  range',.        
-00002990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000029b0: 2020 2027 6672 6571 7565 6e63 6965 7327     'frequencies'
-000029c0: 2c20 2773 636c 6b5f 665f 7261 6e67 6527  , 'sclk_f_range'
-000029d0: 2c20 276d 636c 6b5f 665f 7261 6e67 6527  , 'mclk_f_range'
-000029e0: 2c20 2776 6464 6766 785f 6f66 6673 6574  , 'vddgfx_offset
-000029f0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-00002a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002a10: 2020 2020 2020 2020 2020 2020 2020 2776                'v
-00002a20: 6464 6766 785f 6f66 6673 6574 5f72 616e  ddgfx_offset_ran
-00002a30: 6765 277d 0a20 2020 2061 6d64 5f74 7970  ge'}.    amd_typ
-00002a40: 655f 736b 6970 5f6c 6973 7473 5b47 7075  e_skip_lists[Gpu
-00002a50: 5479 7065 2e4c 6567 6163 7941 5055 5d20  Type.LegacyAPU] 
-00002a60: 3d20 7b27 756e 6971 7565 5f69 6427 2c20  = {'unique_id', 
-00002a70: 2776 6269 6f73 272c 2027 6c6f 6164 696e  'vbios', 'loadin
-00002a80: 6727 2c20 2773 636c 6b5f 7073 272c 2027  g', 'sclk_ps', '
-00002a90: 6d63 6c6b 5f70 7327 2c20 2770 706d 272c  mclk_ps', 'ppm',
-00002aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ac0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00002ad0: 7664 6463 5f72 616e 6765 272c 2027 6d65  vddc_range', 'me
-00002ae0: 6d5f 7672 616d 5f74 6f74 616c 272c 2027  m_vram_total', '
-00002af0: 6d65 6d5f 6774 745f 746f 7461 6c27 2c20  mem_gtt_total', 
-00002b00: 276d 656d 5f76 7261 6d5f 7573 6564 272c  'mem_vram_used',
-00002b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002b30: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00002b40: 6d65 6d5f 6774 745f 7573 6564 272c 2027  mem_gtt_used', '
-00002b50: 706f 7765 725f 6361 705f 7261 6e67 6527  power_cap_range'
-00002b60: 2c20 2770 6f77 6572 272c 2027 706f 7765  , 'power', 'powe
-00002b70: 725f 6361 7027 2c20 2776 6464 6766 785f  r_cap', 'vddgfx_
-00002b80: 6f66 6673 6574 272c 0a20 2020 2020 2020  offset',.       
-00002b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002bb0: 2020 2020 2020 2027 7664 6467 6678 5f6f         'vddgfx_o
-00002bc0: 6666 7365 745f 7261 6e67 6527 2c20 2a5f  ffset_range', *_
-00002bd0: 6661 6e5f 6974 656d 5f6c 6973 747d 0a20  fan_item_list}. 
-00002be0: 2020 2061 6d64 5f74 7970 655f 736b 6970     amd_type_skip
-00002bf0: 5f6c 6973 7473 5b47 7075 5479 7065 2e41  _lists[GpuType.A
-00002c00: 5055 5d20 3d20 7b27 756e 6971 7565 5f69  PU] = {'unique_i
-00002c10: 6427 2c20 276c 6f61 6469 6e67 272c 2027  d', 'loading', '
-00002c20: 7070 6d27 2c20 2770 776d 5f6d 6f64 6527  ppm', 'pwm_mode'
-00002c30: 2c20 2766 616e 5f70 776d 272c 2027 7664  , 'fan_pwm', 'vd
-00002c40: 6463 5f72 616e 6765 272c 0a20 2020 2020  dc_range',.     
-00002c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002c70: 2020 2027 706f 7765 725f 6361 705f 7261     'power_cap_ra
-00002c80: 6e67 6527 2c20 2770 6f77 6572 5f63 6170  nge', 'power_cap
-00002c90: 272c 2027 7664 6467 6678 5f6f 6666 7365  ', 'vddgfx_offse
-00002ca0: 7427 2c20 2776 6464 6766 785f 6f66 6673  t', 'vddgfx_offs
-00002cb0: 6574 5f72 616e 6765 272c 0a20 2020 2020  et_range',.     
-00002cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ce0: 2020 202a 5f66 616e 5f69 7465 6d5f 6c69     *_fan_item_li
-00002cf0: 7374 7d0a 0a20 2020 2023 2056 656e 646f  st}..    # Vendo
-00002d00: 7220 7370 6563 6966 6963 2073 6b69 7020  r specific skip 
-00002d10: 6c69 7374 732e 0a20 2020 2076 656e 646f  lists..    vendo
-00002d20: 725f 736b 6970 5f6c 6973 7473 3a20 4469  r_skip_lists: Di
-00002d30: 6374 5b47 7075 5665 6e64 6f72 2c20 5365  ct[GpuVendor, Se
-00002d40: 745d 203d 207b 7d0a 2020 2020 666f 7220  t] = {}.    for 
-00002d50: 7665 6e64 6f72 2069 6e20 4770 7556 656e  vendor in GpuVen
-00002d60: 646f 723a 0a20 2020 2020 2020 2076 656e  dor:.        ven
-00002d70: 646f 725f 736b 6970 5f6c 6973 7473 2e75  dor_skip_lists.u
-00002d80: 7064 6174 6528 7b76 656e 646f 723a 2073  pdate({vendor: s
-00002d90: 6574 2829 7d29 0a20 2020 2076 656e 646f  et()}).    vendo
-00002da0: 725f 736b 6970 5f6c 6973 7473 5b47 7075  r_skip_lists[Gpu
-00002db0: 5665 6e64 6f72 2e41 5350 4545 445d 203d  Vendor.ASPEED] =
-00002dc0: 205f 756e 7375 7070 6f72 7465 645f 736b   _unsupported_sk
-00002dd0: 6970 5f6c 6973 740a 2020 2020 7665 6e64  ip_list.    vend
-00002de0: 6f72 5f73 6b69 705f 6c69 7374 735b 4770  or_skip_lists[Gp
-00002df0: 7556 656e 646f 722e 4d41 5452 4f58 5d20  uVendor.MATROX] 
-00002e00: 3d20 5f75 6e73 7570 706f 7274 6564 5f73  = _unsupported_s
-00002e10: 6b69 705f 6c69 7374 0a20 2020 2076 656e  kip_list.    ven
-00002e20: 646f 725f 736b 6970 5f6c 6973 7473 5b47  dor_skip_lists[G
-00002e30: 7075 5665 6e64 6f72 2e41 4d44 5d20 3d20  puVendor.AMD] = 
-00002e40: 7b27 6672 6571 7565 6e63 6965 735f 6d61  {'frequencies_ma
-00002e50: 7827 2c20 2763 6f6d 7075 7465 5f6d 6f64  x', 'compute_mod
-00002e60: 6527 2c20 2773 6572 6961 6c5f 6e75 6d62  e', 'serial_numb
-00002e70: 6572 272c 2027 6361 7264 5f69 6e64 6578  er', 'card_index
-00002e80: 277d 0a20 2020 2076 656e 646f 725f 736b  '}.    vendor_sk
-00002e90: 6970 5f6c 6973 7473 5b47 7075 5665 6e64  ip_lists[GpuVend
-00002ea0: 6f72 2e4e 5649 4449 415d 203d 207b 2766  or.NVIDIA] = {'f
-00002eb0: 616e 5f65 6e61 626c 6527 2c20 2766 616e  an_enable', 'fan
-00002ec0: 5f73 7065 6564 272c 2027 6661 6e5f 7077  _speed', 'fan_pw
-00002ed0: 6d5f 7261 6e67 6527 2c20 2766 616e 5f73  m_range', 'fan_s
-00002ee0: 7065 6564 5f72 616e 6765 272c 2027 7077  peed_range', 'pw
-00002ef0: 6d5f 6d6f 6465 272c 0a20 2020 2020 2020  m_mode',.       
-00002f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f20: 2020 2020 276d 656d 5f67 7474 5f74 6f74      'mem_gtt_tot
-00002f30: 616c 272c 2027 6d65 6d5f 6774 745f 7573  al', 'mem_gtt_us
-00002f40: 6564 272c 2027 6d65 6d5f 6774 745f 7573  ed', 'mem_gtt_us
-00002f50: 6167 6527 2c20 2770 705f 6665 6174 7572  age', 'pp_featur
-00002f60: 6573 272c 0a20 2020 2020 2020 2020 2020  es',.           
-00002f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f90: 276d 636c 6b5f 7073 272c 2027 6d63 6c6b  'mclk_ps', 'mclk
-00002fa0: 5f66 5f72 616e 6765 272c 2027 7363 6c6b  _f_range', 'sclk
-00002fb0: 5f66 5f72 616e 6765 272c 2027 7664 6463  _f_range', 'vddc
-00002fc0: 5f72 616e 6765 272c 2027 706f 7765 725f  _range', 'power_
-00002fd0: 6470 6d5f 666f 7263 6527 2c0a 2020 2020  dpm_force',.    
-00002fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003000: 2020 2020 2020 2027 7465 6d70 5f63 7269         'temp_cri
-00003010: 7473 272c 2027 766f 6c74 6167 6573 272c  ts', 'voltages',
-00003020: 2027 7664 6467 6678 5f6f 6666 7365 7427   'vddgfx_offset'
-00003030: 7d0a 0a20 2020 2023 2047 5055 2073 656e  }..    # GPU sen
-00003040: 736f 7220 7265 6164 696e 6720 6465 7461  sor reading deta
-00003050: 696c 730a 2020 2020 7365 6e73 6f72 5f73  ils.    sensor_s
-00003060: 6574 7320 3d20 7b53 656e 736f 7253 6574  ets = {SensorSet
-00003070: 2e53 7461 7469 633a 2020 2020 2020 207b  .Static:       {
-00003080: 2748 574d 4f4e 273a 2020 5b27 706f 7765  'HWMON':  ['powe
-00003090: 725f 6361 705f 7261 6e67 6527 2c20 2774  r_cap_range', 't
-000030a0: 656d 705f 6372 6974 7327 2c0a 2020 2020  emp_crits',.    
-000030b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030e0: 2020 2027 6661 6e5f 7370 6565 645f 7261     'fan_speed_ra
-000030f0: 6e67 6527 2c20 2766 616e 5f70 776d 5f72  nge', 'fan_pwm_r
-00003100: 616e 6765 275d 7d2c 0a20 2020 2020 2020  ange']},.       
-00003110: 2020 2020 2020 2020 2020 2020 5365 6e73              Sens
-00003120: 6f72 5365 742e 4479 6e61 6d69 633a 2020  orSet.Dynamic:  
-00003130: 2020 2020 7b27 4857 4d4f 4e27 3a20 205b      {'HWMON':  [
-00003140: 2770 6f77 6572 272c 2027 706f 7765 725f  'power', 'power_
-00003150: 6361 7027 2c20 2774 656d 7065 7261 7475  cap', 'temperatu
-00003160: 7265 7327 2c20 2776 6f6c 7461 6765 7327  res', 'voltages'
-00003170: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00003180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031a0: 2020 2020 2020 2020 2027 6672 6571 7565           'freque
-000031b0: 6e63 6965 7327 2c20 2766 616e 5f65 6e61  ncies', 'fan_ena
-000031c0: 626c 6527 2c20 2766 616e 5f74 6172 6765  ble', 'fan_targe
-000031d0: 7427 2c0a 2020 2020 2020 2020 2020 2020  t',.            
+00001140: 2020 2020 2027 706f 7765 7227 2c20 2770       'power', 'p
+00001150: 6f77 6572 5f63 6170 272c 2027 656e 6572  ower_cap', 'ener
+00001160: 6779 272c 2027 7465 6d70 5f76 616c 272c  gy', 'temp_val',
+00001170: 2027 7664 6467 6678 5f76 616c 272c 0a20   'vddgfx_val',. 
+00001180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000011a0: 2020 2766 616e 5f70 776d 272c 2027 7363    'fan_pwm', 'sc
+000011b0: 6c6b 5f66 5f76 616c 272c 2027 7363 6c6b  lk_f_val', 'sclk
+000011c0: 5f70 735f 7661 6c27 2c20 276d 636c 6b5f  _ps_val', 'mclk_
+000011d0: 665f 7661 6c27 2c20 276d 636c 6b5f 7073  f_val', 'mclk_ps
+000011e0: 5f76 616c 272c 2027 7070 6d27 5d0a 2020  _val', 'ppm'].  
+000011f0: 2020 7368 6f72 745f 7461 626c 655f 7061    short_table_pa
+00001200: 7261 6d65 7465 7273 3a20 4c69 7374 5b73  rameters: List[s
+00001210: 7472 5d20 3d20 5b27 6d6f 6465 6c5f 6469  tr] = ['model_di
+00001220: 7370 6c61 7927 2c20 2770 6f77 6572 272c  splay', 'power',
+00001230: 2027 656e 6572 6779 272c 2027 7465 6d70   'energy', 'temp
+00001240: 5f76 616c 272c 2027 7664 6467 6678 5f76  _val', 'vddgfx_v
+00001250: 616c 272c 0a20 2020 2020 2020 2020 2020  al',.           
+00001260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001270: 2020 2020 2020 2020 2020 2020 2020 2773                's
+00001280: 636c 6b5f 665f 7661 6c27 2c20 2773 636c  clk_f_val', 'scl
+00001290: 6b5f 7073 5f76 616c 272c 2027 6d63 6c6b  k_ps_val', 'mclk
+000012a0: 5f66 5f76 616c 272c 2027 6d63 6c6b 5f70  _f_val', 'mclk_p
+000012b0: 735f 7661 6c27 2c20 2770 706d 275d 0a20  s_val', 'ppm']. 
+000012c0: 2020 2074 6162 6c65 5f70 6172 616d 5f6c     table_param_l
+000012d0: 6162 656c 733a 2044 6963 745b 7374 722c  abels: Dict[str,
+000012e0: 2073 7472 5d20 3d20 7b0a 2020 2020 2020   str] = {.      
+000012f0: 2020 276d 6f64 656c 5f64 6973 706c 6179    'model_display
+00001300: 273a 2020 274d 6f64 656c 272c 0a20 2020  ':  'Model',.   
+00001310: 2020 2020 2027 6c6f 6164 696e 6727 3a20       'loading': 
+00001320: 2020 2020 2020 2027 4750 5520 4c6f 6164         'GPU Load
+00001330: 2025 272c 0a20 2020 2020 2020 2027 6d65   %',.        'me
+00001340: 6d5f 6c6f 6164 696e 6727 3a20 2020 2027  m_loading':    '
+00001350: 4d65 6d20 4c6f 6164 2025 272c 0a20 2020  Mem Load %',.   
+00001360: 2020 2020 2027 6d65 6d5f 7672 616d 5f75       'mem_vram_u
+00001370: 7361 6765 273a 2027 5652 414d 2055 7361  sage': 'VRAM Usa
+00001380: 6765 2025 272c 0a20 2020 2020 2020 2027  ge %',.        '
+00001390: 6d65 6d5f 6774 745f 7573 6167 6527 3a20  mem_gtt_usage': 
+000013a0: 2027 4754 5420 5573 6167 6520 2527 2c0a   'GTT Usage %',.
+000013b0: 2020 2020 2020 2020 2770 6f77 6572 273a          'power':
+000013c0: 2020 2020 2020 2020 2020 2750 6f77 6572            'Power
+000013d0: 2028 5729 272c 0a20 2020 2020 2020 2027   (W)',.        '
+000013e0: 706f 7765 725f 6361 7027 3a20 2020 2020  power_cap':     
+000013f0: 2027 506f 7765 7220 4361 7020 2857 2927   'Power Cap (W)'
+00001400: 2c0a 2020 2020 2020 2020 2765 6e65 7267  ,.        'energ
+00001410: 7927 3a20 2020 2020 2020 2020 2745 6e65  y':         'Ene
+00001420: 7267 7920 286b 5768 2927 2c0a 2020 2020  rgy (kWh)',.    
+00001430: 2020 2020 2774 656d 705f 7661 6c27 3a20      'temp_val': 
+00001440: 2020 2020 2020 2754 2028 4329 272c 0a20        'T (C)',. 
+00001450: 2020 2020 2020 2027 7664 6467 6678 5f76         'vddgfx_v
+00001460: 616c 273a 2020 2020 2027 5664 6447 4658  al':     'VddGFX
+00001470: 2028 6d56 2927 2c0a 2020 2020 2020 2020   (mV)',.        
+00001480: 2766 616e 5f70 776d 273a 2020 2020 2020  'fan_pwm':      
+00001490: 2020 2746 616e 2053 7064 2028 2529 272c    'Fan Spd (%)',
+000014a0: 0a20 2020 2020 2020 2027 7363 6c6b 5f66  .        'sclk_f
+000014b0: 5f76 616c 273a 2020 2020 2027 5363 6c6b  _val':     'Sclk
+000014c0: 2028 4d48 7a29 272c 0a20 2020 2020 2020   (MHz)',.       
+000014d0: 2027 7363 6c6b 5f70 735f 7661 6c27 3a20   'sclk_ps_val': 
+000014e0: 2020 2027 5363 6c6b 2050 7374 6174 6527     'Sclk Pstate'
+000014f0: 2c0a 2020 2020 2020 2020 276d 636c 6b5f  ,.        'mclk_
+00001500: 665f 7661 6c27 3a20 2020 2020 274d 636c  f_val':     'Mcl
+00001510: 6b20 284d 487a 2927 2c0a 2020 2020 2020  k (MHz)',.      
+00001520: 2020 276d 636c 6b5f 7073 5f76 616c 273a    'mclk_ps_val':
+00001530: 2020 2020 274d 636c 6b20 5073 7461 7465      'Mclk Pstate
+00001540: 272c 0a20 2020 2020 2020 2027 7070 6d27  ',.        'ppm'
+00001550: 3a20 2020 2020 2020 2020 2020 2027 5065  :            'Pe
+00001560: 7266 204d 6f64 6527 7d0a 0a20 2020 2023  rf Mode'}..    #
+00001570: 2043 6f6d 706c 6574 6520 4750 5520 7072   Complete GPU pr
+00001580: 696e 7420 6974 656d 732c 2075 7365 2073  int items, use s
+00001590: 6b69 7020 6c69 7374 7320 7768 6572 6520  kip lists where 
+000015a0: 6170 7072 6f70 7269 6174 652e 0a20 2020  appropriate..   
+000015b0: 205f 4750 555f 434c 494e 464f 5f4c 6162   _GPU_CLINFO_Lab
+000015c0: 656c 733a 2044 6963 745b 7374 722c 2073  els: Dict[str, s
+000015d0: 7472 5d20 3d20 7b0a 2020 2020 2020 2020  tr] = {.        
+000015e0: 276f 7065 6e63 6c5f 7665 7273 696f 6e27  'opencl_version'
+000015f0: 3a20 2020 2020 2720 2020 4465 7669 6365  :     '   Device
+00001600: 204f 7065 6e43 4c20 4320 5665 7273 696f   OpenCL C Versio
+00001610: 6e27 2c0a 2020 2020 2020 2020 2764 6576  n',.        'dev
+00001620: 6963 655f 6e61 6d65 273a 2020 2020 2020  ice_name':      
+00001630: 2020 2720 2020 4465 7669 6365 204e 616d    '   Device Nam
+00001640: 6527 2c0a 2020 2020 2020 2020 2764 6576  e',.        'dev
+00001650: 6963 655f 7665 7273 696f 6e27 3a20 2020  ice_version':   
+00001660: 2020 2720 2020 4465 7669 6365 2056 6572    '   Device Ver
+00001670: 7369 6f6e 272c 0a20 2020 2020 2020 2027  sion',.        '
+00001680: 6472 6976 6572 5f76 6572 7369 6f6e 273a  driver_version':
+00001690: 2020 2020 2027 2020 2044 7269 7665 7220       '   Driver 
+000016a0: 5665 7273 696f 6e27 2c0a 2020 2020 2020  Version',.      
+000016b0: 2020 276d 6178 5f63 7527 3a20 2020 2020    'max_cu':     
+000016c0: 2020 2020 2020 2020 2720 2020 4d61 7820          '   Max 
+000016d0: 436f 6d70 7574 6520 556e 6974 7327 2c0a  Compute Units',.
+000016e0: 2020 2020 2020 2020 2773 696d 645f 7065          'simd_pe
+000016f0: 725f 6375 273a 2020 2020 2020 2020 2720  r_cu':        ' 
+00001700: 2020 5349 4d44 2070 6572 2043 5527 2c0a    SIMD per CU',.
+00001710: 2020 2020 2020 2020 2773 696d 645f 7769          'simd_wi
+00001720: 6474 6827 3a20 2020 2020 2020 2020 2720  dth':         ' 
+00001730: 2020 5349 4d44 2057 6964 7468 272c 0a20    SIMD Width',. 
+00001740: 2020 2020 2020 2027 7369 6d64 5f69 6e73         'simd_ins
+00001750: 5f77 6964 7468 273a 2020 2020 2027 2020  _width':     '  
+00001760: 2053 494d 4420 496e 7374 7275 6374 696f   SIMD Instructio
+00001770: 6e20 5769 6474 6827 2c0a 2020 2020 2020  n Width',.      
+00001780: 2020 276d 6178 5f6d 656d 5f61 6c6c 6f63    'max_mem_alloc
+00001790: 6174 696f 6e27 3a20 2720 2020 434c 204d  ation': '   CL M
+000017a0: 6178 204d 656d 6f72 7920 416c 6c6f 6361  ax Memory Alloca
+000017b0: 7469 6f6e 272c 0a20 2020 2020 2020 2027  tion',.        '
+000017c0: 6d61 785f 7769 5f64 696d 273a 2020 2020  max_wi_dim':    
+000017d0: 2020 2020 2027 2020 204d 6178 2057 6f72       '   Max Wor
+000017e0: 6b20 4974 656d 2044 696d 656e 7369 6f6e  k Item Dimension
+000017f0: 7327 2c0a 2020 2020 2020 2020 276d 6178  s',.        'max
+00001800: 5f77 695f 7369 7a65 7327 3a20 2020 2020  _wi_sizes':     
+00001810: 2020 2720 2020 4d61 7820 576f 726b 2049    '   Max Work I
+00001820: 7465 6d20 5369 7a65 7327 2c0a 2020 2020  tem Sizes',.    
+00001830: 2020 2020 276d 6178 5f77 675f 7369 7a65      'max_wg_size
+00001840: 273a 2020 2020 2020 2020 2720 2020 4d61  ':        '   Ma
+00001850: 7820 576f 726b 2047 726f 7570 2053 697a  x Work Group Siz
+00001860: 6527 2c0a 2020 2020 2020 2020 2770 7266  e',.        'prf
+00001870: 5f77 675f 7369 7a65 273a 2020 2020 2020  _wg_size':      
+00001880: 2020 2720 2020 5072 6566 6572 7265 6420    '   Preferred 
+00001890: 576f 726b 2047 726f 7570 2053 697a 6527  Work Group Size'
+000018a0: 2c0a 2020 2020 2020 2020 2770 7266 5f77  ,.        'prf_w
+000018b0: 675f 6d75 6c74 6970 6c65 273a 2020 2020  g_multiple':    
+000018c0: 2720 2020 5072 6566 6572 7265 6420 576f  '   Preferred Wo
+000018d0: 726b 2047 726f 7570 204d 756c 7469 706c  rk Group Multipl
+000018e0: 6527 7d0a 2020 2020 5f47 5055 5f50 6172  e'}.    _GPU_Par
+000018f0: 616d 5f4c 6162 656c 733a 2044 6963 745b  am_Labels: Dict[
+00001900: 7374 722c 2073 7472 5d20 3d20 7b0a 2020  str, str] = {.  
+00001910: 2020 2020 2020 2763 6172 645f 6e75 6d27        'card_num'
+00001920: 3a20 2020 2020 2020 2020 2020 2027 4361  :            'Ca
+00001930: 7264 204e 756d 6265 7227 2c0a 2020 2020  rd Number',.    
+00001940: 2020 2020 2776 656e 646f 7227 3a20 2020      'vendor':   
+00001950: 2020 2020 2020 2020 2020 2027 5665 6e64             'Vend
+00001960: 6f72 272c 0a20 2020 2020 2020 2027 7070  or',.        'pp
+00001970: 5f66 6561 7475 7265 7327 3a20 2020 2020  _features':     
+00001980: 2020 2020 2750 5020 4665 6174 7572 6573      'PP Features
+00001990: 272c 0a20 2020 2020 2020 2027 7265 6164  ',.        'read
+000019a0: 6162 6c65 273a 2020 2020 2020 2020 2020  able':          
+000019b0: 2020 2752 6561 6461 626c 6527 2c0a 2020    'Readable',.  
+000019c0: 2020 2020 2020 2777 7269 7461 626c 6527        'writable'
+000019d0: 3a20 2020 2020 2020 2020 2020 2027 5772  :            'Wr
+000019e0: 6974 6162 6c65 272c 0a20 2020 2020 2020  itable',.       
+000019f0: 2027 636f 6d70 7574 6527 3a20 2020 2020   'compute':     
+00001a00: 2020 2020 2020 2020 2743 6f6d 7075 7465          'Compute
+00001a10: 272c 0a20 2020 2020 2020 2027 756e 6971  ',.        'uniq
+00001a20: 7565 5f69 6427 3a20 2020 2020 2020 2020  ue_id':         
+00001a30: 2020 2747 5055 2055 4944 272c 0a20 2020    'GPU UID',.   
+00001a40: 2020 2020 2027 7365 7269 616c 5f6e 756d       'serial_num
+00001a50: 6265 7227 3a20 2020 2020 2020 2747 5055  ber':       'GPU
+00001a60: 2053 2f4e 272c 0a20 2020 2020 2020 2027   S/N',.        '
+00001a70: 6964 273a 2020 2020 2020 2020 2020 2020  id':            
+00001a80: 2020 2020 2020 2744 6576 6963 6520 4944        'Device ID
+00001a90: 272c 0a20 2020 2020 2020 2027 6d6f 6465  ',.        'mode
+00001aa0: 6c5f 6465 7669 6365 5f64 6563 6f64 6527  l_device_decode'
+00001ab0: 3a20 2744 6563 6f64 6564 2044 6576 6963  : 'Decoded Devic
+00001ac0: 6520 4944 272c 0a20 2020 2020 2020 2027  e ID',.        '
+00001ad0: 6d6f 6465 6c27 3a20 2020 2020 2020 2020  model':         
+00001ae0: 2020 2020 2020 2743 6172 6420 4d6f 6465        'Card Mode
+00001af0: 6c27 2c0a 2020 2020 2020 2020 276d 6f64  l',.        'mod
+00001b00: 656c 5f64 6973 706c 6179 273a 2020 2020  el_display':    
+00001b10: 2020 2027 4469 7370 6c61 7920 4361 7264     'Display Card
+00001b20: 204d 6f64 656c 272c 0a20 2020 2020 2020   Model',.       
+00001b30: 2027 6361 7264 5f69 6e64 6578 273a 2020   'card_index':  
+00001b40: 2020 2020 2020 2020 2743 6172 6420 496e          'Card In
+00001b50: 6465 7827 2c0a 2020 2020 2020 2020 2770  dex',.        'p
+00001b60: 6369 655f 6964 273a 2020 2020 2020 2020  cie_id':        
+00001b70: 2020 2020 2027 5043 4965 2049 4427 2c0a       'PCIe ID',.
+00001b80: 2020 2020 2020 2020 276c 696e 6b5f 7370          'link_sp
+00001b90: 6427 3a20 2020 2020 2020 2020 2020 2027  d':            '
+00001ba0: 2020 204c 696e 6b20 5370 6565 6427 2c0a     Link Speed',.
+00001bb0: 2020 2020 2020 2020 276c 696e 6b5f 7774          'link_wt
+00001bc0: 6827 3a20 2020 2020 2020 2020 2020 2027  h':            '
+00001bd0: 2020 204c 696e 6b20 5769 6474 6827 2c0a     Link Width',.
+00001be0: 2020 2020 2020 2020 2773 6570 3127 3a20          'sep1': 
+00001bf0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00001c00: 2327 2c0a 2020 2020 2020 2020 2764 7269  #',.        'dri
+00001c10: 7665 7227 3a20 2020 2020 2020 2020 2020  ver':           
+00001c20: 2020 2027 4472 6976 6572 272c 0a20 2020     'Driver',.   
+00001c30: 2020 2020 2027 7662 696f 7327 3a20 2020       'vbios':   
+00001c40: 2020 2020 2020 2020 2020 2020 2776 4249              'vBI
+00001c50: 4f53 2056 6572 7369 6f6e 272c 0a20 2020  OS Version',.   
+00001c60: 2020 2020 2027 636f 6d70 7574 655f 706c       'compute_pl
+00001c70: 6174 666f 726d 273a 2020 2020 2743 6f6d  atform':    'Com
+00001c80: 7075 7465 2050 6c61 7466 6f72 6d27 2c0a  pute Platform',.
+00001c90: 2020 2020 2020 2020 2763 6f6d 7075 7465          'compute
+00001ca0: 5f6d 6f64 6527 3a20 2020 2020 2020 2027  _mode':        '
+00001cb0: 436f 6d70 7574 6520 4d6f 6465 272c 0a20  Compute Mode',. 
+00001cc0: 2020 2020 2020 2027 6770 755f 7479 7065         'gpu_type
+00001cd0: 273a 2020 2020 2020 2020 2020 2020 2747  ':            'G
+00001ce0: 5055 2054 7970 6527 2c0a 2020 2020 2020  PU Type',.      
+00001cf0: 2020 2768 776d 6f6e 5f70 6174 6827 3a20    'hwmon_path': 
+00001d00: 2020 2020 2020 2020 2027 4857 6d6f 6e27           'HWmon'
+00001d10: 2c0a 2020 2020 2020 2020 2763 6172 645f  ,.        'card_
+00001d20: 7061 7468 273a 2020 2020 2020 2020 2020  path':          
+00001d30: 2027 4361 7264 2050 6174 6827 2c0a 2020   'Card Path',.  
+00001d40: 2020 2020 2020 2773 7973 5f63 6172 645f        'sys_card_
+00001d50: 7061 7468 273a 2020 2020 2020 2027 5379  path':       'Sy
+00001d60: 7374 656d 2043 6172 6420 5061 7468 272c  stem Card Path',
+00001d70: 0a20 2020 2020 2020 2027 7365 7032 273a  .        'sep2':
+00001d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d90: 2723 272c 0a20 2020 2020 2020 2027 706f  '#',.        'po
+00001da0: 7765 7227 3a20 2020 2020 2020 2020 2020  wer':           
+00001db0: 2020 2020 2743 7572 7265 6e74 2050 6f77      'Current Pow
+00001dc0: 6572 2028 5729 272c 0a20 2020 2020 2020  er (W)',.       
+00001dd0: 2027 706f 7765 725f 6361 7027 3a20 2020   'power_cap':   
+00001de0: 2020 2020 2020 2020 2750 6f77 6572 2043          'Power C
+00001df0: 6170 2028 5729 272c 0a20 2020 2020 2020  ap (W)',.       
+00001e00: 2027 706f 7765 725f 6361 705f 7261 6e67   'power_cap_rang
+00001e10: 6527 3a20 2020 2020 2720 2020 506f 7765  e':     '   Powe
+00001e20: 7220 4361 7020 5261 6e67 6520 2857 2927  r Cap Range (W)'
+00001e30: 2c0a 2020 2020 2020 2020 2766 616e 5f65  ,.        'fan_e
+00001e40: 6e61 626c 6527 3a20 2020 2020 2020 2020  nable':         
+00001e50: 2027 4661 6e20 456e 6162 6c65 272c 0a20   'Fan Enable',. 
+00001e60: 2020 2020 2020 2027 7077 6d5f 6d6f 6465         'pwm_mode
+00001e70: 273a 2020 2020 2020 2020 2020 2020 2746  ':            'F
+00001e80: 616e 2050 574d 204d 6f64 6527 2c0a 2020  an PWM Mode',.  
+00001e90: 2020 2020 2020 2766 616e 5f74 6172 6765        'fan_targe
+00001ea0: 7427 3a20 2020 2020 2020 2020 2027 4661  t':          'Fa
+00001eb0: 6e20 5461 7267 6574 2053 7065 6564 2028  n Target Speed (
+00001ec0: 7270 6d29 272c 0a20 2020 2020 2020 2027  rpm)',.        '
+00001ed0: 6661 6e5f 7370 6565 6427 3a20 2020 2020  fan_speed':     
+00001ee0: 2020 2020 2020 2743 7572 7265 6e74 2046        'Current F
+00001ef0: 616e 2053 7065 6564 2028 7270 6d29 272c  an Speed (rpm)',
+00001f00: 0a20 2020 2020 2020 2027 6661 6e5f 7077  .        'fan_pw
+00001f10: 6d27 3a20 2020 2020 2020 2020 2020 2020  m':             
+00001f20: 2743 7572 7265 6e74 2046 616e 2050 574d  'Current Fan PWM
+00001f30: 2028 2529 272c 0a20 2020 2020 2020 2027   (%)',.        '
+00001f40: 6661 6e5f 7370 6565 645f 7261 6e67 6527  fan_speed_range'
+00001f50: 3a20 2020 2020 2720 2020 4661 6e20 5370  :     '   Fan Sp
+00001f60: 6565 6420 5261 6e67 6520 2872 706d 2927  eed Range (rpm)'
+00001f70: 2c0a 2020 2020 2020 2020 2766 616e 5f70  ,.        'fan_p
+00001f80: 776d 5f72 616e 6765 273a 2020 2020 2020  wm_range':      
+00001f90: 2027 2020 2046 616e 2050 574d 2052 616e   '   Fan PWM Ran
+00001fa0: 6765 2028 2529 272c 0a20 2020 2020 2020  ge (%)',.       
+00001fb0: 2027 7365 7033 273a 2020 2020 2020 2020   'sep3':        
+00001fc0: 2020 2020 2020 2020 2723 272c 0a20 2020          '#',.   
+00001fd0: 2020 2020 2027 6c6f 6164 696e 6727 3a20       'loading': 
+00001fe0: 2020 2020 2020 2020 2020 2020 2743 7572              'Cur
+00001ff0: 7265 6e74 2047 5055 204c 6f61 6469 6e67  rent GPU Loading
+00002000: 2028 2529 272c 0a20 2020 2020 2020 2027   (%)',.        '
+00002010: 6d65 6d5f 6c6f 6164 696e 6727 3a20 2020  mem_loading':   
+00002020: 2020 2020 2020 2743 7572 7265 6e74 204d        'Current M
+00002030: 656d 6f72 7920 4c6f 6164 696e 6720 2825  emory Loading (%
+00002040: 2927 2c0a 2020 2020 2020 2020 276d 656d  )',.        'mem
+00002050: 5f67 7474 5f75 7361 6765 273a 2020 2020  _gtt_usage':    
+00002060: 2020 2027 4375 7272 656e 7420 4754 5420     'Current GTT 
+00002070: 4d65 6d6f 7279 2055 7361 6765 2028 2529  Memory Usage (%)
+00002080: 272c 0a20 2020 2020 2020 2027 6d65 6d5f  ',.        'mem_
+00002090: 6774 745f 7573 6564 273a 2020 2020 2020  gtt_used':      
+000020a0: 2020 2720 2020 4375 7272 656e 7420 4754    '   Current GT
+000020b0: 5420 4d65 6d6f 7279 2055 7365 6420 2847  T Memory Used (G
+000020c0: 4229 272c 0a20 2020 2020 2020 2027 6d65  B)',.        'me
+000020d0: 6d5f 6774 745f 746f 7461 6c27 3a20 2020  m_gtt_total':   
+000020e0: 2020 2020 2720 2020 546f 7461 6c20 4754      '   Total GT
+000020f0: 5420 4d65 6d6f 7279 2028 4742 2927 2c0a  T Memory (GB)',.
+00002100: 2020 2020 2020 2020 276d 656d 5f76 7261          'mem_vra
+00002110: 6d5f 7573 6167 6527 3a20 2020 2020 2027  m_usage':      '
+00002120: 4375 7272 656e 7420 5652 414d 2055 7361  Current VRAM Usa
+00002130: 6765 2028 2529 272c 0a20 2020 2020 2020  ge (%)',.       
+00002140: 2027 6d65 6d5f 7672 616d 5f75 7365 6427   'mem_vram_used'
+00002150: 3a20 2020 2020 2020 2720 2020 4375 7272  :       '   Curr
+00002160: 656e 7420 5652 414d 2055 7365 6420 2847  ent VRAM Used (G
+00002170: 4229 272c 0a20 2020 2020 2020 2027 6d65  B)',.        'me
+00002180: 6d5f 7672 616d 5f74 6f74 616c 273a 2020  m_vram_total':  
+00002190: 2020 2020 2720 2020 546f 7461 6c20 5652      '   Total VR
+000021a0: 414d 2028 4742 2927 2c0a 2020 2020 2020  AM (GB)',.      
+000021b0: 2020 2774 656d 7065 7261 7475 7265 7327    'temperatures'
+000021c0: 3a20 2020 2020 2020 2027 4375 7272 656e  :        'Curren
+000021d0: 7420 2054 656d 7073 2028 4329 272c 0a20  t  Temps (C)',. 
+000021e0: 2020 2020 2020 2027 7465 6d70 5f63 7269         'temp_cri
+000021f0: 7473 273a 2020 2020 2020 2020 2020 2743  ts':          'C
+00002200: 7269 7469 6361 6c20 5465 6d70 7320 2843  ritical Temps (C
+00002210: 2927 2c0a 2020 2020 2020 2020 2776 6f6c  )',.        'vol
+00002220: 7461 6765 7327 3a20 2020 2020 2020 2020  tages':         
+00002230: 2020 2027 4375 7272 656e 7420 566f 6c74     'Current Volt
+00002240: 6167 6573 2028 5629 272c 0a20 2020 2020  ages (V)',.     
+00002250: 2020 2027 7664 6463 5f72 616e 6765 273a     'vddc_range':
+00002260: 2020 2020 2020 2020 2020 2720 2020 5664            '   Vd
+00002270: 6463 2052 616e 6765 272c 0a20 2020 2020  dc Range',.     
+00002280: 2020 2027 7664 6467 6678 5f6f 6666 7365     'vddgfx_offse
+00002290: 7427 3a20 2020 2020 2020 2720 2020 5664  t':       '   Vd
+000022a0: 6467 6678 204f 6666 7365 7420 286d 5629  dgfx Offset (mV)
+000022b0: 272c 0a20 2020 2020 2020 2027 7664 6467  ',.        'vddg
+000022c0: 6678 5f6f 6666 7365 745f 7261 6e67 6527  fx_offset_range'
+000022d0: 3a20 2720 2020 5664 6467 6678 204f 6666  : '   Vddgfx Off
+000022e0: 7365 7420 5261 6e67 6520 286d 5629 272c  set Range (mV)',
+000022f0: 0a20 2020 2020 2020 2027 6672 6571 7565  .        'freque
+00002300: 6e63 6965 7327 3a20 2020 2020 2020 2020  ncies':         
+00002310: 2743 7572 7265 6e74 2043 6c6b 2046 7265  'Current Clk Fre
+00002320: 7175 656e 6369 6573 2028 4d48 7a29 272c  quencies (MHz)',
+00002330: 0a20 2020 2020 2020 2027 6672 6571 7565  .        'freque
+00002340: 6e63 6965 735f 6d61 7827 3a20 2020 2020  ncies_max':     
+00002350: 274d 6178 696d 756d 2043 6c6b 2046 7265  'Maximum Clk Fre
+00002360: 7175 656e 6369 6573 2028 4d48 7a29 272c  quencies (MHz)',
+00002370: 0a20 2020 2020 2020 2027 7363 6c6b 5f70  .        'sclk_p
+00002380: 7327 3a20 2020 2020 2020 2020 2020 2020  s':             
+00002390: 2743 7572 7265 6e74 2053 434c 4b20 502d  'Current SCLK P-
+000023a0: 5374 6174 6527 2c0a 2020 2020 2020 2020  State',.        
+000023b0: 2773 636c 6b5f 665f 7261 6e67 6527 3a20  'sclk_f_range': 
+000023c0: 2020 2020 2020 2027 2020 2053 434c 4b20         '   SCLK 
+000023d0: 5261 6e67 6527 2c0a 2020 2020 2020 2020  Range',.        
+000023e0: 276d 636c 6b5f 7073 273a 2020 2020 2020  'mclk_ps':      
+000023f0: 2020 2020 2020 2027 4375 7272 656e 7420         'Current 
+00002400: 4d43 4c4b 2050 2d53 7461 7465 272c 0a20  MCLK P-State',. 
+00002410: 2020 2020 2020 2027 6d63 6c6b 5f66 5f72         'mclk_f_r
+00002420: 616e 6765 273a 2020 2020 2020 2020 2720  ange':        ' 
+00002430: 2020 4d43 4c4b 2052 616e 6765 272c 0a20    MCLK Range',. 
+00002440: 2020 2020 2020 2027 7070 6d27 3a20 2020         'ppm':   
+00002450: 2020 2020 2020 2020 2020 2020 2020 2750                'P
+00002460: 6f77 6572 2050 726f 6669 6c65 204d 6f64  ower Profile Mod
+00002470: 6527 2c0a 2020 2020 2020 2020 2770 6f77  e',.        'pow
+00002480: 6572 5f64 706d 5f73 7461 7465 273a 2020  er_dpm_state':  
+00002490: 2020 2027 506f 7765 7220 4450 4d20 5374     'Power DPM St
+000024a0: 6174 6527 2c0a 2020 2020 2020 2020 2770  ate',.        'p
+000024b0: 6f77 6572 5f64 706d 5f66 6f72 6365 273a  ower_dpm_force':
+000024c0: 2020 2020 2027 506f 7765 7220 4450 4d20       'Power DPM 
+000024d0: 466f 7263 6520 5065 7266 6f72 6d61 6e63  Force Performanc
+000024e0: 6520 4c65 7665 6c27 7d0a 0a20 2020 2023  e Level'}..    #
+000024f0: 2053 6b69 7020 6c69 7374 2069 6e69 7469   Skip list initi
+00002500: 616c 697a 6174 696f 6e0a 2020 2020 5f75  alization.    _u
+00002510: 6e73 7570 706f 7274 6564 5f73 6b69 705f  nsupported_skip_
+00002520: 6c69 7374 3a20 5365 7420 3d20 7365 7428  list: Set = set(
+00002530: 5f47 5055 5f50 6172 616d 5f4c 6162 656c  _GPU_Param_Label
+00002540: 7329 202d 2047 5055 5f4e 435f 5061 7261  s) - GPU_NC_Para
+00002550: 6d5f 4c69 7374 0a20 2020 2023 2041 4d44  m_List.    # AMD
+00002560: 2054 7970 6520 736b 6970 206c 6973 7473   Type skip lists
+00002570: 2e0a 2020 2020 616d 645f 7479 7065 5f73  ..    amd_type_s
+00002580: 6b69 705f 6c69 7374 733a 2044 6963 745b  kip_lists: Dict[
+00002590: 4770 7554 7970 652c 2053 6574 5d20 3d20  GpuType, Set] = 
+000025a0: 7b7d 0a20 2020 2066 6f72 2061 6d64 5f67  {}.    for amd_g
+000025b0: 7075 5f74 7970 6520 696e 2047 7075 5479  pu_type in GpuTy
+000025c0: 7065 3a0a 2020 2020 2020 2020 616d 645f  pe:.        amd_
+000025d0: 7479 7065 5f73 6b69 705f 6c69 7374 732e  type_skip_lists.
+000025e0: 7570 6461 7465 287b 616d 645f 6770 755f  update({amd_gpu_
+000025f0: 7479 7065 3a20 7365 7428 297d 290a 2020  type: set()}).  
+00002600: 2020 616d 645f 7479 7065 5f73 6b69 705f    amd_type_skip_
+00002610: 6c69 7374 735b 4770 7554 7970 652e 556e  lists[GpuType.Un
+00002620: 6465 6669 6e65 645d 203d 205f 756e 7375  defined] = _unsu
+00002630: 7070 6f72 7465 645f 736b 6970 5f6c 6973  pported_skip_lis
+00002640: 740a 2020 2020 616d 645f 7479 7065 5f73  t.    amd_type_s
+00002650: 6b69 705f 6c69 7374 735b 4770 7554 7970  kip_lists[GpuTyp
+00002660: 652e 556e 7375 7070 6f72 7465 645d 203d  e.Unsupported] =
+00002670: 205f 756e 7375 7070 6f72 7465 645f 736b   _unsupported_sk
+00002680: 6970 5f6c 6973 740a 2020 2020 616d 645f  ip_list.    amd_
+00002690: 7479 7065 5f73 6b69 705f 6c69 7374 735b  type_skip_lists[
+000026a0: 4770 7554 7970 652e 4f66 6673 6574 5d20  GpuType.Offset] 
+000026b0: 3d20 7b27 7664 6463 5f72 616e 6765 277d  = {'vddc_range'}
+000026c0: 0a20 2020 2061 6d64 5f74 7970 655f 736b  .    amd_type_sk
+000026d0: 6970 5f6c 6973 7473 5b47 7075 5479 7065  ip_lists[GpuType
+000026e0: 2e43 7572 7665 5074 735d 203d 207b 2776  .CurvePts] = {'v
+000026f0: 6464 6766 785f 6f66 6673 6574 272c 2027  ddgfx_offset', '
+00002700: 7664 6467 6678 5f6f 6666 7365 745f 7261  vddgfx_offset_ra
+00002710: 6e67 6527 7d0a 2020 2020 616d 645f 7479  nge'}.    amd_ty
+00002720: 7065 5f73 6b69 705f 6c69 7374 735b 4770  pe_skip_lists[Gp
+00002730: 7554 7970 652e 5053 7461 7465 734e 455d  uType.PStatesNE]
+00002740: 203d 207b 2776 6464 635f 7261 6e67 6527   = {'vddc_range'
+00002750: 2c20 2773 636c 6b5f 665f 7261 6e67 6527  , 'sclk_f_range'
+00002760: 2c20 276d 636c 6b5f 665f 7261 6e67 6527  , 'mclk_f_range'
+00002770: 2c20 2776 6464 6766 785f 6f66 6673 6574  , 'vddgfx_offset
+00002780: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00002790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000027b0: 2027 7664 6467 6678 5f6f 6666 7365 745f   'vddgfx_offset_
+000027c0: 7261 6e67 6527 7d0a 2020 2020 616d 645f  range'}.    amd_
+000027d0: 7479 7065 5f73 6b69 705f 6c69 7374 735b  type_skip_lists[
+000027e0: 4770 7554 7970 652e 5053 7461 7465 735d  GpuType.PStates]
+000027f0: 203d 207b 2776 6464 6766 785f 6f66 6673   = {'vddgfx_offs
+00002800: 6574 272c 2027 7664 6467 6678 5f6f 6666  et', 'vddgfx_off
+00002810: 7365 745f 7261 6e67 6527 7d0a 2020 2020  set_range'}.    
+00002820: 616d 645f 7479 7065 5f73 6b69 705f 6c69  amd_type_skip_li
+00002830: 7374 735b 4770 7554 7970 652e 4c65 6761  sts[GpuType.Lega
+00002840: 6379 5d20 3d20 7b27 7662 696f 7327 2c20  cy] = {'vbios', 
+00002850: 276c 6f61 6469 6e67 272c 2027 6d65 6d5f  'loading', 'mem_
+00002860: 6c6f 6164 696e 6727 2c20 2773 636c 6b5f  loading', 'sclk_
+00002870: 7073 272c 2027 6d63 6c6b 5f70 7327 2c20  ps', 'mclk_ps', 
+00002880: 2770 706d 272c 2027 706f 7765 7227 2c0a  'ppm', 'power',.
+00002890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000028b0: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
+000028c0: 725f 6361 7027 2c20 2770 6f77 6572 5f63  r_cap', 'power_c
+000028d0: 6170 5f72 616e 6765 272c 2027 6d65 6d5f  ap_range', 'mem_
+000028e0: 7672 616d 5f74 6f74 616c 272c 2027 6d65  vram_total', 'me
+000028f0: 6d5f 7672 616d 5f75 7365 6427 2c0a 2020  m_vram_used',.  
+00002900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002920: 2020 2020 2020 2020 2027 6d65 6d5f 6774           'mem_gt
+00002930: 745f 746f 7461 6c27 2c20 276d 656d 5f67  t_total', 'mem_g
+00002940: 7474 5f75 7365 6427 2c20 276d 656d 5f76  tt_used', 'mem_v
+00002950: 7261 6d5f 7573 6167 6527 2c20 276d 656d  ram_usage', 'mem
+00002960: 5f67 7474 5f75 7361 6765 272c 0a20 2020  _gtt_usage',.   
+00002970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002990: 2020 2020 2020 2020 2766 616e 5f73 7065          'fan_spe
+000029a0: 6564 5f72 616e 6765 272c 2027 6661 6e5f  ed_range', 'fan_
+000029b0: 656e 6162 6c65 272c 2027 6661 6e5f 7461  enable', 'fan_ta
+000029c0: 7267 6574 272c 2027 6661 6e5f 7370 6565  rget', 'fan_spee
+000029d0: 6427 2c20 2776 6464 635f 7261 6e67 6527  d', 'vddc_range'
+000029e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000029f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a00: 2020 2020 2020 2020 2020 2020 2027 6672               'fr
+00002a10: 6571 7565 6e63 6965 7327 2c20 2773 636c  equencies', 'scl
+00002a20: 6b5f 665f 7261 6e67 6527 2c20 276d 636c  k_f_range', 'mcl
+00002a30: 6b5f 665f 7261 6e67 6527 2c20 2776 6464  k_f_range', 'vdd
+00002a40: 6766 785f 6f66 6673 6574 272c 0a20 2020  gfx_offset',.   
+00002a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002a70: 2020 2020 2020 2020 2776 6464 6766 785f          'vddgfx_
+00002a80: 6f66 6673 6574 5f72 616e 6765 277d 0a20  offset_range'}. 
+00002a90: 2020 2061 6d64 5f74 7970 655f 736b 6970     amd_type_skip
+00002aa0: 5f6c 6973 7473 5b47 7075 5479 7065 2e4c  _lists[GpuType.L
+00002ab0: 6567 6163 7941 5055 5d20 3d20 7b27 756e  egacyAPU] = {'un
+00002ac0: 6971 7565 5f69 6427 2c20 2776 6269 6f73  ique_id', 'vbios
+00002ad0: 272c 2027 6c6f 6164 696e 6727 2c20 2773  ', 'loading', 's
+00002ae0: 636c 6b5f 7073 272c 2027 6d63 6c6b 5f70  clk_ps', 'mclk_p
+00002af0: 7327 2c20 2770 706d 272c 0a20 2020 2020  s', 'ppm',.     
+00002b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b20: 2020 2020 2020 2020 2027 7664 6463 5f72           'vddc_r
+00002b30: 616e 6765 272c 2027 6d65 6d5f 7672 616d  ange', 'mem_vram
+00002b40: 5f74 6f74 616c 272c 2027 6d65 6d5f 6774  _total', 'mem_gt
+00002b50: 745f 746f 7461 6c27 2c20 276d 656d 5f76  t_total', 'mem_v
+00002b60: 7261 6d5f 7573 6564 272c 0a20 2020 2020  ram_used',.     
+00002b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b90: 2020 2020 2020 2020 2027 6d65 6d5f 6774           'mem_gt
+00002ba0: 745f 7573 6564 272c 2027 706f 7765 725f  t_used', 'power_
+00002bb0: 6361 705f 7261 6e67 6527 2c20 2770 6f77  cap_range', 'pow
+00002bc0: 6572 272c 2027 706f 7765 725f 6361 7027  er', 'power_cap'
+00002bd0: 2c20 2776 6464 6766 785f 6f66 6673 6574  , 'vddgfx_offset
+00002be0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00002bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002c10: 2027 7664 6467 6678 5f6f 6666 7365 745f   'vddgfx_offset_
+00002c20: 7261 6e67 6527 2c20 2a5f 6661 6e5f 6974  range', *_fan_it
+00002c30: 656d 5f6c 6973 747d 0a20 2020 2061 6d64  em_list}.    amd
+00002c40: 5f74 7970 655f 736b 6970 5f6c 6973 7473  _type_skip_lists
+00002c50: 5b47 7075 5479 7065 2e41 5055 5d20 3d20  [GpuType.APU] = 
+00002c60: 7b27 756e 6971 7565 5f69 6427 2c20 276c  {'unique_id', 'l
+00002c70: 6f61 6469 6e67 272c 2027 7070 6d27 2c20  oading', 'ppm', 
+00002c80: 2770 776d 5f6d 6f64 6527 2c20 2766 616e  'pwm_mode', 'fan
+00002c90: 5f70 776d 272c 2027 7664 6463 5f72 616e  _pwm', 'vddc_ran
+00002ca0: 6765 272c 0a20 2020 2020 2020 2020 2020  ge',.           
+00002cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002cc0: 2020 2020 2020 2020 2020 2020 2027 706f               'po
+00002cd0: 7765 725f 6361 705f 7261 6e67 6527 2c20  wer_cap_range', 
+00002ce0: 2770 6f77 6572 5f63 6170 272c 2027 7664  'power_cap', 'vd
+00002cf0: 6467 6678 5f6f 6666 7365 7427 2c20 2776  dgfx_offset', 'v
+00002d00: 6464 6766 785f 6f66 6673 6574 5f72 616e  ddgfx_offset_ran
+00002d10: 6765 272c 0a20 2020 2020 2020 2020 2020  ge',.           
+00002d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002d30: 2020 2020 2020 2020 2020 2020 202a 5f66               *_f
+00002d40: 616e 5f69 7465 6d5f 6c69 7374 7d0a 0a20  an_item_list}.. 
+00002d50: 2020 2023 2056 656e 646f 7220 7370 6563     # Vendor spec
+00002d60: 6966 6963 2073 6b69 7020 6c69 7374 732e  ific skip lists.
+00002d70: 0a20 2020 2076 656e 646f 725f 736b 6970  .    vendor_skip
+00002d80: 5f6c 6973 7473 3a20 4469 6374 5b47 7075  _lists: Dict[Gpu
+00002d90: 5665 6e64 6f72 2c20 5365 745d 203d 207b  Vendor, Set] = {
+00002da0: 7d0a 2020 2020 666f 7220 7665 6e64 6f72  }.    for vendor
+00002db0: 2069 6e20 4770 7556 656e 646f 723a 0a20   in GpuVendor:. 
+00002dc0: 2020 2020 2020 2076 656e 646f 725f 736b         vendor_sk
+00002dd0: 6970 5f6c 6973 7473 2e75 7064 6174 6528  ip_lists.update(
+00002de0: 7b76 656e 646f 723a 2073 6574 2829 7d29  {vendor: set()})
+00002df0: 0a20 2020 2076 656e 646f 725f 736b 6970  .    vendor_skip
+00002e00: 5f6c 6973 7473 5b47 7075 5665 6e64 6f72  _lists[GpuVendor
+00002e10: 2e41 5350 4545 445d 203d 205f 756e 7375  .ASPEED] = _unsu
+00002e20: 7070 6f72 7465 645f 736b 6970 5f6c 6973  pported_skip_lis
+00002e30: 740a 2020 2020 7665 6e64 6f72 5f73 6b69  t.    vendor_ski
+00002e40: 705f 6c69 7374 735b 4770 7556 656e 646f  p_lists[GpuVendo
+00002e50: 722e 4d41 5452 4f58 5d20 3d20 5f75 6e73  r.MATROX] = _uns
+00002e60: 7570 706f 7274 6564 5f73 6b69 705f 6c69  upported_skip_li
+00002e70: 7374 0a20 2020 2076 656e 646f 725f 736b  st.    vendor_sk
+00002e80: 6970 5f6c 6973 7473 5b47 7075 5665 6e64  ip_lists[GpuVend
+00002e90: 6f72 2e41 4d44 5d20 3d20 7b27 6672 6571  or.AMD] = {'freq
+00002ea0: 7565 6e63 6965 735f 6d61 7827 2c20 2763  uencies_max', 'c
+00002eb0: 6f6d 7075 7465 5f6d 6f64 6527 2c20 2773  ompute_mode', 's
+00002ec0: 6572 6961 6c5f 6e75 6d62 6572 272c 2027  erial_number', '
+00002ed0: 6361 7264 5f69 6e64 6578 277d 0a20 2020  card_index'}.   
+00002ee0: 2076 656e 646f 725f 736b 6970 5f6c 6973   vendor_skip_lis
+00002ef0: 7473 5b47 7075 5665 6e64 6f72 2e4e 5649  ts[GpuVendor.NVI
+00002f00: 4449 415d 203d 207b 2766 616e 5f65 6e61  DIA] = {'fan_ena
+00002f10: 626c 6527 2c20 2766 616e 5f73 7065 6564  ble', 'fan_speed
+00002f20: 272c 2027 6661 6e5f 7077 6d5f 7261 6e67  ', 'fan_pwm_rang
+00002f30: 6527 2c20 2766 616e 5f73 7065 6564 5f72  e', 'fan_speed_r
+00002f40: 616e 6765 272c 2027 7077 6d5f 6d6f 6465  ange', 'pwm_mode
+00002f50: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00002f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f70: 2020 2020 2020 2020 2020 2020 2020 276d                'm
+00002f80: 656d 5f67 7474 5f74 6f74 616c 272c 2027  em_gtt_total', '
+00002f90: 6d65 6d5f 6774 745f 7573 6564 272c 2027  mem_gtt_used', '
+00002fa0: 6d65 6d5f 6774 745f 7573 6167 6527 2c20  mem_gtt_usage', 
+00002fb0: 2770 705f 6665 6174 7572 6573 272c 0a20  'pp_features',. 
+00002fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fe0: 2020 2020 2020 2020 2020 276d 636c 6b5f            'mclk_
+00002ff0: 7073 272c 2027 6d63 6c6b 5f66 5f72 616e  ps', 'mclk_f_ran
+00003000: 6765 272c 2027 7363 6c6b 5f66 5f72 616e  ge', 'sclk_f_ran
+00003010: 6765 272c 2027 7664 6463 5f72 616e 6765  ge', 'vddc_range
+00003020: 272c 2027 706f 7765 725f 6470 6d5f 666f  ', 'power_dpm_fo
+00003030: 7263 6527 2c0a 2020 2020 2020 2020 2020  rce',.          
+00003040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003060: 2027 7465 6d70 5f63 7269 7473 272c 2027   'temp_crits', '
+00003070: 766f 6c74 6167 6573 272c 2027 7664 6467  voltages', 'vddg
+00003080: 6678 5f6f 6666 7365 7427 7d0a 0a20 2020  fx_offset'}..   
+00003090: 2023 2047 5055 2073 656e 736f 7220 7265   # GPU sensor re
+000030a0: 6164 696e 6720 6465 7461 696c 730a 2020  ading details.  
+000030b0: 2020 7365 6e73 6f72 5f73 6574 7320 3d20    sensor_sets = 
+000030c0: 7b53 656e 736f 7253 6574 2e53 7461 7469  {SensorSet.Stati
+000030d0: 633a 2020 2020 2020 207b 2748 574d 4f4e  c:       {'HWMON
+000030e0: 273a 2020 5b27 706f 7765 725f 6361 705f  ':  ['power_cap_
+000030f0: 7261 6e67 6527 2c20 2774 656d 705f 6372  range', 'temp_cr
+00003100: 6974 7327 2c0a 2020 2020 2020 2020 2020  its',.          
+00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003130: 2020 2020 2020 2020 2020 2020 2027 6661               'fa
+00003140: 6e5f 7370 6565 645f 7261 6e67 6527 2c20  n_speed_range', 
+00003150: 2766 616e 5f70 776d 5f72 616e 6765 275d  'fan_pwm_range']
+00003160: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+00003170: 2020 2020 2020 5365 6e73 6f72 5365 742e        SensorSet.
+00003180: 4479 6e61 6d69 633a 2020 2020 2020 7b27  Dynamic:      {'
+00003190: 4857 4d4f 4e27 3a20 205b 2770 6f77 6572  HWMON':  ['power
+000031a0: 272c 2027 706f 7765 725f 6361 7027 2c20  ', 'power_cap', 
+000031b0: 2774 656d 7065 7261 7475 7265 7327 2c20  'temperatures', 
+000031c0: 2776 6f6c 7461 6765 7327 2c0a 2020 2020  'voltages',.    
+000031d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000031e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000031f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003200: 2020 2020 2020 2020 2020 2027 6661 6e5f             'fan_
-00003210: 7370 6565 6427 2c20 2770 776d 5f6d 6f64  speed', 'pwm_mod
-00003220: 6527 2c20 2766 616e 5f70 776d 275d 7d2c  e', 'fan_pwm']},
-00003230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003240: 2020 2020 5365 6e73 6f72 5365 742e 496e      SensorSet.In
-00003250: 666f 3a20 2020 2020 2020 2020 7b27 4445  fo:         {'DE
-00003260: 5649 4345 273a 205b 2775 6e69 7175 655f  VICE': ['unique_
-00003270: 6964 272c 2027 7662 696f 7327 2c20 276d  id', 'vbios', 'm
-00003280: 656d 5f76 7261 6d5f 746f 7461 6c27 2c20  em_vram_total', 
-00003290: 276d 656d 5f67 7474 5f74 6f74 616c 275d  'mem_gtt_total']
-000032a0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-000032b0: 2020 2020 2020 5365 6e73 6f72 5365 742e        SensorSet.
-000032c0: 5374 6174 653a 2020 2020 2020 2020 7b27  State:        {'
-000032d0: 4445 5649 4345 273a 205b 276c 6f61 6469  DEVICE': ['loadi
-000032e0: 6e67 272c 2027 6d65 6d5f 6c6f 6164 696e  ng', 'mem_loadin
-000032f0: 6727 2c20 276d 656d 5f67 7474 5f75 7365  g', 'mem_gtt_use
-00003300: 6427 2c20 276d 656d 5f76 7261 6d5f 7573  d', 'mem_vram_us
-00003310: 6564 272c 0a20 2020 2020 2020 2020 2020  ed',.           
-00003320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003340: 2020 2020 2020 2020 2020 2020 276c 696e              'lin
-00003350: 6b5f 7370 6427 2c20 276c 696e 6b5f 7774  k_spd', 'link_wt
-00003360: 6827 2c20 2773 636c 6b5f 7073 272c 2027  h', 'sclk_ps', '
-00003370: 6d63 6c6b 5f70 7327 2c20 2770 706d 272c  mclk_ps', 'ppm',
-00003380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003200: 2020 2027 6672 6571 7565 6e63 6965 7327     'frequencies'
+00003210: 2c20 2766 616e 5f65 6e61 626c 6527 2c20  , 'fan_enable', 
+00003220: 2766 616e 5f74 6172 6765 7427 2c0a 2020  'fan_target',.  
+00003230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003260: 2020 2020 2027 6661 6e5f 7370 6565 6427       'fan_speed'
+00003270: 2c20 2770 776d 5f6d 6f64 6527 2c20 2766  , 'pwm_mode', 'f
+00003280: 616e 5f70 776d 275d 7d2c 0a20 2020 2020  an_pwm']},.     
+00003290: 2020 2020 2020 2020 2020 2020 2020 5365                Se
+000032a0: 6e73 6f72 5365 742e 496e 666f 3a20 2020  nsorSet.Info:   
+000032b0: 2020 2020 2020 7b27 4445 5649 4345 273a        {'DEVICE':
+000032c0: 205b 2775 6e69 7175 655f 6964 272c 2027   ['unique_id', '
+000032d0: 7662 696f 7327 2c20 276d 656d 5f76 7261  vbios', 'mem_vra
+000032e0: 6d5f 746f 7461 6c27 2c20 276d 656d 5f67  m_total', 'mem_g
+000032f0: 7474 5f74 6f74 616c 275d 7d2c 0a20 2020  tt_total']},.   
+00003300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003310: 5365 6e73 6f72 5365 742e 5374 6174 653a  SensorSet.State:
+00003320: 2020 2020 2020 2020 7b27 4445 5649 4345          {'DEVICE
+00003330: 273a 205b 276c 6f61 6469 6e67 272c 2027  ': ['loading', '
+00003340: 6d65 6d5f 6c6f 6164 696e 6727 2c20 276d  mem_loading', 'm
+00003350: 656d 5f67 7474 5f75 7365 6427 2c20 276d  em_gtt_used', 'm
+00003360: 656d 5f76 7261 6d5f 7573 6564 272c 0a20  em_vram_used',. 
+00003370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003380: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000033a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000033b0: 2020 2020 2020 2020 2770 6f77 6572 5f64          'power_d
-000033c0: 706d 5f66 6f72 6365 272c 2027 706f 7765  pm_force', 'powe
-000033d0: 725f 6470 6d5f 7374 6174 6527 5d7d 2c0a  r_dpm_state']},.
+000033a0: 2020 2020 2020 276c 696e 6b5f 7370 6427        'link_spd'
+000033b0: 2c20 276c 696e 6b5f 7774 6827 2c20 2773  , 'link_wth', 's
+000033c0: 636c 6b5f 7073 272c 2027 6d63 6c6b 5f70  clk_ps', 'mclk_p
+000033d0: 7327 2c20 2770 706d 272c 0a20 2020 2020  s', 'ppm',.     
 000033e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000033f0: 2020 2053 656e 736f 7253 6574 2e4d 6f6e     SensorSet.Mon
-00003400: 6974 6f72 3a20 2020 2020 207b 2748 574d  itor:      {'HWM
-00003410: 4f4e 273a 2020 5b27 706f 7765 7227 2c20  ON':  ['power', 
-00003420: 2770 6f77 6572 5f63 6170 272c 2027 7465  'power_cap', 'te
-00003430: 6d70 6572 6174 7572 6573 272c 2027 766f  mperatures', 'vo
-00003440: 6c74 6167 6573 272c 0a20 2020 2020 2020  ltages',.       
-00003450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003480: 2766 7265 7175 656e 6369 6573 272c 2027  'frequencies', '
-00003490: 6661 6e5f 7077 6d27 5d2c 0a20 2020 2020  fan_pwm'],.     
-000034a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003410: 2020 2770 6f77 6572 5f64 706d 5f66 6f72    'power_dpm_for
+00003420: 6365 272c 2027 706f 7765 725f 6470 6d5f  ce', 'power_dpm_
+00003430: 7374 6174 6527 5d7d 2c0a 2020 2020 2020  state']},.      
+00003440: 2020 2020 2020 2020 2020 2020 2053 656e               Sen
+00003450: 736f 7253 6574 2e4d 6f6e 6974 6f72 3a20  sorSet.Monitor: 
+00003460: 2020 2020 207b 2748 574d 4f4e 273a 2020       {'HWMON':  
+00003470: 5b27 706f 7765 7227 2c20 2770 6f77 6572  ['power', 'power
+00003480: 5f63 6170 272c 2027 7465 6d70 6572 6174  _cap', 'temperat
+00003490: 7572 6573 272c 2027 766f 6c74 6167 6573  ures', 'voltages
+000034a0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
 000034b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034c0: 2020 2020 2020 2027 4445 5649 4345 273a         'DEVICE':
-000034d0: 205b 276c 6f61 6469 6e67 272c 2027 6d65   ['loading', 'me
-000034e0: 6d5f 6c6f 6164 696e 6727 2c20 276d 656d  m_loading', 'mem
-000034f0: 5f67 7474 5f75 7365 6427 2c20 276d 656d  _gtt_used', 'mem
-00003500: 5f76 7261 6d5f 7573 6564 272c 0a20 2020  _vram_used',.   
+000034c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000034d0: 2020 2020 2020 2020 2020 2766 7265 7175            'frequ
+000034e0: 656e 6369 6573 272c 2027 6661 6e5f 7077  encies', 'fan_pw
+000034f0: 6d27 5d2c 0a20 2020 2020 2020 2020 2020  m'],.           
+00003500: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003540: 2020 2020 2773 636c 6b5f 7073 272c 2027      'sclk_ps', '
-00003550: 6d63 6c6b 5f70 7327 2c20 2770 706d 275d  mclk_ps', 'ppm']
-00003560: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-00003570: 2020 2020 2020 5365 6e73 6f72 5365 742e        SensorSet.
-00003580: 416c 6c3a 2020 2020 2020 2020 2020 7b27  All:          {'
-00003590: 4445 5649 4345 273a 205b 2775 6e69 7175  DEVICE': ['uniqu
-000035a0: 655f 6964 272c 2027 7662 696f 7327 2c20  e_id', 'vbios', 
-000035b0: 276c 6f61 6469 6e67 272c 2027 6d65 6d5f  'loading', 'mem_
-000035c0: 6c6f 6164 696e 6727 2c0a 2020 2020 2020  loading',.      
-000035d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000035e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000035f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003600: 2027 6c69 6e6b 5f73 7064 272c 2027 6c69   'link_spd', 'li
-00003610: 6e6b 5f77 7468 272c 2027 7363 6c6b 5f70  nk_wth', 'sclk_p
-00003620: 7327 2c20 276d 636c 6b5f 7073 272c 2027  s', 'mclk_ps', '
-00003630: 7073 7461 7465 7327 2c0a 2020 2020 2020  pstates',.      
+00003520: 2027 4445 5649 4345 273a 205b 276c 6f61   'DEVICE': ['loa
+00003530: 6469 6e67 272c 2027 6d65 6d5f 6c6f 6164  ding', 'mem_load
+00003540: 696e 6727 2c20 276d 656d 5f67 7474 5f75  ing', 'mem_gtt_u
+00003550: 7365 6427 2c20 276d 656d 5f76 7261 6d5f  sed', 'mem_vram_
+00003560: 7573 6564 272c 0a20 2020 2020 2020 2020  used',.         
+00003570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003590: 2020 2020 2020 2020 2020 2020 2020 2773                's
+000035a0: 636c 6b5f 7073 272c 2027 6d63 6c6b 5f70  clk_ps', 'mclk_p
+000035b0: 7327 2c20 2770 706d 275d 7d2c 0a20 2020  s', 'ppm']},.   
+000035c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000035d0: 5365 6e73 6f72 5365 742e 416c 6c3a 2020  SensorSet.All:  
+000035e0: 2020 2020 2020 2020 7b27 4445 5649 4345          {'DEVICE
+000035f0: 273a 205b 2775 6e69 7175 655f 6964 272c  ': ['unique_id',
+00003600: 2027 7662 696f 7327 2c20 276c 6f61 6469   'vbios', 'loadi
+00003610: 6e67 272c 2027 6d65 6d5f 6c6f 6164 696e  ng', 'mem_loadin
+00003620: 6727 2c0a 2020 2020 2020 2020 2020 2020  g',.            
+00003630: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003670: 2027 7070 6d27 2c20 2770 6f77 6572 5f64   'ppm', 'power_d
-00003680: 706d 5f66 6f72 6365 272c 2027 706f 7765  pm_force', 'powe
-00003690: 725f 6470 6d5f 7374 6174 6527 2c0a 2020  r_dpm_state',.  
+00003650: 2020 2020 2020 2020 2020 2027 6c69 6e6b             'link
+00003660: 5f73 7064 272c 2027 6c69 6e6b 5f77 7468  _spd', 'link_wth
+00003670: 272c 2027 7363 6c6b 5f70 7327 2c20 276d  ', 'sclk_ps', 'm
+00003680: 636c 6b5f 7073 272c 2027 7073 7461 7465  clk_ps', 'pstate
+00003690: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
 000036a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000036b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000036c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000036d0: 2020 2020 2027 6d65 6d5f 7672 616d 5f74       'mem_vram_t
-000036e0: 6f74 616c 272c 2027 6d65 6d5f 6774 745f  otal', 'mem_gtt_
-000036f0: 746f 7461 6c27 2c0a 2020 2020 2020 2020  total',.        
+000036c0: 2020 2020 2020 2020 2020 2027 7070 6d27             'ppm'
+000036d0: 2c20 2770 6f77 6572 5f64 706d 5f66 6f72  , 'power_dpm_for
+000036e0: 6365 272c 2027 706f 7765 725f 6470 6d5f  ce', 'power_dpm_
+000036f0: 7374 6174 6527 2c0a 2020 2020 2020 2020  state',.        
 00003700: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003710: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003720: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00003730: 6d65 6d5f 7672 616d 5f75 7365 6427 2c20  mem_vram_used', 
-00003740: 276d 656d 5f67 7474 5f75 7365 6427 5d2c  'mem_gtt_used'],
-00003750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003730: 6d65 6d5f 7672 616d 5f74 6f74 616c 272c  mem_vram_total',
+00003740: 2027 6d65 6d5f 6774 745f 746f 7461 6c27   'mem_gtt_total'
+00003750: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00003760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003770: 2020 2020 2020 2020 2020 2020 2027 4857               'HW
-00003780: 4d4f 4e27 3a20 205b 2770 6f77 6572 5f63  MON':  ['power_c
-00003790: 6170 5f72 616e 6765 272c 2027 7465 6d70  ap_range', 'temp
-000037a0: 5f63 7269 7473 272c 2027 706f 7765 7227  _crits', 'power'
-000037b0: 2c20 2770 6f77 6572 5f63 6170 272c 0a20  , 'power_cap',. 
+00003770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003780: 2020 2020 2020 2020 2027 6d65 6d5f 7672           'mem_vr
+00003790: 616d 5f75 7365 6427 2c20 276d 656d 5f67  am_used', 'mem_g
+000037a0: 7474 5f75 7365 6427 5d2c 0a20 2020 2020  tt_used'],.     
+000037b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000037c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000037d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000037e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000037f0: 2020 2020 2020 2774 656d 7065 7261 7475        'temperatu
-00003800: 7265 7327 2c20 2776 6f6c 7461 6765 7327  res', 'voltages'
-00003810: 2c20 2766 7265 7175 656e 6369 6573 272c  , 'frequencies',
-00003820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000037d0: 2020 2020 2020 2027 4857 4d4f 4e27 3a20         'HWMON': 
+000037e0: 205b 2770 6f77 6572 5f63 6170 5f72 616e   ['power_cap_ran
+000037f0: 6765 272c 2027 7465 6d70 5f63 7269 7473  ge', 'temp_crits
+00003800: 272c 2027 706f 7765 7227 2c20 2770 6f77  ', 'power', 'pow
+00003810: 6572 5f63 6170 272c 0a20 2020 2020 2020  er_cap',.       
+00003820: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003830: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003850: 2020 2020 2020 2020 2766 616e 5f73 7065          'fan_spe
-00003860: 6564 5f72 616e 6765 272c 2027 6661 6e5f  ed_range', 'fan_
-00003870: 7077 6d5f 7261 6e67 6527 2c20 2766 616e  pwm_range', 'fan
-00003880: 5f65 6e61 626c 6527 2c20 2766 616e 5f74  _enable', 'fan_t
-00003890: 6172 6765 7427 2c0a 2020 2020 2020 2020  arget',.        
+00003850: 2774 656d 7065 7261 7475 7265 7327 2c20  'temperatures', 
+00003860: 2776 6f6c 7461 6765 7327 2c20 2766 7265  'voltages', 'fre
+00003870: 7175 656e 6369 6573 272c 0a20 2020 2020  quencies',.     
+00003880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003890: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000038a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038c0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000038d0: 6661 6e5f 7370 6565 6427 2c20 2770 776d  fan_speed', 'pwm
-000038e0: 5f6d 6f64 6527 2c20 2766 616e 5f70 776d  _mode', 'fan_pwm
-000038f0: 275d 7d7d 0a0a 2020 2020 5f67 6263 663a  ']}}..    _gbcf:
-00003900: 2066 6c6f 6174 203d 2031 2e30 2f28 3130   float = 1.0/(10
-00003910: 3234 2a31 3032 342a 3130 3234 290a 2020  24*1024*1024).  
-00003920: 2020 5f73 656e 736f 725f 6465 7461 696c    _sensor_detail
-00003930: 7320 3d20 7b47 7075 5665 6e64 6f72 2e41  s = {GpuVendor.A
-00003940: 4d44 3a20 7b0a 2020 2020 2020 2020 2020  MD: {.          
-00003950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003960: 2020 2020 2027 4857 4d4f 4e27 3a20 7b0a       'HWMON': {.
-00003970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003990: 2020 2027 706f 7765 7227 3a20 2020 2020     'power':     
-000039a0: 2020 2020 2020 7b27 7479 7065 273a 2053        {'type': S
-000039b0: 656e 736f 7254 7970 652e 5369 6e67 6c65  ensorType.Single
-000039c0: 5061 7261 6d2c 0a20 2020 2020 2020 2020  Param,.         
+000038b0: 2020 2766 616e 5f73 7065 6564 5f72 616e    'fan_speed_ran
+000038c0: 6765 272c 2027 6661 6e5f 7077 6d5f 7261  ge', 'fan_pwm_ra
+000038d0: 6e67 6527 2c20 2766 616e 5f65 6e61 626c  nge', 'fan_enabl
+000038e0: 6527 2c20 2766 616e 5f74 6172 6765 7427  e', 'fan_target'
+000038f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00003900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003920: 2020 2020 2020 2020 2027 6661 6e5f 7370           'fan_sp
+00003930: 6565 6427 2c20 2770 776d 5f6d 6f64 6527  eed', 'pwm_mode'
+00003940: 2c20 2766 616e 5f70 776d 275d 7d7d 0a0a  , 'fan_pwm']}}..
+00003950: 2020 2020 5f67 6263 663a 2066 6c6f 6174      _gbcf: float
+00003960: 203d 2031 2e30 2f28 3130 3234 2a31 3032   = 1.0/(1024*102
+00003970: 342a 3130 3234 290a 2020 2020 5f73 656e  4*1024).    _sen
+00003980: 736f 725f 6465 7461 696c 7320 3d20 7b47  sor_details = {G
+00003990: 7075 5665 6e64 6f72 2e41 4d44 3a20 7b0a  puVendor.AMD: {.
+000039a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000039b0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000039c0: 4857 4d4f 4e27 3a20 7b0a 2020 2020 2020  HWMON': {.      
 000039d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000039e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000039f0: 2020 2020 2020 2020 2020 2020 2020 2763                'c
-00003a00: 6627 3a20 302e 3030 3030 3031 2c20 2773  f': 0.000001, 's
-00003a10: 656e 736f 7227 3a20 2827 706f 7765 7231  ensor': ('power1
-00003a20: 5f61 7665 7261 6765 272c 2029 7d2c 0a20  _average', )},. 
+000039e0: 2020 2020 2020 2020 2020 2020 2027 706f               'po
+000039f0: 7765 7227 3a20 2020 2020 2020 2020 2020  wer':           
+00003a00: 7b27 7479 7065 273a 2053 656e 736f 7254  {'type': SensorT
+00003a10: 7970 652e 5369 6e67 6c65 5061 7261 6d2c  ype.SingleParam,
+00003a20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00003a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a50: 2020 2770 6f77 6572 5f63 6170 273a 2020    'power_cap':  
-00003a60: 2020 2020 207b 2774 7970 6527 3a20 5365       {'type': Se
-00003a70: 6e73 6f72 5479 7065 2e53 696e 676c 6550  nsorType.SingleP
-00003a80: 6172 616d 2c0a 2020 2020 2020 2020 2020  aram,.          
+00003a50: 2020 2020 2020 2020 2763 6627 3a20 302e          'cf': 0.
+00003a60: 3030 3030 3031 2c20 2773 656e 736f 7227  000001, 'sensor'
+00003a70: 3a20 2827 706f 7765 7231 5f61 7665 7261  : ('power1_avera
+00003a80: 6765 272c 2029 7d2c 0a20 2020 2020 2020  ge', )},.       
 00003a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ab0: 2020 2020 2020 2020 2020 2020 2027 6366               'cf
-00003ac0: 273a 2030 2e30 3030 3030 312c 2027 7365  ': 0.000001, 'se
-00003ad0: 6e73 6f72 273a 2028 2770 6f77 6572 315f  nsor': ('power1_
-00003ae0: 6361 7027 2c20 297d 2c0a 2020 2020 2020  cap', )},.      
+00003aa0: 2020 2020 2020 2020 2020 2020 2770 6f77              'pow
+00003ab0: 6572 5f63 6170 273a 2020 2020 2020 207b  er_cap':       {
+00003ac0: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
+00003ad0: 7065 2e53 696e 676c 6550 6172 616d 2c0a  pe.SingleParam,.
+00003ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b00: 2020 2020 2020 2020 2020 2020 2027 706f               'po
-00003b10: 7765 725f 6361 705f 7261 6e67 6527 3a20  wer_cap_range': 
-00003b20: 7b27 7479 7065 273a 2053 656e 736f 7254  {'type': SensorT
-00003b30: 7970 652e 4d69 6e4d 6178 2c0a 2020 2020  ype.MinMax,.    
-00003b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003b10: 2020 2020 2020 2027 6366 273a 2030 2e30         'cf': 0.0
+00003b20: 3030 3030 312c 2027 7365 6e73 6f72 273a  00001, 'sensor':
+00003b30: 2028 2770 6f77 6572 315f 6361 7027 2c20   ('power1_cap', 
+00003b40: 297d 2c0a 2020 2020 2020 2020 2020 2020  )},.            
 00003b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b70: 2020 2027 6366 273a 2030 2e30 3030 3030     'cf': 0.00000
-00003b80: 312c 2027 7365 6e73 6f72 273a 2028 2770  1, 'sensor': ('p
-00003b90: 6f77 6572 315f 6361 705f 6d69 6e27 2c20  ower1_cap_min', 
-00003ba0: 2770 6f77 6572 315f 6361 705f 6d61 7827  'power1_cap_max'
-00003bb0: 297d 2c0a 2020 2020 2020 2020 2020 2020  )},.            
-00003bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003bd0: 2020 2020 2020 2027 6661 6e5f 656e 6162         'fan_enab
-00003be0: 6c65 273a 2020 2020 2020 7b27 7479 7065  le':      {'type
-00003bf0: 273a 2053 656e 736f 7254 7970 652e 5369  ': SensorType.Si
-00003c00: 6e67 6c65 5061 7261 6d2c 0a20 2020 2020  ngleParam,.     
+00003b60: 2020 2020 2020 2027 706f 7765 725f 6361         'power_ca
+00003b70: 705f 7261 6e67 6527 3a20 7b27 7479 7065  p_range': {'type
+00003b80: 273a 2053 656e 736f 7254 7970 652e 4d69  ': SensorType.Mi
+00003b90: 6e4d 6178 2c0a 2020 2020 2020 2020 2020  nMax,.          
+00003ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003bc0: 2020 2020 2020 2020 2020 2020 2027 6366               'cf
+00003bd0: 273a 2030 2e30 3030 3030 312c 2027 7365  ': 0.000001, 'se
+00003be0: 6e73 6f72 273a 2028 2770 6f77 6572 315f  nsor': ('power1_
+00003bf0: 6361 705f 6d69 6e27 2c20 2770 6f77 6572  cap_min', 'power
+00003c00: 315f 6361 705f 6d61 7827 297d 2c0a 2020  1_cap_max')},.  
 00003c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c40: 2020 2763 6627 3a20 312c 2027 7365 6e73    'cf': 1, 'sens
-00003c50: 6f72 273a 2028 2766 616e 315f 656e 6162  or': ('fan1_enab
-00003c60: 6c65 272c 2029 7d2c 0a20 2020 2020 2020  le', )},.       
+00003c30: 2027 6661 6e5f 656e 6162 6c65 273a 2020   'fan_enable':  
+00003c40: 2020 2020 7b27 7479 7065 273a 2053 656e      {'type': Sen
+00003c50: 736f 7254 7970 652e 5369 6e67 6c65 5061  sorType.SinglePa
+00003c60: 7261 6d2c 0a20 2020 2020 2020 2020 2020  ram,.           
 00003c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c80: 2020 2020 2020 2020 2020 2020 2766 616e              'fan
-00003c90: 5f74 6172 6765 7427 3a20 2020 2020 207b  _target':      {
-00003ca0: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
-00003cb0: 7065 2e53 696e 676c 6550 6172 616d 2c0a  pe.SingleParam,.
-00003cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003c90: 2020 2020 2020 2020 2020 2020 2763 6627              'cf'
+00003ca0: 3a20 312c 2027 7365 6e73 6f72 273a 2028  : 1, 'sensor': (
+00003cb0: 2766 616e 315f 656e 6162 6c65 272c 2029  'fan1_enable', )
+00003cc0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
 00003cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003cf0: 2020 2020 2020 2027 6366 273a 2031 2c20         'cf': 1, 
-00003d00: 2773 656e 736f 7227 3a20 2827 6661 6e31  'sensor': ('fan1
-00003d10: 5f74 6172 6765 7427 2c20 297d 2c0a 2020  _target', )},.  
+00003ce0: 2020 2020 2020 2766 616e 5f74 6172 6765        'fan_targe
+00003cf0: 7427 3a20 2020 2020 207b 2774 7970 6527  t':      {'type'
+00003d00: 3a20 5365 6e73 6f72 5479 7065 2e53 696e  : SensorType.Sin
+00003d10: 676c 6550 6172 616d 2c0a 2020 2020 2020  gleParam,.      
 00003d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d40: 2027 6661 6e5f 7370 6565 6427 3a20 2020   'fan_speed':   
-00003d50: 2020 2020 7b27 7479 7065 273a 2053 656e      {'type': Sen
-00003d60: 736f 7254 7970 652e 5369 6e67 6c65 5061  sorType.SinglePa
-00003d70: 7261 6d2c 0a20 2020 2020 2020 2020 2020  ram,.           
+00003d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003d50: 2027 6366 273a 2031 2c20 2773 656e 736f   'cf': 1, 'senso
+00003d60: 7227 3a20 2827 6661 6e31 5f74 6172 6765  r': ('fan1_targe
+00003d70: 7427 2c20 297d 2c0a 2020 2020 2020 2020  t', )},.        
 00003d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003da0: 2020 2020 2020 2020 2020 2020 2763 6627              'cf'
-00003db0: 3a20 312c 2027 7365 6e73 6f72 273a 2028  : 1, 'sensor': (
-00003dc0: 2766 616e 315f 696e 7075 7427 2c20 297d  'fan1_input', )}
-00003dd0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00003d90: 2020 2020 2020 2020 2020 2027 6661 6e5f             'fan_
+00003da0: 7370 6565 6427 3a20 2020 2020 2020 7b27  speed':       {'
+00003db0: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
+00003dc0: 652e 5369 6e67 6c65 5061 7261 6d2c 0a20  e.SingleParam,. 
+00003dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003df0: 2020 2020 2027 6661 6e5f 7370 6565 645f       'fan_speed_
-00003e00: 7261 6e67 6527 3a20 7b27 7479 7065 273a  range': {'type':
-00003e10: 2053 656e 736f 7254 7970 652e 4d69 6e4d   SensorType.MinM
-00003e20: 6178 2c0a 2020 2020 2020 2020 2020 2020  ax,.            
+00003df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003e00: 2020 2020 2020 2763 6627 3a20 312c 2027        'cf': 1, '
+00003e10: 7365 6e73 6f72 273a 2028 2766 616e 315f  sensor': ('fan1_
+00003e20: 696e 7075 7427 2c20 297d 2c0a 2020 2020  input', )},.    
 00003e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003e50: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
-00003e60: 2031 2c20 2773 656e 736f 7227 3a20 2827   1, 'sensor': ('
-00003e70: 6661 6e31 5f6d 696e 272c 2027 6661 6e31  fan1_min', 'fan1
-00003e80: 5f6d 6178 2729 7d2c 0a20 2020 2020 2020  _max')},.       
+00003e40: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00003e50: 6661 6e5f 7370 6565 645f 7261 6e67 6527  fan_speed_range'
+00003e60: 3a20 7b27 7479 7065 273a 2053 656e 736f  : {'type': Senso
+00003e70: 7254 7970 652e 4d69 6e4d 6178 2c0a 2020  rType.MinMax,.  
+00003e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ea0: 2020 2020 2020 2020 2020 2020 2770 776d              'pwm
-00003eb0: 5f6d 6f64 6527 3a20 2020 2020 2020 207b  _mode':        {
-00003ec0: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
-00003ed0: 7065 2e53 696e 676c 6550 6172 616d 2c0a  pe.SingleParam,.
-00003ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003eb0: 2020 2020 2027 6366 273a 2031 2c20 2773       'cf': 1, 's
+00003ec0: 656e 736f 7227 3a20 2827 6661 6e31 5f6d  ensor': ('fan1_m
+00003ed0: 696e 272c 2027 6661 6e31 5f6d 6178 2729  in', 'fan1_max')
+00003ee0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
 00003ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f10: 2020 2020 2020 2027 6366 273a 2031 2c20         'cf': 1, 
-00003f20: 2773 656e 736f 7227 3a20 2827 7077 6d31  'sensor': ('pwm1
-00003f30: 5f65 6e61 626c 6527 2c20 297d 2c0a 2020  _enable', )},.  
+00003f00: 2020 2020 2020 2770 776d 5f6d 6f64 6527        'pwm_mode'
+00003f10: 3a20 2020 2020 2020 207b 2774 7970 6527  :        {'type'
+00003f20: 3a20 5365 6e73 6f72 5479 7065 2e53 696e  : SensorType.Sin
+00003f30: 676c 6550 6172 616d 2c0a 2020 2020 2020  gleParam,.      
 00003f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00003f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003f60: 2027 6661 6e5f 7077 6d27 3a20 2020 2020   'fan_pwm':     
-00003f70: 2020 2020 7b27 7479 7065 273a 2053 656e      {'type': Sen
-00003f80: 736f 7254 7970 652e 5369 6e67 6c65 5061  sorType.SinglePa
-00003f90: 7261 6d2c 0a20 2020 2020 2020 2020 2020  ram,.           
+00003f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003f70: 2027 6366 273a 2031 2c20 2773 656e 736f   'cf': 1, 'senso
+00003f80: 7227 3a20 2827 7077 6d31 5f65 6e61 626c  r': ('pwm1_enabl
+00003f90: 6527 2c20 297d 2c0a 2020 2020 2020 2020  e', )},.        
 00003fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003fc0: 2020 2020 2020 2020 2020 2020 2763 6627              'cf'
-00003fd0: 3a20 302e 3339 3231 362c 2027 7365 6e73  : 0.39216, 'sens
-00003fe0: 6f72 273a 2028 2770 776d 3127 2c20 297d  or': ('pwm1', )}
-00003ff0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00003fb0: 2020 2020 2020 2020 2020 2027 6661 6e5f             'fan_
+00003fc0: 7077 6d27 3a20 2020 2020 2020 2020 7b27  pwm':         {'
+00003fd0: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
+00003fe0: 652e 5369 6e67 6c65 5061 7261 6d2c 0a20  e.SingleParam,. 
+00003ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004010: 2020 2020 2027 6661 6e5f 7077 6d5f 7261       'fan_pwm_ra
-00004020: 6e67 6527 3a20 2020 7b27 7479 7065 273a  nge':   {'type':
-00004030: 2053 656e 736f 7254 7970 652e 4d69 6e4d   SensorType.MinM
-00004040: 6178 2c0a 2020 2020 2020 2020 2020 2020  ax,.            
+00004010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004020: 2020 2020 2020 2763 6627 3a20 302e 3339        'cf': 0.39
+00004030: 3231 362c 2027 7365 6e73 6f72 273a 2028  216, 'sensor': (
+00004040: 2770 776d 3127 2c20 297d 2c0a 2020 2020  'pwm1', )},.    
 00004050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004070: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
-00004080: 2030 2e33 3932 3136 2c20 2773 656e 736f   0.39216, 'senso
-00004090: 7227 3a20 2827 7077 6d31 5f6d 696e 272c  r': ('pwm1_min',
-000040a0: 2027 7077 6d31 5f6d 6178 2729 7d2c 0a20   'pwm1_max')},. 
+00004060: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00004070: 6661 6e5f 7077 6d5f 7261 6e67 6527 3a20  fan_pwm_range': 
+00004080: 2020 7b27 7479 7065 273a 2053 656e 736f    {'type': Senso
+00004090: 7254 7970 652e 4d69 6e4d 6178 2c0a 2020  rType.MinMax,.  
+000040a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000040b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000040c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000040d0: 2020 2774 656d 705f 6372 6974 7327 3a20    'temp_crits': 
-000040e0: 2020 2020 207b 2774 7970 6527 3a20 5365       {'type': Se
-000040f0: 6e73 6f72 5479 7065 2e49 6e70 7574 4c61  nsorType.InputLa
-00004100: 6265 6c58 2c0a 2020 2020 2020 2020 2020  belX,.          
+000040d0: 2020 2020 2027 6366 273a 2030 2e33 3932       'cf': 0.392
+000040e0: 3136 2c20 2773 656e 736f 7227 3a20 2827  16, 'sensor': ('
+000040f0: 7077 6d31 5f6d 696e 272c 2027 7077 6d31  pwm1_min', 'pwm1
+00004100: 5f6d 6178 2729 7d2c 0a20 2020 2020 2020  _max')},.       
 00004110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004130: 2020 2020 2020 2020 2020 2020 2027 6366               'cf
-00004140: 273a 2030 2e30 3031 2c20 2773 656e 736f  ': 0.001, 'senso
-00004150: 7227 3a20 2827 7465 6d70 2a5f 6372 6974  r': ('temp*_crit
-00004160: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
+00004120: 2020 2020 2020 2020 2020 2020 2774 656d              'tem
+00004130: 705f 6372 6974 7327 3a20 2020 2020 207b  p_crits':      {
+00004140: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
+00004150: 7065 2e49 6e70 7574 4c61 6265 6c58 2c0a  pe.InputLabelX,.
+00004160: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004180: 2020 2020 2020 2020 2020 2766 7265 7175            'frequ
-00004190: 656e 6369 6573 273a 2020 2020 207b 2774  encies':     {'t
-000041a0: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
-000041b0: 2e49 6e70 7574 4c61 6265 6c58 2c0a 2020  .InputLabelX,.  
-000041c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004190: 2020 2020 2020 2027 6366 273a 2030 2e30         'cf': 0.0
+000041a0: 3031 2c20 2773 656e 736f 7227 3a20 2827  01, 'sensor': ('
+000041b0: 7465 6d70 2a5f 6372 6974 272c 2029 7d2c  temp*_crit', )},
+000041c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 000041d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041f0: 2020 2020 2027 6366 273a 2030 2e30 3030       'cf': 0.000
-00004200: 3030 312c 2027 7365 6e73 6f72 273a 2028  001, 'sensor': (
-00004210: 2766 7265 712a 5f69 6e70 7574 272c 2029  'freq*_input', )
-00004220: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+000041e0: 2020 2020 2766 7265 7175 656e 6369 6573      'frequencies
+000041f0: 273a 2020 2020 207b 2774 7970 6527 3a20  ':     {'type': 
+00004200: 5365 6e73 6f72 5479 7065 2e49 6e70 7574  SensorType.Input
+00004210: 4c61 6265 6c58 2c0a 2020 2020 2020 2020  LabelX,.        
+00004220: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004240: 2020 2020 2020 2776 6f6c 7461 6765 7327        'voltages'
-00004250: 3a20 2020 2020 2020 207b 2774 7970 6527  :        {'type'
-00004260: 3a20 5365 6e73 6f72 5479 7065 2e49 6e70  : SensorType.Inp
-00004270: 7574 4c61 6265 6c58 2c0a 2020 2020 2020  utLabelX,.      
+00004240: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00004250: 6366 273a 2030 2e30 3030 3030 312c 2027  cf': 0.000001, '
+00004260: 7365 6e73 6f72 273a 2028 2766 7265 712a  sensor': ('freq*
+00004270: 5f69 6e70 7574 272c 2029 7d2c 0a20 2020  _input', )},.   
 00004280: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042b0: 2027 6366 273a 2031 2c20 2773 656e 736f   'cf': 1, 'senso
-000042c0: 7227 3a20 2827 696e 2a5f 696e 7075 7427  r': ('in*_input'
-000042d0: 2c20 297d 2c0a 2020 2020 2020 2020 2020  , )},.          
+000042a0: 2776 6f6c 7461 6765 7327 3a20 2020 2020  'voltages':     
+000042b0: 2020 207b 2774 7970 6527 3a20 5365 6e73     {'type': Sens
+000042c0: 6f72 5479 7065 2e49 6e70 7574 4c61 6265  orType.InputLabe
+000042d0: 6c58 2c0a 2020 2020 2020 2020 2020 2020  lX,.            
 000042e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042f0: 2020 2020 2020 2020 2027 7465 6d70 6572           'temper
-00004300: 6174 7572 6573 273a 2020 2020 7b27 7479  atures':    {'ty
-00004310: 7065 273a 2053 656e 736f 7254 7970 652e  pe': SensorType.
-00004320: 496e 7075 744c 6162 656c 582c 0a20 2020  InputLabelX,.   
+000042f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004300: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
+00004310: 2031 2c20 2773 656e 736f 7227 3a20 2827   1, 'sensor': ('
+00004320: 696e 2a5f 696e 7075 7427 2c20 297d 2c0a  in*_input', )},.
 00004330: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004360: 2020 2020 2763 6627 3a20 302e 3030 312c      'cf': 0.001,
-00004370: 2027 7365 6e73 6f72 273a 2028 2774 656d   'sensor': ('tem
-00004380: 702a 5f69 6e70 7574 272c 2029 7d2c 0a20  p*_input', )},. 
+00004350: 2020 2027 7465 6d70 6572 6174 7572 6573     'temperatures
+00004360: 273a 2020 2020 7b27 7479 7065 273a 2053  ':    {'type': S
+00004370: 656e 736f 7254 7970 652e 496e 7075 744c  ensorType.InputL
+00004380: 6162 656c 582c 0a20 2020 2020 2020 2020  abelX,.         
 00004390: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000043a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000043b0: 2020 2776 6464 6766 7827 3a20 2020 2020    'vddgfx':     
-000043c0: 2020 2020 207b 2774 7970 6527 3a20 5365       {'type': Se
-000043d0: 6e73 6f72 5479 7065 2e49 6e70 7574 4c61  nsorType.InputLa
-000043e0: 6265 6c58 2c0a 2020 2020 2020 2020 2020  belX,.          
+000043b0: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+000043c0: 6627 3a20 302e 3030 312c 2027 7365 6e73  f': 0.001, 'sens
+000043d0: 6f72 273a 2028 2774 656d 702a 5f69 6e70  or': ('temp*_inp
+000043e0: 7574 272c 2029 7d2c 0a20 2020 2020 2020  ut', )},.       
 000043f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004410: 2020 2020 2020 2020 2020 2020 2027 6366               'cf
-00004420: 273a 2030 2e30 3031 2c20 2773 656e 736f  ': 0.001, 'senso
-00004430: 7227 3a20 2827 696e 2a5f 696e 7075 7427  r': ('in*_input'
-00004440: 2c20 297d 7d2c 0a20 2020 2020 2020 2020  , )}},.         
+00004400: 2020 2020 2020 2020 2020 2020 2776 6464              'vdd
+00004410: 6766 7827 3a20 2020 2020 2020 2020 207b  gfx':          {
+00004420: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
+00004430: 7065 2e49 6e70 7574 4c61 6265 6c58 2c0a  pe.InputLabelX,.
+00004440: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004460: 2020 2020 2020 2744 4556 4943 4527 3a20        'DEVICE': 
-00004470: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00004480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004490: 2020 2020 2027 6964 273a 2020 2020 2020       'id':      
-000044a0: 2020 2020 2020 2020 7b27 7479 7065 273a          {'type':
-000044b0: 2053 656e 736f 7254 7970 652e 4d4c 4d53   SensorType.MLMS
-000044c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004470: 2020 2020 2020 2027 6366 273a 2030 2e30         'cf': 0.0
+00004480: 3031 2c20 2773 656e 736f 7227 3a20 2827  01, 'sensor': ('
+00004490: 696e 2a5f 696e 7075 7427 2c20 297d 7d2c  in*_input', )}},
+000044a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000044b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000044c0: 2744 4556 4943 4527 3a20 7b0a 2020 2020  'DEVICE': {.    
 000044d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044f0: 2020 2020 2020 2020 2027 6366 273a 204e           'cf': N
-00004500: 6f6e 652c 2027 7365 6e73 6f72 273a 2028  one, 'sensor': (
-00004510: 2776 656e 646f 7227 2c20 2764 6576 6963  'vendor', 'devic
-00004520: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
+000044e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000044f0: 6964 273a 2020 2020 2020 2020 2020 2020  id':            
+00004500: 2020 7b27 7479 7065 273a 2053 656e 736f    {'type': Senso
+00004510: 7254 7970 652e 4d4c 4d53 2c0a 2020 2020  rType.MLMS,.    
+00004520: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004530: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004570: 2020 2773 7562 7379 7374 656d 5f76 656e    'subsystem_ven
-00004580: 646f 7227 2c20 2773 7562 7379 7374 656d  dor', 'subsystem
-00004590: 5f64 6576 6963 6527 297d 2c0a 2020 2020  _device')},.    
+00004550: 2020 2027 6366 273a 204e 6f6e 652c 2027     'cf': None, '
+00004560: 7365 6e73 6f72 273a 2028 2776 656e 646f  sensor': ('vendo
+00004570: 7227 2c20 2764 6576 6963 6527 2c0a 2020  r', 'device',.  
+00004580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004590: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000045a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000045b0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000045c0: 756e 6971 7565 5f69 6427 3a20 2020 2020  unique_id':     
-000045d0: 2020 7b27 7479 7065 273a 2053 656e 736f    {'type': Senso
-000045e0: 7254 7970 652e 5369 6e67 6c65 5374 7269  rType.SingleStri
-000045f0: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
+000045b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000045c0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
+000045d0: 7379 7374 656d 5f76 656e 646f 7227 2c20  system_vendor', 
+000045e0: 2773 7562 7379 7374 656d 5f64 6576 6963  'subsystem_devic
+000045f0: 6527 297d 2c0a 2020 2020 2020 2020 2020  e')},.          
 00004600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004620: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
-00004630: 204e 6f6e 652c 2027 7365 6e73 6f72 273a   None, 'sensor':
-00004640: 2028 2775 6e69 7175 655f 6964 272c 2029   ('unique_id', )
-00004650: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+00004610: 2020 2020 2020 2020 2027 756e 6971 7565           'unique
+00004620: 5f69 6427 3a20 2020 2020 2020 7b27 7479  _id':       {'ty
+00004630: 7065 273a 2053 656e 736f 7254 7970 652e  pe': SensorType.
+00004640: 5369 6e67 6c65 5374 7269 6e67 2c0a 2020  SingleString,.  
+00004650: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004670: 2020 2020 2020 276c 6f61 6469 6e67 273a        'loading':
-00004680: 2020 2020 2020 2020 207b 2774 7970 6527           {'type'
-00004690: 3a20 5365 6e73 6f72 5479 7065 2e53 696e  : SensorType.Sin
-000046a0: 676c 6550 6172 616d 2c0a 2020 2020 2020  gleParam,.      
+00004670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004680: 2020 2020 2027 6366 273a 204e 6f6e 652c       'cf': None,
+00004690: 2027 7365 6e73 6f72 273a 2028 2775 6e69   'sensor': ('uni
+000046a0: 7175 655f 6964 272c 2029 7d2c 0a20 2020  que_id', )},.   
 000046b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000046c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000046e0: 2027 6366 273a 2031 2c20 2773 656e 736f   'cf': 1, 'senso
-000046f0: 7227 3a20 2827 6770 755f 6275 7379 5f70  r': ('gpu_busy_p
-00004700: 6572 6365 6e74 272c 2029 7d2c 0a20 2020  ercent', )},.   
+000046d0: 276c 6f61 6469 6e67 273a 2020 2020 2020  'loading':      
+000046e0: 2020 207b 2774 7970 6527 3a20 5365 6e73     {'type': Sens
+000046f0: 6f72 5479 7065 2e53 696e 676c 6550 6172  orType.SinglePar
+00004700: 616d 2c0a 2020 2020 2020 2020 2020 2020  am,.            
 00004710: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004730: 276d 656d 5f6c 6f61 6469 6e67 273a 2020  'mem_loading':  
-00004740: 2020 207b 2774 7970 6527 3a20 5365 6e73     {'type': Sens
-00004750: 6f72 5479 7065 2e53 696e 676c 6550 6172  orType.SinglePar
-00004760: 616d 2c0a 2020 2020 2020 2020 2020 2020  am,.            
+00004730: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
+00004740: 2031 2c20 2773 656e 736f 7227 3a20 2827   1, 'sensor': ('
+00004750: 6770 755f 6275 7379 5f70 6572 6365 6e74  gpu_busy_percent
+00004760: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
 00004770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004790: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
-000047a0: 2031 2c20 2773 656e 736f 7227 3a20 2827   1, 'sensor': ('
-000047b0: 6d65 6d5f 6275 7379 5f70 6572 6365 6e74  mem_busy_percent
-000047c0: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
+00004780: 2020 2020 2020 2020 2020 276d 656d 5f6c            'mem_l
+00004790: 6f61 6469 6e67 273a 2020 2020 207b 2774  oading':     {'t
+000047a0: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
+000047b0: 2e53 696e 676c 6550 6172 616d 2c0a 2020  .SingleParam,.  
+000047c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000047d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000047e0: 2020 2020 2020 2020 2020 276d 656d 5f76            'mem_v
-000047f0: 7261 6d5f 746f 7461 6c27 3a20 207b 2774  ram_total':  {'t
-00004800: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
-00004810: 2e53 696e 676c 6550 6172 616d 2c0a 2020  .SingleParam,.  
-00004820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047f0: 2020 2020 2027 6366 273a 2031 2c20 2773       'cf': 1, 's
+00004800: 656e 736f 7227 3a20 2827 6d65 6d5f 6275  ensor': ('mem_bu
+00004810: 7379 5f70 6572 6365 6e74 272c 2029 7d2c  sy_percent', )},
+00004820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00004830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004850: 2020 2020 2027 6366 273a 205f 6762 6366       'cf': _gbcf
-00004860: 2c20 2773 656e 736f 7227 3a20 2827 6d65  , 'sensor': ('me
-00004870: 6d5f 696e 666f 5f76 7261 6d5f 746f 7461  m_info_vram_tota
-00004880: 6c27 2c20 297d 2c0a 2020 2020 2020 2020  l', )},.        
+00004840: 2020 2020 276d 656d 5f76 7261 6d5f 746f      'mem_vram_to
+00004850: 7461 6c27 3a20 207b 2774 7970 6527 3a20  tal':  {'type': 
+00004860: 5365 6e73 6f72 5479 7065 2e53 696e 676c  SensorType.Singl
+00004870: 6550 6172 616d 2c0a 2020 2020 2020 2020  eParam,.        
+00004880: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000048a0: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
-000048b0: 7672 616d 5f75 7365 6427 3a20 2020 7b27  vram_used':   {'
-000048c0: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
-000048d0: 652e 5369 6e67 6c65 5061 7261 6d2c 0a20  e.SingleParam,. 
-000048e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048a0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000048b0: 6366 273a 205f 6762 6366 2c20 2773 656e  cf': _gbcf, 'sen
+000048c0: 736f 7227 3a20 2827 6d65 6d5f 696e 666f  sor': ('mem_info
+000048d0: 5f76 7261 6d5f 746f 7461 6c27 2c20 297d  _vram_total', )}
+000048e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 000048f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004910: 2020 2020 2020 2763 6627 3a20 5f67 6263        'cf': _gbc
-00004920: 662c 2027 7365 6e73 6f72 273a 2028 276d  f, 'sensor': ('m
-00004930: 656d 5f69 6e66 6f5f 7672 616d 5f75 7365  em_info_vram_use
-00004940: 6427 2c20 297d 2c0a 2020 2020 2020 2020  d', )},.        
+00004900: 2020 2020 2027 6d65 6d5f 7672 616d 5f75       'mem_vram_u
+00004910: 7365 6427 3a20 2020 7b27 7479 7065 273a  sed':   {'type':
+00004920: 2053 656e 736f 7254 7970 652e 5369 6e67   SensorType.Sing
+00004930: 6c65 5061 7261 6d2c 0a20 2020 2020 2020  leParam,.       
+00004940: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004960: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
-00004970: 6774 745f 746f 7461 6c27 3a20 2020 7b27  gtt_total':   {'
-00004980: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
-00004990: 652e 5369 6e67 6c65 5061 7261 6d2c 0a20  e.SingleParam,. 
-000049a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004970: 2763 6627 3a20 5f67 6263 662c 2027 7365  'cf': _gbcf, 'se
+00004980: 6e73 6f72 273a 2028 276d 656d 5f69 6e66  nsor': ('mem_inf
+00004990: 6f5f 7672 616d 5f75 7365 6427 2c20 297d  o_vram_used', )}
+000049a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 000049b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000049d0: 2020 2020 2020 2763 6627 3a20 5f67 6263        'cf': _gbc
-000049e0: 662c 2027 7365 6e73 6f72 273a 2028 276d  f, 'sensor': ('m
-000049f0: 656d 5f69 6e66 6f5f 6774 745f 746f 7461  em_info_gtt_tota
-00004a00: 6c27 2c20 297d 2c0a 2020 2020 2020 2020  l', )},.        
+000049c0: 2020 2020 2027 6d65 6d5f 6774 745f 746f       'mem_gtt_to
+000049d0: 7461 6c27 3a20 2020 7b27 7479 7065 273a  tal':   {'type':
+000049e0: 2053 656e 736f 7254 7970 652e 5369 6e67   SensorType.Sing
+000049f0: 6c65 5061 7261 6d2c 0a20 2020 2020 2020  leParam,.       
+00004a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a20: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
-00004a30: 6774 745f 7573 6564 273a 2020 2020 7b27  gtt_used':    {'
-00004a40: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
-00004a50: 652e 5369 6e67 6c65 5061 7261 6d2c 0a20  e.SingleParam,. 
-00004a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a30: 2763 6627 3a20 5f67 6263 662c 2027 7365  'cf': _gbcf, 'se
+00004a40: 6e73 6f72 273a 2028 276d 656d 5f69 6e66  nsor': ('mem_inf
+00004a50: 6f5f 6774 745f 746f 7461 6c27 2c20 297d  o_gtt_total', )}
+00004a60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00004a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a90: 2020 2020 2020 2763 6627 3a20 5f67 6263        'cf': _gbc
-00004aa0: 662c 2027 7365 6e73 6f72 273a 2028 276d  f, 'sensor': ('m
-00004ab0: 656d 5f69 6e66 6f5f 6774 745f 7573 6564  em_info_gtt_used
-00004ac0: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
+00004a80: 2020 2020 2027 6d65 6d5f 6774 745f 7573       'mem_gtt_us
+00004a90: 6564 273a 2020 2020 7b27 7479 7065 273a  ed':    {'type':
+00004aa0: 2053 656e 736f 7254 7970 652e 5369 6e67   SensorType.Sing
+00004ab0: 6c65 5061 7261 6d2c 0a20 2020 2020 2020  leParam,.       
+00004ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ae0: 2020 2020 2020 2020 2020 276c 696e 6b5f            'link_
-00004af0: 7370 6427 3a20 2020 2020 2020 207b 2774  spd':        {'t
-00004b00: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
-00004b10: 2e53 696e 676c 6553 7472 696e 672c 0a20  .SingleString,. 
-00004b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004af0: 2763 6627 3a20 5f67 6263 662c 2027 7365  'cf': _gbcf, 'se
+00004b00: 6e73 6f72 273a 2028 276d 656d 5f69 6e66  nsor': ('mem_inf
+00004b10: 6f5f 6774 745f 7573 6564 272c 2029 7d2c  o_gtt_used', )},
+00004b20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00004b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004b50: 2020 2020 2020 2763 6627 3a20 4e6f 6e65        'cf': None
-00004b60: 2c20 2773 656e 736f 7227 3a20 2827 6375  , 'sensor': ('cu
-00004b70: 7272 656e 745f 6c69 6e6b 5f73 7065 6564  rrent_link_speed
-00004b80: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
+00004b40: 2020 2020 276c 696e 6b5f 7370 6427 3a20      'link_spd': 
+00004b50: 2020 2020 2020 207b 2774 7970 6527 3a20         {'type': 
+00004b60: 5365 6e73 6f72 5479 7065 2e53 696e 676c  SensorType.Singl
+00004b70: 6553 7472 696e 672c 0a20 2020 2020 2020  eString,.       
+00004b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ba0: 2020 2020 2020 2020 2020 276c 696e 6b5f            'link_
-00004bb0: 7774 6827 3a20 2020 2020 2020 207b 2774  wth':        {'t
-00004bc0: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
-00004bd0: 2e53 696e 676c 6553 7472 696e 672c 0a20  .SingleString,. 
-00004be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004bb0: 2763 6627 3a20 4e6f 6e65 2c20 2773 656e  'cf': None, 'sen
+00004bc0: 736f 7227 3a20 2827 6375 7272 656e 745f  sor': ('current_
+00004bd0: 6c69 6e6b 5f73 7065 6564 272c 2029 7d2c  link_speed', )},
+00004be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00004bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c10: 2020 2020 2020 2763 6627 3a20 4e6f 6e65        'cf': None
-00004c20: 2c20 2773 656e 736f 7227 3a20 2827 6375  , 'sensor': ('cu
-00004c30: 7272 656e 745f 6c69 6e6b 5f77 6964 7468  rrent_link_width
-00004c40: 272c 2029 7d2c 0a20 2020 2020 2020 2020  ', )},.         
+00004c00: 2020 2020 276c 696e 6b5f 7774 6827 3a20      'link_wth': 
+00004c10: 2020 2020 2020 207b 2774 7970 6527 3a20         {'type': 
+00004c20: 5365 6e73 6f72 5479 7065 2e53 696e 676c  SensorType.Singl
+00004c30: 6553 7472 696e 672c 0a20 2020 2020 2020  eString,.       
+00004c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004c60: 2020 2020 2020 2020 2020 2773 636c 6b5f            'sclk_
-00004c70: 7073 273a 2020 2020 2020 2020 207b 2774  ps':         {'t
-00004c80: 7970 6527 3a20 5365 6e73 6f72 5479 7065  ype': SensorType
-00004c90: 2e4d 4c53 532c 0a20 2020 2020 2020 2020  .MLSS,.         
-00004ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c70: 2763 6627 3a20 4e6f 6e65 2c20 2773 656e  'cf': None, 'sen
+00004c80: 736f 7227 3a20 2827 6375 7272 656e 745f  sor': ('current_
+00004c90: 6c69 6e6b 5f77 6964 7468 272c 2029 7d2c  link_width', )},
+00004ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00004cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004cc0: 2020 2020 2020 2020 2020 2020 2020 2763                'c
-00004cd0: 6627 3a20 4e6f 6e65 2c20 2773 656e 736f  f': None, 'senso
-00004ce0: 7227 3a20 2827 7070 5f64 706d 5f73 636c  r': ('pp_dpm_scl
-00004cf0: 6b27 2c20 297d 2c0a 2020 2020 2020 2020  k', )},.        
+00004cc0: 2020 2020 2773 636c 6b5f 7073 273a 2020      'sclk_ps':  
+00004cd0: 2020 2020 2020 207b 2774 7970 6527 3a20         {'type': 
+00004ce0: 5365 6e73 6f72 5479 7065 2e4d 4c53 532c  SensorType.MLSS,
+00004cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
 00004d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d10: 2020 2020 2020 2020 2020 2027 6d63 6c6b             'mclk
-00004d20: 5f70 7327 3a20 2020 2020 2020 2020 7b27  _ps':         {'
-00004d30: 7479 7065 273a 2053 656e 736f 7254 7970  type': SensorTyp
-00004d40: 652e 4d4c 5353 2c0a 2020 2020 2020 2020  e.MLSS,.        
-00004d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004d20: 2020 2020 2020 2020 2763 6627 3a20 4e6f          'cf': No
+00004d30: 6e65 2c20 2773 656e 736f 7227 3a20 2827  ne, 'sensor': ('
+00004d40: 7070 5f64 706d 5f73 636c 6b27 2c20 297d  pp_dpm_sclk', )}
+00004d50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00004d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004d70: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00004d80: 6366 273a 204e 6f6e 652c 2027 7365 6e73  cf': None, 'sens
-00004d90: 6f72 273a 2028 2770 705f 6470 6d5f 6d63  or': ('pp_dpm_mc
-00004da0: 6c6b 272c 2029 7d2c 0a20 2020 2020 2020  lk', )},.       
+00004d70: 2020 2020 2027 6d63 6c6b 5f70 7327 3a20       'mclk_ps': 
+00004d80: 2020 2020 2020 2020 7b27 7479 7065 273a          {'type':
+00004d90: 2053 656e 736f 7254 7970 652e 4d4c 5353   SensorType.MLSS
+00004da0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00004db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004dc0: 2020 2020 2020 2020 2020 2020 2770 7374              'pst
-00004dd0: 6174 6573 273a 2020 2020 2020 2020 207b  ates':         {
-00004de0: 2774 7970 6527 3a20 5365 6e73 6f72 5479  'type': SensorTy
-00004df0: 7065 2e41 6c6c 5053 7461 7465 732c 0a20  pe.AllPStates,. 
-00004e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004dd0: 2020 2020 2020 2020 2027 6366 273a 204e           'cf': N
+00004de0: 6f6e 652c 2027 7365 6e73 6f72 273a 2028  one, 'sensor': (
+00004df0: 2770 705f 6470 6d5f 6d63 6c6b 272c 2029  'pp_dpm_mclk', )
+00004e00: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
 00004e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e30: 2020 2020 2020 2763 6627 3a20 4e6f 6e65        'cf': None
-00004e40: 2c20 2773 656e 736f 7227 3a20 2827 7070  , 'sensor': ('pp
-00004e50: 5f64 706d 5f2a 636c 6b27 2c20 297d 2c0a  _dpm_*clk', )},.
+00004e20: 2020 2020 2020 2770 7374 6174 6573 273a        'pstates':
+00004e30: 2020 2020 2020 2020 207b 2774 7970 6527           {'type'
+00004e40: 3a20 5365 6e73 6f72 5479 7065 2e41 6c6c  : SensorType.All
+00004e50: 5053 7461 7465 732c 0a20 2020 2020 2020  PStates,.       
 00004e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e80: 2020 2027 706f 7765 725f 6470 6d5f 7374     'power_dpm_st
-00004e90: 6174 6527 3a20 7b27 7479 7065 273a 2053  ate': {'type': S
-00004ea0: 656e 736f 7254 7970 652e 5369 6e67 6c65  ensorType.Single
-00004eb0: 5374 7269 6e67 2c0a 2020 2020 2020 2020  String,.        
+00004e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004e90: 2763 6627 3a20 4e6f 6e65 2c20 2773 656e  'cf': None, 'sen
+00004ea0: 736f 7227 3a20 2827 7070 5f64 706d 5f2a  sor': ('pp_dpm_*
+00004eb0: 636c 6b27 2c20 297d 2c0a 2020 2020 2020  clk', )},.      
 00004ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ee0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00004ef0: 6366 273a 204e 6f6e 652c 0a20 2020 2020  cf': None,.     
-00004f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ed0: 2020 2020 2020 2020 2020 2020 2027 706f               'po
+00004ee0: 7765 725f 6470 6d5f 7374 6174 6527 3a20  wer_dpm_state': 
+00004ef0: 7b27 7479 7065 273a 2053 656e 736f 7254  {'type': SensorT
+00004f00: 7970 652e 5369 6e67 6c65 5374 7269 6e67  ype.SingleString
+00004f10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00004f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f30: 2020 2773 656e 736f 7227 3a20 2827 706f    'sensor': ('po
-00004f40: 7765 725f 6470 6d5f 7374 6174 6527 2c20  wer_dpm_state', 
-00004f50: 297d 2c0a 2020 2020 2020 2020 2020 2020  )},.            
+00004f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f40: 2020 2020 2020 2020 2027 6366 273a 204e           'cf': N
+00004f50: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
 00004f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004f70: 2020 2020 2020 2027 706f 7765 725f 6470         'power_dp
-00004f80: 6d5f 666f 7263 6527 3a20 7b27 7479 7065  m_force': {'type
-00004f90: 273a 2053 656e 736f 7254 7970 652e 5369  ': SensorType.Si
-00004fa0: 6e67 6c65 5374 7269 6e67 2c0a 2020 2020  ngleString,.    
+00004f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004f80: 2020 2020 2020 2020 2020 2020 2773 656e              'sen
+00004f90: 736f 7227 3a20 2827 706f 7765 725f 6470  sor': ('power_dp
+00004fa0: 6d5f 7374 6174 6527 2c20 297d 2c0a 2020  m_state', )},.  
 00004fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004fe0: 2020 2027 6366 273a 204e 6f6e 652c 0a20     'cf': None,. 
-00004ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004fd0: 2027 706f 7765 725f 6470 6d5f 666f 7263   'power_dpm_forc
+00004fe0: 6527 3a20 7b27 7479 7065 273a 2053 656e  e': {'type': Sen
+00004ff0: 736f 7254 7970 652e 5369 6e67 6c65 5374  sorType.SingleSt
+00005000: 7269 6e67 2c0a 2020 2020 2020 2020 2020  ring,.          
 00005010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005020: 2020 2020 2020 2773 656e 736f 7227 3a20        'sensor': 
-00005030: 2827 706f 7765 725f 6470 6d5f 666f 7263  ('power_dpm_forc
-00005040: 655f 7065 7266 6f72 6d61 6e63 655f 6c65  e_performance_le
-00005050: 7665 6c27 2c20 297d 2c0a 2020 2020 2020  vel', )},.      
+00005020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005030: 2020 2020 2020 2020 2020 2020 2027 6366               'cf
+00005040: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00005050: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005070: 2020 2020 2020 2020 2020 2020 2027 7070               'pp
-00005080: 6d27 3a20 2020 2020 2020 2020 2020 2020  m':             
-00005090: 7b27 7479 7065 273a 2053 656e 736f 7254  {'type': SensorT
-000050a0: 7970 652e 5369 6e67 6c65 5374 7269 6e67  ype.SingleString
-000050b0: 5365 6c65 6374 2c0a 2020 2020 2020 2020  Select,.        
+00005070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005080: 2773 656e 736f 7227 3a20 2827 706f 7765  'sensor': ('powe
+00005090: 725f 6470 6d5f 666f 7263 655f 7065 7266  r_dpm_force_perf
+000050a0: 6f72 6d61 6e63 655f 6c65 7665 6c27 2c20  ormance_level', 
+000050b0: 297d 2c0a 2020 2020 2020 2020 2020 2020  )},.            
 000050c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000050f0: 6366 273a 204e 6f6e 652c 2027 7365 6e73  cf': None, 'sens
-00005100: 6f72 273a 2028 2770 705f 706f 7765 725f  or': ('pp_power_
-00005110: 7072 6f66 696c 655f 6d6f 6465 272c 2029  profile_mode', )
-00005120: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+000050d0: 2020 2020 2020 2027 7070 6d27 3a20 2020         'ppm':   
+000050e0: 2020 2020 2020 2020 2020 7b27 7479 7065            {'type
+000050f0: 273a 2053 656e 736f 7254 7970 652e 5369  ': SensorType.Si
+00005100: 6e67 6c65 5374 7269 6e67 5365 6c65 6374  ngleStringSelect
+00005110: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005120: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005140: 2020 2020 2020 2776 6269 6f73 273a 2020        'vbios':  
-00005150: 2020 2020 2020 2020 207b 2774 7970 6527           {'type'
-00005160: 3a20 5365 6e73 6f72 5479 7065 2e53 696e  : SensorType.Sin
-00005170: 676c 6553 7472 696e 672c 0a20 2020 2020  gleString,.     
+00005140: 2020 2020 2020 2020 2027 6366 273a 204e           'cf': N
+00005150: 6f6e 652c 2027 7365 6e73 6f72 273a 2028  one, 'sensor': (
+00005160: 2770 705f 706f 7765 725f 7072 6f66 696c  'pp_power_profil
+00005170: 655f 6d6f 6465 272c 2029 7d2c 0a20 2020  e_mode', )},.   
 00005180: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051b0: 2020 2763 6627 3a20 4e6f 6e65 2c20 2773    'cf': None, 's
-000051c0: 656e 736f 7227 3a20 2827 7662 696f 735f  ensor': ('vbios_
-000051d0: 7665 7273 696f 6e27 2c20 297d 7d7d 2c0a  version', )}}},.
+000051a0: 2776 6269 6f73 273a 2020 2020 2020 2020  'vbios':        
+000051b0: 2020 207b 2774 7970 6527 3a20 5365 6e73     {'type': Sens
+000051c0: 6f72 5479 7065 2e53 696e 676c 6553 7472  orType.SingleStr
+000051d0: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
 000051e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000051f0: 2020 2020 2020 2047 7075 5665 6e64 6f72         GpuVendor
-00005200: 2e50 4349 453a 207b 0a20 2020 2020 2020  .PCIE: {.       
-00005210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005220: 2020 2020 2020 2020 2744 4556 4943 4527          'DEVICE'
-00005230: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
+000051f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005200: 2020 2020 2020 2020 2020 2020 2763 6627              'cf'
+00005210: 3a20 4e6f 6e65 2c20 2773 656e 736f 7227  : None, 'sensor'
+00005220: 3a20 2827 7662 696f 735f 7665 7273 696f  : ('vbios_versio
+00005230: 6e27 2c20 297d 7d7d 2c0a 2020 2020 2020  n', )}}},.      
 00005240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005250: 2020 2020 2020 2027 6964 273a 2020 2020         'id':    
-00005260: 2020 2020 2020 2020 2020 7b27 7479 7065            {'type
-00005270: 273a 2053 656e 736f 7254 7970 652e 4d4c  ': SensorType.ML
-00005280: 4d53 2c0a 2020 2020 2020 2020 2020 2020  MS,.            
+00005250: 2047 7075 5665 6e64 6f72 2e50 4349 453a   GpuVendor.PCIE:
+00005260: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+00005270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005280: 2020 2744 4556 4943 4527 3a20 7b0a 2020    'DEVICE': {.  
 00005290: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000052a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000052b0: 2020 2020 2020 2020 2020 2027 6366 273a             'cf':
-000052c0: 204e 6f6e 652c 2027 7365 6e73 6f72 273a   None, 'sensor':
-000052d0: 2028 2776 656e 646f 7227 2c20 2764 6576   ('vendor', 'dev
-000052e0: 6963 6527 2c0a 2020 2020 2020 2020 2020  ice',.          
+000052b0: 2027 6964 273a 2020 2020 2020 2020 2020   'id':          
+000052c0: 2020 2020 7b27 7479 7065 273a 2053 656e      {'type': Sen
+000052d0: 736f 7254 7970 652e 4d4c 4d53 2c0a 2020  sorType.MLMS,.  
+000052e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000052f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005330: 2020 2020 2773 7562 7379 7374 656d 5f76      'subsystem_v
-00005340: 656e 646f 7227 2c0a 2020 2020 2020 2020  endor',.        
+00005310: 2020 2020 2027 6366 273a 204e 6f6e 652c       'cf': None,
+00005320: 2027 7365 6e73 6f72 273a 2028 2776 656e   'sensor': ('ven
+00005330: 646f 7227 2c20 2764 6576 6963 6527 2c0a  dor', 'device',.
+00005340: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005350: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005360: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005390: 2020 2020 2020 2773 7562 7379 7374 656d        'subsystem
-000053a0: 5f64 6576 6963 6527 297d 7d7d 7d0a 0a20  _device')}}}}.. 
-000053b0: 2020 206e 765f 7175 6572 795f 6974 656d     nv_query_item
-000053c0: 7320 3d20 7b53 656e 736f 7253 6574 2e53  s = {SensorSet.S
-000053d0: 7461 7469 633a 207b 0a20 2020 2020 2020  tatic: {.       
+00005380: 2020 2020 2020 2020 2020 2020 2020 2773                's
+00005390: 7562 7379 7374 656d 5f76 656e 646f 7227  ubsystem_vendor'
+000053a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000053b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000053e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000053f0: 2020 2020 2020 2020 2020 2020 2770 6f77              'pow
-00005400: 6572 5f63 6170 273a 2020 2020 2020 2020  er_cap':        
-00005410: 2827 706f 7765 722e 6c69 6d69 7427 2c20  ('power.limit', 
-00005420: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00005430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005440: 2020 2020 2020 2770 6f77 6572 5f63 6170        'power_cap
-00005450: 5f72 616e 6765 273a 2020 2827 706f 7765  _range':  ('powe
-00005460: 722e 6d69 6e5f 6c69 6d69 7427 2c20 2770  r.min_limit', 'p
-00005470: 6f77 6572 2e6d 6178 5f6c 696d 6974 2729  ower.max_limit')
-00005480: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000053f0: 2773 7562 7379 7374 656d 5f64 6576 6963  'subsystem_devic
+00005400: 6527 297d 7d7d 7d0a 0a20 2020 206e 765f  e')}}}}..    nv_
+00005410: 7175 6572 795f 6974 656d 7320 3d20 7b53  query_items = {S
+00005420: 656e 736f 7253 6574 2e53 7461 7469 633a  ensorSet.Static:
+00005430: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+00005440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005450: 2020 2020 2020 2770 6f77 6572 5f63 6170        'power_cap
+00005460: 273a 2020 2020 2020 2020 2827 706f 7765  ':        ('powe
+00005470: 722e 6c69 6d69 7427 2c20 292c 0a20 2020  r.limit', ),.   
+00005480: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054a0: 2020 2020 2027 6d65 6d5f 7672 616d 5f74       'mem_vram_t
-000054b0: 6f74 616c 273a 2020 2028 276d 656d 6f72  otal':   ('memor
-000054c0: 792e 746f 7461 6c27 2c20 292c 0a20 2020  y.total', ),.   
-000054d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054a0: 2770 6f77 6572 5f63 6170 5f72 616e 6765  'power_cap_range
+000054b0: 273a 2020 2827 706f 7765 722e 6d69 6e5f  ':  ('power.min_
+000054c0: 6c69 6d69 7427 2c20 2770 6f77 6572 2e6d  limit', 'power.m
+000054d0: 6178 5f6c 696d 6974 2729 2c0a 2020 2020  ax_limit'),.    
 000054e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000054f0: 2766 7265 7175 656e 6369 6573 5f6d 6178  'frequencies_max
-00005500: 273a 2020 2827 636c 6f63 6b73 2e6d 6178  ':  ('clocks.max
-00005510: 2e67 7227 2c20 2763 6c6f 636b 732e 6d61  .gr', 'clocks.ma
-00005520: 782e 736d 272c 2027 636c 6f63 6b73 2e6d  x.sm', 'clocks.m
-00005530: 6178 2e6d 656d 2729 2c0a 2020 2020 2020  ax.mem'),.      
-00005540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005550: 2020 2020 2020 2020 2020 2020 2027 7662               'vb
-00005560: 696f 7327 3a20 2020 2020 2020 2020 2020  ios':           
-00005570: 2028 2776 6269 6f73 5f76 6572 7369 6f6e   ('vbios_version
-00005580: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
-00005590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000055a0: 2020 2020 2020 2020 2027 636f 6d70 7574           'comput
-000055b0: 655f 6d6f 6465 273a 2020 2020 2028 2763  e_mode':     ('c
-000055c0: 6f6d 7075 7465 5f6d 6f64 6527 2c20 292c  ompute_mode', ),
-000055d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000054f0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00005500: 6d65 6d5f 7672 616d 5f74 6f74 616c 273a  mem_vram_total':
+00005510: 2020 2028 276d 656d 6f72 792e 746f 7461     ('memory.tota
+00005520: 6c27 2c20 292c 0a20 2020 2020 2020 2020  l', ),.         
+00005530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005540: 2020 2020 2020 2020 2020 2766 7265 7175            'frequ
+00005550: 656e 6369 6573 5f6d 6178 273a 2020 2827  encies_max':  ('
+00005560: 636c 6f63 6b73 2e6d 6178 2e67 7227 2c20  clocks.max.gr', 
+00005570: 2763 6c6f 636b 732e 6d61 782e 736d 272c  'clocks.max.sm',
+00005580: 2027 636c 6f63 6b73 2e6d 6178 2e6d 656d   'clocks.max.mem
+00005590: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
+000055a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055b0: 2020 2020 2020 2027 7662 696f 7327 3a20         'vbios': 
+000055c0: 2020 2020 2020 2020 2020 2028 2776 6269             ('vbi
+000055d0: 6f73 5f76 6572 7369 6f6e 272c 2029 2c0a  os_version', ),.
 000055e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000055f0: 2020 2020 2764 7269 7665 7227 3a20 2020      'driver':   
-00005600: 2020 2020 2020 2020 2827 6472 6976 6572          ('driver
-00005610: 5f76 6572 7369 6f6e 272c 2029 2c0a 2020  _version', ),.  
-00005620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000055f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005600: 2020 2027 636f 6d70 7574 655f 6d6f 6465     'compute_mode
+00005610: 273a 2020 2020 2028 2763 6f6d 7075 7465  ':     ('compute
+00005620: 5f6d 6f64 6527 2c20 292c 0a20 2020 2020  _mode', ),.     
 00005630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005640: 2027 6d6f 6465 6c27 3a20 2020 2020 2020   'model':       
-00005650: 2020 2020 2028 276e 616d 6527 2c20 292c       ('name', ),
-00005660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005680: 2020 2020 2773 6572 6961 6c5f 6e75 6d62      'serial_numb
-00005690: 6572 273a 2020 2020 2827 7365 7269 616c  er':    ('serial
-000056a0: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
-000056b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056c0: 2020 2020 2020 2020 2027 6361 7264 5f69           'card_i
-000056d0: 6e64 6578 273a 2020 2020 2020 2028 2769  ndex':       ('i
-000056e0: 6e64 6578 272c 2029 2c0a 2020 2020 2020  ndex', ),.      
-000056f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005700: 2020 2020 2020 2020 2020 2020 2027 756e               'un
-00005710: 6971 7565 5f69 6427 3a20 2020 2020 2020  ique_id':       
-00005720: 2028 2767 7075 5f75 7569 6427 2c20 297d   ('gpu_uuid', )}
-00005730: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00005740: 2020 2020 2020 2020 5365 6e73 6f72 5365          SensorSe
-00005750: 742e 4479 6e61 6d69 633a 207b 0a20 2020  t.Dynamic: {.   
-00005760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005780: 2770 6f77 6572 273a 2020 2020 2020 2020  'power':        
-00005790: 2020 2020 2827 706f 7765 722e 6472 6177      ('power.draw
-000057a0: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
-000057b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000057c0: 2020 2020 2020 2020 2027 7465 6d70 6572           'temper
-000057d0: 6174 7572 6573 273a 2020 2020 2028 2774  atures':     ('t
-000057e0: 656d 7065 7261 7475 7265 2e67 7075 272c  emperature.gpu',
-000057f0: 2027 7465 6d70 6572 6174 7572 652e 6d65   'temperature.me
-00005800: 6d6f 7279 2729 2c0a 2020 2020 2020 2020  mory'),.        
+00005640: 2020 2020 2020 2020 2020 2020 2020 2764                'd
+00005650: 7269 7665 7227 3a20 2020 2020 2020 2020  river':         
+00005660: 2020 2827 6472 6976 6572 5f76 6572 7369    ('driver_versi
+00005670: 6f6e 272c 2029 2c0a 2020 2020 2020 2020  on', ),.        
+00005680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005690: 2020 2020 2020 2020 2020 2027 6d6f 6465             'mode
+000056a0: 6c27 3a20 2020 2020 2020 2020 2020 2028  l':            (
+000056b0: 276e 616d 6527 2c20 292c 0a20 2020 2020  'name', ),.     
+000056c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000056d0: 2020 2020 2020 2020 2020 2020 2020 2773                's
+000056e0: 6572 6961 6c5f 6e75 6d62 6572 273a 2020  erial_number':  
+000056f0: 2020 2827 7365 7269 616c 272c 2029 2c0a    ('serial', ),.
+00005700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005720: 2020 2027 6361 7264 5f69 6e64 6578 273a     'card_index':
+00005730: 2020 2020 2020 2028 2769 6e64 6578 272c         ('index',
+00005740: 2029 2c0a 2020 2020 2020 2020 2020 2020   ),.            
+00005750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005760: 2020 2020 2020 2027 756e 6971 7565 5f69         'unique_i
+00005770: 6427 3a20 2020 2020 2020 2028 2767 7075  d':        ('gpu
+00005780: 5f75 7569 6427 2c20 297d 2c0a 2020 2020  _uuid', )},.    
+00005790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000057a0: 2020 5365 6e73 6f72 5365 742e 4479 6e61    SensorSet.Dyna
+000057b0: 6d69 633a 207b 0a20 2020 2020 2020 2020  mic: {.         
+000057c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000057d0: 2020 2020 2020 2020 2020 2770 6f77 6572            'power
+000057e0: 273a 2020 2020 2020 2020 2020 2020 2827  ':            ('
+000057f0: 706f 7765 722e 6472 6177 272c 2029 2c0a  power.draw', ),.
+00005800: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005820: 2020 2020 2020 2020 2020 2027 6672 6571             'freq
-00005830: 7565 6e63 6965 7327 3a20 2020 2020 2028  uencies':      (
-00005840: 2763 6c6f 636b 732e 6772 272c 2027 636c  'clocks.gr', 'cl
-00005850: 6f63 6b73 2e73 6d27 2c20 2763 6c6f 636b  ocks.sm', 'clock
-00005860: 732e 6d65 6d27 2c20 2763 6c6f 636b 732e  s.mem', 'clocks.
-00005870: 7669 6465 6f27 292c 0a20 2020 2020 2020  video'),.       
-00005880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005890: 2020 2020 2020 2020 2020 2020 276c 6f61              'loa
-000058a0: 6469 6e67 273a 2020 2020 2020 2020 2020  ding':          
-000058b0: 2827 7574 696c 697a 6174 696f 6e2e 6770  ('utilization.gp
-000058c0: 7527 2c20 292c 0a20 2020 2020 2020 2020  u', ),.         
-000058d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000058e0: 2020 2020 2020 2020 2020 276d 656d 5f6c            'mem_l
-000058f0: 6f61 6469 6e67 273a 2020 2020 2020 2827  oading':      ('
-00005900: 7574 696c 697a 6174 696f 6e2e 6d65 6d6f  utilization.memo
-00005910: 7279 272c 2029 2c0a 2020 2020 2020 2020  ry', ),.        
-00005920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005930: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
-00005940: 7672 616d 5f75 7365 6427 3a20 2020 2028  vram_used':    (
-00005950: 276d 656d 6f72 792e 7573 6564 272c 2029  'memory.used', )
-00005960: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00005970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005980: 2020 2020 2027 6661 6e5f 7370 6565 6427       'fan_speed'
-00005990: 3a20 2020 2020 2020 2028 2766 616e 2e73  :        ('fan.s
-000059a0: 7065 6564 272c 2029 2c0a 2020 2020 2020  peed', ),.      
-000059b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000059c0: 2020 2020 2020 2020 2020 2020 2027 7070               'pp
-000059d0: 6d27 3a20 2020 2020 2020 2020 2020 2020  m':             
-000059e0: 2028 2767 6f6d 2e63 7572 7265 6e74 272c   ('gom.current',
-000059f0: 2029 2c0a 2020 2020 2020 2020 2020 2020   ),.            
-00005a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a10: 2020 2020 2020 2027 6c69 6e6b 5f77 7468         'link_wth
-00005a20: 273a 2020 2020 2020 2020 2028 2770 6369  ':         ('pci
-00005a30: 652e 6c69 6e6b 2e77 6964 7468 2e63 7572  e.link.width.cur
-00005a40: 7265 6e74 272c 2029 2c0a 2020 2020 2020  rent', ),.      
+00005820: 2020 2027 7465 6d70 6572 6174 7572 6573     'temperatures
+00005830: 273a 2020 2020 2028 2774 656d 7065 7261  ':     ('tempera
+00005840: 7475 7265 2e67 7075 272c 2027 7465 6d70  ture.gpu', 'temp
+00005850: 6572 6174 7572 652e 6d65 6d6f 7279 2729  erature.memory')
+00005860: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005880: 2020 2020 2027 6672 6571 7565 6e63 6965       'frequencie
+00005890: 7327 3a20 2020 2020 2028 2763 6c6f 636b  s':      ('clock
+000058a0: 732e 6772 272c 2027 636c 6f63 6b73 2e73  s.gr', 'clocks.s
+000058b0: 6d27 2c20 2763 6c6f 636b 732e 6d65 6d27  m', 'clocks.mem'
+000058c0: 2c20 2763 6c6f 636b 732e 7669 6465 6f27  , 'clocks.video'
+000058d0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+000058e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000058f0: 2020 2020 2020 276c 6f61 6469 6e67 273a        'loading':
+00005900: 2020 2020 2020 2020 2020 2827 7574 696c            ('util
+00005910: 697a 6174 696f 6e2e 6770 7527 2c20 292c  ization.gpu', ),
+00005920: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005940: 2020 2020 276d 656d 5f6c 6f61 6469 6e67      'mem_loading
+00005950: 273a 2020 2020 2020 2827 7574 696c 697a  ':      ('utiliz
+00005960: 6174 696f 6e2e 6d65 6d6f 7279 272c 2029  ation.memory', )
+00005970: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005990: 2020 2020 2027 6d65 6d5f 7672 616d 5f75       'mem_vram_u
+000059a0: 7365 6427 3a20 2020 2028 276d 656d 6f72  sed':    ('memor
+000059b0: 792e 7573 6564 272c 2029 2c0a 2020 2020  y.used', ),.    
+000059c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000059d0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+000059e0: 6661 6e5f 7370 6565 6427 3a20 2020 2020  fan_speed':     
+000059f0: 2020 2028 2766 616e 2e73 7065 6564 272c     ('fan.speed',
+00005a00: 2029 2c0a 2020 2020 2020 2020 2020 2020   ),.            
+00005a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a20: 2020 2020 2020 2027 7070 6d27 3a20 2020         'ppm':   
+00005a30: 2020 2020 2020 2020 2020 2028 2767 6f6d             ('gom
+00005a40: 2e63 7572 7265 6e74 272c 2029 2c0a 2020  .current', ),.  
 00005a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a60: 2020 2020 2020 2020 2020 2020 2027 6c69               'li
-00005a70: 6e6b 5f73 7064 273a 2020 2020 2020 2020  nk_spd':        
-00005a80: 2028 2770 6369 652e 6c69 6e6b 2e67 656e   ('pcie.link.gen
-00005a90: 2e63 7572 7265 6e74 272c 2029 2c0a 2020  .current', ),.  
-00005aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a70: 2027 6c69 6e6b 5f77 7468 273a 2020 2020   'link_wth':    
+00005a80: 2020 2020 2028 2770 6369 652e 6c69 6e6b       ('pcie.link
+00005a90: 2e77 6964 7468 2e63 7572 7265 6e74 272c  .width.current',
+00005aa0: 2029 2c0a 2020 2020 2020 2020 2020 2020   ),.            
 00005ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ac0: 2027 7073 7461 7465 7327 3a20 2020 2020   'pstates':     
-00005ad0: 2020 2020 2028 2770 7374 6174 6527 2c20       ('pstate', 
-00005ae0: 297d 2c0a 2020 2020 2020 2020 2020 2020  )},.            
-00005af0: 2020 2020 2020 2020 2020 5365 6e73 6f72            Sensor
-00005b00: 5365 742e 4d6f 6e69 746f 723a 207b 0a20  Set.Monitor: {. 
-00005b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b30: 2020 2770 6f77 6572 273a 2020 2020 2020    'power':      
-00005b40: 2020 2020 2020 2827 706f 7765 722e 6472        ('power.dr
-00005b50: 6177 272c 2029 2c0a 2020 2020 2020 2020  aw', ),.        
-00005b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005b70: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
-00005b80: 725f 6361 7027 3a20 2020 2020 2020 2028  r_cap':        (
-00005b90: 2770 6f77 6572 2e6c 696d 6974 272c 2029  'power.limit', )
-00005ba0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00005bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005bc0: 2020 2020 2027 7465 6d70 6572 6174 7572       'temperatur
-00005bd0: 6573 273a 2020 2020 2028 2774 656d 7065  es':     ('tempe
-00005be0: 7261 7475 7265 2e67 7075 272c 2029 2c0a  rature.gpu', ),.
-00005bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ac0: 2020 2020 2020 2027 6c69 6e6b 5f73 7064         'link_spd
+00005ad0: 273a 2020 2020 2020 2020 2028 2770 6369  ':         ('pci
+00005ae0: 652e 6c69 6e6b 2e67 656e 2e63 7572 7265  e.link.gen.curre
+00005af0: 6e74 272c 2029 2c0a 2020 2020 2020 2020  nt', ),.        
+00005b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b10: 2020 2020 2020 2020 2020 2027 7073 7461             'psta
+00005b20: 7465 7327 3a20 2020 2020 2020 2020 2028  tes':          (
+00005b30: 2770 7374 6174 6527 2c20 297d 2c0a 2020  'pstate', )},.  
+00005b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b50: 2020 2020 5365 6e73 6f72 5365 742e 4d6f      SensorSet.Mo
+00005b60: 6e69 746f 723a 207b 0a20 2020 2020 2020  nitor: {.       
+00005b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b80: 2020 2020 2020 2020 2020 2020 2770 6f77              'pow
+00005b90: 6572 273a 2020 2020 2020 2020 2020 2020  er':            
+00005ba0: 2827 706f 7765 722e 6472 6177 272c 2029  ('power.draw', )
+00005bb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005bd0: 2020 2020 2027 706f 7765 725f 6361 7027       'power_cap'
+00005be0: 3a20 2020 2020 2020 2028 2770 6f77 6572  :        ('power
+00005bf0: 2e6c 696d 6974 272c 2029 2c0a 2020 2020  .limit', ),.    
 00005c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c10: 2020 2027 6672 6571 7565 6e63 6965 7327     'frequencies'
-00005c20: 3a20 2020 2020 2028 2763 6c6f 636b 732e  :      ('clocks.
-00005c30: 6772 272c 2027 636c 6f63 6b73 2e6d 656d  gr', 'clocks.mem
-00005c40: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
+00005c10: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00005c20: 7465 6d70 6572 6174 7572 6573 273a 2020  temperatures':  
+00005c30: 2020 2028 2774 656d 7065 7261 7475 7265     ('temperature
+00005c40: 2e67 7075 272c 2029 2c0a 2020 2020 2020  .gpu', ),.      
 00005c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c60: 2020 2020 2020 2027 6c6f 6164 696e 6727         'loading'
-00005c70: 3a20 2020 2020 2020 2020 2028 2775 7469  :          ('uti
-00005c80: 6c69 7a61 7469 6f6e 2e67 7075 272c 2029  lization.gpu', )
-00005c90: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005c60: 2020 2020 2020 2020 2020 2020 2027 6672               'fr
+00005c70: 6571 7565 6e63 6965 7327 3a20 2020 2020  equencies':     
+00005c80: 2028 2763 6c6f 636b 732e 6772 272c 2027   ('clocks.gr', '
+00005c90: 636c 6f63 6b73 2e6d 656d 2729 2c0a 2020  clocks.mem'),.  
 00005ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005cb0: 2020 2020 2027 6d65 6d5f 6c6f 6164 696e       'mem_loadin
-00005cc0: 6727 3a20 2020 2020 2028 2775 7469 6c69  g':      ('utili
-00005cd0: 7a61 7469 6f6e 2e6d 656d 6f72 7927 2c20  zation.memory', 
-00005ce0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00005cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005cc0: 2027 6c6f 6164 696e 6727 3a20 2020 2020   'loading':     
+00005cd0: 2020 2020 2028 2775 7469 6c69 7a61 7469       ('utilizati
+00005ce0: 6f6e 2e67 7075 272c 2029 2c0a 2020 2020  on.gpu', ),.    
 00005cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d00: 2020 2020 2020 276d 656d 5f76 7261 6d5f        'mem_vram_
-00005d10: 7573 6564 273a 2020 2020 2827 6d65 6d6f  used':    ('memo
-00005d20: 7279 2e75 7365 6427 2c20 292c 0a20 2020  ry.used', ),.   
-00005d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d00: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00005d10: 6d65 6d5f 6c6f 6164 696e 6727 3a20 2020  mem_loading':   
+00005d20: 2020 2028 2775 7469 6c69 7a61 7469 6f6e     ('utilization
+00005d30: 2e6d 656d 6f72 7927 2c20 292c 0a20 2020  .memory', ),.   
 00005d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d50: 2766 616e 5f73 7065 6564 273a 2020 2020  'fan_speed':    
-00005d60: 2020 2020 2827 6661 6e2e 7370 6565 6427      ('fan.speed'
-00005d70: 2c20 292c 0a20 2020 2020 2020 2020 2020  , ),.           
-00005d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d90: 2020 2020 2020 2020 2770 706d 273a 2020          'ppm':  
-00005da0: 2020 2020 2020 2020 2020 2020 2827 676f              ('go
-00005db0: 6d2e 6375 7272 656e 7427 2c20 292c 0a20  m.current', ),. 
-00005dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d60: 276d 656d 5f76 7261 6d5f 7573 6564 273a  'mem_vram_used':
+00005d70: 2020 2020 2827 6d65 6d6f 7279 2e75 7365      ('memory.use
+00005d80: 6427 2c20 292c 0a20 2020 2020 2020 2020  d', ),.         
+00005d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005da0: 2020 2020 2020 2020 2020 2766 616e 5f73            'fan_s
+00005db0: 7065 6564 273a 2020 2020 2020 2020 2827  peed':        ('
+00005dc0: 6661 6e2e 7370 6565 6427 2c20 292c 0a20  fan.speed', ),. 
 00005dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005de0: 2020 2770 7374 6174 6573 273a 2020 2020    'pstates':    
-00005df0: 2020 2020 2020 2827 7073 7461 7465 272c        ('pstate',
-00005e00: 2029 7d2c 0a20 2020 2020 2020 2020 2020   )},.           
-00005e10: 2020 2020 2020 2020 2020 2053 656e 736f             Senso
-00005e20: 7253 6574 2e41 6c6c 3a20 7b0a 2020 2020  rSet.All: {.    
-00005e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e40: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00005e50: 706f 7765 725f 6361 7027 3a20 2020 2020  power_cap':     
-00005e60: 2020 2028 2770 6f77 6572 2e6c 696d 6974     ('power.limit
-00005e70: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
-00005e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e90: 2020 2020 2020 2020 2027 706f 7765 725f           'power_
-00005ea0: 6361 705f 7261 6e67 6527 3a20 2028 2770  cap_range':  ('p
-00005eb0: 6f77 6572 2e6d 696e 5f6c 696d 6974 272c  ower.min_limit',
-00005ec0: 2027 706f 7765 722e 6d61 785f 6c69 6d69   'power.max_limi
-00005ed0: 7427 292c 0a20 2020 2020 2020 2020 2020  t'),.           
+00005de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005df0: 2020 2770 706d 273a 2020 2020 2020 2020    'ppm':        
+00005e00: 2020 2020 2020 2827 676f 6d2e 6375 7272        ('gom.curr
+00005e10: 656e 7427 2c20 292c 0a20 2020 2020 2020  ent', ),.       
+00005e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e30: 2020 2020 2020 2020 2020 2020 2770 7374              'pst
+00005e40: 6174 6573 273a 2020 2020 2020 2020 2020  ates':          
+00005e50: 2827 7073 7461 7465 272c 2029 7d2c 0a20  ('pstate', )},. 
+00005e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005e70: 2020 2020 2053 656e 736f 7253 6574 2e41       SensorSet.A
+00005e80: 6c6c 3a20 7b0a 2020 2020 2020 2020 2020  ll: {.          
+00005e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ea0: 2020 2020 2020 2020 2027 706f 7765 725f           'power_
+00005eb0: 6361 7027 3a20 2020 2020 2020 2028 2770  cap':        ('p
+00005ec0: 6f77 6572 2e6c 696d 6974 272c 2029 2c0a  ower.limit', ),.
+00005ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ef0: 2020 2020 2020 2020 276d 656d 5f76 7261          'mem_vra
-00005f00: 6d5f 746f 7461 6c27 3a20 2020 2827 6d65  m_total':   ('me
-00005f10: 6d6f 7279 2e74 6f74 616c 272c 2029 2c0a  mory.total', ),.
-00005f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ef0: 2020 2027 706f 7765 725f 6361 705f 7261     'power_cap_ra
+00005f00: 6e67 6527 3a20 2028 2770 6f77 6572 2e6d  nge':  ('power.m
+00005f10: 696e 5f6c 696d 6974 272c 2027 706f 7765  in_limit', 'powe
+00005f20: 722e 6d61 785f 6c69 6d69 7427 292c 0a20  r.max_limit'),. 
 00005f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f40: 2020 2027 7662 696f 7327 3a20 2020 2020     'vbios':     
-00005f50: 2020 2020 2020 2028 2776 6269 6f73 5f76         ('vbios_v
-00005f60: 6572 7369 6f6e 272c 2029 2c0a 2020 2020  ersion', ),.    
-00005f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f80: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00005f90: 6472 6976 6572 273a 2020 2020 2020 2020  driver':        
-00005fa0: 2020 2028 2764 7269 7665 725f 7665 7273     ('driver_vers
-00005fb0: 696f 6e27 2c20 292c 0a20 2020 2020 2020  ion', ),.       
-00005fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005fd0: 2020 2020 2020 2020 2020 2020 2763 6f6d              'com
-00005fe0: 7075 7465 5f6d 6f64 6527 3a20 2020 2020  pute_mode':     
-00005ff0: 2827 636f 6d70 7574 655f 6d6f 6465 272c  ('compute_mode',
-00006000: 2029 2c0a 2020 2020 2020 2020 2020 2020   ),.            
-00006010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006020: 2020 2020 2020 2027 6d6f 6465 6c27 3a20         'model': 
-00006030: 2020 2020 2020 2020 2020 2028 276e 616d             ('nam
-00006040: 6527 2c20 292c 0a20 2020 2020 2020 2020  e', ),.         
-00006050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006060: 2020 2020 2020 2020 2020 2773 6572 6961            'seria
-00006070: 6c5f 6e75 6d62 6572 273a 2020 2020 2827  l_number':    ('
-00006080: 7365 7269 616c 272c 2029 2c0a 2020 2020  serial', ),.    
-00006090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060a0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-000060b0: 6361 7264 5f69 6e64 6578 273a 2020 2020  card_index':    
-000060c0: 2020 2028 2769 6e64 6578 272c 2029 2c0a     ('index', ),.
-000060d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000060f0: 2020 2027 756e 6971 7565 5f69 6427 3a20     'unique_id': 
-00006100: 2020 2020 2020 2028 2767 7075 5f75 7569         ('gpu_uui
-00006110: 6427 2c20 292c 0a20 2020 2020 2020 2020  d', ),.         
-00006120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006130: 2020 2020 2020 2020 2020 2770 6f77 6572            'power
-00006140: 273a 2020 2020 2020 2020 2020 2020 2827  ':            ('
-00006150: 706f 7765 722e 6472 6177 272c 2029 2c0a  power.draw', ),.
-00006160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006180: 2020 2027 7465 6d70 6572 6174 7572 6573     'temperatures
-00006190: 273a 2020 2020 2028 2774 656d 7065 7261  ':     ('tempera
-000061a0: 7475 7265 2e67 7075 272c 2027 7465 6d70  ture.gpu', 'temp
-000061b0: 6572 6174 7572 652e 6d65 6d6f 7279 2729  erature.memory')
-000061c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000061d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061e0: 2020 2020 2027 6672 6571 7565 6e63 6965       'frequencie
-000061f0: 7327 3a20 2020 2020 2028 2763 6c6f 636b  s':      ('clock
-00006200: 732e 6772 272c 2027 636c 6f63 6b73 2e73  s.gr', 'clocks.s
-00006210: 6d27 2c20 2763 6c6f 636b 732e 6d65 6d27  m', 'clocks.mem'
-00006220: 2c20 2763 6c6f 636b 732e 7669 6465 6f27  , 'clocks.video'
-00006230: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00006240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006250: 2020 2020 2020 2766 7265 7175 656e 6369        'frequenci
-00006260: 6573 5f6d 6178 273a 2020 2827 636c 6f63  es_max':  ('cloc
-00006270: 6b73 2e6d 6178 2e67 7227 2c20 2763 6c6f  ks.max.gr', 'clo
-00006280: 636b 732e 6d61 782e 736d 272c 2027 636c  cks.max.sm', 'cl
-00006290: 6f63 6b73 2e6d 6178 2e6d 656d 2729 2c0a  ocks.max.mem'),.
+00005f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f50: 2020 276d 656d 5f76 7261 6d5f 746f 7461    'mem_vram_tota
+00005f60: 6c27 3a20 2020 2827 6d65 6d6f 7279 2e74  l':   ('memory.t
+00005f70: 6f74 616c 272c 2029 2c0a 2020 2020 2020  otal', ),.      
+00005f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005f90: 2020 2020 2020 2020 2020 2020 2027 7662               'vb
+00005fa0: 696f 7327 3a20 2020 2020 2020 2020 2020  ios':           
+00005fb0: 2028 2776 6269 6f73 5f76 6572 7369 6f6e   ('vbios_version
+00005fc0: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
+00005fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005fe0: 2020 2020 2020 2020 2027 6472 6976 6572           'driver
+00005ff0: 273a 2020 2020 2020 2020 2020 2028 2764  ':           ('d
+00006000: 7269 7665 725f 7665 7273 696f 6e27 2c20  river_version', 
+00006010: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00006020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006030: 2020 2020 2020 2763 6f6d 7075 7465 5f6d        'compute_m
+00006040: 6f64 6527 3a20 2020 2020 2827 636f 6d70  ode':     ('comp
+00006050: 7574 655f 6d6f 6465 272c 2029 2c0a 2020  ute_mode', ),.  
+00006060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006080: 2027 6d6f 6465 6c27 3a20 2020 2020 2020   'model':       
+00006090: 2020 2020 2028 276e 616d 6527 2c20 292c       ('name', ),
+000060a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000060b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000060c0: 2020 2020 2773 6572 6961 6c5f 6e75 6d62      'serial_numb
+000060d0: 6572 273a 2020 2020 2827 7365 7269 616c  er':    ('serial
+000060e0: 272c 2029 2c0a 2020 2020 2020 2020 2020  ', ),.          
+000060f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006100: 2020 2020 2020 2020 2027 6361 7264 5f69           'card_i
+00006110: 6e64 6578 273a 2020 2020 2020 2028 2769  ndex':       ('i
+00006120: 6e64 6578 272c 2029 2c0a 2020 2020 2020  ndex', ),.      
+00006130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006140: 2020 2020 2020 2020 2020 2020 2027 756e               'un
+00006150: 6971 7565 5f69 6427 3a20 2020 2020 2020  ique_id':       
+00006160: 2028 2767 7075 5f75 7569 6427 2c20 292c   ('gpu_uuid', ),
+00006170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006190: 2020 2020 2770 6f77 6572 273a 2020 2020      'power':    
+000061a0: 2020 2020 2020 2020 2827 706f 7765 722e          ('power.
+000061b0: 6472 6177 272c 2029 2c0a 2020 2020 2020  draw', ),.      
+000061c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000061d0: 2020 2020 2020 2020 2020 2020 2027 7465               'te
+000061e0: 6d70 6572 6174 7572 6573 273a 2020 2020  mperatures':    
+000061f0: 2028 2774 656d 7065 7261 7475 7265 2e67   ('temperature.g
+00006200: 7075 272c 2027 7465 6d70 6572 6174 7572  pu', 'temperatur
+00006210: 652e 6d65 6d6f 7279 2729 2c0a 2020 2020  e.memory'),.    
+00006220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006230: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00006240: 6672 6571 7565 6e63 6965 7327 3a20 2020  frequencies':   
+00006250: 2020 2028 2763 6c6f 636b 732e 6772 272c     ('clocks.gr',
+00006260: 2027 636c 6f63 6b73 2e73 6d27 2c20 2763   'clocks.sm', 'c
+00006270: 6c6f 636b 732e 6d65 6d27 2c20 2763 6c6f  locks.mem', 'clo
+00006280: 636b 732e 7669 6465 6f27 292c 0a20 2020  cks.video'),.   
+00006290: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000062a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000062c0: 2020 2027 6c6f 6164 696e 6727 3a20 2020     'loading':   
-000062d0: 2020 2020 2020 2028 2775 7469 6c69 7a61         ('utiliza
-000062e0: 7469 6f6e 2e67 7075 272c 2029 2c0a 2020  tion.gpu', ),.  
-000062f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000062b0: 2766 7265 7175 656e 6369 6573 5f6d 6178  'frequencies_max
+000062c0: 273a 2020 2827 636c 6f63 6b73 2e6d 6178  ':  ('clocks.max
+000062d0: 2e67 7227 2c20 2763 6c6f 636b 732e 6d61  .gr', 'clocks.ma
+000062e0: 782e 736d 272c 2027 636c 6f63 6b73 2e6d  x.sm', 'clocks.m
+000062f0: 6178 2e6d 656d 2729 2c0a 2020 2020 2020  ax.mem'),.      
 00006300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006310: 2027 6d65 6d5f 6c6f 6164 696e 6727 3a20   'mem_loading': 
-00006320: 2020 2020 2028 2775 7469 6c69 7a61 7469       ('utilizati
-00006330: 6f6e 2e6d 656d 6f72 7927 2c20 292c 0a20  on.memory', ),. 
-00006340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006310: 2020 2020 2020 2020 2020 2020 2027 6c6f               'lo
+00006320: 6164 696e 6727 3a20 2020 2020 2020 2020  ading':         
+00006330: 2028 2775 7469 6c69 7a61 7469 6f6e 2e67   ('utilization.g
+00006340: 7075 272c 2029 2c0a 2020 2020 2020 2020  pu', ),.        
 00006350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006360: 2020 276d 656d 5f76 7261 6d5f 7573 6564    'mem_vram_used
-00006370: 273a 2020 2020 2827 6d65 6d6f 7279 2e75  ':    ('memory.u
-00006380: 7365 6427 2c20 292c 0a20 2020 2020 2020  sed', ),.       
-00006390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063a0: 2020 2020 2020 2020 2020 2020 2766 616e              'fan
-000063b0: 5f73 7065 6564 273a 2020 2020 2020 2020  _speed':        
-000063c0: 2827 6661 6e2e 7370 6565 6427 2c20 292c  ('fan.speed', ),
-000063d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000063e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000063f0: 2020 2020 2770 706d 273a 2020 2020 2020      'ppm':      
-00006400: 2020 2020 2020 2020 2827 676f 6d2e 6375          ('gom.cu
-00006410: 7272 656e 7427 2c20 292c 0a20 2020 2020  rrent', ),.     
-00006420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006430: 2020 2020 2020 2020 2020 2020 2020 276c                'l
-00006440: 696e 6b5f 7774 6827 3a20 2020 2020 2020  ink_wth':       
-00006450: 2020 2827 7063 6965 2e6c 696e 6b2e 7769    ('pcie.link.wi
-00006460: 6474 682e 6375 7272 656e 7427 2c20 292c  dth.current', ),
-00006470: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006360: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
+00006370: 6c6f 6164 696e 6727 3a20 2020 2020 2028  loading':      (
+00006380: 2775 7469 6c69 7a61 7469 6f6e 2e6d 656d  'utilization.mem
+00006390: 6f72 7927 2c20 292c 0a20 2020 2020 2020  ory', ),.       
+000063a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000063b0: 2020 2020 2020 2020 2020 2020 276d 656d              'mem
+000063c0: 5f76 7261 6d5f 7573 6564 273a 2020 2020  _vram_used':    
+000063d0: 2827 6d65 6d6f 7279 2e75 7365 6427 2c20  ('memory.used', 
+000063e0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+000063f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006400: 2020 2020 2020 2766 616e 5f73 7065 6564        'fan_speed
+00006410: 273a 2020 2020 2020 2020 2827 6661 6e2e  ':        ('fan.
+00006420: 7370 6565 6427 2c20 292c 0a20 2020 2020  speed', ),.     
+00006430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006440: 2020 2020 2020 2020 2020 2020 2020 2770                'p
+00006450: 706d 273a 2020 2020 2020 2020 2020 2020  pm':            
+00006460: 2020 2827 676f 6d2e 6375 7272 656e 7427    ('gom.current'
+00006470: 2c20 292c 0a20 2020 2020 2020 2020 2020  , ),.           
 00006480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006490: 2020 2020 276c 696e 6b5f 7370 6427 3a20      'link_spd': 
-000064a0: 2020 2020 2020 2020 2827 7063 6965 2e6c          ('pcie.l
-000064b0: 696e 6b2e 6765 6e2e 6375 7272 656e 7427  ink.gen.current'
-000064c0: 2c20 292c 0a20 2020 2020 2020 2020 2020  , ),.           
+00006490: 2020 2020 2020 2020 276c 696e 6b5f 7774          'link_wt
+000064a0: 6827 3a20 2020 2020 2020 2020 2827 7063  h':         ('pc
+000064b0: 6965 2e6c 696e 6b2e 7769 6474 682e 6375  ie.link.width.cu
+000064c0: 7272 656e 7427 2c20 292c 0a20 2020 2020  rrent', ),.     
 000064d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000064e0: 2020 2020 2020 2020 2770 7374 6174 6573          'pstates
-000064f0: 273a 2020 2020 2020 2020 2020 2827 7073  ':          ('ps
-00006500: 7461 7465 272c 2029 7d7d 0a0a 2020 2020  tate', )}}..    
-00006510: 7070 5f6f 645f 636c 6b5f 766f 6c74 6167  pp_od_clk_voltag
-00006520: 655f 6865 6164 6572 7320 3d20 5b27 4f44  e_headers = ['OD
-00006530: 5f53 434c 4b27 2c20 274f 445f 4d43 4c4b  _SCLK', 'OD_MCLK
-00006540: 272c 2027 4f44 5f56 4444 435f 4355 5256  ', 'OD_VDDC_CURV
-00006550: 4527 2c20 274f 445f 5241 4e47 4527 2c20  E', 'OD_RANGE', 
-00006560: 274f 445f 5644 4447 4658 5f4f 4646 5345  'OD_VDDGFX_OFFSE
-00006570: 5427 5d0a 0a20 2020 2064 6566 205f 5f72  T']..    def __r
-00006580: 6570 725f 5f28 7365 6c66 2920 2d3e 2073  epr__(self) -> s
-00006590: 7472 3a0a 2020 2020 2020 2020 2222 220a  tr:.        """.
-000065a0: 2020 2020 2020 2020 5265 7475 726e 2064          Return d
-000065b0: 6963 7469 6f6e 6172 7920 7265 7072 6573  ictionary repres
-000065c0: 656e 7469 6e67 2061 6c6c 2070 6172 7473  enting all parts
-000065d0: 206f 6620 7468 6520 4770 7549 7465 6d20   of the GpuItem 
-000065e0: 6f62 6a65 6374 2e0a 0a20 2020 2020 2020  object...       
-000065f0: 203a 7265 7475 726e 3a20 4469 6374 696f   :return: Dictio
-00006600: 6e61 7279 206f 6620 636f 7265 2047 5055  nary of core GPU
-00006610: 2070 6172 616d 6574 6572 732e 0a20 2020   parameters..   
-00006620: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00006630: 2072 6574 7572 6e20 7374 7228 7b27 7061   return str({'pa
-00006640: 7261 6d73 273a 2073 656c 662e 7072 6d2c  rams': self.prm,
-00006650: 2027 636c 696e 666f 273a 2073 656c 662e   'clinfo': self.
-00006660: 636c 696e 666f 2c0a 2020 2020 2020 2020  clinfo,.        
-00006670: 2020 2020 2020 2020 2020 2020 2773 636c              'scl
-00006680: 6b5f 7374 6174 6527 3a20 7365 6c66 2e73  k_state': self.s
-00006690: 636c 6b5f 7374 6174 652c 2027 6d63 6c6b  clk_state, 'mclk
-000066a0: 5f73 7461 7465 273a 2073 656c 662e 6d63  _state': self.mc
-000066b0: 6c6b 5f73 7461 7465 2c0a 2020 2020 2020  lk_state,.      
-000066c0: 2020 2020 2020 2020 2020 2020 2020 2776                'v
-000066d0: 6464 635f 6375 7276 6527 3a20 7365 6c66  ddc_curve': self
-000066e0: 2e76 6464 635f 6375 7276 652c 2027 7664  .vddc_curve, 'vd
-000066f0: 6463 5f63 7572 7665 5f72 616e 6765 273a  dc_curve_range':
-00006700: 2073 656c 662e 7664 6463 5f63 7572 7665   self.vddc_curve
-00006710: 5f72 616e 6765 2c0a 2020 2020 2020 2020  _range,.        
-00006720: 2020 2020 2020 2020 2020 2020 2770 706d              'ppm
-00006730: 5f6d 6f64 6573 273a 2073 656c 662e 7070  _modes': self.pp
-00006740: 6d5f 6d6f 6465 737d 290a 0a20 2020 2064  m_modes})..    d
-00006750: 6566 205f 5f73 7472 5f5f 2873 656c 6629  ef __str__(self)
-00006760: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-00006770: 2022 2222 0a20 2020 2020 2020 2052 6574   """.        Ret
-00006780: 7572 6e20 7369 6d70 6c65 2073 7472 696e  urn simple strin
-00006790: 6720 7265 7072 6573 656e 7469 6e67 2074  g representing t
-000067a0: 6865 2047 7075 4974 656d 206f 626a 6563  he GpuItem objec
-000067b0: 742e 0a0a 2020 2020 2020 2020 3a72 6574  t...        :ret
-000067c0: 7572 6e3a 2047 5055 5f69 7465 6d20 696e  urn: GPU_item in
-000067d0: 666f 726d 6174 696f 6e61 6c20 7374 7269  formational stri
-000067e0: 6e67 0a20 2020 2020 2020 2022 2222 0a20  ng.        """. 
-000067f0: 2020 2020 2020 2072 6574 7572 6e20 2747         return 'G
-00006800: 5055 5f49 7465 6d3a 2075 7569 643d 7b7d  PU_Item: uuid={}
-00006810: 272e 666f 726d 6174 2873 656c 662e 7072  '.format(self.pr
-00006820: 6d2e 7575 6964 290a 0a20 2020 2064 6566  m.uuid)..    def
-00006830: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-00006840: 6974 656d 5f69 643a 2073 7472 293a 0a20  item_id: str):. 
-00006850: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00006860: 2020 2049 6e69 7469 616c 697a 6520 4770     Initialize Gp
-00006870: 7549 7465 6d20 6f62 6a65 6374 2e0a 0a20  uItem object... 
-00006880: 2020 2020 2020 203a 7061 7261 6d20 6974         :param it
-00006890: 656d 5f69 643a 2020 5555 4944 206f 6620  em_id:  UUID of 
-000068a0: 7468 6520 6e65 7720 6974 656d 2e0a 2020  the new item..  
-000068b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000068c0: 2020 7469 6d65 5f30 203d 2047 5554 5f43    time_0 = GUT_C
-000068d0: 4f4e 5354 2e6e 6f77 2847 5554 5f43 4f4e  ONST.now(GUT_CON
-000068e0: 5354 2e75 7365 6c74 7a29 0a20 2020 2020  ST.useltz).     
-000068f0: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
-00006900: 645f 7365 6e73 6f72 733a 2062 6f6f 6c20  d_sensors: bool 
-00006910: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00006920: 7365 6c66 2e72 6561 645f 7469 6d65 203d  self.read_time =
-00006930: 2047 5554 5f43 4f4e 5354 2e6e 6f77 2847   GUT_CONST.now(G
-00006940: 5554 5f43 4f4e 5354 2e75 7365 6c74 7a29  UT_CONST.useltz)
-00006950: 0a20 2020 2020 2020 2073 656c 662e 656e  .        self.en
-00006960: 6572 6779 3a20 4469 6374 5b73 7472 2c20  ergy: Dict[str, 
-00006970: 416e 795d 203d 207b 2774 3027 3a20 7469  Any] = {'t0': ti
-00006980: 6d65 5f30 2c20 2774 6e27 3a20 7469 6d65  me_0, 'tn': time
-00006990: 5f30 2c20 2763 756d 756c 6174 6976 6527  _0, 'cumulative'
-000069a0: 3a20 302e 307d 0a20 2020 2020 2020 2073  : 0.0}.        s
-000069b0: 656c 662e 7265 6164 5f73 6b69 703a 2074  elf.read_skip: t
-000069c0: 7570 6c65 203d 2028 2920 2020 2023 204c  uple = ()    # L
-000069d0: 6973 7420 6f66 2070 6172 616d 6574 6572  ist of parameter
-000069e0: 7320 7468 6174 2061 7265 2074 6f20 6265  s that are to be
-000069f0: 2073 6b69 7070 6564 2e0a 2020 2020 2020   skipped..      
-00006a00: 2020 7365 6c66 2e72 6561 645f 6469 7361    self.read_disa
-00006a10: 626c 6564 3a20 4c69 7374 5b73 7472 5d20  bled: List[str] 
-00006a20: 3d20 5b5d 2020 2020 2320 4c69 7374 206f  = []    # List o
-00006a30: 6620 7061 7261 6d65 7465 7273 2074 6861  f parameters tha
-00006a40: 7420 6661 696c 6564 2064 7572 696e 6720  t failed during 
-00006a50: 7265 6164 2e0a 2020 2020 2020 2020 7365  read..        se
-00006a60: 6c66 2e77 7269 7465 5f64 6973 6162 6c65  lf.write_disable
-00006a70: 643a 204c 6973 745b 7374 725d 203d 205b  d: List[str] = [
-00006a80: 5d20 2020 2320 4c69 7374 206f 6620 7061  ]   # List of pa
-00006a90: 7261 6d65 7465 7273 2074 6861 7420 6661  rameters that fa
-00006aa0: 696c 6564 2064 7572 696e 6720 7772 6974  iled during writ
-00006ab0: 652e 0a20 2020 2020 2020 2073 656c 662e  e..        self.
-00006ac0: 7072 6d3a 204f 626a 4469 6374 203d 204f  prm: ObjDict = O
-00006ad0: 626a 4469 6374 287b 0a20 2020 2020 2020  bjDict({.       
-00006ae0: 2020 2020 2027 7575 6964 273a 2069 7465       'uuid': ite
-00006af0: 6d5f 6964 2c0a 2020 2020 2020 2020 2020  m_id,.          
-00006b00: 2020 2775 6e69 7175 655f 6964 273a 2027    'unique_id': '
-00006b10: 272c 0a20 2020 2020 2020 2020 2020 2027  ',.            '
-00006b20: 6361 7264 5f6e 756d 273a 204e 6f6e 652c  card_num': None,
-00006b30: 0a20 2020 2020 2020 2020 2020 2027 7063  .            'pc
-00006b40: 6965 5f69 6427 3a20 2727 2c0a 2020 2020  ie_id': '',.    
-00006b50: 2020 2020 2020 2020 2764 7269 7665 7227          'driver'
-00006b60: 3a20 2727 2c0a 2020 2020 2020 2020 2020  : '',.          
-00006b70: 2020 2776 656e 646f 7227 3a20 4770 7556    'vendor': GpuV
-00006b80: 656e 646f 722e 556e 6465 6669 6e65 642c  endor.Undefined,
-00006b90: 0a20 2020 2020 2020 2020 2020 2027 7070  .            'pp
-00006ba0: 5f66 6561 7475 7265 7327 3a20 2727 2c0a  _features': '',.
-00006bb0: 2020 2020 2020 2020 2020 2020 2772 6561              'rea
-00006bc0: 6461 626c 6527 3a20 4661 6c73 652c 0a20  dable': False,. 
-00006bd0: 2020 2020 2020 2020 2020 2027 7772 6974             'writ
-00006be0: 6162 6c65 273a 2046 616c 7365 2c0a 2020  able': False,.  
-00006bf0: 2020 2020 2020 2020 2020 2763 6f6d 7075            'compu
-00006c00: 7465 273a 2027 556e 6b6f 776e 272c 0a20  te': 'Unkown',. 
-00006c10: 2020 2020 2020 2020 2020 2027 636f 6d70             'comp
-00006c20: 7574 655f 706c 6174 666f 726d 273a 204e  ute_platform': N
-00006c30: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00006c40: 2027 636f 6d70 7574 655f 6d6f 6465 273a   'compute_mode':
-00006c50: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00006c60: 2020 2027 6770 755f 7479 7065 273a 2047     'gpu_type': G
-00006c70: 7075 5479 7065 2e55 6e64 6566 696e 6564  puType.Undefined
-00006c80: 2c0a 2020 2020 2020 2020 2020 2020 2769  ,.            'i
-00006c90: 6427 3a20 7b27 7665 6e64 6f72 273a 2027  d': {'vendor': '
-00006ca0: 272c 2027 6465 7669 6365 273a 2027 272c  ', 'device': '',
-00006cb0: 2027 7375 6273 7973 7465 6d5f 7665 6e64   'subsystem_vend
-00006cc0: 6f72 273a 2027 272c 2027 7375 6273 7973  or': '', 'subsys
-00006cd0: 7465 6d5f 6465 7669 6365 273a 2027 277d  tem_device': ''}
-00006ce0: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
-00006cf0: 6f64 656c 5f64 6576 6963 655f 6465 636f  odel_device_deco
-00006d00: 6465 273a 2027 554e 4445 5445 524d 494e  de': 'UNDETERMIN
-00006d10: 4544 272c 0a20 2020 2020 2020 2020 2020  ED',.           
-00006d20: 2027 6d6f 6465 6c27 3a20 2727 2c0a 2020   'model': '',.  
-00006d30: 2020 2020 2020 2020 2020 276d 6f64 656c            'model
-00006d40: 5f64 6973 706c 6179 273a 2027 272c 0a20  _display': '',. 
-00006d50: 2020 2020 2020 2020 2020 2027 7365 7269             'seri
-00006d60: 616c 5f6e 756d 6265 7227 3a20 2727 2c0a  al_number': '',.
-00006d70: 2020 2020 2020 2020 2020 2020 2763 6172              'car
-00006d80: 645f 696e 6465 7827 3a20 2727 2c0a 2020  d_index': '',.  
-00006d90: 2020 2020 2020 2020 2020 2763 6172 645f            'card_
-00006da0: 7061 7468 273a 2027 272c 0a20 2020 2020  path': '',.     
-00006db0: 2020 2020 2020 2027 7379 735f 6361 7264         'sys_card
-00006dc0: 5f70 6174 6827 3a20 2727 2c0a 2020 2020  _path': '',.    
-00006dd0: 2020 2020 2020 2020 2768 776d 6f6e 5f70          'hwmon_p
-00006de0: 6174 6827 3a20 2727 2c0a 2020 2020 2020  ath': '',.      
-00006df0: 2020 2020 2020 2765 6e65 7267 7927 3a20        'energy': 
-00006e00: 302e 302c 0a20 2020 2020 2020 2020 2020  0.0,.           
-00006e10: 2027 706f 7765 7227 3a20 4e6f 6e65 2c0a   'power': None,.
-00006e20: 2020 2020 2020 2020 2020 2020 2770 6f77              'pow
-00006e30: 6572 5f63 6170 273a 204e 6f6e 652c 0a20  er_cap': None,. 
-00006e40: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
-00006e50: 725f 6361 705f 7261 6e67 6527 3a20 5b4e  r_cap_range': [N
-00006e60: 6f6e 652c 204e 6f6e 655d 2c0a 2020 2020  one, None],.    
-00006e70: 2020 2020 2020 2020 2766 616e 5f65 6e61          'fan_ena
-00006e80: 626c 6527 3a20 4e6f 6e65 2c0a 2020 2020  ble': None,.    
-00006e90: 2020 2020 2020 2020 2770 776d 5f6d 6f64          'pwm_mod
-00006ea0: 6527 3a20 5b4e 6f6e 652c 2027 554e 4b27  e': [None, 'UNK'
-00006eb0: 5d2c 0a20 2020 2020 2020 2020 2020 2027  ],.            '
-00006ec0: 6661 6e5f 7077 6d27 3a20 4e6f 6e65 2c0a  fan_pwm': None,.
-00006ed0: 2020 2020 2020 2020 2020 2020 2766 616e              'fan
-00006ee0: 5f73 7065 6564 273a 204e 6f6e 652c 0a20  _speed': None,. 
-00006ef0: 2020 2020 2020 2020 2020 2027 6661 6e5f             'fan_
-00006f00: 7370 6565 645f 7261 6e67 6527 3a20 5b4e  speed_range': [N
-00006f10: 6f6e 652c 204e 6f6e 655d 2c0a 2020 2020  one, None],.    
-00006f20: 2020 2020 2020 2020 2766 616e 5f70 776d          'fan_pwm
-00006f30: 5f72 616e 6765 273a 205b 4e6f 6e65 2c20  _range': [None, 
-00006f40: 4e6f 6e65 5d2c 0a20 2020 2020 2020 2020  None],.         
-00006f50: 2020 2027 6661 6e5f 7461 7267 6574 273a     'fan_target':
-00006f60: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00006f70: 2020 2027 7465 6d70 5f63 7269 7473 273a     'temp_crits':
-00006f80: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00006f90: 2020 2027 7664 6467 6678 5f6f 6666 7365     'vddgfx_offse
-00006fa0: 7427 3a20 302c 0a20 2020 2020 2020 2020  t': 0,.         
-00006fb0: 2020 2027 7664 6467 6678 5f6f 6666 7365     'vddgfx_offse
-00006fc0: 745f 7261 6e67 6527 3a20 5b2d 3235 2c20  t_range': [-25, 
-00006fd0: 3235 5d2c 0a20 2020 2020 2020 2020 2020  25],.           
-00006fe0: 2027 7664 6467 6678 273a 204e 6f6e 652c   'vddgfx': None,
-00006ff0: 0a20 2020 2020 2020 2020 2020 2027 7664  .            'vd
-00007000: 6463 5f72 616e 6765 273a 205b 2727 2c20  dc_range': ['', 
-00007010: 2727 5d2c 0a20 2020 2020 2020 2020 2020  ''],.           
-00007020: 2027 7465 6d70 6572 6174 7572 6573 273a   'temperatures':
-00007030: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00007040: 2020 2027 766f 6c74 6167 6573 273a 204e     'voltages': N
-00007050: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00007060: 2027 6672 6571 7565 6e63 6965 7327 3a20   'frequencies': 
-00007070: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00007080: 2020 2766 7265 7175 656e 6369 6573 5f6d    'frequencies_m
-00007090: 6178 273a 204e 6f6e 652c 0a20 2020 2020  ax': None,.     
-000070a0: 2020 2020 2020 2027 6c6f 6164 696e 6727         'loading'
+000064e0: 2020 2020 2020 2020 2020 2020 2020 276c                'l
+000064f0: 696e 6b5f 7370 6427 3a20 2020 2020 2020  ink_spd':       
+00006500: 2020 2827 7063 6965 2e6c 696e 6b2e 6765    ('pcie.link.ge
+00006510: 6e2e 6375 7272 656e 7427 2c20 292c 0a20  n.current', ),. 
+00006520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006540: 2020 2770 7374 6174 6573 273a 2020 2020    'pstates':    
+00006550: 2020 2020 2020 2827 7073 7461 7465 272c        ('pstate',
+00006560: 2029 7d7d 0a0a 2020 2020 7070 5f6f 645f   )}}..    pp_od_
+00006570: 636c 6b5f 766f 6c74 6167 655f 6865 6164  clk_voltage_head
+00006580: 6572 7320 3d20 5b27 4f44 5f53 434c 4b27  ers = ['OD_SCLK'
+00006590: 2c20 274f 445f 4d43 4c4b 272c 2027 4f44  , 'OD_MCLK', 'OD
+000065a0: 5f56 4444 435f 4355 5256 4527 2c20 274f  _VDDC_CURVE', 'O
+000065b0: 445f 5241 4e47 4527 2c20 274f 445f 5644  D_RANGE', 'OD_VD
+000065c0: 4447 4658 5f4f 4646 5345 5427 5d0a 0a20  DGFX_OFFSET'].. 
+000065d0: 2020 2064 6566 205f 5f72 6570 725f 5f28     def __repr__(
+000065e0: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+000065f0: 2020 2020 2020 2222 2220 5265 7475 726e        """ Return
+00006600: 2064 6963 7469 6f6e 6172 7920 7265 7072   dictionary repr
+00006610: 6573 656e 7469 6e67 2061 6c6c 2070 6172  esenting all par
+00006620: 7473 206f 6620 7468 6520 4770 7549 7465  ts of the GpuIte
+00006630: 6d20 6f62 6a65 6374 2e0a 0a20 2020 2020  m object...     
+00006640: 2020 203a 7265 7475 726e 3a20 4469 6374     :return: Dict
+00006650: 696f 6e61 7279 206f 6620 636f 7265 2047  ionary of core G
+00006660: 5055 2070 6172 616d 6574 6572 732e 0a20  PU parameters.. 
+00006670: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00006680: 2020 2072 6574 7572 6e20 7374 7228 7b27     return str({'
+00006690: 7061 7261 6d73 273a 2073 656c 662e 7072  params': self.pr
+000066a0: 6d2c 2027 636c 696e 666f 273a 2073 656c  m, 'clinfo': sel
+000066b0: 662e 636c 696e 666f 2c0a 2020 2020 2020  f.clinfo,.      
+000066c0: 2020 2020 2020 2020 2020 2020 2020 2773                's
+000066d0: 636c 6b5f 7374 6174 6527 3a20 7365 6c66  clk_state': self
+000066e0: 2e73 636c 6b5f 7374 6174 652c 2027 6d63  .sclk_state, 'mc
+000066f0: 6c6b 5f73 7461 7465 273a 2073 656c 662e  lk_state': self.
+00006700: 6d63 6c6b 5f73 7461 7465 2c0a 2020 2020  mclk_state,.    
+00006710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006720: 2776 6464 635f 6375 7276 6527 3a20 7365  'vddc_curve': se
+00006730: 6c66 2e76 6464 635f 6375 7276 652c 2027  lf.vddc_curve, '
+00006740: 7664 6463 5f63 7572 7665 5f72 616e 6765  vddc_curve_range
+00006750: 273a 2073 656c 662e 7664 6463 5f63 7572  ': self.vddc_cur
+00006760: 7665 5f72 616e 6765 2c0a 2020 2020 2020  ve_range,.      
+00006770: 2020 2020 2020 2020 2020 2020 2020 2770                'p
+00006780: 706d 5f6d 6f64 6573 273a 2073 656c 662e  pm_modes': self.
+00006790: 7070 6d5f 6d6f 6465 737d 290a 0a20 2020  ppm_modes})..   
+000067a0: 2064 6566 205f 5f73 7472 5f5f 2873 656c   def __str__(sel
+000067b0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+000067c0: 2020 2022 2222 2052 6574 7572 6e20 7369     """ Return si
+000067d0: 6d70 6c65 2073 7472 696e 6720 7265 7072  mple string repr
+000067e0: 6573 656e 7469 6e67 2074 6865 2047 7075  esenting the Gpu
+000067f0: 4974 656d 206f 626a 6563 742e 0a0a 2020  Item object...  
+00006800: 2020 2020 2020 3a72 6574 7572 6e3a 2047        :return: G
+00006810: 5055 5f69 7465 6d20 696e 666f 726d 6174  PU_item informat
+00006820: 696f 6e61 6c20 7374 7269 6e67 0a20 2020  ional string.   
+00006830: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00006840: 2072 6574 7572 6e20 2747 5055 5f49 7465   return 'GPU_Ite
+00006850: 6d3a 2075 7569 643d 7b7d 272e 666f 726d  m: uuid={}'.form
+00006860: 6174 2873 656c 662e 7072 6d2e 7575 6964  at(self.prm.uuid
+00006870: 290a 0a20 2020 2064 6566 205f 5f69 6e69  )..    def __ini
+00006880: 745f 5f28 7365 6c66 2c20 6974 656d 5f69  t__(self, item_i
+00006890: 643a 2073 7472 293a 0a20 2020 2020 2020  d: str):.       
+000068a0: 2022 2222 2049 6e69 7469 616c 697a 6520   """ Initialize 
+000068b0: 4770 7549 7465 6d20 6f62 6a65 6374 2e0a  GpuItem object..
+000068c0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+000068d0: 6974 656d 5f69 643a 2020 5555 4944 206f  item_id:  UUID o
+000068e0: 6620 7468 6520 6e65 7720 6974 656d 2e0a  f the new item..
+000068f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00006900: 2020 2020 7469 6d65 5f30 203d 2047 5554      time_0 = GUT
+00006910: 5f43 4f4e 5354 2e6e 6f77 2847 5554 5f43  _CONST.now(GUT_C
+00006920: 4f4e 5354 2e75 7365 6c74 7a29 0a20 2020  ONST.useltz).   
+00006930: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
+00006940: 7465 645f 7365 6e73 6f72 733a 2062 6f6f  ted_sensors: boo
+00006950: 6c20 3d20 4661 6c73 650a 2020 2020 2020  l = False.      
+00006960: 2020 7365 6c66 2e72 6561 645f 7469 6d65    self.read_time
+00006970: 203d 2047 5554 5f43 4f4e 5354 2e6e 6f77   = GUT_CONST.now
+00006980: 2847 5554 5f43 4f4e 5354 2e75 7365 6c74  (GUT_CONST.uselt
+00006990: 7a29 0a20 2020 2020 2020 2073 656c 662e  z).        self.
+000069a0: 656e 6572 6779 3a20 4469 6374 5b73 7472  energy: Dict[str
+000069b0: 2c20 416e 795d 203d 207b 2774 3027 3a20  , Any] = {'t0': 
+000069c0: 7469 6d65 5f30 2c20 2774 6e27 3a20 7469  time_0, 'tn': ti
+000069d0: 6d65 5f30 2c20 2763 756d 756c 6174 6976  me_0, 'cumulativ
+000069e0: 6527 3a20 302e 307d 0a20 2020 2020 2020  e': 0.0}.       
+000069f0: 2073 656c 662e 7265 6164 5f73 6b69 703a   self.read_skip:
+00006a00: 2074 7570 6c65 203d 2028 2920 2020 2023   tuple = ()    #
+00006a10: 204c 6973 7420 6f66 2070 6172 616d 6574   List of paramet
+00006a20: 6572 7320 7468 6174 2061 7265 2074 6f20  ers that are to 
+00006a30: 6265 2073 6b69 7070 6564 2e0a 2020 2020  be skipped..    
+00006a40: 2020 2020 7365 6c66 2e72 6561 645f 6469      self.read_di
+00006a50: 7361 626c 6564 3a20 4c69 7374 5b73 7472  sabled: List[str
+00006a60: 5d20 3d20 5b5d 2020 2020 2320 4c69 7374  ] = []    # List
+00006a70: 206f 6620 7061 7261 6d65 7465 7273 2074   of parameters t
+00006a80: 6861 7420 6661 696c 6564 2064 7572 696e  hat failed durin
+00006a90: 6720 7265 6164 2e0a 2020 2020 2020 2020  g read..        
+00006aa0: 7365 6c66 2e77 7269 7465 5f64 6973 6162  self.write_disab
+00006ab0: 6c65 643a 204c 6973 745b 7374 725d 203d  led: List[str] =
+00006ac0: 205b 5d20 2020 2320 4c69 7374 206f 6620   []   # List of 
+00006ad0: 7061 7261 6d65 7465 7273 2074 6861 7420  parameters that 
+00006ae0: 6661 696c 6564 2064 7572 696e 6720 7772  failed during wr
+00006af0: 6974 652e 0a20 2020 2020 2020 2073 656c  ite..        sel
+00006b00: 662e 7072 6d3a 204f 626a 4469 6374 203d  f.prm: ObjDict =
+00006b10: 204f 626a 4469 6374 287b 0a20 2020 2020   ObjDict({.     
+00006b20: 2020 2020 2020 2027 7575 6964 273a 2069         'uuid': i
+00006b30: 7465 6d5f 6964 2c0a 2020 2020 2020 2020  tem_id,.        
+00006b40: 2020 2020 2775 6e69 7175 655f 6964 273a      'unique_id':
+00006b50: 2027 272c 0a20 2020 2020 2020 2020 2020   '',.           
+00006b60: 2027 6361 7264 5f6e 756d 273a 204e 6f6e   'card_num': Non
+00006b70: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00006b80: 7063 6965 5f69 6427 3a20 2727 2c0a 2020  pcie_id': '',.  
+00006b90: 2020 2020 2020 2020 2020 2764 7269 7665            'drive
+00006ba0: 7227 3a20 2727 2c0a 2020 2020 2020 2020  r': '',.        
+00006bb0: 2020 2020 2776 656e 646f 7227 3a20 4770      'vendor': Gp
+00006bc0: 7556 656e 646f 722e 556e 6465 6669 6e65  uVendor.Undefine
+00006bd0: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+00006be0: 7070 5f66 6561 7475 7265 7327 3a20 2727  pp_features': ''
+00006bf0: 2c0a 2020 2020 2020 2020 2020 2020 2772  ,.            'r
+00006c00: 6561 6461 626c 6527 3a20 4661 6c73 652c  eadable': False,
+00006c10: 0a20 2020 2020 2020 2020 2020 2027 7772  .            'wr
+00006c20: 6974 6162 6c65 273a 2046 616c 7365 2c0a  itable': False,.
+00006c30: 2020 2020 2020 2020 2020 2020 2763 6f6d              'com
+00006c40: 7075 7465 273a 2027 556e 6b6f 776e 272c  pute': 'Unkown',
+00006c50: 0a20 2020 2020 2020 2020 2020 2027 636f  .            'co
+00006c60: 6d70 7574 655f 706c 6174 666f 726d 273a  mpute_platform':
+00006c70: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00006c80: 2020 2027 636f 6d70 7574 655f 6d6f 6465     'compute_mode
+00006c90: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00006ca0: 2020 2020 2027 6770 755f 7479 7065 273a       'gpu_type':
+00006cb0: 2047 7075 5479 7065 2e55 6e64 6566 696e   GpuType.Undefin
+00006cc0: 6564 2c0a 2020 2020 2020 2020 2020 2020  ed,.            
+00006cd0: 2769 6427 3a20 7b27 7665 6e64 6f72 273a  'id': {'vendor':
+00006ce0: 2027 272c 2027 6465 7669 6365 273a 2027   '', 'device': '
+00006cf0: 272c 2027 7375 6273 7973 7465 6d5f 7665  ', 'subsystem_ve
+00006d00: 6e64 6f72 273a 2027 272c 2027 7375 6273  ndor': '', 'subs
+00006d10: 7973 7465 6d5f 6465 7669 6365 273a 2027  ystem_device': '
+00006d20: 277d 2c0a 2020 2020 2020 2020 2020 2020  '},.            
+00006d30: 276d 6f64 656c 5f64 6576 6963 655f 6465  'model_device_de
+00006d40: 636f 6465 273a 2027 554e 4445 5445 524d  code': 'UNDETERM
+00006d50: 494e 4544 272c 0a20 2020 2020 2020 2020  INED',.         
+00006d60: 2020 2027 6d6f 6465 6c27 3a20 2727 2c0a     'model': '',.
+00006d70: 2020 2020 2020 2020 2020 2020 276d 6f64              'mod
+00006d80: 656c 5f64 6973 706c 6179 273a 2027 272c  el_display': '',
+00006d90: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
+00006da0: 7269 616c 5f6e 756d 6265 7227 3a20 2727  rial_number': ''
+00006db0: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+00006dc0: 6172 645f 696e 6465 7827 3a20 2727 2c0a  ard_index': '',.
+00006dd0: 2020 2020 2020 2020 2020 2020 2763 6172              'car
+00006de0: 645f 7061 7468 273a 2027 272c 0a20 2020  d_path': '',.   
+00006df0: 2020 2020 2020 2020 2027 7379 735f 6361           'sys_ca
+00006e00: 7264 5f70 6174 6827 3a20 2727 2c0a 2020  rd_path': '',.  
+00006e10: 2020 2020 2020 2020 2020 2768 776d 6f6e            'hwmon
+00006e20: 5f70 6174 6827 3a20 2727 2c0a 2020 2020  _path': '',.    
+00006e30: 2020 2020 2020 2020 2765 6e65 7267 7927          'energy'
+00006e40: 3a20 302e 302c 0a20 2020 2020 2020 2020  : 0.0,.         
+00006e50: 2020 2027 706f 7765 7227 3a20 4e6f 6e65     'power': None
+00006e60: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
+00006e70: 6f77 6572 5f63 6170 273a 204e 6f6e 652c  ower_cap': None,
+00006e80: 0a20 2020 2020 2020 2020 2020 2027 706f  .            'po
+00006e90: 7765 725f 6361 705f 7261 6e67 6527 3a20  wer_cap_range': 
+00006ea0: 5b4e 6f6e 652c 204e 6f6e 655d 2c0a 2020  [None, None],.  
+00006eb0: 2020 2020 2020 2020 2020 2766 616e 5f65            'fan_e
+00006ec0: 6e61 626c 6527 3a20 4e6f 6e65 2c0a 2020  nable': None,.  
+00006ed0: 2020 2020 2020 2020 2020 2770 776d 5f6d            'pwm_m
+00006ee0: 6f64 6527 3a20 5b4e 6f6e 652c 2027 554e  ode': [None, 'UN
+00006ef0: 4b27 5d2c 0a20 2020 2020 2020 2020 2020  K'],.           
+00006f00: 2027 6661 6e5f 7077 6d27 3a20 4e6f 6e65   'fan_pwm': None
+00006f10: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
+00006f20: 616e 5f73 7065 6564 273a 204e 6f6e 652c  an_speed': None,
+00006f30: 0a20 2020 2020 2020 2020 2020 2027 6661  .            'fa
+00006f40: 6e5f 7370 6565 645f 7261 6e67 6527 3a20  n_speed_range': 
+00006f50: 5b4e 6f6e 652c 204e 6f6e 655d 2c0a 2020  [None, None],.  
+00006f60: 2020 2020 2020 2020 2020 2766 616e 5f70            'fan_p
+00006f70: 776d 5f72 616e 6765 273a 205b 4e6f 6e65  wm_range': [None
+00006f80: 2c20 4e6f 6e65 5d2c 0a20 2020 2020 2020  , None],.       
+00006f90: 2020 2020 2027 6661 6e5f 7461 7267 6574       'fan_target
+00006fa0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00006fb0: 2020 2020 2027 7465 6d70 5f63 7269 7473       'temp_crits
+00006fc0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00006fd0: 2020 2020 2027 7664 6467 6678 5f6f 6666       'vddgfx_off
+00006fe0: 7365 7427 3a20 302c 0a20 2020 2020 2020  set': 0,.       
+00006ff0: 2020 2020 2027 7664 6467 6678 5f6f 6666       'vddgfx_off
+00007000: 7365 745f 7261 6e67 6527 3a20 5b2d 3235  set_range': [-25
+00007010: 2c20 3235 5d2c 0a20 2020 2020 2020 2020  , 25],.         
+00007020: 2020 2027 7664 6467 6678 273a 204e 6f6e     'vddgfx': Non
+00007030: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00007040: 7664 6463 5f72 616e 6765 273a 205b 2727  vddc_range': [''
+00007050: 2c20 2727 5d2c 0a20 2020 2020 2020 2020  , ''],.         
+00007060: 2020 2027 7465 6d70 6572 6174 7572 6573     'temperatures
+00007070: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00007080: 2020 2020 2027 766f 6c74 6167 6573 273a       'voltages':
+00007090: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+000070a0: 2020 2027 6672 6571 7565 6e63 6965 7327     'frequencies'
 000070b0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-000070c0: 2020 2020 276d 656d 5f6c 6f61 6469 6e67      'mem_loading
-000070d0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
-000070e0: 2020 2020 2027 6d65 6d5f 7672 616d 5f74       'mem_vram_t
-000070f0: 6f74 616c 273a 204e 6f6e 652c 0a20 2020  otal': None,.   
-00007100: 2020 2020 2020 2020 2027 6d65 6d5f 7672           'mem_vr
-00007110: 616d 5f75 7365 6427 3a20 4e6f 6e65 2c0a  am_used': None,.
-00007120: 2020 2020 2020 2020 2020 2020 276d 656d              'mem
-00007130: 5f76 7261 6d5f 7573 6167 6527 3a20 4e6f  _vram_usage': No
-00007140: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00007150: 276d 656d 5f67 7474 5f74 6f74 616c 273a  'mem_gtt_total':
-00007160: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00007170: 2020 2027 6d65 6d5f 6774 745f 7573 6564     'mem_gtt_used
-00007180: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
-00007190: 2020 2020 2027 6d65 6d5f 6774 745f 7573       'mem_gtt_us
-000071a0: 6167 6527 3a20 4e6f 6e65 2c0a 2020 2020  age': None,.    
-000071b0: 2020 2020 2020 2020 2770 7374 6174 6527          'pstate'
-000071c0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-000071d0: 2020 2020 276d 636c 6b5f 7073 273a 205b      'mclk_ps': [
-000071e0: 2727 2c20 2727 5d2c 0a20 2020 2020 2020  '', ''],.       
-000071f0: 2020 2020 2027 6d63 6c6b 5f66 5f72 616e       'mclk_f_ran
-00007200: 6765 273a 205b 2727 2c20 2727 5d2c 0a20  ge': ['', ''],. 
-00007210: 2020 2020 2020 2020 2020 2027 6d63 6c6b             'mclk
-00007220: 5f6d 6173 6b27 3a20 2727 2c0a 2020 2020  _mask': '',.    
-00007230: 2020 2020 2020 2020 2773 636c 6b5f 7073          'sclk_ps
-00007240: 273a 205b 2727 2c20 2727 5d2c 0a20 2020  ': ['', ''],.   
-00007250: 2020 2020 2020 2020 2027 7363 6c6b 5f66           'sclk_f
-00007260: 5f72 616e 6765 273a 205b 2727 2c20 2727  _range': ['', ''
-00007270: 5d2c 0a20 2020 2020 2020 2020 2020 2027  ],.            '
-00007280: 7363 6c6b 5f6d 6173 6b27 3a20 2727 2c0a  sclk_mask': '',.
-00007290: 2020 2020 2020 2020 2020 2020 276c 696e              'lin
-000072a0: 6b5f 7370 6427 3a20 2727 2c0a 2020 2020  k_spd': '',.    
-000072b0: 2020 2020 2020 2020 276c 696e 6b5f 7774          'link_wt
-000072c0: 6827 3a20 2727 2c0a 2020 2020 2020 2020  h': '',.        
-000072d0: 2020 2020 2770 706d 273a 2027 272c 0a20      'ppm': '',. 
-000072e0: 2020 2020 2020 2020 2020 2027 706f 7765             'powe
-000072f0: 725f 6470 6d5f 7374 6174 6527 3a20 2727  r_dpm_state': ''
-00007300: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
-00007310: 6f77 6572 5f64 706d 5f66 6f72 6365 273a  ower_dpm_force':
-00007320: 2027 272c 0a20 2020 2020 2020 2020 2020   '',.           
-00007330: 2027 7662 696f 7327 3a20 2727 7d29 0a20   'vbios': ''}). 
-00007340: 2020 2020 2020 2073 656c 662e 636c 696e         self.clin
-00007350: 666f 3a20 4f62 6a44 6963 7420 3d20 4f62  fo: ObjDict = Ob
-00007360: 6a44 6963 7428 7b0a 2020 2020 2020 2020  jDict({.        
-00007370: 2020 2020 2764 6576 6963 655f 6e61 6d65      'device_name
-00007380: 273a 2027 272c 0a20 2020 2020 2020 2020  ': '',.         
-00007390: 2020 2027 6465 7669 6365 5f76 6572 7369     'device_versi
-000073a0: 6f6e 273a 2027 272c 0a20 2020 2020 2020  on': '',.       
-000073b0: 2020 2020 2027 6472 6976 6572 5f76 6572       'driver_ver
-000073c0: 7369 6f6e 273a 2027 272c 0a20 2020 2020  sion': '',.     
-000073d0: 2020 2020 2020 2027 6f70 656e 636c 5f76         'opencl_v
-000073e0: 6572 7369 6f6e 273a 2027 272c 0a20 2020  ersion': '',.   
-000073f0: 2020 2020 2020 2020 2027 7063 6965 5f69           'pcie_i
-00007400: 6427 3a20 2727 2c0a 2020 2020 2020 2020  d': '',.        
-00007410: 2020 2020 276d 6178 5f63 7527 3a20 2727      'max_cu': ''
-00007420: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-00007430: 696d 645f 7065 725f 6375 273a 2027 272c  imd_per_cu': '',
-00007440: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
-00007450: 6d64 5f77 6964 7468 273a 2027 272c 0a20  md_width': '',. 
-00007460: 2020 2020 2020 2020 2020 2027 7369 6d64             'simd
-00007470: 5f69 6e73 5f77 6964 7468 273a 2027 272c  _ins_width': '',
-00007480: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
-00007490: 785f 6d65 6d5f 616c 6c6f 6361 7469 6f6e  x_mem_allocation
-000074a0: 273a 2027 272c 0a20 2020 2020 2020 2020  ': '',.         
-000074b0: 2020 2027 6d61 785f 7769 5f64 696d 273a     'max_wi_dim':
-000074c0: 2027 272c 0a20 2020 2020 2020 2020 2020   '',.           
-000074d0: 2027 6d61 785f 7769 5f73 697a 6573 273a   'max_wi_sizes':
-000074e0: 2027 272c 0a20 2020 2020 2020 2020 2020   '',.           
-000074f0: 2027 6d61 785f 7767 5f73 697a 6527 3a20   'max_wg_size': 
-00007500: 2727 2c0a 2020 2020 2020 2020 2020 2020  '',.            
-00007510: 2770 7266 5f77 675f 7369 7a65 273a 2027  'prf_wg_size': '
-00007520: 272c 0a20 2020 2020 2020 2020 2020 2027  ',.            '
-00007530: 7072 665f 7767 5f6d 756c 7469 706c 6527  prf_wg_multiple'
-00007540: 3a20 2727 7d29 0a20 2020 2020 2020 2073  : ''}).        s
-00007550: 656c 662e 616c 6c5f 7073 7461 7465 733a  elf.all_pstates:
-00007560: 2044 6963 745b 7374 722c 2044 6963 745b   Dict[str, Dict[
-00007570: 696e 742c 2064 6963 745d 5d20 3d20 7b7d  int, dict]] = {}
-00007580: 2020 2320 2743 4c4b 273a 207b 4e3a 207b    # 'CLK': {N: {
-00007590: 2776 616c 7565 273a 2027 4d48 7a27 2c20  'value': 'MHz', 
-000075a0: 2773 7461 7465 273a 2062 6f6f 6c7d 7d0a  'state': bool}}.
-000075b0: 2020 2020 2020 2020 7365 6c66 2e73 636c          self.scl
-000075c0: 6b5f 6470 6d5f 7374 6174 653a 2044 6963  k_dpm_state: Dic
-000075d0: 745b 696e 742c 2073 7472 5d20 3d20 7b7d  t[int, str] = {}
-000075e0: 2020 2020 2020 2020 2020 2023 207b 313a             # {1:
-000075f0: 2027 4d68 7a27 7d0a 2020 2020 2020 2020   'Mhz'}.        
-00007600: 7365 6c66 2e6d 636c 6b5f 6470 6d5f 7374  self.mclk_dpm_st
-00007610: 6174 653a 2044 6963 745b 696e 742c 2073  ate: Dict[int, s
-00007620: 7472 5d20 3d20 7b7d 2020 2020 2020 2020  tr] = {}        
-00007630: 2020 2023 207b 313a 2027 4d68 7a27 7d0a     # {1: 'Mhz'}.
-00007640: 2020 2020 2020 2020 7365 6c66 2e73 636c          self.scl
-00007650: 6b5f 7374 6174 653a 2044 6963 745b 696e  k_state: Dict[in
-00007660: 742c 204c 6973 745b 7374 725d 5d20 3d20  t, List[str]] = 
-00007670: 7b7d 2020 2020 2020 2020 2023 207b 313a  {}         # {1:
-00007680: 205b 274d 687a 272c 2027 6d56 275d 7d0a   ['Mhz', 'mV']}.
-00007690: 2020 2020 2020 2020 7365 6c66 2e6d 636c          self.mcl
-000076a0: 6b5f 7374 6174 653a 2044 6963 745b 696e  k_state: Dict[in
-000076b0: 742c 204c 6973 745b 7374 725d 5d20 3d20  t, List[str]] = 
-000076c0: 7b7d 2020 2020 2020 2020 2023 207b 313a  {}         # {1:
-000076d0: 205b 274d 687a 272c 2027 6d56 275d 7d0a   ['Mhz', 'mV']}.
-000076e0: 2020 2020 2020 2020 7365 6c66 2e76 6464          self.vdd
-000076f0: 635f 6375 7276 653a 2044 6963 745b 696e  c_curve: Dict[in
-00007700: 742c 204c 6973 745b 7374 725d 5d20 3d20  t, List[str]] = 
-00007710: 7b7d 2020 2020 2020 2020 2023 207b 313a  {}         # {1:
-00007720: 205b 274d 687a 272c 2027 6d56 275d 7d0a   ['Mhz', 'mV']}.
-00007730: 2020 2020 2020 2020 7365 6c66 2e76 6464          self.vdd
-00007740: 635f 6375 7276 655f 7261 6e67 653a 2044  c_curve_range: D
-00007750: 6963 745b 696e 742c 2064 6963 745d 203d  ict[int, dict] =
-00007760: 207b 7d20 2020 2020 2020 2023 207b 313a   {}        # {1:
-00007770: 207b 2753 434c 4b27 3a20 5b27 7661 6c31   {'SCLK': ['val1
-00007780: 272c 2027 7661 6c32 275d 2c20 2756 4f4c  ', 'val2'], 'VOL
-00007790: 5427 3a20 5b27 7661 6c31 272c 2027 7661  T': ['val1', 'va
-000077a0: 6c32 275d 7d0a 2020 2020 2020 2020 7365  l2']}.        se
-000077b0: 6c66 2e70 706d 5f6d 6f64 6573 3a20 4469  lf.ppm_modes: Di
-000077c0: 6374 5b73 7472 2c20 4c69 7374 5b73 7472  ct[str, List[str
-000077d0: 5d5d 203d 207b 7d20 2020 2020 2020 2020  ]] = {}         
-000077e0: 2023 207b 2731 273a 205b 274e 616d 6527   # {'1': ['Name'
-000077f0: 2c20 2744 6573 6372 6970 7469 6f6e 275d  , 'Description']
-00007800: 7d0a 2020 2020 2020 2020 7365 6c66 2e72  }.        self.r
-00007810: 6177 3a20 4469 6374 5b73 7472 2c20 6469  aw: Dict[str, di
-00007820: 6374 5d20 3d20 7b27 4445 5649 4345 273a  ct] = {'DEVICE':
-00007830: 207b 7d2c 2027 4857 4d4f 4e27 3a20 7b7d   {}, 'HWMON': {}
-00007840: 7d0a 2020 2020 2020 2020 7365 6c66 2e74  }.        self.t
-00007850: 6162 6c65 5f70 6172 616d 6574 6572 735f  able_parameters_
-00007860: 7374 6174 7573 3a20 4469 6374 5b73 7472  status: Dict[str
-00007870: 2c20 626f 6f6c 5d20 3d20 7b7d 0a20 2020  , bool] = {}.   
-00007880: 2020 2020 2066 6f72 2069 7465 6d20 696e       for item in
-00007890: 2073 656c 662e 7461 626c 655f 7061 7261   self.table_para
-000078a0: 6d65 7465 7273 3a0a 2020 2020 2020 2020  meters:.        
-000078b0: 2020 2020 7365 6c66 2e74 6162 6c65 5f70      self.table_p
-000078c0: 6172 616d 6574 6572 735f 7374 6174 7573  arameters_status
-000078d0: 2e75 7064 6174 6528 7b69 7465 6d3a 2054  .update({item: T
-000078e0: 7275 657d 290a 0a20 2020 2020 2020 2073  rue})..        s
-000078f0: 656c 662e 6669 6e61 6c69 7a65 5f66 616e  elf.finalize_fan
-00007900: 5f6f 7074 696f 6e28 290a 0a20 2020 2040  _option()..    @
-00007910: 636c 6173 736d 6574 686f 640a 2020 2020  classmethod.    
-00007920: 6465 6620 6669 6e61 6c69 7a65 5f66 616e  def finalize_fan
-00007930: 5f6f 7074 696f 6e28 636c 7329 202d 3e20  _option(cls) -> 
-00007940: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-00007950: 220a 2020 2020 2020 2020 4669 6e61 6c69  ".        Finali
-00007960: 7a65 2063 6c61 7373 2076 6172 6961 626c  ze class variabl
-00007970: 6573 206f 6620 6770 7520 7061 7261 6d65  es of gpu parame
-00007980: 7465 7273 2062 6173 6564 206f 6e20 636f  ters based on co
-00007990: 6d6d 616e 6420 6c69 6e65 206f 7074 696f  mmand line optio
-000079a0: 6e73 2e20 5468 6973 206d 7573 7420 6265  ns. This must be
-000079b0: 0a20 2020 2020 2020 2064 6f6e 6520 6166  .        done af
-000079c0: 7465 7220 7365 7474 696e 6720 6f66 2065  ter setting of e
-000079d0: 6e76 2e20 2044 6f69 6e67 2069 7420 6174  nv.  Doing it at
-000079e0: 2074 6865 2069 6e73 7461 6e74 6961 7469   the instantiati
-000079f0: 6f6e 206f 6620 6120 4770 7549 7465 6d20  on of a GpuItem 
-00007a00: 6173 7375 7265 7320 7468 6174 2e0a 2020  assures that..  
-00007a10: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00007a20: 2020 6966 2063 6c73 2e5f 6669 6e61 6c69    if cls._finali
-00007a30: 7a65 643a 2072 6574 7572 6e0a 2020 2020  zed: return.    
-00007a40: 2020 2020 636c 732e 5f66 696e 616c 697a      cls._finaliz
-00007a50: 6564 203d 2054 7275 650a 2020 2020 2020  ed = True.      
-00007a60: 2020 6966 206e 6f74 2047 5554 5f43 4f4e    if not GUT_CON
-00007a70: 5354 2e73 686f 775f 6661 6e73 3a0a 2020  ST.show_fans:.  
-00007a80: 2020 2020 2020 2020 2020 666f 7220 6661            for fa
-00007a90: 6e5f 6974 656d 2069 6e20 636c 732e 5f66  n_item in cls._f
-00007aa0: 616e 5f69 7465 6d5f 6c69 7374 3a0a 2020  an_item_list:.  
-00007ab0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00007ac0: 5265 6d6f 7665 2066 616e 2070 6172 616d  Remove fan param
-00007ad0: 7320 6672 6f6d 2047 5055 5f50 6172 616d  s from GPU_Param
-00007ae0: 5f4c 6162 656c 730a 2020 2020 2020 2020  _Labels.        
-00007af0: 2020 2020 2020 2020 6966 2066 616e 5f69          if fan_i
-00007b00: 7465 6d20 696e 2063 6c73 2e5f 4750 555f  tem in cls._GPU_
-00007b10: 5061 7261 6d5f 4c61 6265 6c73 3a0a 2020  Param_Labels:.  
-00007b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b30: 2020 6465 6c20 636c 732e 5f47 5055 5f50    del cls._GPU_P
-00007b40: 6172 616d 5f4c 6162 656c 735b 6661 6e5f  aram_Labels[fan_
-00007b50: 6974 656d 5d0a 2020 2020 2020 2020 2020  item].          
-00007b60: 2020 2020 2020 2320 5265 6d6f 7665 2066        # Remove f
-00007b70: 616e 2070 6172 616d 7320 6672 6f6d 2054  an params from T
-00007b80: 6162 6c65 5f50 6172 616d 5f4c 6162 656c  able_Param_Label
-00007b90: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00007ba0: 2020 6966 2066 616e 5f69 7465 6d20 696e    if fan_item in
-00007bb0: 2063 6c73 2e74 6162 6c65 5f70 6172 616d   cls.table_param
-00007bc0: 5f6c 6162 656c 733a 0a20 2020 2020 2020  _labels:.       
-00007bd0: 2020 2020 2020 2020 2020 2020 2064 656c               del
-00007be0: 2063 6c73 2e74 6162 6c65 5f70 6172 616d   cls.table_param
-00007bf0: 5f6c 6162 656c 735b 6661 6e5f 6974 656d  _labels[fan_item
-00007c00: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00007c10: 2020 2320 5265 6d6f 7665 2066 616e 2070    # Remove fan p
-00007c20: 6172 616d 7320 6672 6f6d 2053 656e 736f  arams from Senso
-00007c30: 7253 6574 730a 2020 2020 2020 2020 2020  rSets.          
-00007c40: 2020 2020 2020 666f 7220 7365 6e73 6f72        for sensor
-00007c50: 5f73 6574 2069 6e20 2853 656e 736f 7253  _set in (SensorS
-00007c60: 6574 2e53 7461 7469 632c 2053 656e 736f  et.Static, Senso
-00007c70: 7253 6574 2e44 796e 616d 6963 2c20 5365  rSet.Dynamic, Se
-00007c80: 6e73 6f72 5365 742e 4d6f 6e69 746f 722c  nsorSet.Monitor,
-00007c90: 2053 656e 736f 7253 6574 2e41 6c6c 293a   SensorSet.All):
-00007ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007cb0: 2020 2020 2069 6620 6661 6e5f 6974 656d       if fan_item
-00007cc0: 2069 6e20 636c 732e 7365 6e73 6f72 5f73   in cls.sensor_s
-00007cd0: 6574 735b 7365 6e73 6f72 5f73 6574 5d5b  ets[sensor_set][
-00007ce0: 2748 574d 4f4e 275d 3a0a 2020 2020 2020  'HWMON']:.      
-00007cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d00: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00007d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d20: 2020 2063 6c73 2e73 656e 736f 725f 7365     cls.sensor_se
-00007d30: 7473 5b73 656e 736f 725f 7365 745d 5b27  ts[sensor_set]['
-00007d40: 4857 4d4f 4e27 5d2e 7265 6d6f 7665 2866  HWMON'].remove(f
-00007d50: 616e 5f69 7465 6d29 0a20 2020 2020 2020  an_item).       
-00007d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007d70: 2065 7863 6570 7420 5661 6c75 6545 7272   except ValueErr
-00007d80: 6f72 3a20 7061 7373 0a20 2020 2020 2020  or: pass.       
-00007d90: 2020 2020 2020 2020 2023 2052 656d 6f76           # Remov
-00007da0: 6520 6661 6e20 7061 7261 6d73 2066 726f  e fan params fro
-00007db0: 6d20 7461 626c 6520 7061 7261 6d20 6c69  m table param li
-00007dc0: 7374 0a20 2020 2020 2020 2020 2020 2020  st.             
-00007dd0: 2020 2069 6620 6661 6e5f 6974 656d 2069     if fan_item i
-00007de0: 6e20 636c 732e 7461 626c 655f 7061 7261  n cls.table_para
-00007df0: 6d65 7465 7273 3a0a 2020 2020 2020 2020  meters:.        
-00007e00: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00007e10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007e20: 2020 2020 2020 2020 2063 6c73 2e73 686f           cls.sho
-00007e30: 7274 5f74 6162 6c65 5f70 6172 616d 6574  rt_table_paramet
-00007e40: 6572 732e 7265 6d6f 7665 2866 616e 5f69  ers.remove(fan_i
-00007e50: 7465 6d29 0a20 2020 2020 2020 2020 2020  tem).           
-00007e60: 2020 2020 2020 2020 2020 2020 2063 6c73               cls
-00007e70: 2e74 6162 6c65 5f70 6172 616d 6574 6572  .table_parameter
+000070c0: 2020 2020 2766 7265 7175 656e 6369 6573      'frequencies
+000070d0: 5f6d 6178 273a 204e 6f6e 652c 0a20 2020  _max': None,.   
+000070e0: 2020 2020 2020 2020 2027 6c6f 6164 696e           'loadin
+000070f0: 6727 3a20 4e6f 6e65 2c0a 2020 2020 2020  g': None,.      
+00007100: 2020 2020 2020 276d 656d 5f6c 6f61 6469        'mem_loadi
+00007110: 6e67 273a 204e 6f6e 652c 0a20 2020 2020  ng': None,.     
+00007120: 2020 2020 2020 2027 6d65 6d5f 7672 616d         'mem_vram
+00007130: 5f74 6f74 616c 273a 204e 6f6e 652c 0a20  _total': None,. 
+00007140: 2020 2020 2020 2020 2020 2027 6d65 6d5f             'mem_
+00007150: 7672 616d 5f75 7365 6427 3a20 4e6f 6e65  vram_used': None
+00007160: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
+00007170: 656d 5f76 7261 6d5f 7573 6167 6527 3a20  em_vram_usage': 
+00007180: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00007190: 2020 276d 656d 5f67 7474 5f74 6f74 616c    'mem_gtt_total
+000071a0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+000071b0: 2020 2020 2027 6d65 6d5f 6774 745f 7573       'mem_gtt_us
+000071c0: 6564 273a 204e 6f6e 652c 0a20 2020 2020  ed': None,.     
+000071d0: 2020 2020 2020 2027 6d65 6d5f 6774 745f         'mem_gtt_
+000071e0: 7573 6167 6527 3a20 4e6f 6e65 2c0a 2020  usage': None,.  
+000071f0: 2020 2020 2020 2020 2020 2770 7374 6174            'pstat
+00007200: 6527 3a20 4e6f 6e65 2c0a 2020 2020 2020  e': None,.      
+00007210: 2020 2020 2020 276d 636c 6b5f 7073 273a        'mclk_ps':
+00007220: 205b 2727 2c20 2727 5d2c 0a20 2020 2020   ['', ''],.     
+00007230: 2020 2020 2020 2027 6d63 6c6b 5f66 5f72         'mclk_f_r
+00007240: 616e 6765 273a 205b 2727 2c20 2727 5d2c  ange': ['', ''],
+00007250: 0a20 2020 2020 2020 2020 2020 2027 6d63  .            'mc
+00007260: 6c6b 5f6d 6173 6b27 3a20 2727 2c0a 2020  lk_mask': '',.  
+00007270: 2020 2020 2020 2020 2020 2773 636c 6b5f            'sclk_
+00007280: 7073 273a 205b 2727 2c20 2727 5d2c 0a20  ps': ['', ''],. 
+00007290: 2020 2020 2020 2020 2020 2027 7363 6c6b             'sclk
+000072a0: 5f66 5f72 616e 6765 273a 205b 2727 2c20  _f_range': ['', 
+000072b0: 2727 5d2c 0a20 2020 2020 2020 2020 2020  ''],.           
+000072c0: 2027 7363 6c6b 5f6d 6173 6b27 3a20 2727   'sclk_mask': ''
+000072d0: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+000072e0: 696e 6b5f 7370 6427 3a20 2727 2c0a 2020  ink_spd': '',.  
+000072f0: 2020 2020 2020 2020 2020 276c 696e 6b5f            'link_
+00007300: 7774 6827 3a20 2727 2c0a 2020 2020 2020  wth': '',.      
+00007310: 2020 2020 2020 2770 706d 273a 2027 272c        'ppm': '',
+00007320: 0a20 2020 2020 2020 2020 2020 2027 706f  .            'po
+00007330: 7765 725f 6470 6d5f 7374 6174 6527 3a20  wer_dpm_state': 
+00007340: 2727 2c0a 2020 2020 2020 2020 2020 2020  '',.            
+00007350: 2770 6f77 6572 5f64 706d 5f66 6f72 6365  'power_dpm_force
+00007360: 273a 2027 272c 0a20 2020 2020 2020 2020  ': '',.         
+00007370: 2020 2027 7662 696f 7327 3a20 2727 7d29     'vbios': ''})
+00007380: 0a20 2020 2020 2020 2073 656c 662e 636c  .        self.cl
+00007390: 696e 666f 3a20 4f62 6a44 6963 7420 3d20  info: ObjDict = 
+000073a0: 4f62 6a44 6963 7428 7b0a 2020 2020 2020  ObjDict({.      
+000073b0: 2020 2020 2020 2764 6576 6963 655f 6e61        'device_na
+000073c0: 6d65 273a 2027 272c 0a20 2020 2020 2020  me': '',.       
+000073d0: 2020 2020 2027 6465 7669 6365 5f76 6572       'device_ver
+000073e0: 7369 6f6e 273a 2027 272c 0a20 2020 2020  sion': '',.     
+000073f0: 2020 2020 2020 2027 6472 6976 6572 5f76         'driver_v
+00007400: 6572 7369 6f6e 273a 2027 272c 0a20 2020  ersion': '',.   
+00007410: 2020 2020 2020 2020 2027 6f70 656e 636c           'opencl
+00007420: 5f76 6572 7369 6f6e 273a 2027 272c 0a20  _version': '',. 
+00007430: 2020 2020 2020 2020 2020 2027 7063 6965             'pcie
+00007440: 5f69 6427 3a20 2727 2c0a 2020 2020 2020  _id': '',.      
+00007450: 2020 2020 2020 276d 6178 5f63 7527 3a20        'max_cu': 
+00007460: 2727 2c0a 2020 2020 2020 2020 2020 2020  '',.            
+00007470: 2773 696d 645f 7065 725f 6375 273a 2027  'simd_per_cu': '
+00007480: 272c 0a20 2020 2020 2020 2020 2020 2027  ',.            '
+00007490: 7369 6d64 5f77 6964 7468 273a 2027 272c  simd_width': '',
+000074a0: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+000074b0: 6d64 5f69 6e73 5f77 6964 7468 273a 2027  md_ins_width': '
+000074c0: 272c 0a20 2020 2020 2020 2020 2020 2027  ',.            '
+000074d0: 6d61 785f 6d65 6d5f 616c 6c6f 6361 7469  max_mem_allocati
+000074e0: 6f6e 273a 2027 272c 0a20 2020 2020 2020  on': '',.       
+000074f0: 2020 2020 2027 6d61 785f 7769 5f64 696d       'max_wi_dim
+00007500: 273a 2027 272c 0a20 2020 2020 2020 2020  ': '',.         
+00007510: 2020 2027 6d61 785f 7769 5f73 697a 6573     'max_wi_sizes
+00007520: 273a 2027 272c 0a20 2020 2020 2020 2020  ': '',.         
+00007530: 2020 2027 6d61 785f 7767 5f73 697a 6527     'max_wg_size'
+00007540: 3a20 2727 2c0a 2020 2020 2020 2020 2020  : '',.          
+00007550: 2020 2770 7266 5f77 675f 7369 7a65 273a    'prf_wg_size':
+00007560: 2027 272c 0a20 2020 2020 2020 2020 2020   '',.           
+00007570: 2027 7072 665f 7767 5f6d 756c 7469 706c   'prf_wg_multipl
+00007580: 6527 3a20 2727 7d29 0a20 2020 2020 2020  e': ''}).       
+00007590: 2073 656c 662e 616c 6c5f 7073 7461 7465   self.all_pstate
+000075a0: 733a 2044 6963 745b 7374 722c 2044 6963  s: Dict[str, Dic
+000075b0: 745b 696e 742c 2064 6963 745d 5d20 3d20  t[int, dict]] = 
+000075c0: 7b7d 2020 2320 2743 4c4b 273a 207b 4e3a  {}  # 'CLK': {N:
+000075d0: 207b 2776 616c 7565 273a 2027 4d48 7a27   {'value': 'MHz'
+000075e0: 2c20 2773 7461 7465 273a 2062 6f6f 6c7d  , 'state': bool}
+000075f0: 7d0a 2020 2020 2020 2020 7365 6c66 2e73  }.        self.s
+00007600: 636c 6b5f 6470 6d5f 7374 6174 653a 2044  clk_dpm_state: D
+00007610: 6963 745b 696e 742c 2073 7472 5d20 3d20  ict[int, str] = 
+00007620: 7b7d 2020 2020 2020 2020 2020 2023 207b  {}           # {
+00007630: 313a 2027 4d68 7a27 7d0a 2020 2020 2020  1: 'Mhz'}.      
+00007640: 2020 7365 6c66 2e6d 636c 6b5f 6470 6d5f    self.mclk_dpm_
+00007650: 7374 6174 653a 2044 6963 745b 696e 742c  state: Dict[int,
+00007660: 2073 7472 5d20 3d20 7b7d 2020 2020 2020   str] = {}      
+00007670: 2020 2020 2023 207b 313a 2027 4d68 7a27       # {1: 'Mhz'
+00007680: 7d0a 2020 2020 2020 2020 7365 6c66 2e73  }.        self.s
+00007690: 636c 6b5f 7374 6174 653a 2044 6963 745b  clk_state: Dict[
+000076a0: 696e 742c 204c 6973 745b 7374 725d 5d20  int, List[str]] 
+000076b0: 3d20 7b7d 2020 2020 2020 2020 2023 207b  = {}         # {
+000076c0: 313a 205b 274d 687a 272c 2027 6d56 275d  1: ['Mhz', 'mV']
+000076d0: 7d0a 2020 2020 2020 2020 7365 6c66 2e6d  }.        self.m
+000076e0: 636c 6b5f 7374 6174 653a 2044 6963 745b  clk_state: Dict[
+000076f0: 696e 742c 204c 6973 745b 7374 725d 5d20  int, List[str]] 
+00007700: 3d20 7b7d 2020 2020 2020 2020 2023 207b  = {}         # {
+00007710: 313a 205b 274d 687a 272c 2027 6d56 275d  1: ['Mhz', 'mV']
+00007720: 7d0a 2020 2020 2020 2020 7365 6c66 2e76  }.        self.v
+00007730: 6464 635f 6375 7276 653a 2044 6963 745b  ddc_curve: Dict[
+00007740: 696e 742c 204c 6973 745b 7374 725d 5d20  int, List[str]] 
+00007750: 3d20 7b7d 2020 2020 2020 2020 2023 207b  = {}         # {
+00007760: 313a 205b 274d 687a 272c 2027 6d56 275d  1: ['Mhz', 'mV']
+00007770: 7d0a 2020 2020 2020 2020 7365 6c66 2e76  }.        self.v
+00007780: 6464 635f 6375 7276 655f 7261 6e67 653a  ddc_curve_range:
+00007790: 2044 6963 745b 696e 742c 2064 6963 745d   Dict[int, dict]
+000077a0: 203d 207b 7d20 2020 2020 2020 2023 207b   = {}        # {
+000077b0: 313a 207b 2753 434c 4b27 3a20 5b27 7661  1: {'SCLK': ['va
+000077c0: 6c31 272c 2027 7661 6c32 275d 2c20 2756  l1', 'val2'], 'V
+000077d0: 4f4c 5427 3a20 5b27 7661 6c31 272c 2027  OLT': ['val1', '
+000077e0: 7661 6c32 275d 7d0a 2020 2020 2020 2020  val2']}.        
+000077f0: 7365 6c66 2e70 706d 5f6d 6f64 6573 3a20  self.ppm_modes: 
+00007800: 4469 6374 5b73 7472 2c20 4c69 7374 5b73  Dict[str, List[s
+00007810: 7472 5d5d 203d 207b 7d20 2020 2020 2020  tr]] = {}       
+00007820: 2020 2023 207b 2731 273a 205b 274e 616d     # {'1': ['Nam
+00007830: 6527 2c20 2744 6573 6372 6970 7469 6f6e  e', 'Description
+00007840: 275d 7d0a 2020 2020 2020 2020 7365 6c66  ']}.        self
+00007850: 2e72 6177 3a20 4469 6374 5b73 7472 2c20  .raw: Dict[str, 
+00007860: 6469 6374 5d20 3d20 7b27 4445 5649 4345  dict] = {'DEVICE
+00007870: 273a 207b 7d2c 2027 4857 4d4f 4e27 3a20  ': {}, 'HWMON': 
+00007880: 7b7d 7d0a 2020 2020 2020 2020 7365 6c66  {}}.        self
+00007890: 2e74 6162 6c65 5f70 6172 616d 6574 6572  .table_parameter
+000078a0: 735f 7374 6174 7573 3a20 4469 6374 5b73  s_status: Dict[s
+000078b0: 7472 2c20 626f 6f6c 5d20 3d20 7b7d 0a20  tr, bool] = {}. 
+000078c0: 2020 2020 2020 2066 6f72 2069 7465 6d20         for item 
+000078d0: 696e 2073 656c 662e 7461 626c 655f 7061  in self.table_pa
+000078e0: 7261 6d65 7465 7273 3a0a 2020 2020 2020  rameters:.      
+000078f0: 2020 2020 2020 7365 6c66 2e74 6162 6c65        self.table
+00007900: 5f70 6172 616d 6574 6572 735f 7374 6174  _parameters_stat
+00007910: 7573 2e75 7064 6174 6528 7b69 7465 6d3a  us.update({item:
+00007920: 2054 7275 657d 290a 0a20 2020 2020 2020   True})..       
+00007930: 2073 656c 662e 6669 6e61 6c69 7a65 5f66   self.finalize_f
+00007940: 616e 5f6f 7074 696f 6e28 290a 0a20 2020  an_option()..   
+00007950: 2040 636c 6173 736d 6574 686f 640a 2020   @classmethod.  
+00007960: 2020 6465 6620 6669 6e61 6c69 7a65 5f66    def finalize_f
+00007970: 616e 5f6f 7074 696f 6e28 636c 7329 202d  an_option(cls) -
+00007980: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+00007990: 2222 2220 4669 6e61 6c69 7a65 2063 6c61  """ Finalize cla
+000079a0: 7373 2076 6172 6961 626c 6573 206f 6620  ss variables of 
+000079b0: 6770 7520 7061 7261 6d65 7465 7273 2062  gpu parameters b
+000079c0: 6173 6564 206f 6e20 636f 6d6d 616e 6420  ased on command 
+000079d0: 6c69 6e65 206f 7074 696f 6e73 2e20 5468  line options. Th
+000079e0: 6973 206d 7573 7420 6265 0a20 2020 2020  is must be.     
+000079f0: 2020 2020 2020 2064 6f6e 6520 6166 7465         done afte
+00007a00: 7220 7365 7474 696e 6720 6f66 2065 6e76  r setting of env
+00007a10: 2e20 2044 6f69 6e67 2069 7420 6174 2074  .  Doing it at t
+00007a20: 6865 2069 6e73 7461 6e74 6961 7469 6f6e  he instantiation
+00007a30: 206f 6620 6120 4770 7549 7465 6d20 6173   of a GpuItem as
+00007a40: 7375 7265 7320 7468 6174 2e0a 2020 2020  sures that..    
+00007a50: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007a60: 6966 2063 6c73 2e5f 6669 6e61 6c69 7a65  if cls._finalize
+00007a70: 643a 2072 6574 7572 6e0a 2020 2020 2020  d: return.      
+00007a80: 2020 636c 732e 5f66 696e 616c 697a 6564    cls._finalized
+00007a90: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00007aa0: 6966 206e 6f74 2047 5554 5f43 4f4e 5354  if not GUT_CONST
+00007ab0: 2e73 686f 775f 6661 6e73 3a0a 2020 2020  .show_fans:.    
+00007ac0: 2020 2020 2020 2020 666f 7220 6661 6e5f          for fan_
+00007ad0: 6974 656d 2069 6e20 636c 732e 5f66 616e  item in cls._fan
+00007ae0: 5f69 7465 6d5f 6c69 7374 3a0a 2020 2020  _item_list:.    
+00007af0: 2020 2020 2020 2020 2020 2020 2320 5265              # Re
+00007b00: 6d6f 7665 2066 616e 2070 6172 616d 7320  move fan params 
+00007b10: 6672 6f6d 2047 5055 5f50 6172 616d 5f4c  from GPU_Param_L
+00007b20: 6162 656c 730a 2020 2020 2020 2020 2020  abels.          
+00007b30: 2020 2020 2020 6966 2066 616e 5f69 7465        if fan_ite
+00007b40: 6d20 696e 2063 6c73 2e5f 4750 555f 5061  m in cls._GPU_Pa
+00007b50: 7261 6d5f 4c61 6265 6c73 3a0a 2020 2020  ram_Labels:.    
+00007b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007b70: 6465 6c20 636c 732e 5f47 5055 5f50 6172  del cls._GPU_Par
+00007b80: 616d 5f4c 6162 656c 735b 6661 6e5f 6974  am_Labels[fan_it
+00007b90: 656d 5d0a 2020 2020 2020 2020 2020 2020  em].            
+00007ba0: 2020 2020 2320 5265 6d6f 7665 2066 616e      # Remove fan
+00007bb0: 2070 6172 616d 7320 6672 6f6d 2054 6162   params from Tab
+00007bc0: 6c65 5f50 6172 616d 5f4c 6162 656c 730a  le_Param_Labels.
+00007bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007be0: 6966 2066 616e 5f69 7465 6d20 696e 2063  if fan_item in c
+00007bf0: 6c73 2e74 6162 6c65 5f70 6172 616d 5f6c  ls.table_param_l
+00007c00: 6162 656c 733a 0a20 2020 2020 2020 2020  abels:.         
+00007c10: 2020 2020 2020 2020 2020 2064 656c 2063             del c
+00007c20: 6c73 2e74 6162 6c65 5f70 6172 616d 5f6c  ls.table_param_l
+00007c30: 6162 656c 735b 6661 6e5f 6974 656d 5d0a  abels[fan_item].
+00007c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c50: 2320 5265 6d6f 7665 2066 616e 2070 6172  # Remove fan par
+00007c60: 616d 7320 6672 6f6d 2053 656e 736f 7253  ams from SensorS
+00007c70: 6574 730a 2020 2020 2020 2020 2020 2020  ets.            
+00007c80: 2020 2020 666f 7220 7365 6e73 6f72 5f73      for sensor_s
+00007c90: 6574 2069 6e20 2853 656e 736f 7253 6574  et in (SensorSet
+00007ca0: 2e53 7461 7469 632c 2053 656e 736f 7253  .Static, SensorS
+00007cb0: 6574 2e44 796e 616d 6963 2c20 5365 6e73  et.Dynamic, Sens
+00007cc0: 6f72 5365 742e 4d6f 6e69 746f 722c 2053  orSet.Monitor, S
+00007cd0: 656e 736f 7253 6574 2e41 6c6c 293a 0a20  ensorSet.All):. 
+00007ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007cf0: 2020 2069 6620 6661 6e5f 6974 656d 2069     if fan_item i
+00007d00: 6e20 636c 732e 7365 6e73 6f72 5f73 6574  n cls.sensor_set
+00007d10: 735b 7365 6e73 6f72 5f73 6574 5d5b 2748  s[sensor_set]['H
+00007d20: 574d 4f4e 275d 3a0a 2020 2020 2020 2020  WMON']:.        
+00007d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d40: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00007d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007d60: 2063 6c73 2e73 656e 736f 725f 7365 7473   cls.sensor_sets
+00007d70: 5b73 656e 736f 725f 7365 745d 5b27 4857  [sensor_set]['HW
+00007d80: 4d4f 4e27 5d2e 7265 6d6f 7665 2866 616e  MON'].remove(fan
+00007d90: 5f69 7465 6d29 0a20 2020 2020 2020 2020  _item).         
+00007da0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00007db0: 7863 6570 7420 5661 6c75 6545 7272 6f72  xcept ValueError
+00007dc0: 3a20 7061 7373 0a20 2020 2020 2020 2020  : pass.         
+00007dd0: 2020 2020 2020 2023 2052 656d 6f76 6520         # Remove 
+00007de0: 6661 6e20 7061 7261 6d73 2066 726f 6d20  fan params from 
+00007df0: 7461 626c 6520 7061 7261 6d20 6c69 7374  table param list
+00007e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007e10: 2069 6620 6661 6e5f 6974 656d 2069 6e20   if fan_item in 
+00007e20: 636c 732e 7461 626c 655f 7061 7261 6d65  cls.table_parame
+00007e30: 7465 7273 3a0a 2020 2020 2020 2020 2020  ters:.          
+00007e40: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+00007e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e60: 2020 2020 2020 2063 6c73 2e73 686f 7274         cls.short
+00007e70: 5f74 6162 6c65 5f70 6172 616d 6574 6572  _table_parameter
 00007e80: 732e 7265 6d6f 7665 2866 616e 5f69 7465  s.remove(fan_ite
 00007e90: 6d29 0a20 2020 2020 2020 2020 2020 2020  m).             
-00007ea0: 2020 2020 2020 2065 7863 6570 7420 5661         except Va
-00007eb0: 6c75 6545 7272 6f72 3a20 7061 7373 0a0a  lueError: pass..
-00007ec0: 2020 2020 4063 6c61 7373 6d65 7468 6f64      @classmethod
-00007ed0: 0a20 2020 2064 6566 2069 735f 6170 7528  .    def is_apu(
-00007ee0: 636c 732c 206e 616d 653a 2073 7472 2920  cls, name: str) 
-00007ef0: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
-00007f00: 2022 2222 0a20 2020 2020 2020 2043 6865   """.        Che
-00007f10: 636b 2069 6620 6769 7665 6e20 4750 5520  ck if given GPU 
-00007f20: 6e61 6d65 2069 7320 616e 2041 5055 2e0a  name is an APU..
-00007f30: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00007f40: 6e61 6d65 3a20 5461 7267 6574 2047 5055  name: Target GPU
-00007f50: 206e 616d 650a 2020 2020 2020 2020 3a72   name.        :r
-00007f60: 6574 7572 6e3a 2054 7275 6520 6966 206e  eturn: True if n
-00007f70: 616d 6520 6d61 7463 6865 7320 4150 5520  ame matches APU 
-00007f80: 6e61 6d65 0a20 2020 2020 2020 2022 2222  name.        """
-00007f90: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00007fa0: 6e61 6d65 3a20 7265 7475 726e 2046 616c  name: return Fal
-00007fb0: 7365 0a20 2020 2020 2020 2066 6f72 2061  se.        for a
-00007fc0: 7075 5f6e 616d 6520 696e 2063 6c73 2e5f  pu_name in cls._
-00007fd0: 6170 755f 6770 7573 3a0a 2020 2020 2020  apu_gpus:.      
-00007fe0: 2020 2020 2020 6966 2072 652e 7365 6172        if re.sear
-00007ff0: 6368 2861 7075 5f6e 616d 652c 206e 616d  ch(apu_name, nam
-00008000: 652c 2072 652e 4947 4e4f 5245 4341 5345  e, re.IGNORECASE
-00008010: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00008020: 2020 2072 6574 7572 6e20 5472 7565 0a20     return True. 
-00008030: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-00008040: 6c73 650a 0a20 2020 2040 636c 6173 736d  lse..    @classm
-00008050: 6574 686f 640a 2020 2020 6465 6620 6765  ethod.    def ge
-00008060: 745f 6275 7474 6f6e 5f6c 6162 656c 2863  t_button_label(c
-00008070: 6c73 2c20 6e61 6d65 3a20 7374 7229 202d  ls, name: str) -
-00008080: 3e20 7374 723a 0a20 2020 2020 2020 2022  > str:.        "
-00008090: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-000080a0: 6e20 6275 7474 6f6e 206c 6162 656c 2066  n button label f
-000080b0: 6f72 2067 6976 656e 2070 6172 616d 6574  or given paramet
-000080c0: 6572 206e 616d 652e 0a0a 2020 2020 2020  er name...      
-000080d0: 2020 3a70 6172 616d 206e 616d 653a 2050    :param name: P
-000080e0: 6172 616d 6574 6572 206e 616d 650a 2020  arameter name.  
-000080f0: 2020 2020 2020 3a72 6574 7572 6e3a 2020        :return:  
-00008100: 4275 7474 6f6e 206c 6162 656c 0a20 2020  Button label.   
-00008110: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00008120: 2069 6620 6e61 6d65 206e 6f74 2069 6e20   if name not in 
-00008130: 636c 732e 5f62 7574 746f 6e5f 6c61 6265  cls._button_labe
-00008140: 6c73 3a0a 2020 2020 2020 2020 2020 2020  ls:.            
-00008150: 7261 6973 6520 4b65 7945 7272 6f72 2827  raise KeyError('
-00008160: 7b7d 206e 6f74 2069 6e20 6275 7474 6f6e  {} not in button
-00008170: 5f6c 6162 656c 2064 6963 7427 2e66 6f72  _label dict'.for
-00008180: 6d61 7428 6e61 6d65 2929 0a20 2020 2020  mat(name)).     
-00008190: 2020 2072 6574 7572 6e20 636c 732e 5f62     return cls._b
-000081a0: 7574 746f 6e5f 6c61 6265 6c73 5b6e 616d  utton_labels[nam
-000081b0: 655d 0a0a 2020 2020 6465 6620 7365 745f  e]..    def set_
-000081c0: 7061 7261 6d73 5f76 616c 7565 2873 656c  params_value(sel
-000081d0: 662c 206e 616d 653a 2073 7472 2c20 7661  f, name: str, va
-000081e0: 6c75 653a 2055 6e69 6f6e 5b69 6e74 2c20  lue: Union[int, 
-000081f0: 666c 6f61 742c 2073 7472 2c20 6c69 7374  float, str, list
-00008200: 2c20 4e6f 6e65 5d29 202d 3e20 4e6f 6e65  , None]) -> None
-00008210: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00008220: 2020 2020 2020 5365 7420 7061 7261 6d65        Set parame
-00008230: 7465 7220 7661 6c75 6520 666f 7220 6769  ter value for gi
-00008240: 7665 206e 616d 652e 0a0a 2020 2020 2020  ve name...      
-00008250: 2020 3a70 6172 616d 206e 616d 653a 2020    :param name:  
-00008260: 5061 7261 6d65 7465 7220 6e61 6d65 0a20  Parameter name. 
-00008270: 2020 2020 2020 203a 7061 7261 6d20 7661         :param va
-00008280: 6c75 653a 2020 7061 7261 6d65 7465 7220  lue:  parameter 
-00008290: 7661 6c75 650a 2020 2020 2020 2020 2222  value.        ""
-000082a0: 220a 2020 2020 2020 2020 7365 6c66 2e72  ".        self.r
-000082b0: 6561 645f 7469 6d65 203d 2047 5554 5f43  ead_time = GUT_C
-000082c0: 4f4e 5354 2e6e 6f77 2847 5554 5f43 4f4e  ONST.now(GUT_CON
-000082d0: 5354 2e75 7365 6c74 7a29 0a20 2020 2020  ST.useltz).     
-000082e0: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
-000082f0: 2753 6574 2070 6172 616d 2076 616c 7565  'Set param value
-00008300: 3a20 5b25 735d 2c20 7479 7065 3a20 5b25  : [%s], type: [%
-00008310: 735d 272c 2076 616c 7565 2c20 7479 7065  s]', value, type
-00008320: 2876 616c 7565 2929 0a20 2020 2020 2020  (value)).       
-00008330: 2069 6620 6973 696e 7374 616e 6365 2876   if isinstance(v
-00008340: 616c 7565 2c20 7475 706c 6529 3a0a 2020  alue, tuple):.  
-00008350: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-00008360: 726d 5b6e 616d 655d 203d 206c 6973 7428  rm[name] = list(
-00008370: 7661 6c75 6529 0a20 2020 2020 2020 2065  value).        e
-00008380: 6c69 6620 6e61 6d65 203d 3d20 2770 776d  lif name == 'pwm
-00008390: 5f6d 6f64 6527 3a0a 2020 2020 2020 2020  _mode':.        
-000083a0: 2020 2020 7365 6c66 2e70 726d 5b6e 616d      self.prm[nam
-000083b0: 655d 5b30 5d20 3d20 7661 6c75 650a 2020  e][0] = value.  
-000083c0: 2020 2020 2020 2020 2020 6966 2076 616c            if val
-000083d0: 7565 203d 3d20 303a 2073 656c 662e 7072  ue == 0: self.pr
-000083e0: 6d5b 6e61 6d65 5d5b 315d 203d 2027 4e6f  m[name][1] = 'No
-000083f0: 6e65 270a 2020 2020 2020 2020 2020 2020  ne'.            
-00008400: 656c 6966 2076 616c 7565 203d 3d20 313a  elif value == 1:
-00008410: 2073 656c 662e 7072 6d5b 6e61 6d65 5d5b   self.prm[name][
-00008420: 315d 203d 2027 4d61 6e75 616c 270a 2020  1] = 'Manual'.  
-00008430: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
-00008440: 7365 6c66 2e70 726d 5b6e 616d 655d 5b31  self.prm[name][1
-00008450: 5d20 3d20 2744 796e 616d 6963 270a 2020  ] = 'Dynamic'.  
-00008460: 2020 2020 2020 656c 6966 206e 616d 6520        elif name 
-00008470: 3d3d 2027 7070 6d27 3a0a 2020 2020 2020  == 'ppm':.      
-00008480: 2020 2020 2020 7365 6c66 2e70 726d 5b6e        self.prm[n
-00008490: 616d 655d 203d 2072 652e 7375 6228 5041  ame] = re.sub(PA
-000084a0: 5454 4552 4e53 5b27 5050 4d5f 4348 4b27  TTERNS['PPM_CHK'
-000084b0: 5d2c 2027 272c 2076 616c 7565 292e 7374  ], '', value).st
-000084c0: 7269 7028 290a 2020 2020 2020 2020 2020  rip().          
-000084d0: 2020 7365 6c66 2e70 726d 5b6e 616d 655d    self.prm[name]
-000084e0: 203d 2072 652e 7375 6228 5041 5454 4552   = re.sub(PATTER
-000084f0: 4e53 5b27 5050 4d5f 4e4f 5443 484b 275d  NS['PPM_NOTCHK']
-00008500: 2c20 272d 272c 2073 656c 662e 7072 6d5b  , '-', self.prm[
-00008510: 6e61 6d65 5d29 0a20 2020 2020 2020 2065  name]).        e
-00008520: 6c69 6620 6e61 6d65 203d 3d20 2770 6f77  lif name == 'pow
-00008530: 6572 273a 0a20 2020 2020 2020 2020 2020  er':.           
-00008540: 2069 6620 6973 696e 7374 616e 6365 2876   if isinstance(v
-00008550: 616c 7565 2c20 2869 6e74 2c20 666c 6f61  alue, (int, floa
-00008560: 7429 293a 0a20 2020 2020 2020 2020 2020  t)):.           
-00008570: 2020 2020 2074 696d 655f 6e20 3d20 4755       time_n = GU
-00008580: 545f 434f 4e53 542e 6e6f 7728 4755 545f  T_CONST.now(GUT_
-00008590: 434f 4e53 542e 7573 656c 747a 290a 2020  CONST.useltz).  
-000085a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000085b0: 6c66 2e70 726d 5b6e 616d 655d 203d 2076  lf.prm[name] = v
-000085c0: 616c 7565 0a20 2020 2020 2020 2020 2020  alue.           
-000085d0: 2020 2020 2064 656c 7461 5f68 7273 203d       delta_hrs =
-000085e0: 2028 2874 696d 655f 6e20 2d20 7365 6c66   ((time_n - self
-000085f0: 2e65 6e65 7267 795b 2774 6e27 5d29 2e74  .energy['tn']).t
-00008600: 6f74 616c 5f73 6563 6f6e 6473 2829 2920  otal_seconds()) 
-00008610: 2f20 3336 3030 0a20 2020 2020 2020 2020  / 3600.         
-00008620: 2020 2020 2020 2073 656c 662e 656e 6572         self.ener
-00008630: 6779 5b27 746e 275d 203d 2074 696d 655f  gy['tn'] = time_
-00008640: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
-00008650: 2020 7365 6c66 2e65 6e65 7267 795b 2763    self.energy['c
-00008660: 756d 756c 6174 6976 6527 5d20 2b3d 2064  umulative'] += d
-00008670: 656c 7461 5f68 7273 202a 2076 616c 7565  elta_hrs * value
-00008680: 202f 2031 3030 300a 2020 2020 2020 2020   / 1000.        
-00008690: 2020 2020 2020 2020 7365 6c66 2e70 726d          self.prm
-000086a0: 5b27 656e 6572 6779 275d 203d 2072 6f75  ['energy'] = rou
-000086b0: 6e64 2873 656c 662e 656e 6572 6779 5b27  nd(self.energy['
-000086c0: 6375 6d75 6c61 7469 7665 275d 2c20 3629  cumulative'], 6)
-000086d0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-000086e0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000086f0: 2020 2047 5554 5f43 4f4e 5354 2e70 726f     GUT_CONST.pro
-00008700: 6365 7373 5f6d 6573 7361 6765 2827 4572  cess_message('Er
-00008710: 726f 723a 2049 6e76 616c 6964 2070 6f77  ror: Invalid pow
-00008720: 6572 2076 616c 7565 2072 6561 6420 5b7b  er value read [{
-00008730: 7d5d 272e 666f 726d 6174 2876 616c 7565  }]'.format(value
-00008740: 292c 206c 6f67 5f66 6c61 673d 5472 7565  ), log_flag=True
-00008750: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00008760: 2020 7365 6c66 2e64 6973 6162 6c65 5f70    self.disable_p
-00008770: 6172 616d 5f72 6561 6428 2770 6f77 6572  aram_read('power
-00008780: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
-00008790: 2020 2073 656c 662e 6469 7361 626c 655f     self.disable_
-000087a0: 7061 7261 6d5f 7265 6164 2827 656e 6572  param_read('ener
-000087b0: 6779 2729 0a20 2020 2020 2020 2065 6c69  gy').        eli
-000087c0: 6620 6e61 6d65 203d 3d20 2773 636c 6b5f  f name == 'sclk_
-000087d0: 7073 273a 0a20 2020 2020 2020 2020 2020  ps':.           
-000087e0: 206d 6173 6b20 3d20 2727 0a20 2020 2020   mask = ''.     
-000087f0: 2020 2020 2020 2070 735f 6b65 7920 3d20         ps_key = 
-00008800: 274e 4127 0a20 2020 2020 2020 2020 2020  'NA'.           
-00008810: 2066 6f72 2070 735f 7661 6c20 696e 2076   for ps_val in v
-00008820: 616c 7565 3a0a 2020 2020 2020 2020 2020  alue:.          
-00008830: 2020 2020 2020 6966 206e 6f74 206d 6173        if not mas
-00008840: 6b3a 0a20 2020 2020 2020 2020 2020 2020  k:.             
-00008850: 2020 2020 2020 206d 6173 6b20 3d20 7073         mask = ps
-00008860: 5f76 616c 2e73 706c 6974 2827 3a27 295b  _val.split(':')[
-00008870: 305d 2e73 7472 6970 2829 0a20 2020 2020  0].strip().     
-00008880: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00008890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000088a0: 2020 2020 206d 6173 6b20 2b3d 2027 2c27       mask += ','
-000088b0: 202b 2070 735f 7661 6c2e 7370 6c69 7428   + ps_val.split(
-000088c0: 273a 2729 5b30 5d2e 7374 7269 7028 290a  ':')[0].strip().
-000088d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000088e0: 7363 6c6b 5f70 7320 3d20 7073 5f76 616c  sclk_ps = ps_val
-000088f0: 2e73 7472 6970 2827 2a27 292e 7374 7269  .strip('*').stri
-00008900: 7028 292e 7370 6c69 7428 273a 2027 290a  p().split(': ').
-00008910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008920: 6966 206c 656e 2873 636c 6b5f 7073 2920  if len(sclk_ps) 
-00008930: 3c20 323a 0a20 2020 2020 2020 2020 2020  < 2:.           
-00008940: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-00008950: 6465 6275 6728 2773 636c 6b5f 7073 2076  debug('sclk_ps v
-00008960: 616c 7565 2065 7272 6f72 3a20 5b25 735d  alue error: [%s]
-00008970: 272c 2073 636c 6b5f 7073 290a 2020 2020  ', sclk_ps).    
-00008980: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00008990: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000089a0: 2020 2020 2020 6966 2073 636c 6b5f 7073        if sclk_ps
-000089b0: 5b30 5d2e 6973 6e75 6d65 7269 6328 293a  [0].isnumeric():
-000089c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000089d0: 2020 2020 2020 2020 2070 735f 6b65 7920           ps_key 
-000089e0: 3d20 696e 7428 7363 6c6b 5f70 735b 305d  = int(sclk_ps[0]
-000089f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00008a00: 2020 2020 2020 7365 6c66 2e73 636c 6b5f        self.sclk_
-00008a10: 6470 6d5f 7374 6174 652e 7570 6461 7465  dpm_state.update
-00008a20: 287b 7073 5f6b 6579 3a20 7363 6c6b 5f70  ({ps_key: sclk_p
-00008a30: 735b 315d 7d29 0a20 2020 2020 2020 2020  s[1]}).         
-00008a40: 2020 2020 2020 2020 2020 2069 6620 272a             if '*
-00008a50: 2720 696e 2070 735f 7661 6c3a 0a20 2020  ' in ps_val:.   
+00007ea0: 2020 2020 2020 2020 2020 2063 6c73 2e74             cls.t
+00007eb0: 6162 6c65 5f70 6172 616d 6574 6572 732e  able_parameters.
+00007ec0: 7265 6d6f 7665 2866 616e 5f69 7465 6d29  remove(fan_item)
+00007ed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007ee0: 2020 2020 2065 7863 6570 7420 5661 6c75       except Valu
+00007ef0: 6545 7272 6f72 3a20 7061 7373 0a0a 2020  eError: pass..  
+00007f00: 2020 4063 6c61 7373 6d65 7468 6f64 0a20    @classmethod. 
+00007f10: 2020 2064 6566 2069 735f 6170 7528 636c     def is_apu(cl
+00007f20: 732c 206e 616d 653a 2073 7472 2920 2d3e  s, name: str) ->
+00007f30: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
+00007f40: 2222 2043 6865 636b 2069 6620 6769 7665  "" Check if give
+00007f50: 6e20 4750 5520 6e61 6d65 2069 7320 616e  n GPU name is an
+00007f60: 2041 5055 2e0a 0a20 2020 2020 2020 203a   APU...        :
+00007f70: 7061 7261 6d20 6e61 6d65 3a20 5461 7267  param name: Targ
+00007f80: 6574 2047 5055 206e 616d 650a 2020 2020  et GPU name.    
+00007f90: 2020 2020 3a72 6574 7572 6e3a 2054 7275      :return: Tru
+00007fa0: 6520 6966 206e 616d 6520 6d61 7463 6865  e if name matche
+00007fb0: 7320 4150 5520 6e61 6d65 0a20 2020 2020  s APU name.     
+00007fc0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00007fd0: 6620 6e6f 7420 6e61 6d65 3a20 7265 7475  f not name: retu
+00007fe0: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
+00007ff0: 2066 6f72 2061 7075 5f6e 616d 6520 696e   for apu_name in
+00008000: 2063 6c73 2e5f 6170 755f 6770 7573 3a0a   cls._apu_gpus:.
+00008010: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+00008020: 652e 7365 6172 6368 2861 7075 5f6e 616d  e.search(apu_nam
+00008030: 652c 206e 616d 652c 2072 652e 4947 4e4f  e, name, re.IGNO
+00008040: 5245 4341 5345 293a 0a20 2020 2020 2020  RECASE):.       
+00008050: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00008060: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
+00008070: 7572 6e20 4661 6c73 650a 0a20 2020 2040  urn False..    @
+00008080: 636c 6173 736d 6574 686f 640a 2020 2020  classmethod.    
+00008090: 6465 6620 6765 745f 6275 7474 6f6e 5f6c  def get_button_l
+000080a0: 6162 656c 2863 6c73 2c20 6e61 6d65 3a20  abel(cls, name: 
+000080b0: 7374 7229 202d 3e20 7374 723a 0a20 2020  str) -> str:.   
+000080c0: 2020 2020 2022 2222 2052 6574 7572 6e20       """ Return 
+000080d0: 6275 7474 6f6e 206c 6162 656c 2066 6f72  button label for
+000080e0: 2067 6976 656e 2070 6172 616d 6574 6572   given parameter
+000080f0: 206e 616d 652e 0a0a 2020 2020 2020 2020   name...        
+00008100: 3a70 6172 616d 206e 616d 653a 2050 6172  :param name: Par
+00008110: 616d 6574 6572 206e 616d 650a 2020 2020  ameter name.    
+00008120: 2020 2020 3a72 6574 7572 6e3a 2020 4275      :return:  Bu
+00008130: 7474 6f6e 206c 6162 656c 0a20 2020 2020  tton label.     
+00008140: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00008150: 6620 6e61 6d65 206e 6f74 2069 6e20 636c  f name not in cl
+00008160: 732e 5f62 7574 746f 6e5f 6c61 6265 6c73  s._button_labels
+00008170: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00008180: 6973 6520 4b65 7945 7272 6f72 2827 7b7d  ise KeyError('{}
+00008190: 206e 6f74 2069 6e20 6275 7474 6f6e 5f6c   not in button_l
+000081a0: 6162 656c 2064 6963 7427 2e66 6f72 6d61  abel dict'.forma
+000081b0: 7428 6e61 6d65 2929 0a20 2020 2020 2020  t(name)).       
+000081c0: 2072 6574 7572 6e20 636c 732e 5f62 7574   return cls._but
+000081d0: 746f 6e5f 6c61 6265 6c73 5b6e 616d 655d  ton_labels[name]
+000081e0: 0a0a 2020 2020 6465 6620 7365 745f 7061  ..    def set_pa
+000081f0: 7261 6d73 5f76 616c 7565 2873 656c 662c  rams_value(self,
+00008200: 206e 616d 653a 2073 7472 2c20 7661 6c75   name: str, valu
+00008210: 653a 2055 6e69 6f6e 5b69 6e74 2c20 666c  e: Union[int, fl
+00008220: 6f61 742c 2073 7472 2c20 6c69 7374 2c20  oat, str, list, 
+00008230: 4e6f 6e65 5d29 202d 3e20 4e6f 6e65 3a0a  None]) -> None:.
+00008240: 2020 2020 2020 2020 2222 2220 5365 7420          """ Set 
+00008250: 7061 7261 6d65 7465 7220 7661 6c75 6520  parameter value 
+00008260: 666f 7220 6769 7665 206e 616d 652e 0a0a  for give name...
+00008270: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
+00008280: 616d 653a 2020 5061 7261 6d65 7465 7220  ame:  Parameter 
+00008290: 6e61 6d65 0a20 2020 2020 2020 203a 7061  name.        :pa
+000082a0: 7261 6d20 7661 6c75 653a 2020 7061 7261  ram value:  para
+000082b0: 6d65 7465 7220 7661 6c75 650a 2020 2020  meter value.    
+000082c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000082d0: 7365 6c66 2e72 6561 645f 7469 6d65 203d  self.read_time =
+000082e0: 2047 5554 5f43 4f4e 5354 2e6e 6f77 2847   GUT_CONST.now(G
+000082f0: 5554 5f43 4f4e 5354 2e75 7365 6c74 7a29  UT_CONST.useltz)
+00008300: 0a20 2020 2020 2020 204c 4f47 4745 522e  .        LOGGER.
+00008310: 6465 6275 6728 2753 6574 2070 6172 616d  debug('Set param
+00008320: 2076 616c 7565 3a20 5b25 735d 2c20 7479   value: [%s], ty
+00008330: 7065 3a20 5b25 735d 272c 2076 616c 7565  pe: [%s]', value
+00008340: 2c20 7479 7065 2876 616c 7565 2929 0a20  , type(value)). 
+00008350: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+00008360: 616e 6365 2876 616c 7565 2c20 7475 706c  ance(value, tupl
+00008370: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00008380: 7365 6c66 2e70 726d 5b6e 616d 655d 203d  self.prm[name] =
+00008390: 206c 6973 7428 7661 6c75 6529 0a20 2020   list(value).   
+000083a0: 2020 2020 2065 6c69 6620 6e61 6d65 203d       elif name =
+000083b0: 3d20 2770 776d 5f6d 6f64 6527 3a0a 2020  = 'pwm_mode':.  
+000083c0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+000083d0: 726d 5b6e 616d 655d 5b30 5d20 3d20 7661  rm[name][0] = va
+000083e0: 6c75 650a 2020 2020 2020 2020 2020 2020  lue.            
+000083f0: 6966 2076 616c 7565 203d 3d20 303a 2073  if value == 0: s
+00008400: 656c 662e 7072 6d5b 6e61 6d65 5d5b 315d  elf.prm[name][1]
+00008410: 203d 2027 4e6f 6e65 270a 2020 2020 2020   = 'None'.      
+00008420: 2020 2020 2020 656c 6966 2076 616c 7565        elif value
+00008430: 203d 3d20 313a 2073 656c 662e 7072 6d5b   == 1: self.prm[
+00008440: 6e61 6d65 5d5b 315d 203d 2027 4d61 6e75  name][1] = 'Manu
+00008450: 616c 270a 2020 2020 2020 2020 2020 2020  al'.            
+00008460: 656c 7365 3a20 7365 6c66 2e70 726d 5b6e  else: self.prm[n
+00008470: 616d 655d 5b31 5d20 3d20 2744 796e 616d  ame][1] = 'Dynam
+00008480: 6963 270a 2020 2020 2020 2020 656c 6966  ic'.        elif
+00008490: 206e 616d 6520 3d3d 2027 7070 6d27 3a0a   name == 'ppm':.
+000084a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000084b0: 2e70 726d 5b6e 616d 655d 203d 2072 652e  .prm[name] = re.
+000084c0: 7375 6228 5041 5454 4552 4e53 5b50 4b2e  sub(PATTERNS[PK.
+000084d0: 5050 4d5f 4348 4b5d 2c20 2727 2c20 7661  PPM_CHK], '', va
+000084e0: 6c75 6529 2e73 7472 6970 2829 0a20 2020  lue).strip().   
+000084f0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00008500: 6d5b 6e61 6d65 5d20 3d20 7265 2e73 7562  m[name] = re.sub
+00008510: 2850 4154 5445 524e 535b 504b 2e50 504d  (PATTERNS[PK.PPM
+00008520: 5f4e 4f54 4348 4b5d 2c20 272d 272c 2073  _NOTCHK], '-', s
+00008530: 656c 662e 7072 6d5b 6e61 6d65 5d29 0a20  elf.prm[name]). 
+00008540: 2020 2020 2020 2065 6c69 6620 6e61 6d65         elif name
+00008550: 203d 3d20 2770 6f77 6572 273a 0a20 2020   == 'power':.   
+00008560: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
+00008570: 7374 616e 6365 2876 616c 7565 2c20 2869  stance(value, (i
+00008580: 6e74 2c20 666c 6f61 7429 293a 0a20 2020  nt, float)):.   
+00008590: 2020 2020 2020 2020 2020 2020 2074 696d               tim
+000085a0: 655f 6e20 3d20 4755 545f 434f 4e53 542e  e_n = GUT_CONST.
+000085b0: 6e6f 7728 4755 545f 434f 4e53 542e 7573  now(GUT_CONST.us
+000085c0: 656c 747a 290a 2020 2020 2020 2020 2020  eltz).          
+000085d0: 2020 2020 2020 7365 6c66 2e70 726d 5b6e        self.prm[n
+000085e0: 616d 655d 203d 2076 616c 7565 0a20 2020  ame] = value.   
+000085f0: 2020 2020 2020 2020 2020 2020 2064 656c               del
+00008600: 7461 5f68 7273 203d 2028 2874 696d 655f  ta_hrs = ((time_
+00008610: 6e20 2d20 7365 6c66 2e65 6e65 7267 795b  n - self.energy[
+00008620: 2774 6e27 5d29 2e74 6f74 616c 5f73 6563  'tn']).total_sec
+00008630: 6f6e 6473 2829 2920 2f20 3336 3030 0a20  onds()) / 3600. 
+00008640: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00008650: 656c 662e 656e 6572 6779 5b27 746e 275d  elf.energy['tn']
+00008660: 203d 2074 696d 655f 6e0a 2020 2020 2020   = time_n.      
+00008670: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
+00008680: 6e65 7267 795b 2763 756d 756c 6174 6976  nergy['cumulativ
+00008690: 6527 5d20 2b3d 2064 656c 7461 5f68 7273  e'] += delta_hrs
+000086a0: 202a 2076 616c 7565 202f 2031 3030 300a   * value / 1000.
+000086b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086c0: 7365 6c66 2e70 726d 5b27 656e 6572 6779  self.prm['energy
+000086d0: 275d 203d 2072 6f75 6e64 2873 656c 662e  '] = round(self.
+000086e0: 656e 6572 6779 5b27 6375 6d75 6c61 7469  energy['cumulati
+000086f0: 7665 275d 2c20 3629 0a20 2020 2020 2020  ve'], 6).       
+00008700: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00008710: 2020 2020 2020 2020 2020 2047 5554 5f43             GUT_C
+00008720: 4f4e 5354 2e70 726f 6365 7373 5f6d 6573  ONST.process_mes
+00008730: 7361 6765 2827 4572 726f 723a 2049 6e76  sage('Error: Inv
+00008740: 616c 6964 2070 6f77 6572 2076 616c 7565  alid power value
+00008750: 2072 6561 6420 5b7b 7d5d 272e 666f 726d   read [{}]'.form
+00008760: 6174 2876 616c 7565 292c 206c 6f67 5f66  at(value), log_f
+00008770: 6c61 673d 5472 7565 290a 2020 2020 2020  lag=True).      
+00008780: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
+00008790: 6973 6162 6c65 5f70 6172 616d 5f72 6561  isable_param_rea
+000087a0: 6428 2770 6f77 6572 2729 0a20 2020 2020  d('power').     
+000087b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000087c0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
+000087d0: 6164 2827 656e 6572 6779 2729 0a20 2020  ad('energy').   
+000087e0: 2020 2020 2065 6c69 6620 6e61 6d65 203d       elif name =
+000087f0: 3d20 2773 636c 6b5f 7073 273a 0a20 2020  = 'sclk_ps':.   
+00008800: 2020 2020 2020 2020 206d 6173 6b20 3d20           mask = 
+00008810: 2727 0a20 2020 2020 2020 2020 2020 2070  ''.            p
+00008820: 735f 6b65 7920 3d20 274e 4127 0a20 2020  s_key = 'NA'.   
+00008830: 2020 2020 2020 2020 2066 6f72 2070 735f           for ps_
+00008840: 7661 6c20 696e 2076 616c 7565 3a0a 2020  val in value:.  
+00008850: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00008860: 206e 6f74 206d 6173 6b3a 0a20 2020 2020   not mask:.     
+00008870: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00008880: 6173 6b20 3d20 7073 5f76 616c 2e73 706c  ask = ps_val.spl
+00008890: 6974 2827 3a27 295b 305d 2e73 7472 6970  it(':')[0].strip
+000088a0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+000088b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000088c0: 2020 2020 2020 2020 2020 2020 206d 6173               mas
+000088d0: 6b20 2b3d 2027 2c27 202b 2070 735f 7661  k += ',' + ps_va
+000088e0: 6c2e 7370 6c69 7428 273a 2729 5b30 5d2e  l.split(':')[0].
+000088f0: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
+00008900: 2020 2020 2020 2020 7363 6c6b 5f70 7320          sclk_ps 
+00008910: 3d20 7073 5f76 616c 2e73 7472 6970 2827  = ps_val.strip('
+00008920: 2a27 292e 7374 7269 7028 292e 7370 6c69  *').strip().spli
+00008930: 7428 273a 2027 290a 2020 2020 2020 2020  t(': ').        
+00008940: 2020 2020 2020 2020 6966 206c 656e 2873          if len(s
+00008950: 636c 6b5f 7073 2920 3c20 323a 0a20 2020  clk_ps) < 2:.   
+00008960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008970: 204c 4f47 4745 522e 6465 6275 6728 2773   LOGGER.debug('s
+00008980: 636c 6b5f 7073 2076 616c 7565 2065 7272  clk_ps value err
+00008990: 6f72 3a20 5b25 735d 272c 2073 636c 6b5f  or: [%s]', sclk_
+000089a0: 7073 290a 2020 2020 2020 2020 2020 2020  ps).            
+000089b0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000089c0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000089d0: 2073 636c 6b5f 7073 5b30 5d2e 6973 6e75   sclk_ps[0].isnu
+000089e0: 6d65 7269 6328 293a 0a20 2020 2020 2020  meric():.       
+000089f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008a00: 2070 735f 6b65 7920 3d20 696e 7428 7363   ps_key = int(sc
+00008a10: 6c6b 5f70 735b 305d 290a 2020 2020 2020  lk_ps[0]).      
+00008a20: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00008a30: 6c66 2e73 636c 6b5f 6470 6d5f 7374 6174  lf.sclk_dpm_stat
+00008a40: 652e 7570 6461 7465 287b 7073 5f6b 6579  e.update({ps_key
+00008a50: 3a20 7363 6c6b 5f70 735b 315d 7d29 0a20  : sclk_ps[1]}). 
 00008a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008a70: 2020 2020 2073 656c 662e 7072 6d2e 7363       self.prm.sc
-00008a80: 6c6b 5f70 735b 305d 203d 2070 735f 6b65  lk_ps[0] = ps_ke
-00008a90: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
-00008aa0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-00008ab0: 726d 2e73 636c 6b5f 7073 5b31 5d20 3d20  rm.sclk_ps[1] = 
-00008ac0: 7363 6c6b 5f70 735b 315d 0a20 2020 2020  sclk_ps[1].     
-00008ad0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00008ae0: 656c 662e 7072 6d2e 7363 6c6b 5f6d 6173  elf.prm.sclk_mas
-00008af0: 6b20 3d20 6d61 736b 0a20 2020 2020 2020  k = mask.       
-00008b00: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-00008b10: 6728 274d 6173 6b3a 205b 2573 5d2c 2070  g('Mask: [%s], p
-00008b20: 733a 205b 2573 2c20 2573 5d27 2c20 6d61  s: [%s, %s]', ma
-00008b30: 736b 2c20 7365 6c66 2e70 726d 2e73 636c  sk, self.prm.scl
-00008b40: 6b5f 7073 5b30 5d2c 2073 656c 662e 7072  k_ps[0], self.pr
-00008b50: 6d2e 7363 6c6b 5f70 735b 315d 290a 2020  m.sclk_ps[1]).  
-00008b60: 2020 2020 2020 656c 6966 206e 616d 6520        elif name 
-00008b70: 3d3d 2027 6d63 6c6b 5f70 7327 3a0a 2020  == 'mclk_ps':.  
-00008b80: 2020 2020 2020 2020 2020 6d61 736b 203d            mask =
-00008b90: 2027 270a 2020 2020 2020 2020 2020 2020   ''.            
-00008ba0: 7073 5f6b 6579 203d 2027 4e41 270a 2020  ps_key = 'NA'.  
-00008bb0: 2020 2020 2020 2020 2020 666f 7220 7073            for ps
-00008bc0: 5f76 616c 2069 6e20 7661 6c75 653a 0a20  _val in value:. 
-00008bd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008be0: 6620 6e6f 7420 6d61 736b 3a0a 2020 2020  f not mask:.    
-00008bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008c00: 6d61 736b 203d 2070 735f 7661 6c2e 7370  mask = ps_val.sp
-00008c10: 6c69 7428 273a 2729 5b30 5d2e 7374 7269  lit(':')[0].stri
-00008c20: 7028 290a 2020 2020 2020 2020 2020 2020  p().            
-00008c30: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00008c40: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-00008c50: 736b 202b 3d20 272c 2720 2b20 7073 5f76  sk += ',' + ps_v
-00008c60: 616c 2e73 706c 6974 2827 3a27 295b 305d  al.split(':')[0]
-00008c70: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
-00008c80: 2020 2020 2020 2020 206d 636c 6b5f 7073           mclk_ps
-00008c90: 203d 2070 735f 7661 6c2e 7374 7269 7028   = ps_val.strip(
-00008ca0: 272a 2729 2e73 7472 6970 2829 2e73 706c  '*').strip().spl
-00008cb0: 6974 2827 3a20 2729 0a20 2020 2020 2020  it(': ').       
-00008cc0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
-00008cd0: 6d63 6c6b 5f70 7329 203c 2032 3a0a 2020  mclk_ps) < 2:.  
-00008ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008cf0: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
-00008d00: 6d63 6c6b 5f70 7320 7661 6c75 6520 6572  mclk_ps value er
-00008d10: 726f 723a 205b 2573 5d27 2c20 6d63 6c6b  ror: [%s]', mclk
-00008d20: 5f70 7329 0a20 2020 2020 2020 2020 2020  _ps).           
-00008d30: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00008d40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008d50: 6620 6d63 6c6b 5f70 735b 305d 2e69 736e  f mclk_ps[0].isn
-00008d60: 756d 6572 6963 2829 3a0a 2020 2020 2020  umeric():.      
-00008d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008d80: 2020 7073 5f6b 6579 203d 2069 6e74 286d    ps_key = int(m
-00008d90: 636c 6b5f 7073 5b30 5d29 0a20 2020 2020  clk_ps[0]).     
-00008da0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00008db0: 656c 662e 6d63 6c6b 5f64 706d 5f73 7461  elf.mclk_dpm_sta
-00008dc0: 7465 2e75 7064 6174 6528 7b70 735f 6b65  te.update({ps_ke
-00008dd0: 793a 206d 636c 6b5f 7073 5b31 5d7d 290a  y: mclk_ps[1]}).
-00008de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008df0: 2020 2020 6966 2027 2a27 2069 6e20 7073      if '*' in ps
-00008e00: 5f76 616c 3a0a 2020 2020 2020 2020 2020  _val:.          
-00008e10: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00008e20: 6c66 2e70 726d 2e6d 636c 6b5f 7073 5b30  lf.prm.mclk_ps[0
-00008e30: 5d20 3d20 7073 5f6b 6579 0a20 2020 2020  ] = ps_key.     
-00008e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e50: 2020 2073 656c 662e 7072 6d2e 6d63 6c6b     self.prm.mclk
-00008e60: 5f70 735b 315d 203d 206d 636c 6b5f 7073  _ps[1] = mclk_ps
-00008e70: 5b31 5d0a 2020 2020 2020 2020 2020 2020  [1].            
-00008e80: 2020 2020 2020 2020 7365 6c66 2e70 726d          self.prm
-00008e90: 2e6d 636c 6b5f 6d61 736b 203d 206d 6173  .mclk_mask = mas
-00008ea0: 6b0a 2020 2020 2020 2020 2020 2020 4c4f  k.            LO
-00008eb0: 4747 4552 2e64 6562 7567 2827 4d61 736b  GGER.debug('Mask
-00008ec0: 3a20 5b25 735d 2c20 7073 3a20 5b25 732c  : [%s], ps: [%s,
-00008ed0: 2025 735d 272c 206d 6173 6b2c 2073 656c   %s]', mask, sel
-00008ee0: 662e 7072 6d2e 6d63 6c6b 5f70 735b 305d  f.prm.mclk_ps[0]
-00008ef0: 2c20 7365 6c66 2e70 726d 2e6d 636c 6b5f  , self.prm.mclk_
-00008f00: 7073 5b31 5d29 0a20 2020 2020 2020 2065  ps[1]).        e
-00008f10: 6c69 6620 6e61 6d65 203d 3d20 2766 616e  lif name == 'fan
-00008f20: 5f70 776d 273a 0a20 2020 2020 2020 2020  _pwm':.         
-00008f30: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00008f40: 2876 616c 7565 2c20 696e 7429 3a0a 2020  (value, int):.  
-00008f50: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00008f60: 6c66 2e70 726d 2e66 616e 5f70 776d 203d  lf.prm.fan_pwm =
-00008f70: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
-00008f80: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-00008f90: 6365 2876 616c 7565 2c20 666c 6f61 7429  ce(value, float)
-00008fa0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00008fb0: 2020 7365 6c66 2e70 726d 2e66 616e 5f70    self.prm.fan_p
-00008fc0: 776d 203d 2069 6e74 2876 616c 7565 290a  wm = int(value).
-00008fd0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00008fe0: 2069 7369 6e73 7461 6e63 6528 7661 6c75   isinstance(valu
-00008ff0: 652c 2073 7472 293a 0a20 2020 2020 2020  e, str):.       
-00009000: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-00009010: 6d2e 6661 6e5f 7077 6d20 3d20 696e 7428  m.fan_pwm = int(
-00009020: 7661 6c75 6529 2069 6620 7661 6c75 652e  value) if value.
-00009030: 6973 6e75 6d65 7269 6328 2920 656c 7365  isnumeric() else
-00009040: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-00009050: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00009060: 2020 2020 2020 2020 7365 6c66 2e70 726d          self.prm
-00009070: 2e66 616e 5f70 776d 203d 204e 6f6e 650a  .fan_pwm = None.
-00009080: 2020 2020 2020 2020 656c 6966 2072 652e          elif re.
-00009090: 6675 6c6c 6d61 7463 6828 5041 5454 4552  fullmatch(PATTER
-000090a0: 4e53 5b27 4750 554d 454d 5459 5045 275d  NS['GPUMEMTYPE']
-000090b0: 2c20 6e61 6d65 293a 0a20 2020 2020 2020  , name):.       
-000090c0: 2020 2020 2073 656c 662e 7072 6d5b 6e61       self.prm[na
-000090d0: 6d65 5d20 3d20 7661 6c75 650a 2020 2020  me] = value.    
-000090e0: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
-000090f0: 5f6d 656d 6f72 795f 7573 6167 6528 290a  _memory_usage().
-00009100: 2020 2020 2020 2020 656c 6966 206e 616d          elif nam
-00009110: 6520 3d3d 2027 6964 273a 0a20 2020 2020  e == 'id':.     
-00009120: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
-00009130: 6964 203d 2064 6963 7428 7a69 7028 2827  id = dict(zip(('
-00009140: 7665 6e64 6f72 272c 2027 6465 7669 6365  vendor', 'device
-00009150: 272c 2027 7375 6273 7973 7465 6d5f 7665  ', 'subsystem_ve
-00009160: 6e64 6f72 272c 2027 7375 6273 7973 7465  ndor', 'subsyste
-00009170: 6d5f 6465 7669 6365 2729 2c20 6c69 7374  m_device'), list
-00009180: 2876 616c 7565 2929 290a 2020 2020 2020  (value))).      
-00009190: 2020 2020 2020 7365 6c66 2e70 726d 2e6d        self.prm.m
-000091a0: 6f64 656c 5f64 6576 6963 655f 6465 636f  odel_device_deco
-000091b0: 6465 203d 2073 656c 662e 7265 6164 5f70  de = self.read_p
-000091c0: 6369 6964 5f6d 6f64 656c 2829 0a20 2020  ciid_model().   
-000091d0: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-000091e0: 6d2e 6d6f 6465 6c5f 6469 7370 6c61 7920  m.model_display 
-000091f0: 3d20 7365 6c66 2e66 6974 5f64 6973 706c  = self.fit_displ
-00009200: 6179 5f6e 616d 6528 7365 6c66 2e70 726d  ay_name(self.prm
-00009210: 2e6d 6f64 656c 5f64 6576 6963 655f 6465  .model_device_de
-00009220: 636f 6465 290a 2020 2020 2020 2020 656c  code).        el
-00009230: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00009240: 7365 6c66 2e70 726d 5b6e 616d 655d 203d  self.prm[name] =
-00009250: 2076 616c 7565 0a0a 2020 2020 4073 7461   value..    @sta
-00009260: 7469 636d 6574 686f 640a 2020 2020 6465  ticmethod.    de
-00009270: 6620 6669 745f 6469 7370 6c61 795f 6e61  f fit_display_na
-00009280: 6d65 286e 616d 653a 2073 7472 2c20 6c65  me(name: str, le
-00009290: 6e67 7468 3a20 696e 7420 3d20 4755 545f  ngth: int = GUT_
-000092a0: 434f 4e53 542e 6d6f 6e5f 6669 656c 645f  CONST.mon_field_
-000092b0: 7769 6474 6829 202d 3e20 7374 723a 0a20  width) -> str:. 
-000092c0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000092d0: 2020 2043 6f6e 7665 7274 2074 6865 2067     Convert the g
-000092e0: 6976 656e 206e 616d 6520 746f 2061 2064  iven name to a d
-000092f0: 6973 706c 6179 206e 616d 6520 7768 6963  isplay name whic
-00009300: 6820 6973 206f 7074 696d 616c 6c79 2073  h is optimally s
-00009310: 696d 706c 6966 6965 6420 616e 6420 7472  implified and tr
-00009320: 756e 6361 7465 642e 0a0a 2020 2020 2020  uncated...      
-00009330: 2020 3a70 6172 616d 206e 616d 653a 2054    :param name: T
-00009340: 6865 2047 5055 206e 616d 6520 746f 2062  he GPU name to b
-00009350: 6520 636f 6e76 6572 7465 642e 0a20 2020  e converted..   
-00009360: 2020 2020 203a 7061 7261 6d20 6c65 6e67       :param leng
-00009370: 7468 3a20 5468 6520 7461 7267 6574 206c  th: The target l
-00009380: 656e 6774 682c 2064 6566 6175 6c74 2069  ength, default i
-00009390: 7320 7468 6520 6d6f 6e69 746f 7220 6669  s the monitor fi
-000093a0: 656c 6420 7769 6474 682e 0a20 2020 2020  eld width..     
-000093b0: 2020 203a 7265 7475 726e 3a20 5369 6d70     :return: Simp
-000093c0: 6c69 6669 6564 2061 6e64 2074 7275 6e63  lified and trunc
-000093d0: 6174 6564 2073 7472 696e 670a 2020 2020  ated string.    
-000093e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000093f0: 6669 745f 6e61 6d65 203d 2027 270a 2020  fit_name = ''.  
-00009400: 2020 2020 2020 6d6f 6465 6c5f 6469 7370        model_disp
-00009410: 6c61 795f 636f 6d70 6f6e 656e 7473 203d  lay_components =
-00009420: 2072 652e 7375 6228 5041 5454 4552 4e53   re.sub(PATTERNS
-00009430: 5b27 4750 555f 4745 4e45 5249 4327 5d2c  ['GPU_GENERIC'],
-00009440: 2027 272c 206e 616d 6529 2e73 706c 6974   '', name).split
-00009450: 2829 0a20 2020 2020 2020 2066 6f72 206e  ().        for n
-00009460: 616d 655f 636f 6d70 6f6e 656e 7420 696e  ame_component in
-00009470: 206d 6f64 656c 5f64 6973 706c 6179 5f63   model_display_c
-00009480: 6f6d 706f 6e65 6e74 733a 0a20 2020 2020  omponents:.     
-00009490: 2020 2020 2020 2069 6620 6c65 6e28 6e61         if len(na
-000094a0: 6d65 5f63 6f6d 706f 6e65 6e74 2920 2b20  me_component) + 
-000094b0: 6c65 6e28 6669 745f 6e61 6d65 2920 2b20  len(fit_name) + 
-000094c0: 3120 3e20 6c65 6e67 7468 3a0a 2020 2020  1 > length:.    
-000094d0: 2020 2020 2020 2020 2020 2020 6272 6561              brea
-000094e0: 6b0a 2020 2020 2020 2020 2020 2020 6669  k.            fi
-000094f0: 745f 6e61 6d65 203d 2072 652e 7375 6228  t_name = re.sub(
-00009500: 7227 5c73 2a2f 5c73 2a27 2c20 272f 272c  r'\s*/\s*', '/',
-00009510: 2027 7b7d 207b 7d27 2e66 6f72 6d61 7428   '{} {}'.format(
-00009520: 6669 745f 6e61 6d65 2c20 6e61 6d65 5f63  fit_name, name_c
-00009530: 6f6d 706f 6e65 6e74 2929 0a20 2020 2020  omponent)).     
-00009540: 2020 2072 6574 7572 6e20 6669 745f 6e61     return fit_na
-00009550: 6d65 0a0a 2020 2020 6465 6620 7061 7261  me..    def para
-00009560: 6d5f 6973 5f61 6374 6976 6528 7365 6c66  m_is_active(self
-00009570: 2c20 7061 7261 6d65 7465 725f 6e61 6d65  , parameter_name
-00009580: 3a20 7374 7229 202d 3e20 626f 6f6c 3a0a  : str) -> bool:.
-00009590: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000095a0: 2020 2020 5265 7475 726e 2054 7275 6520      Return True 
-000095b0: 6966 2067 6976 656e 2070 6172 616d 6574  if given paramet
-000095c0: 6572 2069 7320 6e6f 7420 736b 6970 7065  er is not skippe
-000095d0: 6420 616e 6420 6e6f 7420 6469 7361 626c  d and not disabl
-000095e0: 6564 2e0a 0a20 2020 2020 2020 203a 7061  ed...        :pa
-000095f0: 7261 6d20 7061 7261 6d65 7465 725f 6e61  ram parameter_na
-00009600: 6d65 3a0a 2020 2020 2020 2020 3a72 6574  me:.        :ret
-00009610: 7572 6e3a 0a20 2020 2020 2020 2022 2222  urn:.        """
-00009620: 0a20 2020 2020 2020 2069 6620 7061 7261  .        if para
-00009630: 6d65 7465 725f 6e61 6d65 2069 6e20 7365  meter_name in se
-00009640: 6c66 2e72 6561 645f 6469 7361 626c 6564  lf.read_disabled
-00009650: 3a20 7265 7475 726e 2046 616c 7365 0a20  : return False. 
-00009660: 2020 2020 2020 2069 6620 7061 7261 6d65         if parame
-00009670: 7465 725f 6e61 6d65 2069 6e20 7365 6c66  ter_name in self
-00009680: 2e72 6561 645f 736b 6970 3a20 7265 7475  .read_skip: retu
-00009690: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
-000096a0: 2072 6574 7572 6e20 5472 7565 0a0a 2020   return True..  
-000096b0: 2020 6465 6620 6469 7361 626c 655f 7061    def disable_pa
-000096c0: 7261 6d5f 7265 6164 2873 656c 662c 2070  ram_read(self, p
-000096d0: 6172 616d 6574 6572 5f6e 616d 653a 2055  arameter_name: U
-000096e0: 6e69 6f6e 5b54 7570 6c65 5b73 7472 2c20  nion[Tuple[str, 
-000096f0: 2e2e 2e5d 2c20 7374 722c 204e 6f6e 655d  ...], str, None]
-00009700: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
-00009710: 2020 2022 2222 0a20 2020 2020 2020 2044     """.        D
-00009720: 6973 6162 6c65 2066 7572 7468 6572 2072  isable further r
-00009730: 6561 6469 6e67 206f 6620 7468 6520 7370  eading of the sp
-00009740: 6563 6966 6965 6420 7061 7261 6d65 7465  ecified paramete
-00009750: 722e 0a0a 2020 2020 2020 2020 3a70 6172  r...        :par
-00009760: 616d 2070 6172 616d 6574 6572 5f6e 616d  am parameter_nam
-00009770: 653a 2041 2073 696e 676c 6520 7061 7261  e: A single para
-00009780: 6d65 7465 7220 6e61 6d65 2074 6f20 6265  meter name to be
-00009790: 2064 6973 6162 6c65 642e 0a20 2020 2020   disabled..     
-000097a0: 2020 203a 7265 7475 726e 3a0a 2020 2020     :return:.    
-000097b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000097c0: 6966 2069 7369 6e73 7461 6e63 6528 7061  if isinstance(pa
-000097d0: 7261 6d65 7465 725f 6e61 6d65 2c20 7374  rameter_name, st
-000097e0: 7229 3a20 7061 7261 6d65 7465 725f 6e61  r): parameter_na
-000097f0: 6d65 203d 2028 7061 7261 6d65 7465 725f  me = (parameter_
-00009800: 6e61 6d65 2c20 290a 2020 2020 2020 2020  name, ).        
-00009810: 666f 7220 7461 7267 6574 5f70 6172 616d  for target_param
-00009820: 2069 6e20 7061 7261 6d65 7465 725f 6e61   in parameter_na
-00009830: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
-00009840: 6966 2073 656c 662e 7061 7261 6d5f 6973  if self.param_is
-00009850: 5f61 6374 6976 6528 7461 7267 6574 5f70  _active(target_p
-00009860: 6172 616d 293a 0a20 2020 2020 2020 2020  aram):.         
-00009870: 2020 2020 2020 206d 6573 7361 6765 203d         message =
-00009880: 2027 5761 726e 696e 673a 2043 616e 206e   'Warning: Can n
-00009890: 6f74 2072 6561 6420 7061 7261 6d65 7465  ot read paramete
-000098a0: 723a 207b 7d2c 2027 205c 0a20 2020 2020  r: {}, ' \.     
-000098b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000098c0: 2020 2020 2027 6469 7361 626c 696e 6720       'disabling 
-000098d0: 666f 7220 7468 6973 2047 5055 3a20 7b7d  for this GPU: {}
-000098e0: 272e 666f 726d 6174 2874 6172 6765 745f  '.format(target_
-000098f0: 7061 7261 6d2c 2073 656c 662e 7072 6d2e  param, self.prm.
-00009900: 6361 7264 5f6e 756d 290a 2020 2020 2020  card_num).      
-00009910: 2020 2020 2020 2020 2020 4755 545f 434f            GUT_CO
-00009920: 4e53 542e 7072 6f63 6573 735f 6d65 7373  NST.process_mess
-00009930: 6167 6528 6d65 7373 6167 652c 206c 6f67  age(message, log
-00009940: 5f66 6c61 673d 5472 7565 290a 2020 2020  _flag=True).    
-00009950: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00009960: 2e72 6561 645f 6469 7361 626c 6564 2e61  .read_disabled.a
-00009970: 7070 656e 6428 7461 7267 6574 5f70 6172  ppend(target_par
-00009980: 616d 290a 0a20 2020 2064 6566 2067 6574  am)..    def get
-00009990: 5f70 6172 616d 735f 7661 6c75 6528 7365  _params_value(se
-000099a0: 6c66 2c20 6e61 6d65 3a20 7374 722c 206e  lf, name: str, n
-000099b0: 756d 5f61 735f 696e 743a 2062 6f6f 6c20  um_as_int: bool 
-000099c0: 3d20 4661 6c73 6529 202d 3e20 4f70 7469  = False) -> Opti
-000099d0: 6f6e 616c 5b55 6e69 6f6e 5b69 6e74 2c20  onal[Union[int, 
-000099e0: 666c 6f61 742c 2073 7472 2c20 6c69 7374  float, str, list
-000099f0: 2c20 4770 7545 6e75 6d2c 2064 6174 6574  , GpuEnum, datet
-00009a00: 696d 655d 5d3a 0a20 2020 2020 2020 2022  ime]]:.        "
-00009a10: 2222 0a20 2020 2020 2020 2047 6574 2070  "".        Get p
-00009a20: 6172 616d 6574 6572 2076 616c 7565 2066  arameter value f
-00009a30: 6f72 2067 6976 656e 206e 616d 652e 0a0a  or given name...
-00009a40: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
-00009a50: 616d 653a 2020 5061 7261 6d65 7465 7220  ame:  Parameter 
-00009a60: 6e61 6d65 0a20 2020 2020 2020 203a 7061  name.        :pa
-00009a70: 7261 6d20 6e75 6d5f 6173 5f69 6e74 3a20  ram num_as_int: 
-00009a80: 436f 6e76 6572 7420 666c 6f61 7420 746f  Convert float to
-00009a90: 2069 6e74 2069 6620 5472 7565 0a20 2020   int if True.   
-00009aa0: 2020 2020 203a 7265 7475 726e 3a20 5061       :return: Pa
-00009ab0: 7261 6d65 7465 7220 7661 6c75 650a 2020  rameter value.  
-00009ac0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00009ad0: 2020 6966 206e 616d 6520 3d3d 2027 7265    if name == 're
-00009ae0: 6164 5f74 696d 6527 3a0a 2020 2020 2020  ad_time':.      
-00009af0: 2020 2020 2020 6966 2073 656c 662e 7061        if self.pa
-00009b00: 7261 6d5f 6973 5f61 6374 6976 6528 2765  ram_is_active('e
-00009b10: 6e65 7267 7927 2920 616e 6420 7365 6c66  nergy') and self
-00009b20: 2e70 6172 616d 5f69 735f 6163 7469 7665  .param_is_active
-00009b30: 2827 706f 7765 7227 293a 0a20 2020 2020  ('power'):.     
-00009b40: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00009b50: 6e20 7365 6c66 2e65 6e65 7267 795b 2774  n self.energy['t
-00009b60: 6e27 5d0a 2020 2020 2020 2020 2020 2020  n'].            
-00009b70: 7265 7475 726e 2073 656c 662e 7265 6164  return self.read
-00009b80: 5f74 696d 650a 2020 2020 2020 2020 2320  _time.        # 
-00009b90: 5061 7261 6d65 7465 7273 2077 6974 6820  Parameters with 
-00009ba0: 275f 7661 6c27 2061 7320 6120 7375 6666  '_val' as a suff
-00009bb0: 6978 2061 7265 2064 6572 6976 6564 2066  ix are derived f
-00009bc0: 726f 6d20 6120 6469 7265 6374 2073 6f75  rom a direct sou
-00009bd0: 7263 652e 0a20 2020 2020 2020 2069 6620  rce..        if 
-00009be0: 7265 2e66 756c 6c6d 6174 6368 2850 4154  re.fullmatch(PAT
-00009bf0: 5445 524e 535b 2756 414c 5f49 5445 4d27  TERNS['VAL_ITEM'
-00009c00: 5d2c 206e 616d 6529 3a0a 2020 2020 2020  ], name):.      
-00009c10: 2020 2020 2020 6966 206e 616d 6520 3d3d        if name ==
-00009c20: 2027 7465 6d70 5f76 616c 273a 0a20 2020   'temp_val':.   
-00009c30: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00009c40: 6e6f 7420 7365 6c66 2e70 726d 5b27 7465  not self.prm['te
-00009c50: 6d70 6572 6174 7572 6573 275d 3a0a 2020  mperatures']:.  
-00009c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009c70: 2020 7265 7475 726e 204e 6f6e 650a 2020    return None.  
-00009c80: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00009c90: 7220 7465 6d70 5f6e 616d 6520 696e 2028  r temp_name in (
-00009ca0: 2765 6467 6527 2c20 2774 656d 7065 7261  'edge', 'tempera
-00009cb0: 7475 7265 2e67 7075 272c 2027 7465 6d70  ture.gpu', 'temp
-00009cc0: 315f 696e 7075 7427 293a 0a20 2020 2020  1_input'):.     
-00009cd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00009ce0: 6620 7465 6d70 5f6e 616d 6520 696e 2073  f temp_name in s
-00009cf0: 656c 662e 7072 6d5b 2774 656d 7065 7261  elf.prm['tempera
-00009d00: 7475 7265 7327 5d3a 0a20 2020 2020 2020  tures']:.       
-00009d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d20: 2069 6620 7365 6c66 2e70 726d 5b27 7465   if self.prm['te
-00009d30: 6d70 6572 6174 7572 6573 275d 5b74 656d  mperatures'][tem
-00009d40: 705f 6e61 6d65 5d3a 0a20 2020 2020 2020  p_name]:.       
-00009d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d60: 2020 2020 2069 6620 6e75 6d5f 6173 5f69       if num_as_i
-00009d70: 6e74 3a0a 2020 2020 2020 2020 2020 2020  nt:.            
-00009d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d90: 2020 2020 7265 7475 726e 2069 6e74 2873      return int(s
-00009da0: 656c 662e 7072 6d5b 2774 656d 7065 7261  elf.prm['tempera
-00009db0: 7475 7265 7327 5d5b 7465 6d70 5f6e 616d  tures'][temp_nam
-00009dc0: 655d 290a 2020 2020 2020 2020 2020 2020  e]).            
-00009dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009de0: 7265 7475 726e 2072 6f75 6e64 2873 656c  return round(sel
-00009df0: 662e 7072 6d5b 2774 656d 7065 7261 7475  f.prm['temperatu
-00009e00: 7265 7327 5d5b 7465 6d70 5f6e 616d 655d  res'][temp_name]
-00009e10: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
-00009e20: 2020 2020 2066 6f72 2076 616c 7565 2069       for value i
-00009e30: 6e20 7365 6c66 2e70 726d 5b27 7465 6d70  n self.prm['temp
-00009e40: 6572 6174 7572 6573 275d 2e76 616c 7565  eratures'].value
-00009e50: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
-00009e60: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00009e70: 7661 6c75 650a 2020 2020 2020 2020 2020  value.          
-00009e80: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00009e90: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-00009ea0: 206e 616d 6520 3d3d 2027 7664 6467 6678   name == 'vddgfx
-00009eb0: 5f76 616c 273a 0a20 2020 2020 2020 2020  _val':.         
-00009ec0: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
-00009ed0: 6c66 2e70 726d 5b27 766f 6c74 6167 6573  lf.prm['voltages
-00009ee0: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-00009ef0: 2020 2020 2020 2020 7265 7475 726e 206e          return n
-00009f00: 705f 6e61 6e0a 2020 2020 2020 2020 2020  p_nan.          
-00009f10: 2020 2020 2020 6966 2027 7664 6467 6678        if 'vddgfx
-00009f20: 2720 696e 2073 656c 662e 7072 6d5b 2776  ' in self.prm['v
-00009f30: 6f6c 7461 6765 7327 5d3a 0a20 2020 2020  oltages']:.     
-00009f40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00009f50: 6620 6973 696e 7374 616e 6365 2873 656c  f isinstance(sel
-00009f60: 662e 7072 6d5b 2776 6f6c 7461 6765 7327  f.prm['voltages'
-00009f70: 5d5b 2776 6464 6766 7827 5d2c 2073 7472  ]['vddgfx'], str
-00009f80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00009f90: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00009fa0: 6e20 696e 7428 7365 6c66 2e70 726d 5b27  n int(self.prm['
-00009fb0: 766f 6c74 6167 6573 275d 5b27 7664 6467  voltages']['vddg
-00009fc0: 6678 275d 290a 2020 2020 2020 2020 2020  fx']).          
-00009fd0: 2020 2020 2020 666f 7220 7661 6c75 6520        for value 
-00009fe0: 696e 2073 656c 662e 7072 6d5b 2776 6f6c  in self.prm['vol
-00009ff0: 7461 6765 7327 5d2e 7661 6c75 6573 2829  tages'].values()
-0000a000: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000a010: 2020 2020 2020 7265 7475 726e 2076 616c        return val
-0000a020: 7565 0a20 2020 2020 2020 2020 2020 2069  ue.            i
-0000a030: 6620 6e61 6d65 203d 3d20 2773 636c 6b5f  f name == 'sclk_
-0000a040: 7073 5f76 616c 273a 0a20 2020 2020 2020  ps_val':.       
-0000a050: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0000a060: 7365 6c66 2e70 726d 5b27 7363 6c6b 5f70  self.prm['sclk_p
-0000a070: 7327 5d5b 305d 0a20 2020 2020 2020 2020  s'][0].         
-0000a080: 2020 2069 6620 6e61 6d65 203d 3d20 2773     if name == 's
-0000a090: 636c 6b5f 665f 7661 6c27 3a0a 2020 2020  clk_f_val':.    
-0000a0a0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0000a0b0: 656c 662e 7072 6d5b 2766 7265 7175 656e  elf.prm['frequen
-0000a0c0: 6369 6573 275d 3a0a 2020 2020 2020 2020  cies']:.        
-0000a0d0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0000a0e0: 636c 6f63 6b5f 6e61 6d65 2069 6e20 2827  clock_name in ('
-0000a0f0: 7363 6c6b 272c 2027 636c 6f63 6b73 2e67  sclk', 'clocks.g
-0000a100: 7227 293a 0a20 2020 2020 2020 2020 2020  r'):.           
-0000a110: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000a120: 636c 6f63 6b5f 6e61 6d65 2069 6e20 7365  clock_name in se
-0000a130: 6c66 2e70 726d 5b27 6672 6571 7565 6e63  lf.prm['frequenc
-0000a140: 6965 7327 5d3a 0a20 2020 2020 2020 2020  ies']:.         
-0000a150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a160: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000a170: 2873 656c 662e 7072 6d5b 2766 7265 7175  (self.prm['frequ
-0000a180: 656e 6369 6573 275d 5b63 6c6f 636b 5f6e  encies'][clock_n
-0000a190: 616d 655d 2c20 7374 7229 2061 6e64 5c0a  ame], str) and\.
-0000a1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a1c0: 2020 2020 7365 6c66 2e70 726d 5b27 6672      self.prm['fr
-0000a1d0: 6571 7565 6e63 6965 7327 5d5b 636c 6f63  equencies'][cloc
-0000a1e0: 6b5f 6e61 6d65 5d2e 6973 6e75 6d65 7269  k_name].isnumeri
-0000a1f0: 6328 293a 0a20 2020 2020 2020 2020 2020  c():.           
-0000a200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a210: 2020 2020 2072 6574 7572 6e20 696e 7428       return int(
-0000a220: 7365 6c66 2e70 726d 5b27 6672 6571 7565  self.prm['freque
-0000a230: 6e63 6965 7327 5d5b 636c 6f63 6b5f 6e61  ncies'][clock_na
-0000a240: 6d65 5d29 0a20 2020 2020 2020 2020 2020  me]).           
-0000a250: 2020 2020 2069 6620 7365 6c66 2e70 726d       if self.prm
-0000a260: 5b27 7363 6c6b 5f70 7327 5d5b 315d 3a0a  ['sclk_ps'][1]:.
-0000a270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a280: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0000a290: 7072 6d5b 2773 636c 6b5f 7073 275d 5b31  prm['sclk_ps'][1
-0000a2a0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0000a2b0: 2020 6966 2073 656c 662e 7072 6d5b 2766    if self.prm['f
-0000a2c0: 7265 7175 656e 6369 6573 275d 3a0a 2020  requencies']:.  
-0000a2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a2e0: 2020 666f 7220 7661 6c75 6520 696e 2073    for value in s
-0000a2f0: 656c 662e 7072 6d5b 2766 7265 7175 656e  elf.prm['frequen
-0000a300: 6369 6573 275d 2e76 616c 7565 7328 293a  cies'].values():
-0000a310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a320: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0000a330: 7661 6c75 650a 2020 2020 2020 2020 2020  value.          
-0000a340: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-0000a350: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-0000a360: 206e 616d 6520 3d3d 2027 6d63 6c6b 5f70   name == 'mclk_p
-0000a370: 735f 7661 6c27 3a0a 2020 2020 2020 2020  s_val':.        
-0000a380: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000a390: 656c 662e 7072 6d5b 276d 636c 6b5f 7073  elf.prm['mclk_ps
-0000a3a0: 275d 5b30 5d0a 2020 2020 2020 2020 2020  '][0].          
-0000a3b0: 2020 6966 206e 616d 6520 3d3d 2027 6d63    if name == 'mc
-0000a3c0: 6c6b 5f66 5f76 616c 273a 0a20 2020 2020  lk_f_val':.     
-0000a3d0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-0000a3e0: 6c66 2e70 726d 5b27 6672 6571 7565 6e63  lf.prm['frequenc
-0000a3f0: 6965 7327 5d3a 0a20 2020 2020 2020 2020  ies']:.         
-0000a400: 2020 2020 2020 2020 2020 2066 6f72 2063             for c
-0000a410: 6c6f 636b 5f6e 616d 6520 696e 2028 276d  lock_name in ('m
-0000a420: 636c 6b27 2c20 2763 6c6f 636b 732e 6d65  clk', 'clocks.me
-0000a430: 6d27 293a 0a20 2020 2020 2020 2020 2020  m'):.           
-0000a440: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000a450: 636c 6f63 6b5f 6e61 6d65 2069 6e20 7365  clock_name in se
-0000a460: 6c66 2e70 726d 5b27 6672 6571 7565 6e63  lf.prm['frequenc
-0000a470: 6965 7327 5d3a 0a20 2020 2020 2020 2020  ies']:.         
-0000a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a490: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0000a4a0: 2873 656c 662e 7072 6d5b 2766 7265 7175  (self.prm['frequ
-0000a4b0: 656e 6369 6573 275d 5b63 6c6f 636b 5f6e  encies'][clock_n
-0000a4c0: 616d 655d 2c20 7374 7229 2061 6e64 5c0a  ame], str) and\.
-0000a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a4f0: 2020 2020 7365 6c66 2e70 726d 5b27 6672      self.prm['fr
-0000a500: 6571 7565 6e63 6965 7327 5d5b 636c 6f63  equencies'][cloc
-0000a510: 6b5f 6e61 6d65 5d2e 6973 6e75 6d65 7269  k_name].isnumeri
-0000a520: 6328 293a 0a20 2020 2020 2020 2020 2020  c():.           
-0000a530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a540: 2020 2020 2072 6574 7572 6e20 696e 7428       return int(
-0000a550: 7365 6c66 2e70 726d 5b27 6672 6571 7565  self.prm['freque
-0000a560: 6e63 6965 7327 5d5b 636c 6f63 6b5f 6e61  ncies'][clock_na
-0000a570: 6d65 5d29 0a20 2020 2020 2020 2020 2020  me]).           
-0000a580: 2020 2020 2069 6620 7365 6c66 2e70 726d       if self.prm
-0000a590: 5b27 6d63 6c6b 5f70 7327 5d5b 315d 3a0a  ['mclk_ps'][1]:.
-0000a5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a5b0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0000a5c0: 7072 6d5b 276d 636c 6b5f 7073 275d 5b31  prm['mclk_ps'][1
-0000a5d0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0000a5e0: 2020 7265 7475 726e 204e 6f6e 650a 0a20    return None.. 
-0000a5f0: 2020 2020 2020 2023 2053 6574 2074 7970         # Set typ
-0000a600: 6520 666f 7220 7061 7261 6d73 2074 6861  e for params tha
-0000a610: 7420 636f 756c 6420 6265 2066 6c6f 6174  t could be float
-0000a620: 206f 7220 696e 740a 2020 2020 2020 2020   or int.        
-0000a630: 6966 206e 616d 6520 696e 207b 2766 616e  if name in {'fan
-0000a640: 5f70 776d 272c 2027 6661 6e5f 7370 6565  _pwm', 'fan_spee
-0000a650: 6427 2c20 2770 6f77 6572 5f63 6170 272c  d', 'power_cap',
-0000a660: 2027 706f 7765 7227 2c20 2776 6464 6766   'power', 'vddgf
-0000a670: 785f 6f66 6673 6574 277d 3a0a 2020 2020  x_offset'}:.    
-0000a680: 2020 2020 2020 2020 6966 206e 756d 5f61          if num_a
-0000a690: 735f 696e 743a 0a20 2020 2020 2020 2020  s_int:.         
-0000a6a0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-0000a6b0: 616e 6365 2873 656c 662e 7072 6d5b 6e61  ance(self.prm[na
-0000a6c0: 6d65 5d2c 2069 6e74 293a 0a20 2020 2020  me], int):.     
-0000a6d0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000a6e0: 6574 7572 6e20 7365 6c66 2e70 726d 5b6e  eturn self.prm[n
-0000a6f0: 616d 655d 0a20 2020 2020 2020 2020 2020  ame].           
-0000a700: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000a710: 6365 2873 656c 662e 7072 6d5b 6e61 6d65  ce(self.prm[name
-0000a720: 5d2c 2066 6c6f 6174 293a 0a20 2020 2020  ], float):.     
-0000a730: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000a740: 6574 7572 6e20 696e 7428 7365 6c66 2e70  eturn int(self.p
-0000a750: 726d 5b6e 616d 655d 290a 2020 2020 2020  rm[name]).      
-0000a760: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-0000a770: 6e73 7461 6e63 6528 7365 6c66 2e70 726d  nstance(self.prm
-0000a780: 5b6e 616d 655d 2c20 7374 7229 3a0a 2020  [name], str):.  
-0000a790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a7a0: 2020 7265 7475 726e 2069 6e74 2873 656c    return int(sel
-0000a7b0: 662e 7072 6d5b 6e61 6d65 5d29 2069 6620  f.prm[name]) if 
-0000a7c0: 7365 6c66 2e70 726d 5b6e 616d 655d 2e69  self.prm[name].i
-0000a7d0: 736e 756d 6572 6963 2829 2065 6c73 6520  snumeric() else 
-0000a7e0: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
-0000a7f0: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
-0000a800: 0a20 2020 2020 2020 2069 6620 6e61 6d65  .        if name
-0000a810: 2069 6e20 7365 6c66 2e70 726d 3a0a 2020   in self.prm:.  
-0000a820: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000a830: 2073 656c 662e 7072 6d5b 6e61 6d65 5d0a   self.prm[name].
-0000a840: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0000a850: 6f6e 650a 0a20 2020 2064 6566 2073 6574  one..    def set
-0000a860: 5f6d 656d 6f72 795f 7573 6167 6528 7365  _memory_usage(se
-0000a870: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
-0000a880: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000a890: 2053 6574 2073 7973 7465 6d20 616e 6420   Set system and 
-0000a8a0: 7672 616d 206d 656d 6f72 7920 7573 6167  vram memory usag
-0000a8b0: 6520 7065 7263 656e 7461 6765 2e0a 2020  e percentage..  
-0000a8c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000a8d0: 2020 6966 2073 656c 662e 7072 6d2e 6d65    if self.prm.me
-0000a8e0: 6d5f 6774 745f 7573 6564 2069 7320 4e6f  m_gtt_used is No
-0000a8f0: 6e65 206f 7220 7365 6c66 2e70 726d 2e6d  ne or self.prm.m
-0000a900: 656d 5f67 7474 5f74 6f74 616c 2069 7320  em_gtt_total is 
-0000a910: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0000a920: 2020 7365 6c66 2e70 726d 2e6d 656d 5f67    self.prm.mem_g
-0000a930: 7474 5f75 7361 6765 203d 204e 6f6e 650a  tt_usage = None.
-0000a940: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000a950: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-0000a960: 726d 2e6d 656d 5f67 7474 5f75 7361 6765  rm.mem_gtt_usage
-0000a970: 203d 2031 3030 2e30 202a 2073 656c 662e   = 100.0 * self.
-0000a980: 7072 6d2e 6d65 6d5f 6774 745f 7573 6564  prm.mem_gtt_used
-0000a990: 202f 2073 656c 662e 7072 6d2e 6d65 6d5f   / self.prm.mem_
-0000a9a0: 6774 745f 746f 7461 6c0a 0a20 2020 2020  gtt_total..     
-0000a9b0: 2020 2069 6620 7365 6c66 2e70 726d 2e6d     if self.prm.m
-0000a9c0: 656d 5f76 7261 6d5f 7573 6564 2069 7320  em_vram_used is 
-0000a9d0: 4e6f 6e65 206f 7220 7365 6c66 2e70 726d  None or self.prm
-0000a9e0: 2e6d 656d 5f76 7261 6d5f 746f 7461 6c20  .mem_vram_total 
-0000a9f0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0000aa00: 2020 2020 2073 656c 662e 7072 6d2e 6d65       self.prm.me
-0000aa10: 6d5f 7672 616d 5f75 7361 6765 203d 204e  m_vram_usage = N
-0000aa20: 6f6e 650a 2020 2020 2020 2020 656c 7365  one.        else
-0000aa30: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000aa40: 6c66 2e70 726d 2e6d 656d 5f76 7261 6d5f  lf.prm.mem_vram_
-0000aa50: 7573 6167 6520 3d20 3130 302e 3020 2a20  usage = 100.0 * 
-0000aa60: 7365 6c66 2e70 726d 2e6d 656d 5f76 7261  self.prm.mem_vra
-0000aa70: 6d5f 7573 6564 202f 2073 656c 662e 7072  m_used / self.pr
-0000aa80: 6d2e 6d65 6d5f 7672 616d 5f74 6f74 616c  m.mem_vram_total
-0000aa90: 0a0a 2020 2020 6465 6620 7265 6164 5f70  ..    def read_p
-0000aaa0: 6369 6964 5f6d 6f64 656c 2873 656c 6629  ciid_model(self)
-0000aab0: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-0000aac0: 2022 2222 0a20 2020 2020 2020 2052 6561   """.        Rea
-0000aad0: 6420 7468 6520 6d6f 6465 6c20 6e61 6d65  d the model name
-0000aae0: 2066 726f 6d20 7468 6520 7379 7374 656d   from the system
-0000aaf0: 2070 6369 642e 6964 7320 6669 6c65 0a0a   pcid.ids file..
-0000ab00: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0000ab10: 2020 4750 5520 6d6f 6465 6c20 6e61 6d65    GPU model name
-0000ab20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000ab30: 2020 2020 2069 6620 6e6f 7420 4755 545f       if not GUT_
-0000ab40: 434f 4e53 542e 7379 735f 7063 6969 643a  CONST.sys_pciid:
-0000ab50: 0a20 2020 2020 2020 2020 2020 206d 6573  .            mes
-0000ab60: 7361 6765 203d 2027 4572 726f 723a 2070  sage = 'Error: p
-0000ab70: 6369 6964 2066 696c 6520 6e6f 7420 6465  ciid file not de
-0000ab80: 6669 6e65 6427 0a20 2020 2020 2020 2020  fined'.         
-0000ab90: 2020 2047 5554 5f43 4f4e 5354 2e70 726f     GUT_CONST.pro
-0000aba0: 6365 7373 5f6d 6573 7361 6765 286d 6573  cess_message(mes
-0000abb0: 7361 6765 2c20 6c6f 675f 666c 6167 3d54  sage, log_flag=T
-0000abc0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0000abd0: 2072 6574 7572 6e20 2727 0a20 2020 2020   return ''.     
-0000abe0: 2020 2069 6620 6e6f 7420 6f73 2e70 6174     if not os.pat
-0000abf0: 682e 6973 6669 6c65 2847 5554 5f43 4f4e  h.isfile(GUT_CON
-0000ac00: 5354 2e73 7973 5f70 6369 6964 293a 0a20  ST.sys_pciid):. 
-0000ac10: 2020 2020 2020 2020 2020 206d 6573 7361             messa
-0000ac20: 6765 203d 2027 4572 726f 723a 2043 616e  ge = 'Error: Can
-0000ac30: 206e 6f74 2061 6363 6573 7320 7379 7374   not access syst
-0000ac40: 656d 2070 6369 2e69 6473 2066 696c 6520  em pci.ids file 
-0000ac50: 5b7b 7d5d 272e 666f 726d 6174 2847 5554  [{}]'.format(GUT
-0000ac60: 5f43 4f4e 5354 2e73 7973 5f70 6369 6964  _CONST.sys_pciid
-0000ac70: 290a 2020 2020 2020 2020 2020 2020 4755  ).            GU
-0000ac80: 545f 434f 4e53 542e 7072 6f63 6573 735f  T_CONST.process_
-0000ac90: 6d65 7373 6167 6528 6d65 7373 6167 652c  message(message,
-0000aca0: 206c 6f67 5f66 6c61 673d 5472 7565 290a   log_flag=True).
-0000acb0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000acc0: 726e 2027 270a 2020 2020 2020 2020 7769  rn ''.        wi
-0000acd0: 7468 206f 7065 6e28 4755 545f 434f 4e53  th open(GUT_CONS
-0000ace0: 542e 7379 735f 7063 6969 642c 2027 7227  T.sys_pciid, 'r'
-0000acf0: 2c20 656e 636f 6469 6e67 3d27 7574 6638  , encoding='utf8
-0000ad00: 2729 2061 7320 7063 695f 6964 5f66 696c  ') as pci_id_fil
-0000ad10: 655f 7074 723a 0a20 2020 2020 2020 2020  e_ptr:.         
-0000ad20: 2020 206d 6f64 656c 5f73 7472 203d 2027     model_str = '
-0000ad30: 270a 2020 2020 2020 2020 2020 2020 6c65  '.            le
-0000ad40: 7665 6c20 3d20 300a 2020 2020 2020 2020  vel = 0.        
-0000ad50: 2020 2020 666f 7220 6c69 6e65 5f69 7465      for line_ite
-0000ad60: 6d20 696e 2070 6369 5f69 645f 6669 6c65  m in pci_id_file
-0000ad70: 5f70 7472 3a0a 2020 2020 2020 2020 2020  _ptr:.          
-0000ad80: 2020 2020 2020 6c69 6e65 203d 206c 696e        line = lin
-0000ad90: 655f 6974 656d 2e72 7374 7269 7028 290a  e_item.rstrip().
-0000ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000adb0: 6966 206c 656e 286c 696e 6529 203c 2034  if len(line) < 4
-0000adc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000add0: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-0000ade0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000adf0: 6620 6c69 6e65 5b30 5d20 3d3d 2027 2327  f line[0] == '#'
-0000ae00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000ae10: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-0000ae20: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000ae30: 6620 6c65 7665 6c20 3d3d 2030 3a0a 2020  f level == 0:.  
-0000ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae50: 2020 6966 2072 652e 6675 6c6c 6d61 7463    if re.fullmatc
-0000ae60: 6828 5041 5454 4552 4e53 5b27 5043 4949  h(PATTERNS['PCII
-0000ae70: 4944 5f4c 3027 5d2c 206c 696e 6529 3a0a  ID_L0'], line):.
-0000ae80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae90: 2020 2020 2020 2020 6966 206c 696e 655b          if line[
-0000aea0: 3a34 5d20 3d3d 2073 656c 662e 7072 6d2e  :4] == self.prm.
-0000aeb0: 6964 5b27 7665 6e64 6f72 275d 2e72 6570  id['vendor'].rep
-0000aec0: 6c61 6365 2827 3078 272c 2027 2729 3a0a  lace('0x', ''):.
-0000aed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aee0: 2020 2020 2020 2020 2020 2020 6c65 7665              leve
-0000aef0: 6c20 2b3d 2031 0a20 2020 2020 2020 2020  l += 1.         
-0000af00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af10: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-0000af20: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0000af30: 206c 6576 656c 203d 3d20 313a 0a20 2020   level == 1:.   
-0000af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af50: 2069 6620 7265 2e66 756c 6c6d 6174 6368   if re.fullmatch
-0000af60: 2850 4154 5445 524e 535b 2750 4349 4949  (PATTERNS['PCIII
-0000af70: 445f 4c30 275d 2c20 6c69 6e65 293a 0a20  D_L0'], line):. 
-0000af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000af90: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
-0000afa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000afb0: 2069 6620 7265 2e66 756c 6c6d 6174 6368   if re.fullmatch
-0000afc0: 2850 4154 5445 524e 535b 2750 4349 4949  (PATTERNS['PCIII
-0000afd0: 445f 4c31 275d 2c20 6c69 6e65 293a 0a20  D_L1'], line):. 
-0000afe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aff0: 2020 2020 2020 2069 6620 6c69 6e65 5b31         if line[1
-0000b000: 3a35 5d20 3d3d 2073 656c 662e 7072 6d2e  :5] == self.prm.
-0000b010: 6964 5b27 6465 7669 6365 275d 2e72 6570  id['device'].rep
-0000b020: 6c61 6365 2827 3078 272c 2027 2729 3a0a  lace('0x', ''):.
-0000b030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b040: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
-0000b050: 6c5f 7374 7220 3d20 6c69 6e65 5b35 3a5d  l_str = line[5:]
-0000b060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b070: 2020 2020 2020 2020 2020 2020 206c 6576               lev
-0000b080: 656c 202b 3d20 310a 2020 2020 2020 2020  el += 1.        
-0000b090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0a0: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
-0000b0b0: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-0000b0c0: 6620 6c65 7665 6c20 3d3d 2032 3a0a 2020  f level == 2:.  
-0000b0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0e0: 2020 6966 2072 652e 6675 6c6c 6d61 7463    if re.fullmatc
-0000b0f0: 6828 5041 5454 4552 4e53 5b27 5043 4949  h(PATTERNS['PCII
-0000b100: 4944 5f4c 3027 5d2c 206c 696e 6529 3a0a  ID_L0'], line):.
-0000b110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b120: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-0000b130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b140: 2020 6966 2072 652e 6675 6c6c 6d61 7463    if re.fullmatc
-0000b150: 6828 5041 5454 4552 4e53 5b27 5043 4949  h(PATTERNS['PCII
-0000b160: 4944 5f4c 3127 5d2c 206c 696e 6529 3a0a  ID_L1'], line):.
-0000b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b180: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-0000b190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b1a0: 2020 6966 2072 652e 6675 6c6c 6d61 7463    if re.fullmatc
-0000b1b0: 6828 5041 5454 4552 4e53 5b27 5043 4949  h(PATTERNS['PCII
-0000b1c0: 4944 5f4c 3227 5d2c 206c 696e 6529 3a0a  ID_L2'], line):.
-0000b1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b1e0: 2020 2020 2020 2020 6966 206c 696e 655b          if line[
-0000b1f0: 323a 365d 203d 3d20 7365 6c66 2e70 726d  2:6] == self.prm
-0000b200: 2e69 645b 2773 7562 7379 7374 656d 5f76  .id['subsystem_v
-0000b210: 656e 646f 7227 5d2e 7265 706c 6163 6528  endor'].replace(
-0000b220: 2730 7827 2c20 2727 293a 0a20 2020 2020  '0x', ''):.     
-0000b230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b240: 2020 2020 2020 2069 6620 6c69 6e65 5b37         if line[7
-0000b250: 3a31 315d 203d 3d20 7365 6c66 2e70 726d  :11] == self.prm
-0000b260: 2e69 645b 2773 7562 7379 7374 656d 5f64  .id['subsystem_d
-0000b270: 6576 6963 6527 5d2e 7265 706c 6163 6528  evice'].replace(
-0000b280: 2730 7827 2c20 2727 293a 0a20 2020 2020  '0x', ''):.     
-0000b290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b2a0: 2020 2020 2020 2020 2020 206d 6f64 656c             model
-0000b2b0: 5f73 7472 203d 206c 696e 655b 3131 3a5d  _str = line[11:]
-0000b2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b2e0: 2062 7265 616b 0a20 2020 2020 2020 2072   break.        r
-0000b2f0: 6574 7572 6e20 6d6f 6465 6c5f 7374 722e  eturn model_str.
-0000b300: 7374 7269 7028 290a 0a20 2020 2064 6566  strip()..    def
-0000b310: 2070 6f70 756c 6174 655f 7072 6d5f 6672   populate_prm_fr
-0000b320: 6f6d 5f64 6963 7428 7365 6c66 2c20 7061  om_dict(self, pa
-0000b330: 7261 6d73 3a20 4469 6374 5b73 7472 2c20  rams: Dict[str, 
-0000b340: 616e 795d 2920 2d3e 204e 6f6e 653a 0a20  any]) -> None:. 
-0000b350: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000b360: 2020 2050 6f70 756c 6174 6520 656c 656d     Populate elem
-0000b370: 656e 7473 206f 6620 6120 4770 7549 7465  ents of a GpuIte
-0000b380: 6d20 7769 7468 2069 7465 6d73 2066 726f  m with items fro
-0000b390: 6d20 6120 6469 6374 2077 6974 6820 6b65  m a dict with ke
-0000b3a0: 7973 2074 6861 7420 616c 6967 6e20 746f  ys that align to
-0000b3b0: 2065 6c65 6d65 6e74 7320 6f66 2047 7075   elements of Gpu
-0000b3c0: 4974 656d 2e0a 0a20 2020 2020 2020 203a  Item...        :
-0000b3d0: 7061 7261 6d20 7061 7261 6d73 3a20 4120  param params: A 
-0000b3e0: 6469 6374 696f 6e61 7279 206f 6620 7061  dictionary of pa
-0000b3f0: 7261 6d65 7465 7273 2077 6974 6820 6b65  rameters with ke
-0000b400: 7973 2074 6861 7420 616c 6967 6e20 746f  ys that align to
-0000b410: 2047 7075 4974 656d 2065 6c65 6d65 6e74   GpuItem element
-0000b420: 732e 0a20 2020 2020 2020 2022 2222 0a20  s..        """. 
-0000b430: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-0000b440: 6275 6728 2770 726d 2064 6963 743a 5c6e  bug('prm dict:\n
-0000b450: 2573 272c 2070 6172 616d 7329 0a20 2020  %s', params).   
-0000b460: 2020 2020 2073 6574 5f6f 636c 5f76 6572       set_ocl_ver
-0000b470: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-0000b480: 666f 7220 736f 7572 6365 5f6e 616d 652c  for source_name,
-0000b490: 2073 6f75 7263 655f 7661 6c75 6520 696e   source_value in
-0000b4a0: 2070 6172 616d 732e 6974 656d 7328 293a   params.items():
-0000b4b0: 0a20 2020 2020 2020 2020 2020 2023 2053  .            # S
-0000b4c0: 6574 2070 7269 6d61 7279 2070 6172 616d  et primary param
-0000b4d0: 6574 6572 0a20 2020 2020 2020 2020 2020  eter.           
-0000b4e0: 2069 6620 736f 7572 6365 5f6e 616d 6520   if source_name 
-0000b4f0: 6e6f 7420 696e 2073 656c 662e 7072 6d3a  not in self.prm:
-0000b500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b510: 2072 6169 7365 204b 6579 4572 726f 7228   raise KeyError(
-0000b520: 2750 6f70 756c 6174 6520 6469 6374 2063  'Populate dict c
-0000b530: 6f6e 7461 696e 7320 756e 6d61 7463 6865  ontains unmatche
-0000b540: 6420 6b65 793a 207b 7d27 2e66 6f72 6d61  d key: {}'.forma
-0000b550: 7428 736f 7572 6365 5f6e 616d 6529 290a  t(source_name)).
-0000b560: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000b570: 2e70 726d 5b73 6f75 7263 655f 6e61 6d65  .prm[source_name
-0000b580: 5d20 3d20 736f 7572 6365 5f76 616c 7565  ] = source_value
-0000b590: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-0000b5a0: 5365 7420 7365 636f 6e64 6172 7920 7061  Set secondary pa
-0000b5b0: 7261 6d65 7465 7273 0a20 2020 2020 2020  rameters.       
-0000b5c0: 2020 2020 2069 6620 736f 7572 6365 5f6e       if source_n
-0000b5d0: 616d 6520 3d3d 2027 6361 7264 5f70 6174  ame == 'card_pat
-0000b5e0: 6827 2061 6e64 2073 6f75 7263 655f 7661  h' and source_va
-0000b5f0: 6c75 653a 0a20 2020 2020 2020 2020 2020  lue:.           
-0000b600: 2020 2020 2063 6172 645f 6e75 6d5f 7374       card_num_st
-0000b610: 7220 3d20 736f 7572 6365 5f76 616c 7565  r = source_value
-0000b620: 2e72 6570 6c61 6365 2827 7b7d 6361 7264  .replace('{}card
-0000b630: 272e 666f 726d 6174 2847 5554 5f43 4f4e  '.format(GUT_CON
-0000b640: 5354 2e63 6172 645f 726f 6f74 292c 2027  ST.card_root), '
-0000b650: 2729 2e72 6570 6c61 6365 2827 2f64 6576  ').replace('/dev
-0000b660: 6963 6527 2c20 2727 290a 2020 2020 2020  ice', '').      
-0000b670: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-0000b680: 726d 2e63 6172 645f 6e75 6d20 3d20 696e  rm.card_num = in
-0000b690: 7428 6361 7264 5f6e 756d 5f73 7472 2920  t(card_num_str) 
-0000b6a0: 6966 2063 6172 645f 6e75 6d5f 7374 722e  if card_num_str.
-0000b6b0: 6973 6e75 6d65 7269 6328 2920 656c 7365  isnumeric() else
-0000b6c0: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-0000b6d0: 2020 656c 6966 2073 6f75 7263 655f 6e61    elif source_na
-0000b6e0: 6d65 203d 3d20 2763 6f6d 7075 7465 5f70  me == 'compute_p
-0000b6f0: 6c61 7466 6f72 6d27 3a0a 2020 2020 2020  latform':.      
-0000b700: 2020 2020 2020 2020 2020 7365 745f 6f63            set_oc
-0000b710: 6c5f 7665 7220 3d20 736f 7572 6365 5f76  l_ver = source_v
-0000b720: 616c 7565 0a20 2020 2020 2020 2020 2020  alue.           
-0000b730: 2065 6c69 6620 736f 7572 6365 5f6e 616d   elif source_nam
-0000b740: 6520 3d3d 2027 6770 755f 7479 7065 2720  e == 'gpu_type' 
-0000b750: 616e 6420 736f 7572 6365 5f76 616c 7565  and source_value
-0000b760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000b770: 2020 7365 6c66 2e70 726d 2e67 7075 5f74    self.prm.gpu_t
-0000b780: 7970 6520 3d20 736f 7572 6365 5f76 616c  ype = source_val
-0000b790: 7565 0a20 2020 2020 2020 2020 2020 2020  ue.             
-0000b7a0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0000b7b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000b7c0: 2e72 6561 645f 736b 6970 203d 2073 656c  .read_skip = sel
-0000b7d0: 662e 616d 645f 7479 7065 5f73 6b69 705f  f.amd_type_skip_
-0000b7e0: 6c69 7374 735b 7365 6c66 2e70 726d 2e67  lists[self.prm.g
-0000b7f0: 7075 5f74 7970 655d 0a20 2020 2020 2020  pu_type].       
-0000b800: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0000b810: 4b65 7945 7272 6f72 3a0a 2020 2020 2020  KeyError:.      
-0000b820: 2020 2020 2020 2020 2020 2020 2020 7061                pa
-0000b830: 7373 0a0a 2020 2020 2020 2020 2320 436f  ss..        # Co
-0000b840: 6d70 7574 6520 706c 6174 666f 726d 2072  mpute platform r
-0000b850: 6571 7569 7265 7320 7468 6174 2063 6f6d  equires that com
-0000b860: 7075 7465 2062 6f6f 6c20 6265 2073 6574  pute bool be set
-0000b870: 2066 6972 7374 0a20 2020 2020 2020 2069   first.        i
-0000b880: 6620 7365 745f 6f63 6c5f 7665 723a 0a20  f set_ocl_ver:. 
-0000b890: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000b8a0: 7072 6d2e 636f 6d70 7574 655f 706c 6174  prm.compute_plat
-0000b8b0: 666f 726d 203d 2073 6574 5f6f 636c 5f76  form = set_ocl_v
-0000b8c0: 6572 2069 6620 7365 6c66 2e70 726d 2e63  er if self.prm.c
-0000b8d0: 6f6d 7075 7465 2065 6c73 6520 274e 6f6e  ompute else 'Non
-0000b8e0: 6527 0a0a 2020 2020 6465 6620 7365 745f  e'..    def set_
-0000b8f0: 636c 696e 666f 5f76 616c 7565 7328 7365  clinfo_values(se
-0000b900: 6c66 2c20 6f63 6c5f 6469 6374 3a20 4469  lf, ocl_dict: Di
-0000b910: 6374 5b73 7472 2c20 556e 696f 6e5b 696e  ct[str, Union[in
-0000b920: 742c 2073 7472 2c20 6c69 7374 5d5d 2920  t, str, list]]) 
-0000b930: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
-0000b940: 2022 2222 0a20 2020 2020 2020 2053 6574   """.        Set
-0000b950: 2063 6c69 6e66 6f20 7661 6c75 6573 2069   clinfo values i
-0000b960: 6e20 4750 5520 6974 656d 2064 6963 7469  n GPU item dicti
-0000b970: 6f6e 6172 792e 0a0a 2020 2020 2020 2020  onary...        
-0000b980: 3a70 6172 616d 206f 636c 5f64 6963 743a  :param ocl_dict:
-0000b990: 2064 6963 7469 6f6e 6172 7920 6f66 206f   dictionary of o
-0000b9a0: 7065 6e63 6c20 6e61 6d65 2061 6e64 2076  pencl name and v
-0000b9b0: 616c 7565 732e 0a20 2020 2020 2020 2022  alues..        "
-0000b9c0: 2222 0a20 2020 2020 2020 2066 6f72 206f  "".        for o
-0000b9d0: 636c 5f6e 616d 652c 206f 636c 5f76 616c  cl_name, ocl_val
-0000b9e0: 2069 6e20 6f63 6c5f 6469 6374 2e69 7465   in ocl_dict.ite
-0000b9f0: 6d73 2829 3a0a 2020 2020 2020 2020 2020  ms():.          
-0000ba00: 2020 6966 206f 636c 5f6e 616d 6520 696e    if ocl_name in
-0000ba10: 2073 656c 662e 636c 696e 666f 3a0a 2020   self.clinfo:.  
-0000ba20: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000ba30: 6c66 2e63 6c69 6e66 6f5b 6f63 6c5f 6e61  lf.clinfo[ocl_na
-0000ba40: 6d65 5d20 3d20 6f63 6c5f 7661 6c0a 0a20  me] = ocl_val.. 
-0000ba50: 2020 2064 6566 2067 6574 5f63 6c69 6e66     def get_clinf
-0000ba60: 6f5f 7661 6c75 6528 7365 6c66 2c20 6e61  o_value(self, na
-0000ba70: 6d65 3a20 7374 7229 202d 3e20 556e 696f  me: str) -> Unio
-0000ba80: 6e5b 696e 742c 2073 7472 2c20 6c69 7374  n[int, str, list
-0000ba90: 2c20 4e6f 6e65 5d3a 0a20 2020 2020 2020  , None]:.       
-0000baa0: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-0000bab0: 2063 6c69 6e66 6f20 7061 7261 6d65 7465   clinfo paramete
-0000bac0: 7220 7661 6c75 6520 666f 7220 6769 7665  r value for give
-0000bad0: 206e 616d 652e 0a0a 2020 2020 2020 2020   name...        
-0000bae0: 3a70 6172 616d 206e 616d 653a 2020 636c  :param name:  cl
-0000baf0: 696e 666f 2050 6172 616d 6574 6572 206e  info Parameter n
-0000bb00: 616d 650a 2020 2020 2020 2020 3a72 6574  ame.        :ret
-0000bb10: 7572 6e3a 2063 6c69 6e66 6f20 5061 7261  urn: clinfo Para
-0000bb20: 6d65 7465 7220 7661 6c75 650a 2020 2020  meter value.    
-0000bb30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000bb40: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0000bb50: 2072 6574 7572 6e20 7365 6c66 2e63 6c69   return self.cli
-0000bb60: 6e66 6f5b 6e61 6d65 5d0a 2020 2020 2020  nfo[name].      
-0000bb70: 2020 6578 6365 7074 204b 6579 4572 726f    except KeyErro
-0000bb80: 723a 0a20 2020 2020 2020 2020 2020 2072  r:.            r
-0000bb90: 6574 7572 6e20 4e6f 6e65 0a0a 2020 2020  eturn None..    
-0000bba0: 6465 6620 6973 5f76 616c 6964 5f70 6f77  def is_valid_pow
-0000bbb0: 6572 5f63 6170 2873 656c 662c 2070 6f77  er_cap(self, pow
-0000bbc0: 6572 5f63 6170 3a20 696e 7429 202d 3e20  er_cap: int) -> 
-0000bbd0: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
-0000bbe0: 220a 2020 2020 2020 2020 4368 6563 6b20  ".        Check 
-0000bbf0: 6966 2061 2067 6976 656e 2070 6f77 6572  if a given power
-0000bc00: 5f63 6170 2076 616c 7565 2069 7320 7661  _cap value is va
-0000bc10: 6c69 642e 0a0a 2020 2020 2020 2020 3a70  lid...        :p
-0000bc20: 6172 616d 2070 6f77 6572 5f63 6170 3a20  aram power_cap: 
-0000bc30: 5461 7267 6574 2070 6f77 6572 2063 6170  Target power cap
-0000bc40: 2076 616c 7565 2074 6f20 6265 2074 6573   value to be tes
-0000bc50: 7465 642e 0a20 2020 2020 2020 203a 7265  ted..        :re
-0000bc60: 7475 726e 3a20 5472 7565 2069 6620 7661  turn: True if va
-0000bc70: 6c69 640a 2020 2020 2020 2020 2222 220a  lid.        """.
-0000bc80: 2020 2020 2020 2020 706f 7765 725f 6361          power_ca
-0000bc90: 705f 7261 6e67 6520 3d20 7365 6c66 2e70  p_range = self.p
-0000bca0: 726d 2e70 6f77 6572 5f63 6170 5f72 616e  rm.power_cap_ran
-0000bcb0: 6765 0a20 2020 2020 2020 2069 6620 706f  ge.        if po
-0000bcc0: 7765 725f 6361 705f 7261 6e67 655b 305d  wer_cap_range[0]
-0000bcd0: 203c 3d20 706f 7765 725f 6361 7020 3c3d   <= power_cap <=
-0000bce0: 2070 6f77 6572 5f63 6170 5f72 616e 6765   power_cap_range
-0000bcf0: 5b31 5d3a 0a20 2020 2020 2020 2020 2020  [1]:.           
-0000bd00: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
-0000bd10: 2020 2020 2069 6620 706f 7765 725f 6361       if power_ca
-0000bd20: 7020 3c20 303a 0a20 2020 2020 2020 2020  p < 0:.         
-0000bd30: 2020 2023 206e 6567 6174 6976 6520 7661     # negative va
-0000bd40: 6c75 6573 2077 696c 6c20 6265 2069 6e74  lues will be int
-0000bd50: 6572 7072 6574 6564 2061 7320 7265 7365  erpreted as rese
-0000bd60: 7420 7265 7175 6573 740a 2020 2020 2020  t request.      
-0000bd70: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
-0000bd80: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
-0000bd90: 2046 616c 7365 0a0a 2020 2020 6465 6620   False..    def 
-0000bda0: 6973 5f76 616c 6964 5f66 616e 5f70 776d  is_valid_fan_pwm
-0000bdb0: 2873 656c 662c 2070 776d 5f76 616c 7565  (self, pwm_value
-0000bdc0: 3a20 696e 7429 202d 3e20 626f 6f6c 3a0a  : int) -> bool:.
-0000bdd0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000bde0: 2020 2020 4368 6563 6b20 6966 2061 2067      Check if a g
-0000bdf0: 6976 656e 2066 616e 5f70 776d 2076 616c  iven fan_pwm val
-0000be00: 7565 2069 7320 7661 6c69 642e 0a0a 2020  ue is valid...  
-0000be10: 2020 2020 2020 3a70 6172 616d 2070 776d        :param pwm
-0000be20: 5f76 616c 7565 3a20 5461 7267 6574 2066  _value: Target f
-0000be30: 616e 5f70 776d 2076 616c 7565 2074 6f20  an_pwm value to 
-0000be40: 6265 2074 6573 7465 642e 0a20 2020 2020  be tested..     
-0000be50: 2020 203a 7265 7475 726e 3a20 5472 7565     :return: True
-0000be60: 2069 6620 7661 6c69 640a 2020 2020 2020   if valid.      
-0000be70: 2020 2222 220a 2020 2020 2020 2020 7077    """.        pw
-0000be80: 6d5f 7261 6e67 6520 3d20 7365 6c66 2e70  m_range = self.p
-0000be90: 726d 2e66 616e 5f70 776d 5f72 616e 6765  rm.fan_pwm_range
-0000bea0: 0a20 2020 2020 2020 2069 6620 7077 6d5f  .        if pwm_
-0000beb0: 7261 6e67 655b 305d 203c 3d20 7077 6d5f  range[0] <= pwm_
-0000bec0: 7661 6c75 6520 3c3d 2070 776d 5f72 616e  value <= pwm_ran
-0000bed0: 6765 5b31 5d3a 0a20 2020 2020 2020 2020  ge[1]:.         
-0000bee0: 2020 2072 6574 7572 6e20 5472 7565 0a20     return True. 
-0000bef0: 2020 2020 2020 2069 6620 7077 6d5f 7661         if pwm_va
-0000bf00: 6c75 6520 3c20 303a 0a20 2020 2020 2020  lue < 0:.       
-0000bf10: 2020 2020 2023 206e 6567 6174 6976 6520       # negative 
-0000bf20: 7661 6c75 6573 2077 696c 6c20 6265 2069  values will be i
-0000bf30: 6e74 6572 7072 6574 6564 2061 7320 7265  nterpreted as re
-0000bf40: 7365 7420 7265 7175 6573 740a 2020 2020  set request.    
-0000bf50: 2020 2020 2020 2020 7265 7475 726e 2054          return T
-0000bf60: 7275 650a 2020 2020 2020 2020 7265 7475  rue.        retu
-0000bf70: 726e 2046 616c 7365 0a0a 2020 2020 6465  rn False..    de
-0000bf80: 6620 6973 5f76 616c 6964 5f6d 636c 6b5f  f is_valid_mclk_
-0000bf90: 7073 7461 7465 2873 656c 662c 2070 7374  pstate(self, pst
-0000bfa0: 6174 653a 204c 6973 745b 696e 745d 2920  ate: List[int]) 
-0000bfb0: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
-0000bfc0: 2022 2222 0a20 2020 2020 2020 2043 6865   """.        Che
-0000bfd0: 636b 2069 6620 6769 7665 6e20 6d63 6c6b  ck if given mclk
-0000bfe0: 2070 7374 6174 6520 7661 6c75 6520 6973   pstate value is
-0000bff0: 2076 616c 6964 2e0a 0a20 2020 2020 2020   valid...       
-0000c000: 203a 7061 7261 6d20 7073 7461 7465 3a20   :param pstate: 
-0000c010: 7073 7461 7465 203d 205b 7073 7461 7465  pstate = [pstate
-0000c020: 5f6e 756d 6265 722c 2063 6c6b 5f76 616c  _number, clk_val
-0000c030: 7565 2c20 7664 6463 5f76 616c 7565 5d0a  ue, vddc_value].
-0000c040: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0000c050: 2052 6574 7572 6e20 5472 7565 2069 6620   Return True if 
-0000c060: 7661 6c69 640a 2020 2020 2020 2020 2222  valid.        ""
-0000c070: 220a 2020 2020 2020 2020 6d63 6c6b 5f72  ".        mclk_r
-0000c080: 616e 6765 203d 2073 656c 662e 7072 6d2e  ange = self.prm.
-0000c090: 6d63 6c6b 5f66 5f72 616e 6765 0a20 2020  mclk_f_range.   
-0000c0a0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0000c0b0: 2020 2020 2020 6d63 6c6b 5f6d 696e 203d        mclk_min =
-0000c0c0: 2069 6e74 2872 652e 7375 6228 5041 5454   int(re.sub(PATT
-0000c0d0: 4552 4e53 5b27 454e 445f 494e 5f41 4c50  ERNS['END_IN_ALP
-0000c0e0: 4841 275d 2c20 2727 2c20 7374 7228 6d63  HA'], '', str(mc
-0000c0f0: 6c6b 5f72 616e 6765 5b30 5d29 2929 0a20  lk_range[0]))). 
-0000c100: 2020 2020 2020 2020 2020 206d 636c 6b5f             mclk_
-0000c110: 6d61 7820 3d20 696e 7428 7265 2e73 7562  max = int(re.sub
-0000c120: 2850 4154 5445 524e 535b 2745 4e44 5f49  (PATTERNS['END_I
-0000c130: 4e5f 414c 5048 4127 5d2c 2027 272c 2073  N_ALPHA'], '', s
-0000c140: 7472 286d 636c 6b5f 7261 6e67 655b 315d  tr(mclk_range[1]
-0000c150: 2929 290a 2020 2020 2020 2020 6578 6365  ))).        exce
-0000c160: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
-0000c170: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000c180: 2046 616c 7365 0a0a 2020 2020 2020 2020   False..        
-0000c190: 6966 2070 7374 6174 655b 315d 203c 206d  if pstate[1] < m
-0000c1a0: 636c 6b5f 6d69 6e20 6f72 2070 7374 6174  clk_min or pstat
-0000c1b0: 655b 315d 203e 206d 636c 6b5f 6d61 783a  e[1] > mclk_max:
-0000c1c0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0000c1d0: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
-0000c1e0: 2020 6966 2073 656c 662e 7072 6d2e 6770    if self.prm.gp
-0000c1f0: 755f 7479 7065 2069 6e20 2847 7075 5479  u_type in (GpuTy
-0000c200: 7065 2e50 5374 6174 6573 4e45 2c20 4770  pe.PStatesNE, Gp
-0000c210: 7554 7970 652e 5053 7461 7465 7329 3a0a  uType.PStates):.
-0000c220: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0000c230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c240: 2076 6464 635f 6d69 6e20 3d20 696e 7428   vddc_min = int(
-0000c250: 7265 2e73 7562 2850 4154 5445 524e 535b  re.sub(PATTERNS[
-0000c260: 2745 4e44 5f49 4e5f 414c 5048 4127 5d2c  'END_IN_ALPHA'],
-0000c270: 2027 272c 2073 7472 2873 656c 662e 7072   '', str(self.pr
-0000c280: 6d2e 7664 6463 5f72 616e 6765 5b30 5d29  m.vddc_range[0])
-0000c290: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-0000c2a0: 2020 2076 6464 635f 6d61 7820 3d20 696e     vddc_max = in
-0000c2b0: 7428 7265 2e73 7562 2850 4154 5445 524e  t(re.sub(PATTERN
-0000c2c0: 535b 2745 4e44 5f49 4e5f 414c 5048 4127  S['END_IN_ALPHA'
-0000c2d0: 5d2c 2027 272c 2073 7472 2873 656c 662e  ], '', str(self.
-0000c2e0: 7072 6d2e 7664 6463 5f72 616e 6765 5b31  prm.vddc_range[1
-0000c2f0: 5d29 2929 0a20 2020 2020 2020 2020 2020  ]))).           
-0000c300: 2065 7863 6570 7420 5479 7065 4572 726f   except TypeErro
-0000c310: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-0000c320: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-0000c330: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-0000c340: 7374 6174 655b 325d 203c 2076 6464 635f  state[2] < vddc_
-0000c350: 6d69 6e20 6f72 2070 7374 6174 655b 325d  min or pstate[2]
-0000c360: 203e 2076 6464 635f 6d61 783a 0a20 2020   > vddc_max:.   
-0000c370: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000c380: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
-0000c390: 2020 7265 7475 726e 2054 7275 650a 0a20    return True.. 
-0000c3a0: 2020 2064 6566 2069 735f 7661 6c69 645f     def is_valid_
-0000c3b0: 7363 6c6b 5f70 7374 6174 6528 7365 6c66  sclk_pstate(self
-0000c3c0: 2c20 7073 7461 7465 3a20 4c69 7374 5b69  , pstate: List[i
-0000c3d0: 6e74 5d29 202d 3e20 626f 6f6c 3a0a 2020  nt]) -> bool:.  
-0000c3e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000c3f0: 2020 4368 6563 6b20 6966 2067 6976 656e    Check if given
-0000c400: 2073 636c 6b20 7073 7461 7465 2076 616c   sclk pstate val
-0000c410: 7565 2069 7320 7661 6c69 642e 0a0a 2020  ue is valid...  
-0000c420: 2020 2020 2020 3a70 6172 616d 2070 7374        :param pst
-0000c430: 6174 653a 2070 7374 6174 6520 3d20 5b70  ate: pstate = [p
-0000c440: 7374 6174 655f 6e75 6d62 6572 2c20 636c  state_number, cl
-0000c450: 6b5f 7661 6c75 652c 2076 6464 635f 7661  k_value, vddc_va
-0000c460: 6c75 655d 0a20 2020 2020 2020 203a 7265  lue].        :re
-0000c470: 7475 726e 3a20 5265 7475 726e 2054 7275  turn: Return Tru
-0000c480: 6520 6966 2076 616c 6964 0a20 2020 2020  e if valid.     
-0000c490: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-0000c4a0: 636c 6b5f 7261 6e67 6520 3d20 7365 6c66  clk_range = self
-0000c4b0: 2e70 726d 2e73 636c 6b5f 665f 7261 6e67  .prm.sclk_f_rang
-0000c4c0: 650a 2020 2020 2020 2020 7363 6c6b 5f6d  e.        sclk_m
-0000c4d0: 696e 203d 2069 6e74 2872 652e 7375 6228  in = int(re.sub(
-0000c4e0: 5041 5454 4552 4e53 5b27 454e 445f 494e  PATTERNS['END_IN
-0000c4f0: 5f41 4c50 4841 275d 2c20 2727 2c20 7374  _ALPHA'], '', st
-0000c500: 7228 7363 6c6b 5f72 616e 6765 5b30 5d29  r(sclk_range[0])
-0000c510: 2929 0a20 2020 2020 2020 2073 636c 6b5f  )).        sclk_
-0000c520: 6d61 7820 3d20 696e 7428 7265 2e73 7562  max = int(re.sub
-0000c530: 2850 4154 5445 524e 535b 2745 4e44 5f49  (PATTERNS['END_I
-0000c540: 4e5f 414c 5048 4127 5d2c 2027 272c 2073  N_ALPHA'], '', s
-0000c550: 7472 2873 636c 6b5f 7261 6e67 655b 315d  tr(sclk_range[1]
-0000c560: 2929 290a 2020 2020 2020 2020 6966 2070  ))).        if p
-0000c570: 7374 6174 655b 315d 203c 2073 636c 6b5f  state[1] < sclk_
-0000c580: 6d69 6e20 6f72 2070 7374 6174 655b 315d  min or pstate[1]
-0000c590: 203e 2073 636c 6b5f 6d61 783a 0a20 2020   > sclk_max:.   
-0000c5a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0000c5b0: 4661 6c73 650a 2020 2020 2020 2020 6966  False.        if
-0000c5c0: 2073 656c 662e 7072 6d2e 6770 755f 7479   self.prm.gpu_ty
-0000c5d0: 7065 2069 6e20 7b47 7075 5479 7065 2e50  pe in {GpuType.P
-0000c5e0: 5374 6174 6573 4e45 2c20 4770 7554 7970  StatesNE, GpuTyp
-0000c5f0: 652e 5053 7461 7465 737d 3a0a 2020 2020  e.PStates}:.    
-0000c600: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-0000c610: 2020 2020 2020 2020 2020 2020 2076 6464               vdd
-0000c620: 635f 6d69 6e20 3d20 696e 7428 7265 2e73  c_min = int(re.s
-0000c630: 7562 2850 4154 5445 524e 535b 2745 4e44  ub(PATTERNS['END
-0000c640: 5f49 4e5f 414c 5048 4127 5d2c 2027 272c  _IN_ALPHA'], '',
-0000c650: 2073 7472 2873 656c 662e 7072 6d2e 7664   str(self.prm.vd
-0000c660: 6463 5f72 616e 6765 5b30 5d29 2929 0a20  dc_range[0]))). 
-0000c670: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0000c680: 6464 635f 6d61 7820 3d20 696e 7428 7265  ddc_max = int(re
-0000c690: 2e73 7562 2850 4154 5445 524e 535b 2745  .sub(PATTERNS['E
-0000c6a0: 4e44 5f49 4e5f 414c 5048 4127 5d2c 2027  ND_IN_ALPHA'], '
-0000c6b0: 272c 2073 7472 2873 656c 662e 7072 6d2e  ', str(self.prm.
-0000c6c0: 7664 6463 5f72 616e 6765 5b31 5d29 2929  vddc_range[1])))
-0000c6d0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-0000c6e0: 6570 7420 5479 7065 4572 726f 723a 0a20  ept TypeError:. 
-0000c6f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000c700: 6574 7572 6e20 4661 6c73 650a 2020 2020  eturn False.    
-0000c710: 2020 2020 2020 2020 7072 696e 7428 277b          print('{
-0000c720: 7d3a 7b7d 207b 7d3a 7b7d 272e 666f 726d  }:{} {}:{}'.form
-0000c730: 6174 2870 7374 6174 655b 325d 2c20 7664  at(pstate[2], vd
-0000c740: 6463 5f6d 696e 2c20 7073 7461 7465 5b32  dc_min, pstate[2
-0000c750: 5d2c 2076 6464 635f 6d61 7829 290a 2020  ], vddc_max)).  
-0000c760: 2020 2020 2020 2020 2020 6966 2070 7374            if pst
-0000c770: 6174 655b 325d 203c 2076 6464 635f 6d69  ate[2] < vddc_mi
-0000c780: 6e20 6f72 2070 7374 6174 655b 325d 203e  n or pstate[2] >
-0000c790: 2076 6464 635f 6d61 783a 0a20 2020 2020   vddc_max:.     
-0000c7a0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000c7b0: 6e20 4661 6c73 650a 2020 2020 2020 2020  n False.        
-0000c7c0: 7265 7475 726e 2054 7275 650a 0a20 2020  return True..   
-0000c7d0: 2064 6566 2069 735f 6368 616e 6765 645f   def is_changed_
-0000c7e0: 7363 6c6b 5f70 7374 6174 6528 7365 6c66  sclk_pstate(self
-0000c7f0: 2c20 7073 7461 7465 3a20 4c69 7374 5b69  , pstate: List[i
-0000c800: 6e74 5d29 202d 3e20 626f 6f6c 3a0a 2020  nt]) -> bool:.  
-0000c810: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000c820: 2020 4368 6563 6b20 6966 2067 6976 656e    Check if given
-0000c830: 2073 636c 6b20 7073 7461 7465 2076 616c   sclk pstate val
-0000c840: 7565 2064 6966 6665 7265 6e74 2066 726f  ue different fro
-0000c850: 6d20 6375 7272 656e 742e 0a0a 2020 2020  m current...    
-0000c860: 2020 2020 3a70 6172 616d 2070 7374 6174      :param pstat
-0000c870: 653a 2070 7374 6174 6520 3d20 5b70 7374  e: pstate = [pst
-0000c880: 6174 655f 6e75 6d62 6572 2c20 636c 6b5f  ate_number, clk_
-0000c890: 7661 6c75 652c 2076 6464 635f 7661 6c75  value, vddc_valu
-0000c8a0: 655d 0a20 2020 2020 2020 203a 7265 7475  e].        :retu
-0000c8b0: 726e 3a20 5265 7475 726e 2054 7275 6520  rn: Return True 
-0000c8c0: 6966 2063 6861 6e67 6564 0a20 2020 2020  if changed.     
-0000c8d0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000c8e0: 6620 696e 7428 7265 2e73 7562 2850 4154  f int(re.sub(PAT
-0000c8f0: 5445 524e 535b 2745 4e44 5f49 4e5f 414c  TERNS['END_IN_AL
-0000c900: 5048 4127 5d2c 2027 272c 2073 656c 662e  PHA'], '', self.
-0000c910: 7363 6c6b 5f73 7461 7465 5b70 7374 6174  sclk_state[pstat
-0000c920: 655b 305d 5d5b 305d 2929 2021 3d20 7073  e[0]][0])) != ps
-0000c930: 7461 7465 5b31 5d3a 0a20 2020 2020 2020  tate[1]:.       
-0000c940: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
-0000c950: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0000c960: 2e70 726d 2e67 7075 5f74 7970 6520 696e  .prm.gpu_type in
-0000c970: 2028 4770 7554 7970 652e 5053 7461 7465   (GpuType.PState
-0000c980: 734e 452c 2047 7075 5479 7065 2e50 5374  sNE, GpuType.PSt
-0000c990: 6174 6573 293a 0a20 2020 2020 2020 2020  ates):.         
-0000c9a0: 2020 2069 6620 696e 7428 7265 2e73 7562     if int(re.sub
-0000c9b0: 2850 4154 5445 524e 535b 2745 4e44 5f49  (PATTERNS['END_I
-0000c9c0: 4e5f 414c 5048 4127 5d2c 2027 272c 2073  N_ALPHA'], '', s
-0000c9d0: 656c 662e 7363 6c6b 5f73 7461 7465 5b70  elf.sclk_state[p
-0000c9e0: 7374 6174 655b 305d 5d5b 315d 2929 2021  state[0]][1])) !
-0000c9f0: 3d20 7073 7461 7465 5b32 5d3a 0a20 2020  = pstate[2]:.   
-0000ca00: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000ca10: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
-0000ca20: 2072 6574 7572 6e20 4661 6c73 650a 0a20   return False.. 
-0000ca30: 2020 2064 6566 2069 735f 6368 616e 6765     def is_change
-0000ca40: 645f 6d63 6c6b 5f70 7374 6174 6528 7365  d_mclk_pstate(se
-0000ca50: 6c66 2c20 7073 7461 7465 3a20 4c69 7374  lf, pstate: List
-0000ca60: 5b69 6e74 5d29 202d 3e20 626f 6f6c 3a0a  [int]) -> bool:.
-0000ca70: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000ca80: 2020 2020 4368 6563 6b20 6966 2067 6976      Check if giv
-0000ca90: 656e 206d 636c 6b20 7073 7461 7465 2076  en mclk pstate v
-0000caa0: 616c 7565 2064 6966 6665 7265 6e74 2066  alue different f
-0000cab0: 726f 6d20 6375 7272 656e 742e 0a0a 2020  rom current...  
-0000cac0: 2020 2020 2020 3a70 6172 616d 2070 7374        :param pst
-0000cad0: 6174 653a 2070 7374 6174 6520 3d20 5b70  ate: pstate = [p
-0000cae0: 7374 6174 655f 6e75 6d62 6572 2c20 636c  state_number, cl
-0000caf0: 6b5f 7661 6c75 652c 2076 6464 635f 7661  k_value, vddc_va
-0000cb00: 6c75 655d 0a20 2020 2020 2020 203a 7265  lue].        :re
-0000cb10: 7475 726e 3a20 5265 7475 726e 2054 7275  turn: Return Tru
-0000cb20: 6520 6966 2063 6861 6e67 6564 0a20 2020  e if changed.   
-0000cb30: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000cb40: 2069 6620 696e 7428 7265 2e73 7562 2850   if int(re.sub(P
-0000cb50: 4154 5445 524e 535b 2745 4e44 5f49 4e5f  ATTERNS['END_IN_
-0000cb60: 414c 5048 4127 5d2c 2027 272c 2073 656c  ALPHA'], '', sel
-0000cb70: 662e 6d63 6c6b 5f73 7461 7465 5b70 7374  f.mclk_state[pst
-0000cb80: 6174 655b 305d 5d5b 305d 2929 2021 3d20  ate[0]][0])) != 
-0000cb90: 7073 7461 7465 5b31 5d3a 0a20 2020 2020  pstate[1]:.     
-0000cba0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
-0000cbb0: 7565 0a20 2020 2020 2020 2069 6620 7365  ue.        if se
-0000cbc0: 6c66 2e70 726d 2e67 7075 5f74 7970 6520  lf.prm.gpu_type 
-0000cbd0: 696e 2028 4770 7554 7970 652e 5053 7461  in (GpuType.PSta
-0000cbe0: 7465 734e 452c 2047 7075 5479 7065 2e50  tesNE, GpuType.P
-0000cbf0: 5374 6174 6573 293a 0a20 2020 2020 2020  States):.       
-0000cc00: 2020 2020 2069 6620 696e 7428 7265 2e73       if int(re.s
-0000cc10: 7562 2850 4154 5445 524e 535b 2745 4e44  ub(PATTERNS['END
-0000cc20: 5f49 4e5f 414c 5048 4127 5d2c 2027 272c  _IN_ALPHA'], '',
-0000cc30: 2073 656c 662e 6d63 6c6b 5f73 7461 7465   self.mclk_state
-0000cc40: 5b70 7374 6174 655b 305d 5d5b 315d 2929  [pstate[0]][1]))
-0000cc50: 2021 3d20 7073 7461 7465 5b32 5d3a 0a20   != pstate[2]:. 
-0000cc60: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000cc70: 6574 7572 6e20 5472 7565 0a20 2020 2020  eturn True.     
-0000cc80: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-0000cc90: 0a20 2020 2064 6566 2069 735f 6368 616e  .    def is_chan
-0000cca0: 6765 645f 7664 6463 5f63 7572 7665 5f70  ged_vddc_curve_p
-0000ccb0: 7428 7365 6c66 2c20 7073 7461 7465 3a20  t(self, pstate: 
-0000ccc0: 4c69 7374 5b69 6e74 5d29 202d 3e20 626f  List[int]) -> bo
-0000ccd0: 6f6c 3a0a 2020 2020 2020 2020 2222 220a  ol:.        """.
-0000cce0: 2020 2020 2020 2020 4368 6563 6b20 6966          Check if
-0000ccf0: 2067 6976 656e 2076 6464 6320 6375 7276   given vddc curv
-0000cd00: 6520 706f 696e 7420 7661 6c75 6520 6469  e point value di
-0000cd10: 6666 6572 656e 7420 6672 6f6d 2063 7572  fferent from cur
-0000cd20: 7265 6e74 2e0a 0a20 2020 2020 2020 203a  rent...        :
-0000cd30: 7061 7261 6d20 7073 7461 7465 3a20 6375  param pstate: cu
-0000cd40: 7276 655f 706f 696e 7420 3d20 5b70 6f69  rve_point = [poi
-0000cd50: 6e74 5f6e 756d 6265 722c 2063 6c6b 5f76  nt_number, clk_v
-0000cd60: 616c 7565 2c20 7664 6463 5f76 616c 7565  alue, vddc_value
-0000cd70: 5d0a 2020 2020 2020 2020 3a72 6574 7572  ].        :retur
-0000cd80: 6e3a 2052 6574 7572 6e20 5472 7565 2069  n: Return True i
-0000cd90: 6620 6368 616e 6765 640a 2020 2020 2020  f changed.      
-0000cda0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-0000cdb0: 2069 6e74 2872 652e 7375 6228 5041 5454   int(re.sub(PATT
-0000cdc0: 4552 4e53 5b27 454e 445f 494e 5f41 4c50  ERNS['END_IN_ALP
-0000cdd0: 4841 275d 2c20 2727 2c20 7365 6c66 2e76  HA'], '', self.v
-0000cde0: 6464 635f 6375 7276 655b 7073 7461 7465  ddc_curve[pstate
-0000cdf0: 5b30 5d5d 5b30 5d29 2920 213d 2070 7374  [0]][0])) != pst
-0000ce00: 6174 655b 315d 3a0a 2020 2020 2020 2020  ate[1]:.        
-0000ce10: 2020 2020 7265 7475 726e 2054 7275 650a      return True.
-0000ce20: 2020 2020 2020 2020 6966 2069 6e74 2872          if int(r
-0000ce30: 652e 7375 6228 5041 5454 4552 4e53 5b27  e.sub(PATTERNS['
-0000ce40: 454e 445f 494e 5f41 4c50 4841 275d 2c20  END_IN_ALPHA'], 
-0000ce50: 2727 2c20 7365 6c66 2e76 6464 635f 6375  '', self.vddc_cu
-0000ce60: 7276 655b 7073 7461 7465 5b30 5d5d 5b31  rve[pstate[0]][1
-0000ce70: 5d29 2920 213d 2070 7374 6174 655b 325d  ])) != pstate[2]
-0000ce80: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000ce90: 7475 726e 2054 7275 650a 2020 2020 2020  turn True.      
-0000cea0: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
-0000ceb0: 2020 2020 6465 6620 6973 5f63 6861 6e67      def is_chang
-0000cec0: 6564 5f76 6464 6766 785f 6f66 6673 6574  ed_vddgfx_offset
-0000ced0: 2873 656c 662c 2074 6573 745f 7664 6467  (self, test_vddg
-0000cee0: 6678 5f6f 6666 7365 743a 2069 6e74 2920  fx_offset: int) 
-0000cef0: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
-0000cf00: 2022 2222 0a20 2020 2020 2020 2043 6865   """.        Che
-0000cf10: 636b 2069 6620 6769 7665 6e20 7664 6467  ck if given vddg
-0000cf20: 6678 5f6f 6666 7365 7420 7661 6c75 6520  fx_offset value 
-0000cf30: 6973 2063 6861 6e67 6564 2e0a 0a20 2020  is changed...   
-0000cf40: 2020 2020 203a 7061 7261 6d20 7465 7374       :param test
-0000cf50: 5f76 6464 6766 785f 6f66 6673 6574 3a20  _vddgfx_offset: 
-0000cf60: 496e 7465 6765 7220 7664 6467 6678 5f6f  Integer vddgfx_o
-0000cf70: 6666 7365 7420 7661 6c75 6520 746f 2062  ffset value to b
-0000cf80: 6520 7465 7374 6564 0a20 2020 2020 2020  e tested.       
-0000cf90: 203a 7265 7475 726e 3a20 5265 7475 726e   :return: Return
-0000cfa0: 2054 7275 6520 6966 2063 6861 6e67 6564   True if changed
-0000cfb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000cfc0: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
-0000cfd0: 7374 616e 6365 2874 6573 745f 7664 6467  stance(test_vddg
-0000cfe0: 6678 5f6f 6666 7365 742c 2069 6e74 293a  fx_offset, int):
-0000cff0: 2072 6574 7572 6e20 4661 6c73 650a 2020   return False.  
-0000d000: 2020 2020 2020 6966 2074 6573 745f 7664        if test_vd
-0000d010: 6467 6678 5f6f 6666 7365 7420 3d3d 2073  dgfx_offset == s
-0000d020: 656c 662e 7072 6d2e 7664 6467 6678 5f6f  elf.prm.vddgfx_o
-0000d030: 6666 7365 743a 0a20 2020 2020 2020 2020  ffset:.         
-0000d040: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-0000d050: 2020 2020 2020 2020 7265 7475 726e 2054          return T
-0000d060: 7275 650a 0a20 2020 2064 6566 2069 735f  rue..    def is_
-0000d070: 7661 6c69 645f 7664 6467 6678 5f6f 6666  valid_vddgfx_off
-0000d080: 7365 7428 7365 6c66 2c20 7465 7374 5f76  set(self, test_v
-0000d090: 6464 6766 785f 6f66 6673 6574 3a20 696e  ddgfx_offset: in
-0000d0a0: 7429 202d 3e20 626f 6f6c 3a0a 2020 2020  t) -> bool:.    
-0000d0b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000d0c0: 4368 6563 6b20 6966 2067 6976 656e 2076  Check if given v
-0000d0d0: 6464 6766 785f 6f66 6673 6574 2076 616c  ddgfx_offset val
-0000d0e0: 7565 2069 7320 7661 6c69 642e 0a0a 2020  ue is valid...  
-0000d0f0: 2020 2020 2020 3a70 6172 616d 2074 6573        :param tes
-0000d100: 745f 7664 6467 6678 5f6f 6666 7365 743a  t_vddgfx_offset:
-0000d110: 2049 6e74 6567 6572 2076 6464 6766 785f   Integer vddgfx_
-0000d120: 6f66 6673 6574 2076 616c 7565 2074 6f20  offset value to 
-0000d130: 6265 2074 6573 7465 640a 2020 2020 2020  be tested.      
-0000d140: 2020 3a72 6574 7572 6e3a 2052 6574 7572    :return: Retur
-0000d150: 6e20 5472 7565 2069 6620 7661 6c69 640a  n True if valid.
-0000d160: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000d170: 2020 2020 6966 206e 6f74 2069 7369 6e73      if not isins
-0000d180: 7461 6e63 6528 7465 7374 5f76 6464 6766  tance(test_vddgf
-0000d190: 785f 6f66 6673 6574 2c20 696e 7429 3a20  x_offset, int): 
-0000d1a0: 7265 7475 726e 2046 616c 7365 0a20 2020  return False.   
-0000d1b0: 2020 2020 2076 676f 5f6d 696e 203d 2069       vgo_min = i
-0000d1c0: 6e74 2872 652e 7375 6228 5041 5454 4552  nt(re.sub(PATTER
-0000d1d0: 4e53 5b27 454e 445f 494e 5f41 4c50 4841  NS['END_IN_ALPHA
-0000d1e0: 275d 2c20 2727 2c20 7374 7228 7365 6c66  '], '', str(self
-0000d1f0: 2e70 726d 2e76 6464 6766 785f 6f66 6673  .prm.vddgfx_offs
-0000d200: 6574 5f72 616e 6765 5b30 5d29 2929 0a20  et_range[0]))). 
-0000d210: 2020 2020 2020 2076 676f 5f6d 6178 203d         vgo_max =
-0000d220: 2069 6e74 2872 652e 7375 6228 5041 5454   int(re.sub(PATT
-0000d230: 4552 4e53 5b27 454e 445f 494e 5f41 4c50  ERNS['END_IN_ALP
-0000d240: 4841 275d 2c20 2727 2c20 7374 7228 7365  HA'], '', str(se
-0000d250: 6c66 2e70 726d 2e76 6464 6766 785f 6f66  lf.prm.vddgfx_of
-0000d260: 6673 6574 5f72 616e 6765 5b31 5d29 2929  fset_range[1])))
-0000d270: 0a20 2020 2020 2020 2069 6620 7465 7374  .        if test
-0000d280: 5f76 6464 6766 785f 6f66 6673 6574 203c  _vddgfx_offset <
-0000d290: 2076 676f 5f6d 696e 206f 7220 7465 7374   vgo_min or test
-0000d2a0: 5f76 6464 6766 785f 6f66 6673 6574 203e  _vddgfx_offset >
-0000d2b0: 2076 676f 5f6d 6178 3a0a 2020 2020 2020   vgo_max:.      
-0000d2c0: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
-0000d2d0: 7365 0a20 2020 2020 2020 2072 6574 7572  se.        retur
-0000d2e0: 6e20 5472 7565 0a0a 2020 2020 6465 6620  n True..    def 
-0000d2f0: 6973 5f76 616c 6964 5f76 6464 635f 6375  is_valid_vddc_cu
-0000d300: 7276 655f 7074 7328 7365 6c66 2c20 6375  rve_pts(self, cu
-0000d310: 7276 655f 7074 733a 204c 6973 745b 696e  rve_pts: List[in
-0000d320: 745d 2920 2d3e 2062 6f6f 6c3a 0a20 2020  t]) -> bool:.   
-0000d330: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000d340: 2043 6865 636b 2069 6620 6769 7665 6e20   Check if given 
-0000d350: 7363 6c6b 2070 7374 6174 6520 7661 6c75  sclk pstate valu
-0000d360: 6520 6973 2076 616c 6964 2e0a 0a20 2020  e is valid...   
-0000d370: 2020 2020 203a 7061 7261 6d20 6375 7276       :param curv
-0000d380: 655f 7074 733a 2063 7572 7665 5f70 6f69  e_pts: curve_poi
-0000d390: 6e74 203d 205b 706f 696e 745f 6e75 6d62  nt = [point_numb
-0000d3a0: 6572 2c20 636c 6b5f 7661 6c75 652c 2076  er, clk_value, v
-0000d3b0: 6464 635f 7661 6c75 655d 0a20 2020 2020  ddc_value].     
-0000d3c0: 2020 203a 7265 7475 726e 3a20 5265 7475     :return: Retu
-0000d3d0: 726e 2054 7275 6520 6966 2076 616c 6964  rn True if valid
-0000d3e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000d3f0: 2020 2020 2073 636c 6b5f 6d69 6e20 3d20       sclk_min = 
-0000d400: 696e 7428 7265 2e73 7562 2850 4154 5445  int(re.sub(PATTE
-0000d410: 524e 535b 2745 4e44 5f49 4e5f 414c 5048  RNS['END_IN_ALPH
-0000d420: 4127 5d2c 2027 272c 2073 7472 2873 656c  A'], '', str(sel
-0000d430: 662e 7664 6463 5f63 7572 7665 5f72 616e  f.vddc_curve_ran
-0000d440: 6765 5b63 7572 7665 5f70 7473 5b30 5d5d  ge[curve_pts[0]]
-0000d450: 5b27 5343 4c4b 275d 5b30 5d29 2929 0a20  ['SCLK'][0]))). 
-0000d460: 2020 2020 2020 2073 636c 6b5f 6d61 7820         sclk_max 
-0000d470: 3d20 696e 7428 7265 2e73 7562 2850 4154  = int(re.sub(PAT
-0000d480: 5445 524e 535b 2745 4e44 5f49 4e5f 414c  TERNS['END_IN_AL
-0000d490: 5048 4127 5d2c 2027 272c 2073 7472 2873  PHA'], '', str(s
-0000d4a0: 656c 662e 7664 6463 5f63 7572 7665 5f72  elf.vddc_curve_r
-0000d4b0: 616e 6765 5b63 7572 7665 5f70 7473 5b30  ange[curve_pts[0
-0000d4c0: 5d5d 5b27 5343 4c4b 275d 5b31 5d29 2929  ]]['SCLK'][1])))
-0000d4d0: 0a20 2020 2020 2020 2069 6620 6375 7276  .        if curv
-0000d4e0: 655f 7074 735b 315d 203c 2073 636c 6b5f  e_pts[1] < sclk_
-0000d4f0: 6d69 6e20 6f72 2063 7572 7665 5f70 7473  min or curve_pts
-0000d500: 5b31 5d20 3e20 7363 6c6b 5f6d 6178 3a0a  [1] > sclk_max:.
-0000d510: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000d520: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
-0000d530: 2076 6464 635f 6d69 6e20 3d20 696e 7428   vddc_min = int(
-0000d540: 7265 2e73 7562 2850 4154 5445 524e 535b  re.sub(PATTERNS[
-0000d550: 2745 4e44 5f49 4e5f 414c 5048 4127 5d2c  'END_IN_ALPHA'],
-0000d560: 2027 272c 2073 7472 2873 656c 662e 7072   '', str(self.pr
-0000d570: 6d2e 7664 6463 5f72 616e 6765 5b30 5d29  m.vddc_range[0])
-0000d580: 2929 0a20 2020 2020 2020 2076 6464 635f  )).        vddc_
-0000d590: 6d61 7820 3d20 696e 7428 7265 2e73 7562  max = int(re.sub
-0000d5a0: 2850 4154 5445 524e 535b 2745 4e44 5f49  (PATTERNS['END_I
-0000d5b0: 4e5f 414c 5048 4127 5d2c 2027 272c 2073  N_ALPHA'], '', s
-0000d5c0: 7472 2873 656c 662e 7072 6d2e 7664 6463  tr(self.prm.vddc
-0000d5d0: 5f72 616e 6765 5b31 5d29 2929 0a20 2020  _range[1]))).   
-0000d5e0: 2020 2020 2069 6620 6375 7276 655f 7074       if curve_pt
-0000d5f0: 735b 325d 203c 2076 6464 635f 6d69 6e20  s[2] < vddc_min 
-0000d600: 6f72 2063 7572 7665 5f70 7473 5b32 5d20  or curve_pts[2] 
-0000d610: 3e20 7664 6463 5f6d 6178 3a0a 2020 2020  > vddc_max:.    
-0000d620: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-0000d630: 616c 7365 0a20 2020 2020 2020 2072 6574  alse.        ret
-0000d640: 7572 6e20 5472 7565 0a0a 2020 2020 6465  urn True..    de
-0000d650: 6620 6973 5f76 616c 6964 5f70 7374 6174  f is_valid_pstat
-0000d660: 655f 6c69 7374 5f73 7472 2873 656c 662c  e_list_str(self,
-0000d670: 2070 735f 7374 723a 2073 7472 2c20 636c   ps_str: str, cl
-0000d680: 6b5f 6e61 6d65 3a20 7374 7229 202d 3e20  k_name: str) -> 
-0000d690: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
-0000d6a0: 220a 2020 2020 2020 2020 4368 6563 6b20  ".        Check 
-0000d6b0: 6966 2074 6865 2067 6976 656e 2070 2d73  if the given p-s
-0000d6c0: 7461 7465 7320 6172 6520 7661 6c69 6420  tates are valid 
-0000d6d0: 666f 7220 7468 6520 6769 7665 6e20 636c  for the given cl
-0000d6e0: 6f63 6b2e 0a0a 2020 2020 2020 2020 3a70  ock...        :p
-0000d6f0: 6172 616d 2070 735f 7374 723a 2053 7472  aram ps_str: Str
-0000d700: 696e 6720 6f66 2063 6f6d 6d61 2073 6570  ing of comma sep
-0000d710: 6172 6174 6564 2070 7374 6174 6520 6e75  arated pstate nu
-0000d720: 6d62 6572 730a 2020 2020 2020 2020 3a70  mbers.        :p
-0000d730: 6172 616d 2063 6c6b 5f6e 616d 653a 2054  aram clk_name: T
-0000d740: 6865 2074 6172 6765 7420 636c 6f63 6b20  he target clock 
-0000d750: 6e61 6d65 0a20 2020 2020 2020 203a 7265  name.        :re
-0000d760: 7475 726e 3a20 5472 7565 2069 6620 7661  turn: True if va
-0000d770: 6c69 640a 2020 2020 2020 2020 2222 220a  lid.        """.
-0000d780: 2020 2020 2020 2020 6966 2070 735f 7374          if ps_st
-0000d790: 7220 3d3d 2027 273a 0a20 2020 2020 2020  r == '':.       
-0000d7a0: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
-0000d7b0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000d7c0: 7265 2e66 756c 6c6d 6174 6368 2850 4154  re.fullmatch(PAT
-0000d7d0: 5445 524e 535b 2756 414c 4944 5f50 535f  TERNS['VALID_PS_
-0000d7e0: 5354 5227 5d2c 2070 735f 7374 7229 3a0a  STR'], ps_str):.
-0000d7f0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000d800: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
-0000d810: 2070 735f 6c69 7374 203d 2073 656c 662e   ps_list = self.
-0000d820: 7072 6d2e 6d63 6c6b 5f6d 6173 6b2e 7370  prm.mclk_mask.sp
-0000d830: 6c69 7428 272c 2729 2069 6620 636c 6b5f  lit(',') if clk_
-0000d840: 6e61 6d65 203d 3d20 274d 434c 4b27 2065  name == 'MCLK' e
-0000d850: 6c73 6520 7365 6c66 2e70 726d 2e73 636c  lse self.prm.scl
-0000d860: 6b5f 6d61 736b 2e73 706c 6974 2827 2c27  k_mask.split(','
-0000d870: 290a 2020 2020 2020 2020 666f 7220 7073  ).        for ps
-0000d880: 5f76 616c 2069 6e20 7073 5f73 7472 2e73  _val in ps_str.s
-0000d890: 706c 6974 2829 3a0a 2020 2020 2020 2020  plit():.        
-0000d8a0: 2020 2020 6966 2070 735f 7661 6c20 6e6f      if ps_val no
-0000d8b0: 7420 696e 2070 735f 6c69 7374 3a0a 2020  t in ps_list:.  
-0000d8c0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0000d8d0: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
-0000d8e0: 2020 2072 6574 7572 6e20 5472 7565 0a0a     return True..
-0000d8f0: 2020 2020 6465 6620 6765 745f 6375 7272      def get_curr
-0000d900: 656e 745f 7070 6d5f 6d6f 6465 2873 656c  ent_ppm_mode(sel
-0000d910: 6629 202d 3e20 556e 696f 6e5b 4e6f 6e65  f) -> Union[None
-0000d920: 2c20 4c69 7374 5b55 6e69 6f6e 5b69 6e74  , List[Union[int
-0000d930: 2c20 7374 725d 5d5d 3a0a 2020 2020 2020  , str]]]:.      
-0000d940: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
-0000d950: 6164 2047 5055 2070 706d 2064 6566 696e  ad GPU ppm defin
-0000d960: 6974 696f 6e73 2061 6e64 2063 7572 7265  itions and curre
-0000d970: 6e74 2073 6574 7469 6e67 7320 6672 6f6d  nt settings from
-0000d980: 2064 7269 7665 7220 6669 6c65 732e 0a0a   driver files...
-0000d990: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0000d9a0: 2070 706d 2073 7461 7465 0a20 2020 2020   ppm state.     
-0000d9b0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000d9c0: 6620 7365 6c66 2e70 726d 2e76 656e 646f  f self.prm.vendo
-0000d9d0: 7220 213d 2047 7075 5665 6e64 6f72 2e41  r != GpuVendor.A
-0000d9e0: 4d44 3a0a 2020 2020 2020 2020 2020 2020  MD:.            
-0000d9f0: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
-0000da00: 2020 2020 6966 2073 656c 662e 7072 6d2e      if self.prm.
-0000da10: 706f 7765 725f 6470 6d5f 666f 7263 652e  power_dpm_force.
-0000da20: 6c6f 7765 7228 2920 3d3d 2027 6175 746f  lower() == 'auto
-0000da30: 273a 0a20 2020 2020 2020 2020 2020 2072  ':.            r
-0000da40: 6574 7572 6e20 5b2d 312c 2027 4155 544f  eturn [-1, 'AUTO
-0000da50: 275d 0a20 2020 2020 2020 2070 706d 5f69  '].        ppm_i
-0000da60: 7465 6d20 3d20 7365 6c66 2e70 726d 2e70  tem = self.prm.p
-0000da70: 706d 2e73 706c 6974 2827 2d27 290a 2020  pm.split('-').  
-0000da80: 2020 2020 2020 7265 7475 726e 205b 696e        return [in
-0000da90: 7428 7070 6d5f 6974 656d 5b30 5d29 2c20  t(ppm_item[0]), 
-0000daa0: 7070 6d5f 6974 656d 5b31 5d5d 0a0a 2020  ppm_item[1]]..  
-0000dab0: 2020 6465 6620 7265 6164 5f72 6177 5f73    def read_raw_s
-0000dac0: 656e 736f 7273 2873 656c 6629 202d 3e20  ensors(self) -> 
-0000dad0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-0000dae0: 220a 2020 2020 2020 2020 5265 6164 2061  ".        Read a
-0000daf0: 6c6c 2070 6f73 7369 626c 6520 6465 7669  ll possible devi
-0000db00: 6365 2064 7269 7665 7220 6669 6c65 7320  ce driver files 
-0000db10: 616e 6420 706f 7075 6c61 7465 2073 656c  and populate sel
-0000db20: 6627 7320 7261 7720 6469 6374 696f 6e61  f's raw dictiona
-0000db30: 7279 2e0a 2020 2020 2020 2020 2222 220a  ry..        """.
-0000db40: 2020 2020 2020 2020 666f 7220 2873 656e          for (sen
-0000db50: 736f 725f 7479 7065 2c20 7061 7468 2920  sor_type, path) 
-0000db60: 696e 207b 2744 4556 4943 4527 3a20 7365  in {'DEVICE': se
-0000db70: 6c66 2e70 726d 2e63 6172 645f 7061 7468  lf.prm.card_path
-0000db80: 2c20 2748 574d 4f4e 273a 2073 656c 662e  , 'HWMON': self.
-0000db90: 7072 6d2e 6877 6d6f 6e5f 7061 7468 7d2e  prm.hwmon_path}.
-0000dba0: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
-0000dbb0: 2020 2020 2069 6620 7061 7468 2061 6e64       if path and
-0000dbc0: 206f 732e 7061 7468 2e69 7364 6972 2870   os.path.isdir(p
-0000dbd0: 6174 6829 3a0a 2020 2020 2020 2020 2020  ath):.          
-0000dbe0: 2020 2020 2020 666f 7220 6669 6c65 2069        for file i
-0000dbf0: 6e20 6f73 2e6c 6973 7464 6972 2870 6174  n os.listdir(pat
-0000dc00: 6829 3a0a 2020 2020 2020 2020 2020 2020  h):.            
-0000dc10: 2020 2020 2020 2020 6669 6c65 5f70 6174          file_pat
-0000dc20: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
-0000dc30: 2870 6174 682c 2066 696c 6529 0a20 2020  (path, file).   
-0000dc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc50: 2069 6620 6e6f 7420 6f73 2e70 6174 682e   if not os.path.
-0000dc60: 6973 6669 6c65 2866 696c 655f 7061 7468  isfile(file_path
-0000dc70: 293a 2063 6f6e 7469 6e75 650a 2020 2020  ): continue.    
-0000dc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc90: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0000dca0: 2020 2020 2020 2020 2020 2020 2077 6974               wit
-0000dcb0: 6820 6f70 656e 2866 696c 655f 7061 7468  h open(file_path
-0000dcc0: 2c20 2772 272c 2065 6e63 6f64 696e 673d  , 'r', encoding=
-0000dcd0: 2775 7466 2d38 2729 2061 7320 6669 6c65  'utf-8') as file
-0000dce0: 5f70 7472 3a0a 2020 2020 2020 2020 2020  _ptr:.          
-0000dcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd00: 2020 636f 6e74 656e 7473 203d 2066 696c    contents = fil
-0000dd10: 655f 7074 722e 7265 6164 2829 2e73 7472  e_ptr.read().str
-0000dd20: 6970 2829 0a20 2020 2020 2020 2020 2020  ip().           
-0000dd30: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0000dd40: 5065 726d 6973 7369 6f6e 4572 726f 723a  PermissionError:
-0000dd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dd60: 2020 2020 2020 2020 2063 6f6e 7465 6e74           content
-0000dd70: 7320 3d20 2750 6572 6d69 7373 696f 6e45  s = 'PermissionE
-0000dd80: 7272 6f72 270a 2020 2020 2020 2020 2020  rror'.          
-0000dd90: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000dda0: 204f 5345 7272 6f72 3a0a 2020 2020 2020   OSError:.      
-0000ddb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ddc0: 2020 636f 6e74 656e 7473 203d 2027 4f53    contents = 'OS
-0000ddd0: 4572 726f 7227 0a20 2020 2020 2020 2020  Error'.         
-0000dde0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-0000ddf0: 7420 556e 6963 6f64 6544 6563 6f64 6545  t UnicodeDecodeE
-0000de00: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
-0000de10: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000de20: 6e74 656e 7473 203d 2027 4249 4e41 5259  ntents = 'BINARY
-0000de30: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
-0000de40: 2020 2020 2020 7365 6c66 2e72 6177 5b73        self.raw[s
-0000de50: 656e 736f 725f 7479 7065 5d2e 7570 6461  ensor_type].upda
-0000de60: 7465 287b 6669 6c65 3a20 636f 6e74 656e  te({file: conten
-0000de70: 7473 7d29 0a20 2020 2020 2020 2020 2020  ts}).           
-0000de80: 2047 5554 5f43 4f4e 5354 2e70 726f 6365   GUT_CONST.proce
-0000de90: 7373 5f6d 6573 7361 6765 2827 496e 7661  ss_message('Inva
-0000dea0: 6c69 6420 7061 7468 2066 6f72 207b 7d20  lid path for {} 
-0000deb0: 7061 7468 3a20 5b7b 7d5d 272e 666f 726d  path: [{}]'.form
-0000dec0: 6174 2873 656e 736f 725f 7479 7065 2c20  at(sensor_type, 
-0000ded0: 7061 7468 2929 0a0a 2020 2020 6465 6620  path))..    def 
-0000dee0: 6973 5f61 6d64 5f72 6561 6461 626c 6528  is_amd_readable(
-0000def0: 7365 6c66 2920 2d3e 2062 6f6f 6c3a 0a20  self) -> bool:. 
-0000df00: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000df10: 2020 2043 6865 636b 2069 6620 4750 5520     Check if GPU 
-0000df20: 6973 2041 4d44 2061 6e64 2072 6561 6461  is AMD and reada
-0000df30: 626c 6520 616e 6420 7265 6164 6162 6c65  ble and readable
-0000df40: 2074 7970 652e 0a0a 2020 2020 2020 2020   type...        
-0000df50: 3a72 6574 7572 6e3a 2054 7275 6520 6966  :return: True if
-0000df60: 2069 7320 414d 4420 616e 6420 7265 6164   is AMD and read
-0000df70: 6162 6c65 2e0a 2020 2020 2020 2020 2222  able..        ""
-0000df80: 220a 2020 2020 2020 2020 6966 2073 656c  ".        if sel
-0000df90: 662e 7072 6d2e 7665 6e64 6f72 2021 3d20  f.prm.vendor != 
-0000dfa0: 4770 7556 656e 646f 722e 414d 443a 0a20  GpuVendor.AMD:. 
-0000dfb0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000dfc0: 6e20 4661 6c73 650a 2020 2020 2020 2020  n False.        
-0000dfd0: 6966 206e 6f74 2047 5554 5f43 4f4e 5354  if not GUT_CONST
-0000dfe0: 2e66 6f72 6365 5f61 6c6c 3a0a 2020 2020  .force_all:.    
-0000dff0: 2020 2020 2020 2020 2320 4f72 6967 696e          # Origin
-0000e000: 616c 6c79 2041 5055 2077 6173 2061 6c73  ally APU was als
-0000e010: 6f20 6469 7361 626c 6564 2066 6f72 2070  o disabled for p
-0000e020: 7374 6174 6573 2062 7574 206e 6f74 2070  states but not p
-0000e030: 706d 0a20 2020 2020 2020 2020 2020 2069  pm.            i
-0000e040: 6620 6e6f 7420 7365 6c66 2e70 726d 2e72  f not self.prm.r
-0000e050: 6561 6461 626c 6520 6f72 2073 656c 662e  eadable or self.
-0000e060: 7072 6d2e 6770 755f 7479 7065 2069 6e20  prm.gpu_type in 
-0000e070: 2847 7075 5479 7065 2e4c 6567 6163 792c  (GpuType.Legacy,
-0000e080: 2047 7075 5479 7065 2e55 6e73 7570 706f   GpuType.Unsuppo
-0000e090: 7274 6564 293a 0a20 2020 2020 2020 2020  rted):.         
-0000e0a0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-0000e0b0: 6c73 650a 2020 2020 2020 2020 7265 7475  lse.        retu
-0000e0c0: 726e 2054 7275 650a 0a20 2020 2064 6566  rn True..    def
-0000e0d0: 2072 6561 645f 6770 755f 7070 5f66 6561   read_gpu_pp_fea
-0000e0e0: 7475 7265 7328 7365 6c66 2c20 7265 7475  tures(self, retu
-0000e0f0: 726e 5f64 6174 613a 2062 6f6f 6c20 3d20  rn_data: bool = 
-0000e100: 4661 6c73 6529 202d 3e20 4f70 7469 6f6e  False) -> Option
-0000e110: 616c 5b73 7472 5d3a 0a20 2020 2020 2020  al[str]:.       
-0000e120: 2022 2222 0a20 2020 2020 2020 2052 6561   """.        Rea
-0000e130: 6420 616d 6467 7075 2050 5020 4665 6174  d amdgpu PP Feat
-0000e140: 7572 6520 656e 6162 6c65 6d65 6e74 2e0a  ure enablement..
-0000e150: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000e160: 7265 7475 726e 5f64 6174 613a 2052 6574  return_data: Ret
-0000e170: 7572 6e20 7261 7720 6669 6c65 2072 6561  urn raw file rea
-0000e180: 6420 6461 7461 2069 6620 5472 7565 0a20  d data if True. 
-0000e190: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-0000e1a0: 2052 6177 2066 696c 6520 7265 6164 2064   Raw file read d
-0000e1b0: 6174 6120 6f72 204e 6f6e 650a 2020 2020  ata or None.    
-0000e1c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e1d0: 6966 206e 6f74 2073 656c 662e 6973 5f61  if not self.is_a
-0000e1e0: 6d64 5f72 6561 6461 626c 6528 293a 2072  md_readable(): r
-0000e1f0: 6574 7572 6e20 4e6f 6e65 0a20 2020 2020  eturn None.     
-0000e200: 2020 2070 6172 616d 6574 6572 5f66 696c     parameter_fil
-0000e210: 6520 3d20 2770 705f 6665 6174 7572 6573  e = 'pp_features
-0000e220: 270a 2020 2020 2020 2020 6966 206e 6f74  '.        if not
-0000e230: 2073 656c 662e 7061 7261 6d5f 6973 5f61   self.param_is_a
-0000e240: 6374 6976 6528 7061 7261 6d65 7465 725f  ctive(parameter_
-0000e250: 6669 6c65 293a 2072 6574 7572 6e20 4e6f  file): return No
-0000e260: 6e65 0a0a 2020 2020 2020 2020 7264 6174  ne..        rdat
-0000e270: 6120 3d20 2727 0a20 2020 2020 2020 2066  a = ''.        f
-0000e280: 696c 655f 7061 7468 203d 206f 732e 7061  ile_path = os.pa
-0000e290: 7468 2e6a 6f69 6e28 7365 6c66 2e70 726d  th.join(self.prm
-0000e2a0: 2e63 6172 645f 7061 7468 2c20 7061 7261  .card_path, para
-0000e2b0: 6d65 7465 725f 6669 6c65 290a 2020 2020  meter_file).    
-0000e2c0: 2020 2020 6966 206e 6f74 206f 732e 7061      if not os.pa
-0000e2d0: 7468 2e69 7366 696c 6528 6669 6c65 5f70  th.isfile(file_p
-0000e2e0: 6174 6829 3a0a 2020 2020 2020 2020 2020  ath):.          
-0000e2f0: 2020 4755 545f 434f 4e53 542e 7072 6f63    GUT_CONST.proc
-0000e300: 6573 735f 6d65 7373 6167 6528 2745 7272  ess_message('Err
-0000e310: 6f72 3a20 7070 5f66 6561 7475 7265 7320  or: pp_features 
-0000e320: 6669 6c65 2064 6f65 7320 6e6f 7420 6578  file does not ex
-0000e330: 6973 743a 207b 7d27 2e66 6f72 6d61 7428  ist: {}'.format(
-0000e340: 6669 6c65 5f70 6174 6829 290a 2020 2020  file_path)).    
-0000e350: 2020 2020 2020 2020 7365 6c66 2e64 6973          self.dis
-0000e360: 6162 6c65 5f70 6172 616d 5f72 6561 6428  able_param_read(
-0000e370: 7061 7261 6d65 7465 725f 6669 6c65 290a  parameter_file).
-0000e380: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000e390: 726e 204e 6f6e 650a 2020 2020 2020 2020  rn None.        
-0000e3a0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0000e3b0: 2077 6974 6820 6f70 656e 2866 696c 655f   with open(file_
-0000e3c0: 7061 7468 2c20 2772 272c 2065 6e63 6f64  path, 'r', encod
-0000e3d0: 696e 673d 2775 7466 2d38 2729 2061 7320  ing='utf-8') as 
-0000e3e0: 6665 6174 7572 655f 6669 6c65 3a0a 2020  feature_file:.  
-0000e3f0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-0000e400: 7220 6c69 6e65 2069 6e20 6665 6174 7572  r line in featur
-0000e410: 655f 6669 6c65 3a0a 2020 2020 2020 2020  e_file:.        
-0000e420: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-0000e430: 6574 7572 6e5f 6461 7461 3a20 7264 6174  eturn_data: rdat
-0000e440: 6120 2b3d 206c 696e 650a 2020 2020 2020  a += line.      
-0000e450: 2020 2020 2020 2020 2020 2020 2020 6c69                li
-0000e460: 6e65 5f73 7472 203d 206c 696e 652e 7374  ne_str = line.st
-0000e470: 7269 7028 290a 2020 2020 2020 2020 2020  rip().          
-0000e480: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-0000e490: 2073 656c 662e 7072 6d2e 7070 5f66 6561   self.prm.pp_fea
-0000e4a0: 7475 7265 733a 0a20 2020 2020 2020 2020  tures:.         
-0000e4b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000e4c0: 6620 7265 2e73 6561 7263 6828 4755 545f  f re.search(GUT_
-0000e4d0: 434f 4e53 542e 5041 5454 4552 4e53 5b27  CONST.PATTERNS['
-0000e4e0: 414d 445f 4645 4154 5552 4553 275d 2c20  AMD_FEATURES'], 
-0000e4f0: 6c69 6e65 5f73 7472 293a 0a20 2020 2020  line_str):.     
-0000e500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e510: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
-0000e520: 7070 5f66 6561 7475 7265 7320 3d20 7265  pp_features = re
-0000e530: 2e73 7562 2847 5554 5f43 4f4e 5354 2e50  .sub(GUT_CONST.P
-0000e540: 4154 5445 524e 535b 2741 4d44 5f46 4541  ATTERNS['AMD_FEA
-0000e550: 5455 5245 5327 5d2c 2027 272c 206c 696e  TURES'], '', lin
-0000e560: 655f 7374 7229 0a20 2020 2020 2020 2065  e_str).        e
-0000e570: 7863 6570 7420 4f53 4572 726f 7220 6173  xcept OSError as
-0000e580: 2065 7863 6570 745f 6572 723a 0a20 2020   except_err:.   
-0000e590: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0000e5a0: 6465 6275 6728 2745 7272 6f72 3a20 7379  debug('Error: sy
-0000e5b0: 7374 656d 2073 7570 706f 7274 2069 7373  stem support iss
-0000e5c0: 7565 2066 6f72 2025 732c 2065 7272 6f72  ue for %s, error
-0000e5d0: 3a20 5b25 735d 272c 2073 656c 662e 7072  : [%s]', self.pr
-0000e5e0: 6d2e 7063 6965 5f69 642c 2065 7863 6570  m.pcie_id, excep
-0000e5f0: 745f 6572 7229 0a20 2020 2020 2020 2020  t_err).         
-0000e600: 2020 2070 7269 6e74 2827 4572 726f 723a     print('Error:
-0000e610: 2053 7973 7465 6d20 7375 7070 6f72 7420   System support 
-0000e620: 6973 7375 6520 666f 7220 4750 5520 5b7b  issue for GPU [{
-0000e630: 7d5d 272e 666f 726d 6174 2873 656c 662e  }]'.format(self.
-0000e640: 7072 6d2e 7063 6965 5f69 6429 290a 2020  prm.pcie_id)).  
-0000e650: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-0000e660: 6973 6162 6c65 5f70 6172 616d 5f72 6561  isable_param_rea
-0000e670: 6428 7061 7261 6d65 7465 725f 6669 6c65  d(parameter_file
-0000e680: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-0000e690: 7475 726e 204e 6f6e 650a 0a20 2020 2020  turn None..     
-0000e6a0: 2020 2072 6574 7572 6e20 7264 6174 6120     return rdata 
-0000e6b0: 6966 2072 6574 7572 6e5f 6461 7461 2065  if return_data e
-0000e6c0: 6c73 6520 4e6f 6e65 0a0a 2020 2020 6465  lse None..    de
-0000e6d0: 6620 7265 6164 5f67 7075 5f70 706d 5f74  f read_gpu_ppm_t
-0000e6e0: 6162 6c65 2873 656c 662c 2072 6574 7572  able(self, retur
-0000e6f0: 6e5f 6461 7461 3a20 626f 6f6c 203d 2046  n_data: bool = F
-0000e700: 616c 7365 2920 2d3e 204f 7074 696f 6e61  alse) -> Optiona
-0000e710: 6c5b 7374 725d 3a0a 2020 2020 2020 2020  l[str]:.        
-0000e720: 2222 220a 2020 2020 2020 2020 5265 6164  """.        Read
-0000e730: 2074 6865 2070 706d 2074 6162 6c65 2e0a   the ppm table..
-0000e740: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000e750: 7265 7475 726e 5f64 6174 613a 2066 6c61  return_data: fla
-0000e760: 6720 746f 2069 6e64 6963 6174 6520 6966  g to indicate if
-0000e770: 2072 6561 6420 6461 7461 2073 686f 756c   read data shoul
-0000e780: 6420 6265 2072 6574 7572 6e65 640a 2020  d be returned.  
-0000e790: 2020 2020 2020 3a72 6574 7572 6e3a 2072        :return: r
-0000e7a0: 6574 7572 6e20 6461 7461 206f 7220 4e6f  eturn data or No
-0000e7b0: 6e65 2069 6620 4661 6c73 650a 2020 2020  ne if False.    
-0000e7c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e7d0: 6966 206e 6f74 2073 656c 662e 6973 5f61  if not self.is_a
-0000e7e0: 6d64 5f72 6561 6461 626c 6528 293a 2072  md_readable(): r
-0000e7f0: 6574 7572 6e20 4e6f 6e65 0a20 2020 2020  eturn None.     
-0000e800: 2020 2070 6172 616d 6574 6572 5f66 696c     parameter_fil
-0000e810: 6520 3d20 2770 705f 706f 7765 725f 7072  e = 'pp_power_pr
-0000e820: 6f66 696c 655f 6d6f 6465 270a 2020 2020  ofile_mode'.    
-0000e830: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-0000e840: 7061 7261 6d5f 6973 5f61 6374 6976 6528  param_is_active(
-0000e850: 7061 7261 6d65 7465 725f 6669 6c65 293a  parameter_file):
-0000e860: 2072 6574 7572 6e20 4e6f 6e65 0a0a 2020   return None..  
-0000e870: 2020 2020 2020 7264 6174 6120 3d20 2727        rdata = ''
-0000e880: 0a20 2020 2020 2020 2066 696c 655f 7061  .        file_pa
-0000e890: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-0000e8a0: 6e28 7365 6c66 2e70 726d 2e63 6172 645f  n(self.prm.card_
-0000e8b0: 7061 7468 2c20 7061 7261 6d65 7465 725f  path, parameter_
-0000e8c0: 6669 6c65 290a 2020 2020 2020 2020 6966  file).        if
-0000e8d0: 206e 6f74 206f 732e 7061 7468 2e69 7366   not os.path.isf
-0000e8e0: 696c 6528 6669 6c65 5f70 6174 6829 3a0a  ile(file_path):.
-0000e8f0: 2020 2020 2020 2020 2020 2020 4755 545f              GUT_
-0000e900: 434f 4e53 542e 7072 6f63 6573 735f 6d65  CONST.process_me
-0000e910: 7373 6167 6528 2745 7272 6f72 3a20 7070  ssage('Error: pp
-0000e920: 6d20 7461 626c 6520 6669 6c65 2064 6f65  m table file doe
-0000e930: 7320 6e6f 7420 6578 6973 743a 207b 7d27  s not exist: {}'
-0000e940: 2e66 6f72 6d61 7428 6669 6c65 5f70 6174  .format(file_pat
-0000e950: 6829 290a 2020 2020 2020 2020 2020 2020  h)).            
-0000e960: 7365 6c66 2e64 6973 6162 6c65 5f70 6172  self.disable_par
-0000e970: 616d 5f72 6561 6428 7061 7261 6d65 7465  am_read(paramete
-0000e980: 725f 6669 6c65 290a 2020 2020 2020 2020  r_file).        
-0000e990: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
-0000e9a0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-0000e9b0: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
-0000e9c0: 656e 2866 696c 655f 7061 7468 2c20 2772  en(file_path, 'r
-0000e9d0: 272c 2065 6e63 6f64 696e 673d 2775 7466  ', encoding='utf
-0000e9e0: 2d38 2729 2061 7320 6361 7264 5f66 696c  -8') as card_fil
-0000e9f0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000ea00: 2020 2066 6f72 206c 696e 6520 696e 2063     for line in c
-0000ea10: 6172 645f 6669 6c65 3a0a 2020 2020 2020  ard_file:.      
-0000ea20: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000ea30: 2072 6574 7572 6e5f 6461 7461 3a20 7264   return_data: rd
-0000ea40: 6174 6120 2b3d 206c 696e 650a 2020 2020  ata += line.    
-0000ea50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ea60: 6c69 6e65 7374 7220 3d20 6c69 6e65 2e73  linestr = line.s
-0000ea70: 7472 6970 2829 0a20 2020 2020 2020 2020  trip().         
-0000ea80: 2020 2020 2020 2020 2020 2023 2043 6865             # Che
-0000ea90: 636b 2066 6f72 206d 6f64 6520 6e61 6d65  ck for mode name
-0000eaa0: 3a20 6265 6769 6e73 2077 6974 6820 275b  : begins with '[
-0000eab0: 205d 2b5b 302d 395d 2e2a 270a 2020 2020   ]+[0-9].*'.    
-0000eac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ead0: 6966 2072 652e 6675 6c6c 6d61 7463 6828  if re.fullmatch(
-0000eae0: 7227 5c73 2b5c 642e 2a27 2c20 6c69 6e65  r'\s+\d.*', line
-0000eaf0: 5b30 3a33 5d29 3a0a 2020 2020 2020 2020  [0:3]):.        
-0000eb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb10: 6c69 6e65 7374 7220 3d20 7265 2e73 7562  linestr = re.sub
-0000eb20: 2872 275c 732a 5b2a 5d2a 3a27 2c20 2720  (r'\s*[*]*:', ' 
-0000eb30: 272c 206c 696e 6573 7472 290a 2020 2020  ', linestr).    
-0000eb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb50: 2020 2020 6c69 6e65 5f69 7465 6d73 203d      line_items =
-0000eb60: 206c 696e 6573 7472 2e73 706c 6974 2829   linestr.split()
-0000eb70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000eb80: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0000eb90: 6465 6275 6728 2750 504d 206c 696e 653a  debug('PPM line:
-0000eba0: 2025 7327 2c20 6c69 6e65 7374 7229 0a20   %s', linestr). 
-0000ebb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ebc0: 2020 2020 2020 2069 6620 6c65 6e28 6c69         if len(li
-0000ebd0: 6e65 5f69 7465 6d73 2920 3c20 323a 0a20  ne_items) < 2:. 
-0000ebe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ebf0: 2020 2020 2020 2020 2020 2047 5554 5f43             GUT_C
-0000ec00: 4f4e 5354 2e70 726f 6365 7373 5f6d 6573  ONST.process_mes
-0000ec10: 7361 6765 2827 4572 726f 723a 2069 6e76  sage('Error: inv
-0000ec20: 616c 6964 2070 706d 3a20 7b7d 272e 666f  alid ppm: {}'.fo
-0000ec30: 726d 6174 286c 696e 6573 7472 2929 0a20  rmat(linestr)). 
-0000ec40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ec50: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-0000ec60: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-0000ec70: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
-0000ec80: 4552 2e64 6562 7567 2827 5661 6c69 6420  ER.debug('Valid 
-0000ec90: 7070 6d20 6c69 6e65 3a20 2573 272c 206c  ppm line: %s', l
-0000eca0: 696e 6573 7472 290a 2020 2020 2020 2020  inestr).        
-0000ecb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ecc0: 7365 6c66 2e70 706d 5f6d 6f64 6573 5b6c  self.ppm_modes[l
-0000ecd0: 696e 655f 6974 656d 735b 305d 5d20 3d20  ine_items[0]] = 
-0000ece0: 6c69 6e65 5f69 7465 6d73 5b31 3a5d 0a20  line_items[1:]. 
-0000ecf0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000ed00: 656c 662e 7070 6d5f 6d6f 6465 735b 272d  elf.ppm_modes['-
-0000ed10: 3127 5d20 3d20 5b27 4155 544f 272c 2027  1'] = ['AUTO', '
-0000ed20: 4175 746f 275d 0a20 2020 2020 2020 2065  Auto'].        e
-0000ed30: 7863 6570 7420 4f53 4572 726f 7220 6173  xcept OSError as
-0000ed40: 2065 7863 6570 745f 6572 723a 0a20 2020   except_err:.   
-0000ed50: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0000ed60: 6465 6275 6728 2745 7272 6f72 3a20 7379  debug('Error: sy
-0000ed70: 7374 656d 2073 7570 706f 7274 2069 7373  stem support iss
-0000ed80: 7565 2066 6f72 2025 732c 2065 7272 6f72  ue for %s, error
-0000ed90: 3a20 5b25 735d 272c 2073 656c 662e 7072  : [%s]', self.pr
-0000eda0: 6d2e 7063 6965 5f69 642c 2065 7863 6570  m.pcie_id, excep
-0000edb0: 745f 6572 7229 0a20 2020 2020 2020 2020  t_err).         
-0000edc0: 2020 2070 7269 6e74 2827 4572 726f 723a     print('Error:
-0000edd0: 2053 7973 7465 6d20 7375 7070 6f72 7420   System support 
-0000ede0: 6973 7375 6520 666f 7220 4750 5520 5b7b  issue for GPU [{
-0000edf0: 7d5d 272e 666f 726d 6174 2873 656c 662e  }]'.format(self.
-0000ee00: 7072 6d2e 7063 6965 5f69 6429 290a 2020  prm.pcie_id)).  
-0000ee10: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-0000ee20: 6973 6162 6c65 5f70 6172 616d 5f72 6561  isable_param_rea
-0000ee30: 6428 7061 7261 6d65 7465 725f 6669 6c65  d(parameter_file
-0000ee40: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-0000ee50: 7475 726e 204e 6f6e 650a 0a20 2020 2020  turn None..     
-0000ee60: 2020 2072 6574 7572 6e20 7264 6174 6120     return rdata 
-0000ee70: 6966 2072 6574 7572 6e5f 6461 7461 2065  if return_data e
-0000ee80: 6c73 6520 4e6f 6e65 0a0a 2020 2020 6465  lse None..    de
-0000ee90: 6620 7265 6164 5f67 7075 5f70 7374 6174  f read_gpu_pstat
-0000eea0: 6573 2873 656c 6629 202d 3e20 4e6f 6e65  es(self) -> None
-0000eeb0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000eec0: 2020 2020 2020 5265 6164 2047 5055 2070        Read GPU p
-0000eed0: 7374 6174 6520 6465 6669 6e69 7469 6f6e  state definition
-0000eee0: 7320 616e 6420 7061 7261 6d65 7465 7220  s and parameter 
-0000eef0: 7261 6e67 6573 2066 726f 6d20 6472 6976  ranges from driv
-0000ef00: 6572 2066 696c 6573 2e0a 2020 2020 2020  er files..      
-0000ef10: 2020 5365 7420 6361 7264 2074 7970 6520    Set card type 
-0000ef20: 6261 7365 6420 6f6e 2070 7374 6174 6520  based on pstate 
-0000ef30: 636f 6e66 6967 7572 6174 696f 6e0a 2020  configuration.  
-0000ef40: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000ef50: 2020 6966 206e 6f74 2073 656c 662e 6973    if not self.is
-0000ef60: 5f61 6d64 5f72 6561 6461 626c 6528 293a  _amd_readable():
-0000ef70: 2072 6574 7572 6e0a 2020 2020 2020 2020   return.        
-0000ef80: 7061 7261 6d65 7465 725f 6669 6c65 203d  parameter_file =
-0000ef90: 2027 7070 5f6f 645f 636c 6b5f 766f 6c74   'pp_od_clk_volt
-0000efa0: 6167 6527 0a20 2020 2020 2020 2069 6620  age'.        if 
-0000efb0: 6e6f 7420 7365 6c66 2e70 6172 616d 5f69  not self.param_i
-0000efc0: 735f 6163 7469 7665 2870 6172 616d 6574  s_active(paramet
-0000efd0: 6572 5f66 696c 6529 3a20 7265 7475 726e  er_file): return
-0000efe0: 0a0a 2020 2020 2020 2020 6669 6c65 5f70  ..        file_p
-0000eff0: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
-0000f000: 696e 2873 656c 662e 7072 6d2e 6361 7264  in(self.prm.card
-0000f010: 5f70 6174 682c 2070 6172 616d 6574 6572  _path, parameter
-0000f020: 5f66 696c 6529 0a20 2020 2020 2020 2069  _file).        i
-0000f030: 6620 6e6f 7420 6f73 2e70 6174 682e 6973  f not os.path.is
-0000f040: 6669 6c65 2866 696c 655f 7061 7468 293a  file(file_path):
-0000f050: 0a20 2020 2020 2020 2020 2020 2047 5554  .            GUT
-0000f060: 5f43 4f4e 5354 2e70 726f 6365 7373 5f6d  _CONST.process_m
-0000f070: 6573 7361 6765 2827 4572 726f 7220 6765  essage('Error ge
-0000f080: 7474 696e 6720 702d 7374 6174 6573 3a20  tting p-states: 
-0000f090: 7b7d 272e 666f 726d 6174 2866 696c 655f  {}'.format(file_
-0000f0a0: 7061 7468 2929 0a20 2020 2020 2020 2020  path)).         
-0000f0b0: 2020 2073 656c 662e 6469 7361 626c 655f     self.disable_
-0000f0c0: 7061 7261 6d5f 7265 6164 2870 6172 616d  param_read(param
-0000f0d0: 6574 6572 5f66 696c 6529 0a20 2020 2020  eter_file).     
-0000f0e0: 2020 2020 2020 2072 6574 7572 6e0a 2020         return.  
-0000f0f0: 2020 2020 2020 6375 7272 656e 745f 6d6f        current_mo
-0000f100: 6465 203d 204f 644d 6f64 652e 6e6f 6e65  de = OdMode.none
-0000f110: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-0000f120: 2020 2020 2020 2020 2020 7769 7468 206f            with o
-0000f130: 7065 6e28 6669 6c65 5f70 6174 682c 2027  pen(file_path, '
-0000f140: 7227 2c20 656e 636f 6469 6e67 3d27 7574  r', encoding='ut
-0000f150: 662d 3827 2920 6173 2063 6172 645f 6669  f-8') as card_fi
-0000f160: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0000f170: 2020 2020 666f 7220 6c69 6e65 2069 6e20      for line in 
-0000f180: 6361 7264 5f66 696c 653a 0a20 2020 2020  card_file:.     
-0000f190: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000f1a0: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
-0000f1b0: 286c 696e 652c 2073 7472 293a 0a20 2020  (line, str):.   
-0000f1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f1d0: 2020 2020 2047 5554 5f43 4f4e 5354 2e70       GUT_CONST.p
-0000f1e0: 726f 6365 7373 5f6d 6573 7361 6765 2827  rocess_message('
-0000f1f0: 5265 6164 206e 6f6e 2d73 7472 696e 6720  Read non-string 
-0000f200: 6974 656d 205b 7b7d 5d20 6672 6f6d 207b  item [{}] from {
-0000f210: 7d27 2e66 6f72 6d61 7428 6c69 6e65 2c20  }'.format(line, 
-0000f220: 7061 7261 6d65 7465 725f 6669 6c65 2929  parameter_file))
-0000f230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f240: 2020 2020 2020 2020 2073 656c 662e 6469           self.di
-0000f250: 7361 626c 655f 7061 7261 6d5f 7265 6164  sable_param_read
-0000f260: 2870 6172 616d 6574 6572 5f66 696c 6529  (parameter_file)
-0000f270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f280: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
-0000f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f2a0: 2020 2020 6c69 6e65 203d 206c 696e 652e      line = line.
-0000f2b0: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
-0000f2c0: 2020 2020 2020 2020 2020 2020 6c69 6e65              line
-0000f2d0: 203d 206c 696e 652e 7374 7269 7028 275c   = line.strip('\
-0000f2e0: 7830 3027 290a 2020 2020 2020 2020 2020  x00').          
-0000f2f0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-0000f300: 206c 696e 653a 0a20 2020 2020 2020 2020   line:.         
-0000f310: 2020 2020 2020 2020 2020 2020 2020 204c                 L
-0000f320: 4f47 4745 522e 6465 6275 6728 274e 756c  OGGER.debug('Nul
-0000f330: 6c20 6461 7461 2072 6563 6569 7665 642c  l data received,
-0000f340: 2075 7375 616c 6c79 2063 6175 7365 6420   usually caused 
-0000f350: 6279 2069 6e76 616c 6964 2070 705f 6665  by invalid pp_fe
-0000f360: 6174 7572 6520 6d61 736b 2e27 290a 2020  ature mask.').  
-0000f370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f380: 2020 2020 2020 636f 6e74 696e 7565 0a0a        continue..
-0000f390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f3a0: 2020 2020 2320 4465 7465 726d 696e 6520      # Determine 
-0000f3b0: 6461 7461 2074 7970 6520 6672 6f6d 2068  data type from h
-0000f3c0: 6561 6465 7220 7661 6c75 652e 2041 6c73  eader value. Als
-0000f3d0: 6f20 7365 7420 6361 7264 2074 7970 6520  o set card type 
-0000f3e0: 6672 6f6d 2068 6561 6465 7220 7479 7065  from header type
-0000f3f0: 732e 0a20 2020 2020 2020 2020 2020 2020  s..             
-0000f400: 2020 2020 2020 2069 6620 7265 2e66 756c         if re.ful
-0000f410: 6c6d 6174 6368 2827 4f44 5f2e 2a3a 2427  lmatch('OD_.*:$'
-0000f420: 2c20 6c69 6e65 293a 0a20 2020 2020 2020  , line):.       
-0000f430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f440: 2069 6620 7265 2e66 756c 6c6d 6174 6368   if re.fullmatch
-0000f450: 2827 4f44 5f2e 434c 4b3a 2427 2c20 6c69  ('OD_.CLK:$', li
-0000f460: 6e65 293a 0a20 2020 2020 2020 2020 2020  ne):.           
-0000f470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f480: 2063 7572 7265 6e74 5f6d 6f64 6520 3d20   current_mode = 
-0000f490: 4f64 4d6f 6465 2e76 616c 7565 0a20 2020  OdMode.value.   
-0000f4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f4b0: 2020 2020 2020 2020 2063 6c6b 5f6e 616d           clk_nam
-0000f4c0: 6520 3d20 6c69 6e65 2e73 7472 6970 2829  e = line.strip()
-0000f4d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f4e0: 2020 2020 2020 2020 2065 6c69 6620 7265           elif re
-0000f4f0: 2e66 756c 6c6d 6174 6368 2827 4f44 5f56  .fullmatch('OD_V
-0000f500: 4444 435f 4355 5256 453a 2427 2c20 6c69  DDC_CURVE:$', li
-0000f510: 6e65 293a 0a20 2020 2020 2020 2020 2020  ne):.           
-0000f520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f530: 2063 7572 7265 6e74 5f6d 6f64 6520 3d20   current_mode = 
-0000f540: 4f64 4d6f 6465 2e63 7572 7665 0a20 2020  OdMode.curve.   
-0000f550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f560: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-0000f570: 6d2e 6770 755f 7479 7065 203d 2047 7075  m.gpu_type = Gpu
-0000f580: 5479 7065 2e43 7572 7665 5074 730a 2020  Type.CurvePts.  
-0000f590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f5a0: 2020 2020 2020 2020 2020 636c 6b5f 6e61            clk_na
-0000f5b0: 6d65 203d 2027 270a 2020 2020 2020 2020  me = ''.        
-0000f5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f5d0: 656c 6966 2072 652e 6675 6c6c 6d61 7463  elif re.fullmatc
-0000f5e0: 6828 274f 445f 5644 4447 4658 5f4f 4646  h('OD_VDDGFX_OFF
-0000f5f0: 5345 543a 2427 2c20 6c69 6e65 293a 0a20  SET:$', line):. 
-0000f600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f610: 2020 2020 2020 2020 2020 2063 7572 7265             curre
-0000f620: 6e74 5f6d 6f64 6520 3d20 4f64 4d6f 6465  nt_mode = OdMode
-0000f630: 2e6f 6666 7365 740a 2020 2020 2020 2020  .offset.        
-0000f640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f650: 2020 2020 7365 6c66 2e70 726d 2e67 7075      self.prm.gpu
-0000f660: 5f74 7970 6520 3d20 4770 7554 7970 652e  _type = GpuType.
-0000f670: 4f66 6673 6574 0a20 2020 2020 2020 2020  Offset.         
-0000f680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f690: 2020 2063 6c6b 5f6e 616d 6520 3d20 2727     clk_name = ''
-0000f6a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f6b0: 2020 2020 2020 2020 2065 6c69 6620 7265           elif re
-0000f6c0: 2e66 756c 6c6d 6174 6368 2827 4f44 5f52  .fullmatch('OD_R
-0000f6d0: 414e 4745 3a24 272c 206c 696e 6529 3a0a  ANGE:$', line):.
-0000f6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f6f0: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-0000f700: 656e 745f 6d6f 6465 203d 204f 644d 6f64  ent_mode = OdMod
-0000f710: 652e 7261 6e67 650a 2020 2020 2020 2020  e.range.        
-0000f720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f730: 2020 2020 636c 6b5f 6e61 6d65 203d 2027      clk_name = '
-0000f740: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
-0000f750: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
-0000f760: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
-0000f770: 2020 2020 2020 2020 2320 5370 6c69 7420          # Split 
-0000f780: 6461 7461 206c 696e 652e 0a20 2020 2020  data line..     
-0000f790: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000f7a0: 696e 6520 3d20 7265 2e73 7562 2872 2740  ine = re.sub(r'@
-0000f7b0: 272c 2027 2027 2c20 6c69 6e65 290a 2020  ', ' ', line).  
-0000f7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f7d0: 2020 6c69 6e65 6974 656d 733a 204c 6973    lineitems: Lis
-0000f7e0: 745b 616e 795d 203d 206c 696e 652e 7370  t[any] = line.sp
-0000f7f0: 6c69 7428 290a 2020 2020 2020 2020 2020  lit().          
-0000f800: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-0000f810: 206c 696e 6569 7465 6d73 3a20 636f 6e74   lineitems: cont
-0000f820: 696e 7565 0a20 2020 2020 2020 2020 2020  inue.           
-0000f830: 2020 2020 2020 2020 206c 696e 6569 7465           lineite
-0000f840: 6d73 5f6c 656e 203d 206c 656e 286c 696e  ms_len = len(lin
-0000f850: 6569 7465 6d73 290a 0a20 2020 2020 2020  eitems)..       
-0000f860: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000f870: 6375 7272 656e 745f 6d6f 6465 203d 3d20  current_mode == 
-0000f880: 4f64 4d6f 6465 2e76 616c 7565 3a0a 2020  OdMode.value:.  
-0000f890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f8a0: 2020 2020 2020 2320 5665 7269 6679 2069        # Verify i
-0000f8b0: 6620 6461 7461 2066 6f72 6d61 7420 6d61  f data format ma
-0000f8c0: 7463 6865 7320 7073 7461 7465 2074 7970  tches pstate typ
-0000f8d0: 652e 0a20 2020 2020 2020 2020 2020 2020  e..             
-0000f8e0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-0000f8f0: 6c66 2e70 726d 2e67 7075 5f74 7970 6520  lf.prm.gpu_type 
-0000f900: 6e6f 7420 696e 2028 4770 7554 7970 652e  not in (GpuType.
-0000f910: 5053 7461 7465 732c 2047 7075 5479 7065  PStates, GpuType
-0000f920: 2e50 5374 6174 6573 4e45 2c20 4770 7554  .PStatesNE, GpuT
-0000f930: 7970 652e 4150 552c 0a20 2020 2020 2020  ype.APU,.       
+00008a70: 2020 2069 6620 272a 2720 696e 2070 735f     if '*' in ps_
+00008a80: 7661 6c3a 0a20 2020 2020 2020 2020 2020  val:.           
+00008a90: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00008aa0: 662e 7072 6d2e 7363 6c6b 5f70 735b 305d  f.prm.sclk_ps[0]
+00008ab0: 203d 2070 735f 6b65 790a 2020 2020 2020   = ps_key.      
+00008ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ad0: 2020 7365 6c66 2e70 726d 2e73 636c 6b5f    self.prm.sclk_
+00008ae0: 7073 5b31 5d20 3d20 7363 6c6b 5f70 735b  ps[1] = sclk_ps[
+00008af0: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
+00008b00: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
+00008b10: 7363 6c6b 5f6d 6173 6b20 3d20 6d61 736b  sclk_mask = mask
+00008b20: 0a20 2020 2020 2020 2020 2020 204c 4f47  .            LOG
+00008b30: 4745 522e 6465 6275 6728 274d 6173 6b3a  GER.debug('Mask:
+00008b40: 205b 2573 5d2c 2070 733a 205b 2573 2c20   [%s], ps: [%s, 
+00008b50: 2573 5d27 2c20 6d61 736b 2c20 7365 6c66  %s]', mask, self
+00008b60: 2e70 726d 2e73 636c 6b5f 7073 5b30 5d2c  .prm.sclk_ps[0],
+00008b70: 2073 656c 662e 7072 6d2e 7363 6c6b 5f70   self.prm.sclk_p
+00008b80: 735b 315d 290a 2020 2020 2020 2020 656c  s[1]).        el
+00008b90: 6966 206e 616d 6520 3d3d 2027 6d63 6c6b  if name == 'mclk
+00008ba0: 5f70 7327 3a0a 2020 2020 2020 2020 2020  _ps':.          
+00008bb0: 2020 6d61 736b 203d 2027 270a 2020 2020    mask = ''.    
+00008bc0: 2020 2020 2020 2020 7073 5f6b 6579 203d          ps_key =
+00008bd0: 2027 4e41 270a 2020 2020 2020 2020 2020   'NA'.          
+00008be0: 2020 666f 7220 7073 5f76 616c 2069 6e20    for ps_val in 
+00008bf0: 7661 6c75 653a 0a20 2020 2020 2020 2020  value:.         
+00008c00: 2020 2020 2020 2069 6620 6e6f 7420 6d61         if not ma
+00008c10: 736b 3a0a 2020 2020 2020 2020 2020 2020  sk:.            
+00008c20: 2020 2020 2020 2020 6d61 736b 203d 2070          mask = p
+00008c30: 735f 7661 6c2e 7370 6c69 7428 273a 2729  s_val.split(':')
+00008c40: 5b30 5d2e 7374 7269 7028 290a 2020 2020  [0].strip().    
+00008c50: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00008c60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008c70: 2020 2020 2020 6d61 736b 202b 3d20 272c        mask += ',
+00008c80: 2720 2b20 7073 5f76 616c 2e73 706c 6974  ' + ps_val.split
+00008c90: 2827 3a27 295b 305d 2e73 7472 6970 2829  (':')[0].strip()
+00008ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008cb0: 206d 636c 6b5f 7073 203d 2070 735f 7661   mclk_ps = ps_va
+00008cc0: 6c2e 7374 7269 7028 272a 2729 2e73 7472  l.strip('*').str
+00008cd0: 6970 2829 2e73 706c 6974 2827 3a20 2729  ip().split(': ')
+00008ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008cf0: 2069 6620 6c65 6e28 6d63 6c6b 5f70 7329   if len(mclk_ps)
+00008d00: 203c 2032 3a0a 2020 2020 2020 2020 2020   < 2:.          
+00008d10: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+00008d20: 2e64 6562 7567 2827 6d63 6c6b 5f70 7320  .debug('mclk_ps 
+00008d30: 7661 6c75 6520 6572 726f 723a 205b 2573  value error: [%s
+00008d40: 5d27 2c20 6d63 6c6b 5f70 7329 0a20 2020  ]', mclk_ps).   
+00008d50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00008d60: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00008d70: 2020 2020 2020 2069 6620 6d63 6c6b 5f70         if mclk_p
+00008d80: 735b 305d 2e69 736e 756d 6572 6963 2829  s[0].isnumeric()
+00008d90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008da0: 2020 2020 2020 2020 2020 7073 5f6b 6579            ps_key
+00008db0: 203d 2069 6e74 286d 636c 6b5f 7073 5b30   = int(mclk_ps[0
+00008dc0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+00008dd0: 2020 2020 2020 2073 656c 662e 6d63 6c6b         self.mclk
+00008de0: 5f64 706d 5f73 7461 7465 2e75 7064 6174  _dpm_state.updat
+00008df0: 6528 7b70 735f 6b65 793a 206d 636c 6b5f  e({ps_key: mclk_
+00008e00: 7073 5b31 5d7d 290a 2020 2020 2020 2020  ps[1]}).        
+00008e10: 2020 2020 2020 2020 2020 2020 6966 2027              if '
+00008e20: 2a27 2069 6e20 7073 5f76 616c 3a0a 2020  *' in ps_val:.  
+00008e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008e40: 2020 2020 2020 7365 6c66 2e70 726d 2e6d        self.prm.m
+00008e50: 636c 6b5f 7073 5b30 5d20 3d20 7073 5f6b  clk_ps[0] = ps_k
+00008e60: 6579 0a20 2020 2020 2020 2020 2020 2020  ey.             
+00008e70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00008e80: 7072 6d2e 6d63 6c6b 5f70 735b 315d 203d  prm.mclk_ps[1] =
+00008e90: 206d 636c 6b5f 7073 5b31 5d0a 2020 2020   mclk_ps[1].    
+00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008eb0: 7365 6c66 2e70 726d 2e6d 636c 6b5f 6d61  self.prm.mclk_ma
+00008ec0: 736b 203d 206d 6173 6b0a 2020 2020 2020  sk = mask.      
+00008ed0: 2020 2020 2020 4c4f 4747 4552 2e64 6562        LOGGER.deb
+00008ee0: 7567 2827 4d61 736b 3a20 5b25 735d 2c20  ug('Mask: [%s], 
+00008ef0: 7073 3a20 5b25 732c 2025 735d 272c 206d  ps: [%s, %s]', m
+00008f00: 6173 6b2c 2073 656c 662e 7072 6d2e 6d63  ask, self.prm.mc
+00008f10: 6c6b 5f70 735b 305d 2c20 7365 6c66 2e70  lk_ps[0], self.p
+00008f20: 726d 2e6d 636c 6b5f 7073 5b31 5d29 0a20  rm.mclk_ps[1]). 
+00008f30: 2020 2020 2020 2065 6c69 6620 6e61 6d65         elif name
+00008f40: 203d 3d20 2766 616e 5f70 776d 273a 0a20   == 'fan_pwm':. 
+00008f50: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+00008f60: 696e 7374 616e 6365 2876 616c 7565 2c20  instance(value, 
+00008f70: 696e 7429 3a0a 2020 2020 2020 2020 2020  int):.          
+00008f80: 2020 2020 2020 7365 6c66 2e70 726d 2e66        self.prm.f
+00008f90: 616e 5f70 776d 203d 2076 616c 7565 0a20  an_pwm = value. 
+00008fa0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00008fb0: 6973 696e 7374 616e 6365 2876 616c 7565  isinstance(value
+00008fc0: 2c20 666c 6f61 7429 3a0a 2020 2020 2020  , float):.      
+00008fd0: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+00008fe0: 726d 2e66 616e 5f70 776d 203d 2069 6e74  rm.fan_pwm = int
+00008ff0: 2876 616c 7565 290a 2020 2020 2020 2020  (value).        
+00009000: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
+00009010: 6e63 6528 7661 6c75 652c 2073 7472 293a  nce(value, str):
+00009020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009030: 2073 656c 662e 7072 6d2e 6661 6e5f 7077   self.prm.fan_pw
+00009040: 6d20 3d20 696e 7428 7661 6c75 6529 2069  m = int(value) i
+00009050: 6620 7661 6c75 652e 6973 6e75 6d65 7269  f value.isnumeri
+00009060: 6328 2920 656c 7365 204e 6f6e 650a 2020  c() else None.  
+00009070: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00009080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009090: 7365 6c66 2e70 726d 2e66 616e 5f70 776d  self.prm.fan_pwm
+000090a0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+000090b0: 656c 6966 2072 652e 6675 6c6c 6d61 7463  elif re.fullmatc
+000090c0: 6828 5041 5454 4552 4e53 5b50 4b2e 4750  h(PATTERNS[PK.GP
+000090d0: 554d 454d 5459 5045 5d2c 206e 616d 6529  UMEMTYPE], name)
+000090e0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000090f0: 6c66 2e70 726d 5b6e 616d 655d 203d 2076  lf.prm[name] = v
+00009100: 616c 7565 0a20 2020 2020 2020 2020 2020  alue.           
+00009110: 2073 656c 662e 7365 745f 6d65 6d6f 7279   self.set_memory
+00009120: 5f75 7361 6765 2829 0a20 2020 2020 2020  _usage().       
+00009130: 2065 6c69 6620 6e61 6d65 203d 3d20 2769   elif name == 'i
+00009140: 6427 3a0a 2020 2020 2020 2020 2020 2020  d':.            
+00009150: 7365 6c66 2e70 726d 2e69 6420 3d20 6469  self.prm.id = di
+00009160: 6374 287a 6970 2828 2776 656e 646f 7227  ct(zip(('vendor'
+00009170: 2c20 2764 6576 6963 6527 2c20 2773 7562  , 'device', 'sub
+00009180: 7379 7374 656d 5f76 656e 646f 7227 2c20  system_vendor', 
+00009190: 2773 7562 7379 7374 656d 5f64 6576 6963  'subsystem_devic
+000091a0: 6527 292c 206c 6973 7428 7661 6c75 6529  e'), list(value)
+000091b0: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
+000091c0: 656c 662e 7072 6d2e 6d6f 6465 6c5f 6465  elf.prm.model_de
+000091d0: 7669 6365 5f64 6563 6f64 6520 3d20 7365  vice_decode = se
+000091e0: 6c66 2e72 6561 645f 7063 6969 645f 6d6f  lf.read_pciid_mo
+000091f0: 6465 6c28 290a 2020 2020 2020 2020 2020  del().          
+00009200: 2020 7365 6c66 2e70 726d 2e6d 6f64 656c    self.prm.model
+00009210: 5f64 6973 706c 6179 203d 2073 656c 662e  _display = self.
+00009220: 6669 745f 6469 7370 6c61 795f 6e61 6d65  fit_display_name
+00009230: 2873 656c 662e 7072 6d2e 6d6f 6465 6c5f  (self.prm.model_
+00009240: 6465 7669 6365 5f64 6563 6f64 6529 0a20  device_decode). 
+00009250: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00009260: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00009270: 6d5b 6e61 6d65 5d20 3d20 7661 6c75 650a  m[name] = value.
+00009280: 0a20 2020 2040 7374 6174 6963 6d65 7468  .    @staticmeth
+00009290: 6f64 0a20 2020 2064 6566 2066 6974 5f64  od.    def fit_d
+000092a0: 6973 706c 6179 5f6e 616d 6528 6e61 6d65  isplay_name(name
+000092b0: 3a20 7374 722c 206c 656e 6774 683a 2069  : str, length: i
+000092c0: 6e74 203d 2047 5554 5f43 4f4e 5354 2e6d  nt = GUT_CONST.m
+000092d0: 6f6e 5f66 6965 6c64 5f77 6964 7468 2920  on_field_width) 
+000092e0: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+000092f0: 2222 2220 436f 6e76 6572 7420 7468 6520  """ Convert the 
+00009300: 6769 7665 6e20 6e61 6d65 2074 6f20 6120  given name to a 
+00009310: 6469 7370 6c61 7920 6e61 6d65 2077 6869  display name whi
+00009320: 6368 2069 7320 6f70 7469 6d61 6c6c 7920  ch is optimally 
+00009330: 7369 6d70 6c69 6669 6564 2061 6e64 2074  simplified and t
+00009340: 7275 6e63 6174 6564 2e0a 0a20 2020 2020  runcated...     
+00009350: 2020 203a 7061 7261 6d20 6e61 6d65 3a20     :param name: 
+00009360: 5468 6520 4750 5520 6e61 6d65 2074 6f20  The GPU name to 
+00009370: 6265 2063 6f6e 7665 7274 6564 2e0a 2020  be converted..  
+00009380: 2020 2020 2020 3a70 6172 616d 206c 656e        :param len
+00009390: 6774 683a 2054 6865 2074 6172 6765 7420  gth: The target 
+000093a0: 6c65 6e67 7468 2c20 6465 6661 756c 7420  length, default 
+000093b0: 6973 2074 6865 206d 6f6e 6974 6f72 2066  is the monitor f
+000093c0: 6965 6c64 2077 6964 7468 2e0a 2020 2020  ield width..    
+000093d0: 2020 2020 3a72 6574 7572 6e3a 2053 696d      :return: Sim
+000093e0: 706c 6966 6965 6420 616e 6420 7472 756e  plified and trun
+000093f0: 6361 7465 6420 7374 7269 6e67 0a20 2020  cated string.   
+00009400: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00009410: 2066 6974 5f6e 616d 6520 3d20 2727 0a20   fit_name = ''. 
+00009420: 2020 2020 2020 206d 6f64 656c 5f64 6973         model_dis
+00009430: 706c 6179 5f63 6f6d 706f 6e65 6e74 7320  play_components 
+00009440: 3d20 7265 2e73 7562 2850 4154 5445 524e  = re.sub(PATTERN
+00009450: 535b 504b 2e47 5055 5f47 454e 4552 4943  S[PK.GPU_GENERIC
+00009460: 5d2c 2027 272c 206e 616d 6529 2e73 706c  ], '', name).spl
+00009470: 6974 2829 0a20 2020 2020 2020 2066 6f72  it().        for
+00009480: 206e 616d 655f 636f 6d70 6f6e 656e 7420   name_component 
+00009490: 696e 206d 6f64 656c 5f64 6973 706c 6179  in model_display
+000094a0: 5f63 6f6d 706f 6e65 6e74 733a 0a20 2020  _components:.   
+000094b0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+000094c0: 6e61 6d65 5f63 6f6d 706f 6e65 6e74 2920  name_component) 
+000094d0: 2b20 6c65 6e28 6669 745f 6e61 6d65 2920  + len(fit_name) 
+000094e0: 2b20 3120 3e20 6c65 6e67 7468 3a0a 2020  + 1 > length:.  
+000094f0: 2020 2020 2020 2020 2020 2020 2020 6272                br
+00009500: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+00009510: 6669 745f 6e61 6d65 203d 2072 652e 7375  fit_name = re.su
+00009520: 6228 7227 5c73 2a2f 5c73 2a27 2c20 272f  b(r'\s*/\s*', '/
+00009530: 272c 2027 7b7d 207b 7d27 2e66 6f72 6d61  ', '{} {}'.forma
+00009540: 7428 6669 745f 6e61 6d65 2c20 6e61 6d65  t(fit_name, name
+00009550: 5f63 6f6d 706f 6e65 6e74 2929 0a20 2020  _component)).   
+00009560: 2020 2020 2072 6574 7572 6e20 6669 745f       return fit_
+00009570: 6e61 6d65 0a0a 2020 2020 6465 6620 7061  name..    def pa
+00009580: 7261 6d5f 6973 5f61 6374 6976 6528 7365  ram_is_active(se
+00009590: 6c66 2c20 7061 7261 6d65 7465 725f 6e61  lf, parameter_na
+000095a0: 6d65 3a20 7374 7229 202d 3e20 626f 6f6c  me: str) -> bool
+000095b0: 3a0a 2020 2020 2020 2020 2222 2220 5265  :.        """ Re
+000095c0: 7475 726e 2054 7275 6520 6966 2067 6976  turn True if giv
+000095d0: 656e 2070 6172 616d 6574 6572 2069 7320  en parameter is 
+000095e0: 6e6f 7420 736b 6970 7065 6420 616e 6420  not skipped and 
+000095f0: 6e6f 7420 6469 7361 626c 6564 2e0a 0a20  not disabled... 
+00009600: 2020 2020 2020 203a 7061 7261 6d20 7061         :param pa
+00009610: 7261 6d65 7465 725f 6e61 6d65 3a0a 2020  rameter_name:.  
+00009620: 2020 2020 2020 3a72 6574 7572 6e3a 0a20        :return:. 
+00009630: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00009640: 2020 2069 6620 7061 7261 6d65 7465 725f     if parameter_
+00009650: 6e61 6d65 2069 6e20 7365 6c66 2e72 6561  name in self.rea
+00009660: 645f 6469 7361 626c 6564 3a20 7265 7475  d_disabled: retu
+00009670: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
+00009680: 2069 6620 7061 7261 6d65 7465 725f 6e61   if parameter_na
+00009690: 6d65 2069 6e20 7365 6c66 2e72 6561 645f  me in self.read_
+000096a0: 736b 6970 3a20 7265 7475 726e 2046 616c  skip: return Fal
+000096b0: 7365 0a20 2020 2020 2020 2072 6574 7572  se.        retur
+000096c0: 6e20 5472 7565 0a0a 2020 2020 6465 6620  n True..    def 
+000096d0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
+000096e0: 6164 2873 656c 662c 2070 6172 616d 6574  ad(self, paramet
+000096f0: 6572 5f6e 616d 653a 2055 6e69 6f6e 5b54  er_name: Union[T
+00009700: 7570 6c65 5b73 7472 2c20 2e2e 2e5d 2c20  uple[str, ...], 
+00009710: 7374 722c 204e 6f6e 655d 2920 2d3e 204e  str, None]) -> N
+00009720: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+00009730: 2044 6973 6162 6c65 2066 7572 7468 6572   Disable further
+00009740: 2072 6561 6469 6e67 206f 6620 7468 6520   reading of the 
+00009750: 7370 6563 6966 6965 6420 7061 7261 6d65  specified parame
+00009760: 7465 722e 0a0a 2020 2020 2020 2020 3a70  ter...        :p
+00009770: 6172 616d 2070 6172 616d 6574 6572 5f6e  aram parameter_n
+00009780: 616d 653a 2041 2073 696e 676c 6520 7061  ame: A single pa
+00009790: 7261 6d65 7465 7220 6e61 6d65 2074 6f20  rameter name to 
+000097a0: 6265 2064 6973 6162 6c65 642e 0a20 2020  be disabled..   
+000097b0: 2020 2020 203a 7265 7475 726e 3a0a 2020       :return:.  
+000097c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000097d0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+000097e0: 7061 7261 6d65 7465 725f 6e61 6d65 2c20  parameter_name, 
+000097f0: 7374 7229 3a20 7061 7261 6d65 7465 725f  str): parameter_
+00009800: 6e61 6d65 203d 2028 7061 7261 6d65 7465  name = (paramete
+00009810: 725f 6e61 6d65 2c20 290a 2020 2020 2020  r_name, ).      
+00009820: 2020 666f 7220 7461 7267 6574 5f70 6172    for target_par
+00009830: 616d 2069 6e20 7061 7261 6d65 7465 725f  am in parameter_
+00009840: 6e61 6d65 3a0a 2020 2020 2020 2020 2020  name:.          
+00009850: 2020 6966 2073 656c 662e 7061 7261 6d5f    if self.param_
+00009860: 6973 5f61 6374 6976 6528 7461 7267 6574  is_active(target
+00009870: 5f70 6172 616d 293a 0a20 2020 2020 2020  _param):.       
+00009880: 2020 2020 2020 2020 206d 6573 7361 6765           message
+00009890: 203d 2027 5761 726e 696e 673a 2043 616e   = 'Warning: Can
+000098a0: 206e 6f74 2072 6561 6420 7061 7261 6d65   not read parame
+000098b0: 7465 723a 207b 7d2c 2027 205c 0a20 2020  ter: {}, ' \.   
+000098c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000098d0: 2020 2020 2020 2027 6469 7361 626c 696e         'disablin
+000098e0: 6720 666f 7220 7468 6973 2047 5055 3a20  g for this GPU: 
+000098f0: 7b7d 272e 666f 726d 6174 2874 6172 6765  {}'.format(targe
+00009900: 745f 7061 7261 6d2c 2073 656c 662e 7072  t_param, self.pr
+00009910: 6d2e 6361 7264 5f6e 756d 290a 2020 2020  m.card_num).    
+00009920: 2020 2020 2020 2020 2020 2020 4755 545f              GUT_
+00009930: 434f 4e53 542e 7072 6f63 6573 735f 6d65  CONST.process_me
+00009940: 7373 6167 6528 6d65 7373 6167 652c 206c  ssage(message, l
+00009950: 6f67 5f66 6c61 673d 5472 7565 290a 2020  og_flag=True).  
+00009960: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00009970: 6c66 2e72 6561 645f 6469 7361 626c 6564  lf.read_disabled
+00009980: 2e61 7070 656e 6428 7461 7267 6574 5f70  .append(target_p
+00009990: 6172 616d 290a 0a20 2020 2064 6566 2067  aram)..    def g
+000099a0: 6574 5f70 6172 616d 735f 7661 6c75 6528  et_params_value(
+000099b0: 7365 6c66 2c20 6e61 6d65 3a20 7374 722c  self, name: str,
+000099c0: 206e 756d 5f61 735f 696e 743a 2062 6f6f   num_as_int: boo
+000099d0: 6c20 3d20 4661 6c73 6529 202d 3e20 4f70  l = False) -> Op
+000099e0: 7469 6f6e 616c 5b55 6e69 6f6e 5b64 6963  tional[Union[dic
+000099f0: 742c 2069 6e74 2c20 666c 6f61 742c 2073  t, int, float, s
+00009a00: 7472 2c20 6c69 7374 2c20 4770 7545 6e75  tr, list, GpuEnu
+00009a10: 6d2c 2064 6174 6574 696d 655d 5d3a 0a20  m, datetime]]:. 
+00009a20: 2020 2020 2020 2022 2222 2047 6574 2070         """ Get p
+00009a30: 6172 616d 6574 6572 2076 616c 7565 2066  arameter value f
+00009a40: 6f72 2067 6976 656e 206e 616d 652e 0a0a  or given name...
+00009a50: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
+00009a60: 616d 653a 2020 5061 7261 6d65 7465 7220  ame:  Parameter 
+00009a70: 6e61 6d65 0a20 2020 2020 2020 203a 7061  name.        :pa
+00009a80: 7261 6d20 6e75 6d5f 6173 5f69 6e74 3a20  ram num_as_int: 
+00009a90: 436f 6e76 6572 7420 666c 6f61 7420 746f  Convert float to
+00009aa0: 2069 6e74 2069 6620 5472 7565 0a20 2020   int if True.   
+00009ab0: 2020 2020 203a 7265 7475 726e 3a20 5061       :return: Pa
+00009ac0: 7261 6d65 7465 7220 7661 6c75 650a 2020  rameter value.  
+00009ad0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00009ae0: 2020 6966 206e 616d 6520 3d3d 2027 7265    if name == 're
+00009af0: 6164 5f74 696d 6527 3a0a 2020 2020 2020  ad_time':.      
+00009b00: 2020 2020 2020 6966 2073 656c 662e 7061        if self.pa
+00009b10: 7261 6d5f 6973 5f61 6374 6976 6528 2765  ram_is_active('e
+00009b20: 6e65 7267 7927 2920 616e 6420 7365 6c66  nergy') and self
+00009b30: 2e70 6172 616d 5f69 735f 6163 7469 7665  .param_is_active
+00009b40: 2827 706f 7765 7227 293a 0a20 2020 2020  ('power'):.     
+00009b50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00009b60: 6e20 7365 6c66 2e65 6e65 7267 795b 2774  n self.energy['t
+00009b70: 6e27 5d0a 2020 2020 2020 2020 2020 2020  n'].            
+00009b80: 7265 7475 726e 2073 656c 662e 7265 6164  return self.read
+00009b90: 5f74 696d 650a 2020 2020 2020 2020 2320  _time.        # 
+00009ba0: 5061 7261 6d65 7465 7273 2077 6974 6820  Parameters with 
+00009bb0: 275f 7661 6c27 2061 7320 6120 7375 6666  '_val' as a suff
+00009bc0: 6978 2061 7265 2064 6572 6976 6564 2066  ix are derived f
+00009bd0: 726f 6d20 6120 6469 7265 6374 2073 6f75  rom a direct sou
+00009be0: 7263 652e 0a20 2020 2020 2020 2069 6620  rce..        if 
+00009bf0: 7265 2e66 756c 6c6d 6174 6368 2850 4154  re.fullmatch(PAT
+00009c00: 5445 524e 535b 504b 2e56 414c 5f49 5445  TERNS[PK.VAL_ITE
+00009c10: 4d5d 2c20 6e61 6d65 293a 0a20 2020 2020  M], name):.     
+00009c20: 2020 2020 2020 2069 6620 6e61 6d65 203d         if name =
+00009c30: 3d20 2774 656d 705f 7661 6c27 3a0a 2020  = 'temp_val':.  
+00009c40: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00009c50: 206e 6f74 2073 656c 662e 7072 6d5b 2774   not self.prm['t
+00009c60: 656d 7065 7261 7475 7265 7327 5d3a 0a20  emperatures']:. 
+00009c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009c80: 2020 2072 6574 7572 6e20 4e6f 6e65 0a20     return None. 
+00009c90: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00009ca0: 6f72 2074 656d 705f 6e61 6d65 2069 6e20  or temp_name in 
+00009cb0: 2827 6564 6765 272c 2027 7465 6d70 6572  ('edge', 'temper
+00009cc0: 6174 7572 652e 6770 7527 2c20 2774 656d  ature.gpu', 'tem
+00009cd0: 7031 5f69 6e70 7574 2729 3a0a 2020 2020  p1_input'):.    
+00009ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009cf0: 6966 2074 656d 705f 6e61 6d65 2069 6e20  if temp_name in 
+00009d00: 7365 6c66 2e70 726d 5b27 7465 6d70 6572  self.prm['temper
+00009d10: 6174 7572 6573 275d 3a0a 2020 2020 2020  atures']:.      
+00009d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009d30: 2020 6966 2073 656c 662e 7072 6d5b 2774    if self.prm['t
+00009d40: 656d 7065 7261 7475 7265 7327 5d5b 7465  emperatures'][te
+00009d50: 6d70 5f6e 616d 655d 3a0a 2020 2020 2020  mp_name]:.      
+00009d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009d70: 2020 2020 2020 6966 206e 756d 5f61 735f        if num_as_
+00009d80: 696e 743a 0a20 2020 2020 2020 2020 2020  int:.           
+00009d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009da0: 2020 2020 2072 6574 7572 6e20 696e 7428       return int(
+00009db0: 7365 6c66 2e70 726d 5b27 7465 6d70 6572  self.prm['temper
+00009dc0: 6174 7572 6573 275d 5b74 656d 705f 6e61  atures'][temp_na
+00009dd0: 6d65 5d29 0a20 2020 2020 2020 2020 2020  me]).           
+00009de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009df0: 2072 6574 7572 6e20 726f 756e 6428 7365   return round(se
+00009e00: 6c66 2e70 726d 5b27 7465 6d70 6572 6174  lf.prm['temperat
+00009e10: 7572 6573 275d 5b74 656d 705f 6e61 6d65  ures'][temp_name
+00009e20: 5d2c 2031 290a 2020 2020 2020 2020 2020  ], 1).          
+00009e30: 2020 2020 2020 666f 7220 7661 6c75 6520        for value 
+00009e40: 696e 2073 656c 662e 7072 6d5b 2774 656d  in self.prm['tem
+00009e50: 7065 7261 7475 7265 7327 5d2e 7661 6c75  peratures'].valu
+00009e60: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
+00009e70: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00009e80: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
+00009e90: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+00009ea0: 6e65 0a20 2020 2020 2020 2020 2020 2069  ne.            i
+00009eb0: 6620 6e61 6d65 203d 3d20 2776 6464 6766  f name == 'vddgf
+00009ec0: 785f 7661 6c27 3a0a 2020 2020 2020 2020  x_val':.        
+00009ed0: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
+00009ee0: 656c 662e 7072 6d5b 2776 6f6c 7461 6765  elf.prm['voltage
+00009ef0: 7327 5d3a 0a20 2020 2020 2020 2020 2020  s']:.           
+00009f00: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00009f10: 6e70 5f6e 616e 0a20 2020 2020 2020 2020  np_nan.         
+00009f20: 2020 2020 2020 2069 6620 2776 6464 6766         if 'vddgf
+00009f30: 7827 2069 6e20 7365 6c66 2e70 726d 5b27  x' in self.prm['
+00009f40: 766f 6c74 6167 6573 275d 3a0a 2020 2020  voltages']:.    
+00009f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009f60: 6966 2069 7369 6e73 7461 6e63 6528 7365  if isinstance(se
+00009f70: 6c66 2e70 726d 5b27 766f 6c74 6167 6573  lf.prm['voltages
+00009f80: 275d 5b27 7664 6467 6678 275d 2c20 7374  ']['vddgfx'], st
+00009f90: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
+00009fa0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00009fb0: 726e 2069 6e74 2873 656c 662e 7072 6d5b  rn int(self.prm[
+00009fc0: 2776 6f6c 7461 6765 7327 5d5b 2776 6464  'voltages']['vdd
+00009fd0: 6766 7827 5d29 0a20 2020 2020 2020 2020  gfx']).         
+00009fe0: 2020 2020 2020 2066 6f72 2076 616c 7565         for value
+00009ff0: 2069 6e20 7365 6c66 2e70 726d 5b27 766f   in self.prm['vo
+0000a000: 6c74 6167 6573 275d 2e76 616c 7565 7328  ltages'].values(
+0000a010: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000a020: 2020 2020 2020 2072 6574 7572 6e20 7661         return va
+0000a030: 6c75 650a 2020 2020 2020 2020 2020 2020  lue.            
+0000a040: 6966 206e 616d 6520 3d3d 2027 7363 6c6b  if name == 'sclk
+0000a050: 5f70 735f 7661 6c27 3a0a 2020 2020 2020  _ps_val':.      
+0000a060: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000a070: 2073 656c 662e 7072 6d5b 2773 636c 6b5f   self.prm['sclk_
+0000a080: 7073 275d 5b30 5d0a 2020 2020 2020 2020  ps'][0].        
+0000a090: 2020 2020 6966 206e 616d 6520 3d3d 2027      if name == '
+0000a0a0: 7363 6c6b 5f66 5f76 616c 273a 0a20 2020  sclk_f_val':.   
+0000a0b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000a0c0: 7365 6c66 2e70 726d 5b27 6672 6571 7565  self.prm['freque
+0000a0d0: 6e63 6965 7327 5d3a 0a20 2020 2020 2020  ncies']:.       
+0000a0e0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0000a0f0: 2063 6c6f 636b 5f6e 616d 6520 696e 2028   clock_name in (
+0000a100: 2773 636c 6b27 2c20 2763 6c6f 636b 732e  'sclk', 'clocks.
+0000a110: 6772 2729 3a0a 2020 2020 2020 2020 2020  gr'):.          
+0000a120: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000a130: 2063 6c6f 636b 5f6e 616d 6520 696e 2073   clock_name in s
+0000a140: 656c 662e 7072 6d5b 2766 7265 7175 656e  elf.prm['frequen
+0000a150: 6369 6573 275d 3a0a 2020 2020 2020 2020  cies']:.        
+0000a160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a170: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0000a180: 6528 7365 6c66 2e70 726d 5b27 6672 6571  e(self.prm['freq
+0000a190: 7565 6e63 6965 7327 5d5b 636c 6f63 6b5f  uencies'][clock_
+0000a1a0: 6e61 6d65 5d2c 2073 7472 2920 616e 645c  name], str) and\
+0000a1b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a1d0: 2020 2020 2073 656c 662e 7072 6d5b 2766       self.prm['f
+0000a1e0: 7265 7175 656e 6369 6573 275d 5b63 6c6f  requencies'][clo
+0000a1f0: 636b 5f6e 616d 655d 2e69 736e 756d 6572  ck_name].isnumer
+0000a200: 6963 2829 3a0a 2020 2020 2020 2020 2020  ic():.          
+0000a210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a220: 2020 2020 2020 7265 7475 726e 2069 6e74        return int
+0000a230: 2873 656c 662e 7072 6d5b 2766 7265 7175  (self.prm['frequ
+0000a240: 656e 6369 6573 275d 5b63 6c6f 636b 5f6e  encies'][clock_n
+0000a250: 616d 655d 290a 2020 2020 2020 2020 2020  ame]).          
+0000a260: 2020 2020 2020 6966 2073 656c 662e 7072        if self.pr
+0000a270: 6d5b 2773 636c 6b5f 7073 275d 5b31 5d3a  m['sclk_ps'][1]:
+0000a280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a290: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000a2a0: 2e70 726d 5b27 7363 6c6b 5f70 7327 5d5b  .prm['sclk_ps'][
+0000a2b0: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
+0000a2c0: 2020 2069 6620 7365 6c66 2e70 726d 5b27     if self.prm['
+0000a2d0: 6672 6571 7565 6e63 6965 7327 5d3a 0a20  frequencies']:. 
+0000a2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a2f0: 2020 2066 6f72 2076 616c 7565 2069 6e20     for value in 
+0000a300: 7365 6c66 2e70 726d 5b27 6672 6571 7565  self.prm['freque
+0000a310: 6e63 6965 7327 5d2e 7661 6c75 6573 2829  ncies'].values()
+0000a320: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000a330: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000a340: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
+0000a350: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+0000a360: 6e65 0a20 2020 2020 2020 2020 2020 2069  ne.            i
+0000a370: 6620 6e61 6d65 203d 3d20 276d 636c 6b5f  f name == 'mclk_
+0000a380: 7073 5f76 616c 273a 0a20 2020 2020 2020  ps_val':.       
+0000a390: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0000a3a0: 7365 6c66 2e70 726d 5b27 6d63 6c6b 5f70  self.prm['mclk_p
+0000a3b0: 7327 5d5b 305d 0a20 2020 2020 2020 2020  s'][0].         
+0000a3c0: 2020 2069 6620 6e61 6d65 203d 3d20 276d     if name == 'm
+0000a3d0: 636c 6b5f 665f 7661 6c27 3a0a 2020 2020  clk_f_val':.    
+0000a3e0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0000a3f0: 656c 662e 7072 6d5b 2766 7265 7175 656e  elf.prm['frequen
+0000a400: 6369 6573 275d 3a0a 2020 2020 2020 2020  cies']:.        
+0000a410: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0000a420: 636c 6f63 6b5f 6e61 6d65 2069 6e20 2827  clock_name in ('
+0000a430: 6d63 6c6b 272c 2027 636c 6f63 6b73 2e6d  mclk', 'clocks.m
+0000a440: 656d 2729 3a0a 2020 2020 2020 2020 2020  em'):.          
+0000a450: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000a460: 2063 6c6f 636b 5f6e 616d 6520 696e 2073   clock_name in s
+0000a470: 656c 662e 7072 6d5b 2766 7265 7175 656e  elf.prm['frequen
+0000a480: 6369 6573 275d 3a0a 2020 2020 2020 2020  cies']:.        
+0000a490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4a0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0000a4b0: 6528 7365 6c66 2e70 726d 5b27 6672 6571  e(self.prm['freq
+0000a4c0: 7565 6e63 6965 7327 5d5b 636c 6f63 6b5f  uencies'][clock_
+0000a4d0: 6e61 6d65 5d2c 2073 7472 2920 616e 645c  name], str) and\
+0000a4e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a500: 2020 2020 2073 656c 662e 7072 6d5b 2766       self.prm['f
+0000a510: 7265 7175 656e 6369 6573 275d 5b63 6c6f  requencies'][clo
+0000a520: 636b 5f6e 616d 655d 2e69 736e 756d 6572  ck_name].isnumer
+0000a530: 6963 2829 3a0a 2020 2020 2020 2020 2020  ic():.          
+0000a540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a550: 2020 2020 2020 7265 7475 726e 2069 6e74        return int
+0000a560: 2873 656c 662e 7072 6d5b 2766 7265 7175  (self.prm['frequ
+0000a570: 656e 6369 6573 275d 5b63 6c6f 636b 5f6e  encies'][clock_n
+0000a580: 616d 655d 290a 2020 2020 2020 2020 2020  ame]).          
+0000a590: 2020 2020 2020 6966 2073 656c 662e 7072        if self.pr
+0000a5a0: 6d5b 276d 636c 6b5f 7073 275d 5b31 5d3a  m['mclk_ps'][1]:
+0000a5b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a5c0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0000a5d0: 2e70 726d 5b27 6d63 6c6b 5f70 7327 5d5b  .prm['mclk_ps'][
+0000a5e0: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
+0000a5f0: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
+0000a600: 2020 2020 2020 2020 2320 5365 7420 7479          # Set ty
+0000a610: 7065 2066 6f72 2070 6172 616d 7320 7468  pe for params th
+0000a620: 6174 2063 6f75 6c64 2062 6520 666c 6f61  at could be floa
+0000a630: 7420 6f72 2069 6e74 0a20 2020 2020 2020  t or int.       
+0000a640: 2069 6620 6e61 6d65 2069 6e20 7b27 6661   if name in {'fa
+0000a650: 6e5f 7077 6d27 2c20 2766 616e 5f73 7065  n_pwm', 'fan_spe
+0000a660: 6564 272c 2027 706f 7765 725f 6361 7027  ed', 'power_cap'
+0000a670: 2c20 2770 6f77 6572 272c 2027 7664 6467  , 'power', 'vddg
+0000a680: 6678 5f6f 6666 7365 7427 7d3a 0a20 2020  fx_offset'}:.   
+0000a690: 2020 2020 2020 2020 2069 6620 6e75 6d5f           if num_
+0000a6a0: 6173 5f69 6e74 3a0a 2020 2020 2020 2020  as_int:.        
+0000a6b0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0000a6c0: 7461 6e63 6528 7365 6c66 2e70 726d 5b6e  tance(self.prm[n
+0000a6d0: 616d 655d 2c20 696e 7429 3a0a 2020 2020  ame], int):.    
+0000a6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a6f0: 7265 7475 726e 2073 656c 662e 7072 6d5b  return self.prm[
+0000a700: 6e61 6d65 5d0a 2020 2020 2020 2020 2020  name].          
+0000a710: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0000a720: 6e63 6528 7365 6c66 2e70 726d 5b6e 616d  nce(self.prm[nam
+0000a730: 655d 2c20 666c 6f61 7429 3a0a 2020 2020  e], float):.    
+0000a740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a750: 7265 7475 726e 2069 6e74 2873 656c 662e  return int(self.
+0000a760: 7072 6d5b 6e61 6d65 5d29 0a20 2020 2020  prm[name]).     
+0000a770: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+0000a780: 696e 7374 616e 6365 2873 656c 662e 7072  instance(self.pr
+0000a790: 6d5b 6e61 6d65 5d2c 2073 7472 293a 0a20  m[name], str):. 
+0000a7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a7b0: 2020 2072 6574 7572 6e20 696e 7428 7365     return int(se
+0000a7c0: 6c66 2e70 726d 5b6e 616d 655d 2920 6966  lf.prm[name]) if
+0000a7d0: 2073 656c 662e 7072 6d5b 6e61 6d65 5d2e   self.prm[name].
+0000a7e0: 6973 6e75 6d65 7269 6328 2920 656c 7365  isnumeric() else
+0000a7f0: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+0000a800: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+0000a810: 650a 2020 2020 2020 2020 6966 206e 616d  e.        if nam
+0000a820: 6520 696e 2073 656c 662e 7072 6d3a 0a20  e in self.prm:. 
+0000a830: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000a840: 6e20 7365 6c66 2e70 726d 5b6e 616d 655d  n self.prm[name]
+0000a850: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000a860: 4e6f 6e65 0a0a 2020 2020 6465 6620 7365  None..    def se
+0000a870: 745f 6d65 6d6f 7279 5f75 7361 6765 2873  t_memory_usage(s
+0000a880: 656c 6629 202d 3e20 4e6f 6e65 3a0a 2020  elf) -> None:.  
+0000a890: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000a8a0: 2020 5365 7420 7379 7374 656d 2061 6e64    Set system and
+0000a8b0: 2076 7261 6d20 6d65 6d6f 7279 2075 7361   vram memory usa
+0000a8c0: 6765 2070 6572 6365 6e74 6167 652e 0a20  ge percentage.. 
+0000a8d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000a8e0: 2020 2069 6620 7365 6c66 2e70 726d 2e6d     if self.prm.m
+0000a8f0: 656d 5f67 7474 5f75 7365 6420 6973 204e  em_gtt_used is N
+0000a900: 6f6e 6520 6f72 2073 656c 662e 7072 6d2e  one or self.prm.
+0000a910: 6d65 6d5f 6774 745f 746f 7461 6c20 6973  mem_gtt_total is
+0000a920: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0000a930: 2020 2073 656c 662e 7072 6d2e 6d65 6d5f     self.prm.mem_
+0000a940: 6774 745f 7573 6167 6520 3d20 4e6f 6e65  gtt_usage = None
+0000a950: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000a960: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000a970: 7072 6d2e 6d65 6d5f 6774 745f 7573 6167  prm.mem_gtt_usag
+0000a980: 6520 3d20 3130 302e 3020 2a20 7365 6c66  e = 100.0 * self
+0000a990: 2e70 726d 2e6d 656d 5f67 7474 5f75 7365  .prm.mem_gtt_use
+0000a9a0: 6420 2f20 7365 6c66 2e70 726d 2e6d 656d  d / self.prm.mem
+0000a9b0: 5f67 7474 5f74 6f74 616c 0a0a 2020 2020  _gtt_total..    
+0000a9c0: 2020 2020 6966 2073 656c 662e 7072 6d2e      if self.prm.
+0000a9d0: 6d65 6d5f 7672 616d 5f75 7365 6420 6973  mem_vram_used is
+0000a9e0: 204e 6f6e 6520 6f72 2073 656c 662e 7072   None or self.pr
+0000a9f0: 6d2e 6d65 6d5f 7672 616d 5f74 6f74 616c  m.mem_vram_total
+0000aa00: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+0000aa10: 2020 2020 2020 7365 6c66 2e70 726d 2e6d        self.prm.m
+0000aa20: 656d 5f76 7261 6d5f 7573 6167 6520 3d20  em_vram_usage = 
+0000aa30: 4e6f 6e65 0a20 2020 2020 2020 2065 6c73  None.        els
+0000aa40: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+0000aa50: 656c 662e 7072 6d2e 6d65 6d5f 7672 616d  elf.prm.mem_vram
+0000aa60: 5f75 7361 6765 203d 2031 3030 2e30 202a  _usage = 100.0 *
+0000aa70: 2073 656c 662e 7072 6d2e 6d65 6d5f 7672   self.prm.mem_vr
+0000aa80: 616d 5f75 7365 6420 2f20 7365 6c66 2e70  am_used / self.p
+0000aa90: 726d 2e6d 656d 5f76 7261 6d5f 746f 7461  rm.mem_vram_tota
+0000aaa0: 6c0a 0a20 2020 2064 6566 2072 6561 645f  l..    def read_
+0000aab0: 7063 6969 645f 6d6f 6465 6c28 7365 6c66  pciid_model(self
+0000aac0: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
+0000aad0: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+0000aae0: 6164 2074 6865 206d 6f64 656c 206e 616d  ad the model nam
+0000aaf0: 6520 6672 6f6d 2074 6865 2073 7973 7465  e from the syste
+0000ab00: 6d20 7063 6964 2e69 6473 2066 696c 650a  m pcid.ids file.
+0000ab10: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+0000ab20: 3a20 2047 5055 206d 6f64 656c 206e 616d  :  GPU model nam
+0000ab30: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+0000ab40: 2020 2020 2020 6966 206e 6f74 2047 5554        if not GUT
+0000ab50: 5f43 4f4e 5354 2e73 7973 5f70 6369 6964  _CONST.sys_pciid
+0000ab60: 3a0a 2020 2020 2020 2020 2020 2020 6d65  :.            me
+0000ab70: 7373 6167 6520 3d20 2745 7272 6f72 3a20  ssage = 'Error: 
+0000ab80: 7063 6969 6420 6669 6c65 206e 6f74 2064  pciid file not d
+0000ab90: 6566 696e 6564 270a 2020 2020 2020 2020  efined'.        
+0000aba0: 2020 2020 4755 545f 434f 4e53 542e 7072      GUT_CONST.pr
+0000abb0: 6f63 6573 735f 6d65 7373 6167 6528 6d65  ocess_message(me
+0000abc0: 7373 6167 652c 206c 6f67 5f66 6c61 673d  ssage, log_flag=
+0000abd0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+0000abe0: 2020 7265 7475 726e 2027 270a 2020 2020    return ''.    
+0000abf0: 2020 2020 6966 206e 6f74 206f 732e 7061      if not os.pa
+0000ac00: 7468 2e69 7366 696c 6528 4755 545f 434f  th.isfile(GUT_CO
+0000ac10: 4e53 542e 7379 735f 7063 6969 6429 3a0a  NST.sys_pciid):.
+0000ac20: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
+0000ac30: 6167 6520 3d20 2745 7272 6f72 3a20 4361  age = 'Error: Ca
+0000ac40: 6e20 6e6f 7420 6163 6365 7373 2073 7973  n not access sys
+0000ac50: 7465 6d20 7063 692e 6964 7320 6669 6c65  tem pci.ids file
+0000ac60: 205b 7b7d 5d27 2e66 6f72 6d61 7428 4755   [{}]'.format(GU
+0000ac70: 545f 434f 4e53 542e 7379 735f 7063 6969  T_CONST.sys_pcii
+0000ac80: 6429 0a20 2020 2020 2020 2020 2020 2047  d).            G
+0000ac90: 5554 5f43 4f4e 5354 2e70 726f 6365 7373  UT_CONST.process
+0000aca0: 5f6d 6573 7361 6765 286d 6573 7361 6765  _message(message
+0000acb0: 2c20 6c6f 675f 666c 6167 3d54 7275 6529  , log_flag=True)
+0000acc0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000acd0: 7572 6e20 2727 0a20 2020 2020 2020 2077  urn ''.        w
+0000ace0: 6974 6820 6f70 656e 2847 5554 5f43 4f4e  ith open(GUT_CON
+0000acf0: 5354 2e73 7973 5f70 6369 6964 2c20 2772  ST.sys_pciid, 'r
+0000ad00: 272c 2065 6e63 6f64 696e 673d 2775 7466  ', encoding='utf
+0000ad10: 3827 2920 6173 2070 6369 5f69 645f 6669  8') as pci_id_fi
+0000ad20: 6c65 5f70 7472 3a0a 2020 2020 2020 2020  le_ptr:.        
+0000ad30: 2020 2020 6d6f 6465 6c5f 7374 7220 3d20      model_str = 
+0000ad40: 2727 0a20 2020 2020 2020 2020 2020 206c  ''.            l
+0000ad50: 6576 656c 203d 2030 0a20 2020 2020 2020  evel = 0.       
+0000ad60: 2020 2020 2066 6f72 206c 696e 655f 6974       for line_it
+0000ad70: 656d 2069 6e20 7063 695f 6964 5f66 696c  em in pci_id_fil
+0000ad80: 655f 7074 723a 0a20 2020 2020 2020 2020  e_ptr:.         
+0000ad90: 2020 2020 2020 206c 696e 6520 3d20 6c69         line = li
+0000ada0: 6e65 5f69 7465 6d2e 7273 7472 6970 2829  ne_item.rstrip()
+0000adb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000adc0: 2069 6620 6c65 6e28 6c69 6e65 2920 3c20   if len(line) < 
+0000add0: 343a 0a20 2020 2020 2020 2020 2020 2020  4:.             
+0000ade0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+0000adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae00: 6966 206c 696e 655b 305d 203d 3d20 2723  if line[0] == '#
+0000ae10: 273a 0a20 2020 2020 2020 2020 2020 2020  ':.             
+0000ae20: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+0000ae30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae40: 6966 206c 6576 656c 203d 3d20 303a 0a20  if level == 0:. 
+0000ae50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae60: 2020 2069 6620 7265 2e66 756c 6c6d 6174     if re.fullmat
+0000ae70: 6368 2850 4154 5445 524e 535b 504b 2e50  ch(PATTERNS[PK.P
+0000ae80: 4349 4949 445f 4c30 5d2c 206c 696e 6529  CIIID_L0], line)
+0000ae90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000aea0: 2020 2020 2020 2020 2020 6966 206c 696e            if lin
+0000aeb0: 655b 3a34 5d20 3d3d 2073 656c 662e 7072  e[:4] == self.pr
+0000aec0: 6d2e 6964 5b27 7665 6e64 6f72 275d 2e72  m.id['vendor'].r
+0000aed0: 6570 6c61 6365 2827 3078 272c 2027 2729  eplace('0x', '')
+0000aee0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000aef0: 2020 2020 2020 2020 2020 2020 2020 6c65                le
+0000af00: 7665 6c20 2b3d 2031 0a20 2020 2020 2020  vel += 1.       
+0000af10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af20: 2020 2020 2063 6f6e 7469 6e75 650a 2020       continue.  
+0000af30: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0000af40: 6966 206c 6576 656c 203d 3d20 313a 0a20  if level == 1:. 
+0000af50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af60: 2020 2069 6620 7265 2e66 756c 6c6d 6174     if re.fullmat
+0000af70: 6368 2850 4154 5445 524e 535b 504b 2e50  ch(PATTERNS[PK.P
+0000af80: 4349 4949 445f 4c30 5d2c 206c 696e 6529  CIIID_L0], line)
+0000af90: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000afa0: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
+0000afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afc0: 2020 2020 6966 2072 652e 6675 6c6c 6d61      if re.fullma
+0000afd0: 7463 6828 5041 5454 4552 4e53 5b50 4b2e  tch(PATTERNS[PK.
+0000afe0: 5043 4949 4944 5f4c 315d 2c20 6c69 6e65  PCIIID_L1], line
+0000aff0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000b000: 2020 2020 2020 2020 2020 2069 6620 6c69             if li
+0000b010: 6e65 5b31 3a35 5d20 3d3d 2073 656c 662e  ne[1:5] == self.
+0000b020: 7072 6d2e 6964 5b27 6465 7669 6365 275d  prm.id['device']
+0000b030: 2e72 6570 6c61 6365 2827 3078 272c 2027  .replace('0x', '
+0000b040: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
+0000b050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b060: 6d6f 6465 6c5f 7374 7220 3d20 6c69 6e65  model_str = line
+0000b070: 5b35 3a5d 0a20 2020 2020 2020 2020 2020  [5:].           
+0000b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b090: 206c 6576 656c 202b 3d20 310a 2020 2020   level += 1.    
+0000b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0b0: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+0000b0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b0d0: 2065 6c69 6620 6c65 7665 6c20 3d3d 2032   elif level == 2
+0000b0e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000b0f0: 2020 2020 2020 6966 2072 652e 6675 6c6c        if re.full
+0000b100: 6d61 7463 6828 5041 5454 4552 4e53 5b50  match(PATTERNS[P
+0000b110: 4b2e 5043 4949 4944 5f4c 305d 2c20 6c69  K.PCIIID_L0], li
+0000b120: 6e65 293a 0a20 2020 2020 2020 2020 2020  ne):.           
+0000b130: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+0000b140: 616b 0a20 2020 2020 2020 2020 2020 2020  ak.             
+0000b150: 2020 2020 2020 2069 6620 7265 2e66 756c         if re.ful
+0000b160: 6c6d 6174 6368 2850 4154 5445 524e 535b  lmatch(PATTERNS[
+0000b170: 504b 2e50 4349 4949 445f 4c31 5d2c 206c  PK.PCIIID_L1], l
+0000b180: 696e 6529 3a0a 2020 2020 2020 2020 2020  ine):.          
+0000b190: 2020 2020 2020 2020 2020 2020 2020 6272                br
+0000b1a0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+0000b1b0: 2020 2020 2020 2020 6966 2072 652e 6675          if re.fu
+0000b1c0: 6c6c 6d61 7463 6828 5041 5454 4552 4e53  llmatch(PATTERNS
+0000b1d0: 5b50 4b2e 5043 4949 4944 5f4c 325d 2c20  [PK.PCIIID_L2], 
+0000b1e0: 6c69 6e65 293a 0a20 2020 2020 2020 2020  line):.         
+0000b1f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000b200: 6620 6c69 6e65 5b32 3a36 5d20 3d3d 2073  f line[2:6] == s
+0000b210: 656c 662e 7072 6d2e 6964 5b27 7375 6273  elf.prm.id['subs
+0000b220: 7973 7465 6d5f 7665 6e64 6f72 275d 2e72  ystem_vendor'].r
+0000b230: 6570 6c61 6365 2827 3078 272c 2027 2729  eplace('0x', '')
+0000b240: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000b250: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000b260: 206c 696e 655b 373a 3131 5d20 3d3d 2073   line[7:11] == s
+0000b270: 656c 662e 7072 6d2e 6964 5b27 7375 6273  elf.prm.id['subs
+0000b280: 7973 7465 6d5f 6465 7669 6365 275d 2e72  ystem_device'].r
+0000b290: 6570 6c61 6365 2827 3078 272c 2027 2729  eplace('0x', '')
+0000b2a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000b2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2c0: 2020 6d6f 6465 6c5f 7374 7220 3d20 6c69    model_str = li
+0000b2d0: 6e65 5b31 313a 5d0a 2020 2020 2020 2020  ne[11:].        
+0000b2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2f0: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
+0000b300: 2020 2020 2020 7265 7475 726e 206d 6f64        return mod
+0000b310: 656c 5f73 7472 2e73 7472 6970 2829 0a0a  el_str.strip()..
+0000b320: 2020 2020 6465 6620 706f 7075 6c61 7465      def populate
+0000b330: 5f70 726d 5f66 726f 6d5f 6469 6374 2873  _prm_from_dict(s
+0000b340: 656c 662c 2070 6172 616d 733a 2044 6963  elf, params: Dic
+0000b350: 745b 7374 722c 2061 6e79 5d29 202d 3e20  t[str, any]) -> 
+0000b360: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
+0000b370: 220a 2020 2020 2020 2020 506f 7075 6c61  ".        Popula
+0000b380: 7465 2065 6c65 6d65 6e74 7320 6f66 2061  te elements of a
+0000b390: 2047 7075 4974 656d 2077 6974 6820 6974   GpuItem with it
+0000b3a0: 656d 7320 6672 6f6d 2061 2064 6963 7420  ems from a dict 
+0000b3b0: 7769 7468 206b 6579 7320 7468 6174 2061  with keys that a
+0000b3c0: 6c69 676e 2074 6f20 656c 656d 656e 7473  lign to elements
+0000b3d0: 206f 6620 4770 7549 7465 6d2e 0a0a 2020   of GpuItem...  
+0000b3e0: 2020 2020 2020 3a70 6172 616d 2070 6172        :param par
+0000b3f0: 616d 733a 2041 2064 6963 7469 6f6e 6172  ams: A dictionar
+0000b400: 7920 6f66 2070 6172 616d 6574 6572 7320  y of parameters 
+0000b410: 7769 7468 206b 6579 7320 7468 6174 2061  with keys that a
+0000b420: 6c69 676e 2074 6f20 4770 7549 7465 6d20  lign to GpuItem 
+0000b430: 656c 656d 656e 7473 2e0a 2020 2020 2020  elements..      
+0000b440: 2020 2222 220a 2020 2020 2020 2020 4c4f    """.        LO
+0000b450: 4747 4552 2e64 6562 7567 2827 7072 6d20  GGER.debug('prm 
+0000b460: 6469 6374 3a5c 6e25 7327 2c20 7061 7261  dict:\n%s', para
+0000b470: 6d73 290a 2020 2020 2020 2020 7365 745f  ms).        set_
+0000b480: 6f63 6c5f 7665 7220 3d20 4e6f 6e65 0a20  ocl_ver = None. 
+0000b490: 2020 2020 2020 2066 6f72 2073 6f75 7263         for sourc
+0000b4a0: 655f 6e61 6d65 2c20 736f 7572 6365 5f76  e_name, source_v
+0000b4b0: 616c 7565 2069 6e20 7061 7261 6d73 2e69  alue in params.i
+0000b4c0: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
+0000b4d0: 2020 2020 2320 5365 7420 7072 696d 6172      # Set primar
+0000b4e0: 7920 7061 7261 6d65 7465 720a 2020 2020  y parameter.    
+0000b4f0: 2020 2020 2020 2020 6966 2073 6f75 7263          if sourc
+0000b500: 655f 6e61 6d65 206e 6f74 2069 6e20 7365  e_name not in se
+0000b510: 6c66 2e70 726d 3a0a 2020 2020 2020 2020  lf.prm:.        
+0000b520: 2020 2020 2020 2020 7261 6973 6520 4b65          raise Ke
+0000b530: 7945 7272 6f72 2827 506f 7075 6c61 7465  yError('Populate
+0000b540: 2064 6963 7420 636f 6e74 6169 6e73 2075   dict contains u
+0000b550: 6e6d 6174 6368 6564 206b 6579 3a20 7b7d  nmatched key: {}
+0000b560: 272e 666f 726d 6174 2873 6f75 7263 655f  '.format(source_
+0000b570: 6e61 6d65 2929 0a20 2020 2020 2020 2020  name)).         
+0000b580: 2020 2073 656c 662e 7072 6d5b 736f 7572     self.prm[sour
+0000b590: 6365 5f6e 616d 655d 203d 2073 6f75 7263  ce_name] = sourc
+0000b5a0: 655f 7661 6c75 650a 0a20 2020 2020 2020  e_value..       
+0000b5b0: 2020 2020 2023 2053 6574 2073 6563 6f6e       # Set secon
+0000b5c0: 6461 7279 2070 6172 616d 6574 6572 730a  dary parameters.
+0000b5d0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0000b5e0: 6f75 7263 655f 6e61 6d65 203d 3d20 2763  ource_name == 'c
+0000b5f0: 6172 645f 7061 7468 2720 616e 6420 736f  ard_path' and so
+0000b600: 7572 6365 5f76 616c 7565 3a0a 2020 2020  urce_value:.    
+0000b610: 2020 2020 2020 2020 2020 2020 6361 7264              card
+0000b620: 5f6e 756d 5f73 7472 203d 2073 6f75 7263  _num_str = sourc
+0000b630: 655f 7661 6c75 652e 7265 706c 6163 6528  e_value.replace(
+0000b640: 277b 7d63 6172 6427 2e66 6f72 6d61 7428  '{}card'.format(
+0000b650: 4755 545f 434f 4e53 542e 6361 7264 5f72  GUT_CONST.card_r
+0000b660: 6f6f 7429 2c20 2727 292e 7265 706c 6163  oot), '').replac
+0000b670: 6528 272f 6465 7669 6365 272c 2027 2729  e('/device', '')
+0000b680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b690: 2073 656c 662e 7072 6d2e 6361 7264 5f6e   self.prm.card_n
+0000b6a0: 756d 203d 2069 6e74 2863 6172 645f 6e75  um = int(card_nu
+0000b6b0: 6d5f 7374 7229 2069 6620 6361 7264 5f6e  m_str) if card_n
+0000b6c0: 756d 5f73 7472 2e69 736e 756d 6572 6963  um_str.isnumeric
+0000b6d0: 2829 2065 6c73 6520 4e6f 6e65 0a20 2020  () else None.   
+0000b6e0: 2020 2020 2020 2020 2065 6c69 6620 736f           elif so
+0000b6f0: 7572 6365 5f6e 616d 6520 3d3d 2027 636f  urce_name == 'co
+0000b700: 6d70 7574 655f 706c 6174 666f 726d 273a  mpute_platform':
+0000b710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b720: 2073 6574 5f6f 636c 5f76 6572 203d 2073   set_ocl_ver = s
+0000b730: 6f75 7263 655f 7661 6c75 650a 2020 2020  ource_value.    
+0000b740: 2020 2020 2020 2020 656c 6966 2073 6f75          elif sou
+0000b750: 7263 655f 6e61 6d65 203d 3d20 2767 7075  rce_name == 'gpu
+0000b760: 5f74 7970 6527 2061 6e64 2073 6f75 7263  _type' and sourc
+0000b770: 655f 7661 6c75 653a 0a20 2020 2020 2020  e_value:.       
+0000b780: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+0000b790: 6d2e 6770 755f 7479 7065 203d 2073 6f75  m.gpu_type = sou
+0000b7a0: 7263 655f 7661 6c75 650a 2020 2020 2020  rce_value.      
+0000b7b0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+0000b7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b7d0: 2020 2073 656c 662e 7265 6164 5f73 6b69     self.read_ski
+0000b7e0: 7020 3d20 7365 6c66 2e61 6d64 5f74 7970  p = self.amd_typ
+0000b7f0: 655f 736b 6970 5f6c 6973 7473 5b73 656c  e_skip_lists[sel
+0000b800: 662e 7072 6d2e 6770 755f 7479 7065 5d0a  f.prm.gpu_type].
+0000b810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b820: 6578 6365 7074 204b 6579 4572 726f 723a  except KeyError:
+0000b830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b840: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
+0000b850: 2020 2023 2043 6f6d 7075 7465 2070 6c61     # Compute pla
+0000b860: 7466 6f72 6d20 7265 7175 6972 6573 2074  tform requires t
+0000b870: 6861 7420 636f 6d70 7574 6520 626f 6f6c  hat compute bool
+0000b880: 2062 6520 7365 7420 6669 7273 740a 2020   be set first.  
+0000b890: 2020 2020 2020 6966 2073 6574 5f6f 636c        if set_ocl
+0000b8a0: 5f76 6572 3a0a 2020 2020 2020 2020 2020  _ver:.          
+0000b8b0: 2020 7365 6c66 2e70 726d 2e63 6f6d 7075    self.prm.compu
+0000b8c0: 7465 5f70 6c61 7466 6f72 6d20 3d20 7365  te_platform = se
+0000b8d0: 745f 6f63 6c5f 7665 7220 6966 2073 656c  t_ocl_ver if sel
+0000b8e0: 662e 7072 6d2e 636f 6d70 7574 6520 656c  f.prm.compute el
+0000b8f0: 7365 2027 4e6f 6e65 270a 0a20 2020 2064  se 'None'..    d
+0000b900: 6566 2073 6574 5f63 6c69 6e66 6f5f 7661  ef set_clinfo_va
+0000b910: 6c75 6573 2873 656c 662c 206f 636c 5f64  lues(self, ocl_d
+0000b920: 6963 743a 2044 6963 745b 7374 722c 2055  ict: Dict[str, U
+0000b930: 6e69 6f6e 5b69 6e74 2c20 7374 722c 206c  nion[int, str, l
+0000b940: 6973 745d 5d29 202d 3e20 4e6f 6e65 3a0a  ist]]) -> None:.
+0000b950: 2020 2020 2020 2020 2222 2220 5365 7420          """ Set 
+0000b960: 636c 696e 666f 2076 616c 7565 7320 696e  clinfo values in
+0000b970: 2047 5055 2069 7465 6d20 6469 6374 696f   GPU item dictio
+0000b980: 6e61 7279 2e0a 0a20 2020 2020 2020 203a  nary...        :
+0000b990: 7061 7261 6d20 6f63 6c5f 6469 6374 3a20  param ocl_dict: 
+0000b9a0: 6469 6374 696f 6e61 7279 206f 6620 6f70  dictionary of op
+0000b9b0: 656e 636c 206e 616d 6520 616e 6420 7661  encl name and va
+0000b9c0: 6c75 6573 2e0a 2020 2020 2020 2020 2222  lues..        ""
+0000b9d0: 220a 2020 2020 2020 2020 666f 7220 6f63  ".        for oc
+0000b9e0: 6c5f 6e61 6d65 2c20 6f63 6c5f 7661 6c20  l_name, ocl_val 
+0000b9f0: 696e 206f 636c 5f64 6963 742e 6974 656d  in ocl_dict.item
+0000ba00: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+0000ba10: 2069 6620 6f63 6c5f 6e61 6d65 2069 6e20   if ocl_name in 
+0000ba20: 7365 6c66 2e63 6c69 6e66 6f3a 0a20 2020  self.clinfo:.   
+0000ba30: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000ba40: 662e 636c 696e 666f 5b6f 636c 5f6e 616d  f.clinfo[ocl_nam
+0000ba50: 655d 203d 206f 636c 5f76 616c 0a0a 2020  e] = ocl_val..  
+0000ba60: 2020 6465 6620 6765 745f 636c 696e 666f    def get_clinfo
+0000ba70: 5f76 616c 7565 2873 656c 662c 206e 616d  _value(self, nam
+0000ba80: 653a 2073 7472 2920 2d3e 2055 6e69 6f6e  e: str) -> Union
+0000ba90: 5b69 6e74 2c20 7374 722c 206c 6973 742c  [int, str, list,
+0000baa0: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
+0000bab0: 2222 2220 4765 7420 636c 696e 666f 2070  """ Get clinfo p
+0000bac0: 6172 616d 6574 6572 2076 616c 7565 2066  arameter value f
+0000bad0: 6f72 2067 6976 6520 6e61 6d65 2e0a 0a20  or give name... 
+0000bae0: 2020 2020 2020 203a 7061 7261 6d20 6e61         :param na
+0000baf0: 6d65 3a20 2063 6c69 6e66 6f20 5061 7261  me:  clinfo Para
+0000bb00: 6d65 7465 7220 6e61 6d65 0a20 2020 2020  meter name.     
+0000bb10: 2020 203a 7265 7475 726e 3a20 636c 696e     :return: clin
+0000bb20: 666f 2050 6172 616d 6574 6572 2076 616c  fo Parameter val
+0000bb30: 7565 0a20 2020 2020 2020 2022 2222 0a20  ue.        """. 
+0000bb40: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+0000bb50: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0000bb60: 656c 662e 636c 696e 666f 5b6e 616d 655d  elf.clinfo[name]
+0000bb70: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
+0000bb80: 4b65 7945 7272 6f72 3a0a 2020 2020 2020  KeyError:.      
+0000bb90: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+0000bba0: 650a 0a20 2020 2064 6566 2069 735f 7661  e..    def is_va
+0000bbb0: 6c69 645f 706f 7765 725f 6361 7028 7365  lid_power_cap(se
+0000bbc0: 6c66 2c20 706f 7765 725f 6361 703a 2069  lf, power_cap: i
+0000bbd0: 6e74 2920 2d3e 2062 6f6f 6c3a 0a20 2020  nt) -> bool:.   
+0000bbe0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000bbf0: 2043 6865 636b 2069 6620 6120 6769 7665   Check if a give
+0000bc00: 6e20 706f 7765 725f 6361 7020 7661 6c75  n power_cap valu
+0000bc10: 6520 6973 2076 616c 6964 2e0a 0a20 2020  e is valid...   
+0000bc20: 2020 2020 203a 7061 7261 6d20 706f 7765       :param powe
+0000bc30: 725f 6361 703a 2054 6172 6765 7420 706f  r_cap: Target po
+0000bc40: 7765 7220 6361 7020 7661 6c75 6520 746f  wer cap value to
+0000bc50: 2062 6520 7465 7374 6564 2e0a 2020 2020   be tested..    
+0000bc60: 2020 2020 3a72 6574 7572 6e3a 2054 7275      :return: Tru
+0000bc70: 6520 6966 2076 616c 6964 0a20 2020 2020  e if valid.     
+0000bc80: 2020 2022 2222 0a20 2020 2020 2020 2070     """.        p
+0000bc90: 6f77 6572 5f63 6170 5f72 616e 6765 203d  ower_cap_range =
+0000bca0: 2073 656c 662e 7072 6d2e 706f 7765 725f   self.prm.power_
+0000bcb0: 6361 705f 7261 6e67 650a 2020 2020 2020  cap_range.      
+0000bcc0: 2020 6966 2070 6f77 6572 5f63 6170 5f72    if power_cap_r
+0000bcd0: 616e 6765 5b30 5d20 3c3d 2070 6f77 6572  ange[0] <= power
+0000bce0: 5f63 6170 203c 3d20 706f 7765 725f 6361  _cap <= power_ca
+0000bcf0: 705f 7261 6e67 655b 315d 3a0a 2020 2020  p_range[1]:.    
+0000bd00: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+0000bd10: 7275 650a 2020 2020 2020 2020 6966 2070  rue.        if p
+0000bd20: 6f77 6572 5f63 6170 203c 2030 3a0a 2020  ower_cap < 0:.  
+0000bd30: 2020 2020 2020 2020 2020 2320 6e65 6761            # nega
+0000bd40: 7469 7665 2076 616c 7565 7320 7769 6c6c  tive values will
+0000bd50: 2062 6520 696e 7465 7270 7265 7465 6420   be interpreted 
+0000bd60: 6173 2072 6573 6574 2072 6571 7565 7374  as reset request
+0000bd70: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0000bd80: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
+0000bd90: 2072 6574 7572 6e20 4661 6c73 650a 0a20   return False.. 
+0000bda0: 2020 2064 6566 2069 735f 7661 6c69 645f     def is_valid_
+0000bdb0: 6661 6e5f 7077 6d28 7365 6c66 2c20 7077  fan_pwm(self, pw
+0000bdc0: 6d5f 7661 6c75 653a 2069 6e74 2920 2d3e  m_value: int) ->
+0000bdd0: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
+0000bde0: 2222 2043 6865 636b 2069 6620 6120 6769  "" Check if a gi
+0000bdf0: 7665 6e20 6661 6e5f 7077 6d20 7661 6c75  ven fan_pwm valu
+0000be00: 6520 6973 2076 616c 6964 2e0a 0a20 2020  e is valid...   
+0000be10: 2020 2020 203a 7061 7261 6d20 7077 6d5f       :param pwm_
+0000be20: 7661 6c75 653a 2054 6172 6765 7420 6661  value: Target fa
+0000be30: 6e5f 7077 6d20 7661 6c75 6520 746f 2062  n_pwm value to b
+0000be40: 6520 7465 7374 6564 2e0a 2020 2020 2020  e tested..      
+0000be50: 2020 3a72 6574 7572 6e3a 2054 7275 6520    :return: True 
+0000be60: 6966 2076 616c 6964 0a20 2020 2020 2020  if valid.       
+0000be70: 2022 2222 0a20 2020 2020 2020 2070 776d   """.        pwm
+0000be80: 5f72 616e 6765 203d 2073 656c 662e 7072  _range = self.pr
+0000be90: 6d2e 6661 6e5f 7077 6d5f 7261 6e67 650a  m.fan_pwm_range.
+0000bea0: 2020 2020 2020 2020 6966 2070 776d 5f72          if pwm_r
+0000beb0: 616e 6765 5b30 5d20 3c3d 2070 776d 5f76  ange[0] <= pwm_v
+0000bec0: 616c 7565 203c 3d20 7077 6d5f 7261 6e67  alue <= pwm_rang
+0000bed0: 655b 315d 3a0a 2020 2020 2020 2020 2020  e[1]:.          
+0000bee0: 2020 7265 7475 726e 2054 7275 650a 2020    return True.  
+0000bef0: 2020 2020 2020 6966 2070 776d 5f76 616c        if pwm_val
+0000bf00: 7565 203c 2030 3a0a 2020 2020 2020 2020  ue < 0:.        
+0000bf10: 2020 2020 2320 6e65 6761 7469 7665 2076      # negative v
+0000bf20: 616c 7565 7320 7769 6c6c 2062 6520 696e  alues will be in
+0000bf30: 7465 7270 7265 7465 6420 6173 2072 6573  terpreted as res
+0000bf40: 6574 2072 6571 7565 7374 0a20 2020 2020  et request.     
+0000bf50: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+0000bf60: 7565 0a20 2020 2020 2020 2072 6574 7572  ue.        retur
+0000bf70: 6e20 4661 6c73 650a 0a20 2020 2064 6566  n False..    def
+0000bf80: 2069 735f 7661 6c69 645f 6d63 6c6b 5f70   is_valid_mclk_p
+0000bf90: 7374 6174 6528 7365 6c66 2c20 7073 7461  state(self, psta
+0000bfa0: 7465 3a20 4c69 7374 5b69 6e74 5d29 202d  te: List[int]) -
+0000bfb0: 3e20 626f 6f6c 3a0a 2020 2020 2020 2020  > bool:.        
+0000bfc0: 2222 2220 4368 6563 6b20 6966 2067 6976  """ Check if giv
+0000bfd0: 656e 206d 636c 6b20 7073 7461 7465 2076  en mclk pstate v
+0000bfe0: 616c 7565 2069 7320 7661 6c69 642e 0a0a  alue is valid...
+0000bff0: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
+0000c000: 7374 6174 653a 2070 7374 6174 6520 3d20  state: pstate = 
+0000c010: 5b70 7374 6174 655f 6e75 6d62 6572 2c20  [pstate_number, 
+0000c020: 636c 6b5f 7661 6c75 652c 2076 6464 635f  clk_value, vddc_
+0000c030: 7661 6c75 655d 0a20 2020 2020 2020 203a  value].        :
+0000c040: 7265 7475 726e 3a20 5265 7475 726e 2054  return: Return T
+0000c050: 7275 6520 6966 2076 616c 6964 0a20 2020  rue if valid.   
+0000c060: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000c070: 206d 636c 6b5f 7261 6e67 6520 3d20 7365   mclk_range = se
+0000c080: 6c66 2e70 726d 2e6d 636c 6b5f 665f 7261  lf.prm.mclk_f_ra
+0000c090: 6e67 650a 2020 2020 2020 2020 7472 793a  nge.        try:
+0000c0a0: 0a20 2020 2020 2020 2020 2020 206d 636c  .            mcl
+0000c0b0: 6b5f 6d69 6e20 3d20 696e 7428 7265 2e73  k_min = int(re.s
+0000c0c0: 7562 2850 4154 5445 524e 535b 504b 2e45  ub(PATTERNS[PK.E
+0000c0d0: 4e44 5f49 4e5f 414c 5048 415d 2c20 2727  ND_IN_ALPHA], ''
+0000c0e0: 2c20 7374 7228 6d63 6c6b 5f72 616e 6765  , str(mclk_range
+0000c0f0: 5b30 5d29 2929 0a20 2020 2020 2020 2020  [0]))).         
+0000c100: 2020 206d 636c 6b5f 6d61 7820 3d20 696e     mclk_max = in
+0000c110: 7428 7265 2e73 7562 2850 4154 5445 524e  t(re.sub(PATTERN
+0000c120: 535b 504b 2e45 4e44 5f49 4e5f 414c 5048  S[PK.END_IN_ALPH
+0000c130: 415d 2c20 2727 2c20 7374 7228 6d63 6c6b  A], '', str(mclk
+0000c140: 5f72 616e 6765 5b31 5d29 2929 0a20 2020  _range[1]))).   
+0000c150: 2020 2020 2065 7863 6570 7420 5479 7065       except Type
+0000c160: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
+0000c170: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+0000c180: 0a20 2020 2020 2020 2069 6620 7073 7461  .        if psta
+0000c190: 7465 5b31 5d20 3c20 6d63 6c6b 5f6d 696e  te[1] < mclk_min
+0000c1a0: 206f 7220 7073 7461 7465 5b31 5d20 3e20   or pstate[1] > 
+0000c1b0: 6d63 6c6b 5f6d 6178 3a0a 2020 2020 2020  mclk_max:.      
+0000c1c0: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+0000c1d0: 7365 0a20 2020 2020 2020 2069 6620 7365  se.        if se
+0000c1e0: 6c66 2e70 726d 2e67 7075 5f74 7970 6520  lf.prm.gpu_type 
+0000c1f0: 696e 2028 4770 7554 7970 652e 5053 7461  in (GpuType.PSta
+0000c200: 7465 734e 452c 2047 7075 5479 7065 2e50  tesNE, GpuType.P
+0000c210: 5374 6174 6573 293a 0a20 2020 2020 2020  States):.       
+0000c220: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000c230: 2020 2020 2020 2020 2020 7664 6463 5f6d            vddc_m
+0000c240: 696e 203d 2069 6e74 2872 652e 7375 6228  in = int(re.sub(
+0000c250: 5041 5454 4552 4e53 5b50 4b2e 454e 445f  PATTERNS[PK.END_
+0000c260: 494e 5f41 4c50 4841 5d2c 2027 272c 2073  IN_ALPHA], '', s
+0000c270: 7472 2873 656c 662e 7072 6d2e 7664 6463  tr(self.prm.vddc
+0000c280: 5f72 616e 6765 5b30 5d29 2929 0a20 2020  _range[0]))).   
+0000c290: 2020 2020 2020 2020 2020 2020 2076 6464               vdd
+0000c2a0: 635f 6d61 7820 3d20 696e 7428 7265 2e73  c_max = int(re.s
+0000c2b0: 7562 2850 4154 5445 524e 535b 504b 2e45  ub(PATTERNS[PK.E
+0000c2c0: 4e44 5f49 4e5f 414c 5048 415d 2c20 2727  ND_IN_ALPHA], ''
+0000c2d0: 2c20 7374 7228 7365 6c66 2e70 726d 2e76  , str(self.prm.v
+0000c2e0: 6464 635f 7261 6e67 655b 315d 2929 290a  ddc_range[1]))).
+0000c2f0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0000c300: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
+0000c310: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000c320: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
+0000c330: 2020 2020 2020 2069 6620 7073 7461 7465         if pstate
+0000c340: 5b32 5d20 3c20 7664 6463 5f6d 696e 206f  [2] < vddc_min o
+0000c350: 7220 7073 7461 7465 5b32 5d20 3e20 7664  r pstate[2] > vd
+0000c360: 6463 5f6d 6178 3a0a 2020 2020 2020 2020  dc_max:.        
+0000c370: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+0000c380: 616c 7365 0a20 2020 2020 2020 2072 6574  alse.        ret
+0000c390: 7572 6e20 5472 7565 0a0a 2020 2020 6465  urn True..    de
+0000c3a0: 6620 6973 5f76 616c 6964 5f73 636c 6b5f  f is_valid_sclk_
+0000c3b0: 7073 7461 7465 2873 656c 662c 2070 7374  pstate(self, pst
+0000c3c0: 6174 653a 204c 6973 745b 696e 745d 2920  ate: List[int]) 
+0000c3d0: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
+0000c3e0: 2022 2222 2043 6865 636b 2069 6620 6769   """ Check if gi
+0000c3f0: 7665 6e20 7363 6c6b 2070 7374 6174 6520  ven sclk pstate 
+0000c400: 7661 6c75 6520 6973 2076 616c 6964 2e0a  value is valid..
+0000c410: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000c420: 7073 7461 7465 3a20 7073 7461 7465 203d  pstate: pstate =
+0000c430: 205b 7073 7461 7465 5f6e 756d 6265 722c   [pstate_number,
+0000c440: 2063 6c6b 5f76 616c 7565 2c20 7664 6463   clk_value, vddc
+0000c450: 5f76 616c 7565 5d0a 2020 2020 2020 2020  _value].        
+0000c460: 3a72 6574 7572 6e3a 2052 6574 7572 6e20  :return: Return 
+0000c470: 5472 7565 2069 6620 7661 6c69 640a 2020  True if valid.  
+0000c480: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000c490: 2020 7363 6c6b 5f72 616e 6765 203d 2073    sclk_range = s
+0000c4a0: 656c 662e 7072 6d2e 7363 6c6b 5f66 5f72  elf.prm.sclk_f_r
+0000c4b0: 616e 6765 0a20 2020 2020 2020 2073 636c  ange.        scl
+0000c4c0: 6b5f 6d69 6e20 3d20 696e 7428 7265 2e73  k_min = int(re.s
+0000c4d0: 7562 2850 4154 5445 524e 535b 504b 2e45  ub(PATTERNS[PK.E
+0000c4e0: 4e44 5f49 4e5f 414c 5048 415d 2c20 2727  ND_IN_ALPHA], ''
+0000c4f0: 2c20 7374 7228 7363 6c6b 5f72 616e 6765  , str(sclk_range
+0000c500: 5b30 5d29 2929 0a20 2020 2020 2020 2073  [0]))).        s
+0000c510: 636c 6b5f 6d61 7820 3d20 696e 7428 7265  clk_max = int(re
+0000c520: 2e73 7562 2850 4154 5445 524e 535b 504b  .sub(PATTERNS[PK
+0000c530: 2e45 4e44 5f49 4e5f 414c 5048 415d 2c20  .END_IN_ALPHA], 
+0000c540: 2727 2c20 7374 7228 7363 6c6b 5f72 616e  '', str(sclk_ran
+0000c550: 6765 5b31 5d29 2929 0a20 2020 2020 2020  ge[1]))).       
+0000c560: 2069 6620 7073 7461 7465 5b31 5d20 3c20   if pstate[1] < 
+0000c570: 7363 6c6b 5f6d 696e 206f 7220 7073 7461  sclk_min or psta
+0000c580: 7465 5b31 5d20 3e20 7363 6c6b 5f6d 6178  te[1] > sclk_max
+0000c590: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0000c5a0: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
+0000c5b0: 2020 2069 6620 7365 6c66 2e70 726d 2e67     if self.prm.g
+0000c5c0: 7075 5f74 7970 6520 696e 207b 4770 7554  pu_type in {GpuT
+0000c5d0: 7970 652e 5053 7461 7465 734e 452c 2047  ype.PStatesNE, G
+0000c5e0: 7075 5479 7065 2e50 5374 6174 6573 7d3a  puType.PStates}:
+0000c5f0: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
+0000c600: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000c610: 2020 7664 6463 5f6d 696e 203d 2069 6e74    vddc_min = int
+0000c620: 2872 652e 7375 6228 5041 5454 4552 4e53  (re.sub(PATTERNS
+0000c630: 5b50 4b2e 454e 445f 494e 5f41 4c50 4841  [PK.END_IN_ALPHA
+0000c640: 5d2c 2027 272c 2073 7472 2873 656c 662e  ], '', str(self.
+0000c650: 7072 6d2e 7664 6463 5f72 616e 6765 5b30  prm.vddc_range[0
+0000c660: 5d29 2929 0a20 2020 2020 2020 2020 2020  ]))).           
+0000c670: 2020 2020 2076 6464 635f 6d61 7820 3d20       vddc_max = 
+0000c680: 696e 7428 7265 2e73 7562 2850 4154 5445  int(re.sub(PATTE
+0000c690: 524e 535b 504b 2e45 4e44 5f49 4e5f 414c  RNS[PK.END_IN_AL
+0000c6a0: 5048 415d 2c20 2727 2c20 7374 7228 7365  PHA], '', str(se
+0000c6b0: 6c66 2e70 726d 2e76 6464 635f 7261 6e67  lf.prm.vddc_rang
+0000c6c0: 655b 315d 2929 290a 2020 2020 2020 2020  e[1]))).        
+0000c6d0: 2020 2020 6578 6365 7074 2054 7970 6545      except TypeE
+0000c6e0: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
+0000c6f0: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+0000c700: 7365 0a20 2020 2020 2020 2020 2020 2070  se.            p
+0000c710: 7269 6e74 2827 7b7d 3a7b 7d20 7b7d 3a7b  rint('{}:{} {}:{
+0000c720: 7d27 2e66 6f72 6d61 7428 7073 7461 7465  }'.format(pstate
+0000c730: 5b32 5d2c 2076 6464 635f 6d69 6e2c 2070  [2], vddc_min, p
+0000c740: 7374 6174 655b 325d 2c20 7664 6463 5f6d  state[2], vddc_m
+0000c750: 6178 2929 0a20 2020 2020 2020 2020 2020  ax)).           
+0000c760: 2069 6620 7073 7461 7465 5b32 5d20 3c20   if pstate[2] < 
+0000c770: 7664 6463 5f6d 696e 206f 7220 7073 7461  vddc_min or psta
+0000c780: 7465 5b32 5d20 3e20 7664 6463 5f6d 6178  te[2] > vddc_max
+0000c790: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000c7a0: 2020 7265 7475 726e 2046 616c 7365 0a20    return False. 
+0000c7b0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+0000c7c0: 7565 0a0a 2020 2020 6465 6620 6973 5f63  ue..    def is_c
+0000c7d0: 6861 6e67 6564 5f73 636c 6b5f 7073 7461  hanged_sclk_psta
+0000c7e0: 7465 2873 656c 662c 2070 7374 6174 653a  te(self, pstate:
+0000c7f0: 204c 6973 745b 696e 745d 2920 2d3e 2062   List[int]) -> b
+0000c800: 6f6f 6c3a 0a20 2020 2020 2020 2022 2222  ool:.        """
+0000c810: 2043 6865 636b 2069 6620 6769 7665 6e20   Check if given 
+0000c820: 7363 6c6b 2070 7374 6174 6520 7661 6c75  sclk pstate valu
+0000c830: 6520 6469 6666 6572 656e 7420 6672 6f6d  e different from
+0000c840: 2063 7572 7265 6e74 2e0a 0a20 2020 2020   current...     
+0000c850: 2020 203a 7061 7261 6d20 7073 7461 7465     :param pstate
+0000c860: 3a20 7073 7461 7465 203d 205b 7073 7461  : pstate = [psta
+0000c870: 7465 5f6e 756d 6265 722c 2063 6c6b 5f76  te_number, clk_v
+0000c880: 616c 7565 2c20 7664 6463 5f76 616c 7565  alue, vddc_value
+0000c890: 5d0a 2020 2020 2020 2020 3a72 6574 7572  ].        :retur
+0000c8a0: 6e3a 2052 6574 7572 6e20 5472 7565 2069  n: Return True i
+0000c8b0: 6620 6368 616e 6765 640a 2020 2020 2020  f changed.      
+0000c8c0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+0000c8d0: 2069 6e74 2872 652e 7375 6228 5041 5454   int(re.sub(PATT
+0000c8e0: 4552 4e53 5b50 4b2e 454e 445f 494e 5f41  ERNS[PK.END_IN_A
+0000c8f0: 4c50 4841 5d2c 2027 272c 2073 656c 662e  LPHA], '', self.
+0000c900: 7363 6c6b 5f73 7461 7465 5b70 7374 6174  sclk_state[pstat
+0000c910: 655b 305d 5d5b 305d 2929 2021 3d20 7073  e[0]][0])) != ps
+0000c920: 7461 7465 5b31 5d3a 0a20 2020 2020 2020  tate[1]:.       
+0000c930: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
+0000c940: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0000c950: 2e70 726d 2e67 7075 5f74 7970 6520 696e  .prm.gpu_type in
+0000c960: 2028 4770 7554 7970 652e 5053 7461 7465   (GpuType.PState
+0000c970: 734e 452c 2047 7075 5479 7065 2e50 5374  sNE, GpuType.PSt
+0000c980: 6174 6573 293a 0a20 2020 2020 2020 2020  ates):.         
+0000c990: 2020 2069 6620 696e 7428 7265 2e73 7562     if int(re.sub
+0000c9a0: 2850 4154 5445 524e 535b 504b 2e45 4e44  (PATTERNS[PK.END
+0000c9b0: 5f49 4e5f 414c 5048 415d 2c20 2727 2c20  _IN_ALPHA], '', 
+0000c9c0: 7365 6c66 2e73 636c 6b5f 7374 6174 655b  self.sclk_state[
+0000c9d0: 7073 7461 7465 5b30 5d5d 5b31 5d29 2920  pstate[0]][1])) 
+0000c9e0: 213d 2070 7374 6174 655b 325d 3a0a 2020  != pstate[2]:.  
+0000c9f0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000ca00: 7475 726e 2054 7275 650a 2020 2020 2020  turn True.      
+0000ca10: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
+0000ca20: 2020 2020 6465 6620 6973 5f63 6861 6e67      def is_chang
+0000ca30: 6564 5f6d 636c 6b5f 7073 7461 7465 2873  ed_mclk_pstate(s
+0000ca40: 656c 662c 2070 7374 6174 653a 204c 6973  elf, pstate: Lis
+0000ca50: 745b 696e 745d 2920 2d3e 2062 6f6f 6c3a  t[int]) -> bool:
+0000ca60: 0a20 2020 2020 2020 2022 2222 2043 6865  .        """ Che
+0000ca70: 636b 2069 6620 6769 7665 6e20 6d63 6c6b  ck if given mclk
+0000ca80: 2070 7374 6174 6520 7661 6c75 6520 6469   pstate value di
+0000ca90: 6666 6572 656e 7420 6672 6f6d 2063 7572  fferent from cur
+0000caa0: 7265 6e74 2e0a 0a20 2020 2020 2020 203a  rent...        :
+0000cab0: 7061 7261 6d20 7073 7461 7465 3a20 7073  param pstate: ps
+0000cac0: 7461 7465 203d 205b 7073 7461 7465 5f6e  tate = [pstate_n
+0000cad0: 756d 6265 722c 2063 6c6b 5f76 616c 7565  umber, clk_value
+0000cae0: 2c20 7664 6463 5f76 616c 7565 5d0a 2020  , vddc_value].  
+0000caf0: 2020 2020 2020 3a72 6574 7572 6e3a 2052        :return: R
+0000cb00: 6574 7572 6e20 5472 7565 2069 6620 6368  eturn True if ch
+0000cb10: 616e 6765 640a 2020 2020 2020 2020 2222  anged.        ""
+0000cb20: 220a 2020 2020 2020 2020 6966 2069 6e74  ".        if int
+0000cb30: 2872 652e 7375 6228 5041 5454 4552 4e53  (re.sub(PATTERNS
+0000cb40: 5b50 4b2e 454e 445f 494e 5f41 4c50 4841  [PK.END_IN_ALPHA
+0000cb50: 5d2c 2027 272c 2073 656c 662e 6d63 6c6b  ], '', self.mclk
+0000cb60: 5f73 7461 7465 5b70 7374 6174 655b 305d  _state[pstate[0]
+0000cb70: 5d5b 305d 2929 2021 3d20 7073 7461 7465  ][0])) != pstate
+0000cb80: 5b31 5d3a 0a20 2020 2020 2020 2020 2020  [1]:.           
+0000cb90: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
+0000cba0: 2020 2020 2069 6620 7365 6c66 2e70 726d       if self.prm
+0000cbb0: 2e67 7075 5f74 7970 6520 696e 2028 4770  .gpu_type in (Gp
+0000cbc0: 7554 7970 652e 5053 7461 7465 734e 452c  uType.PStatesNE,
+0000cbd0: 2047 7075 5479 7065 2e50 5374 6174 6573   GpuType.PStates
+0000cbe0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+0000cbf0: 6620 696e 7428 7265 2e73 7562 2850 4154  f int(re.sub(PAT
+0000cc00: 5445 524e 535b 504b 2e45 4e44 5f49 4e5f  TERNS[PK.END_IN_
+0000cc10: 414c 5048 415d 2c20 2727 2c20 7365 6c66  ALPHA], '', self
+0000cc20: 2e6d 636c 6b5f 7374 6174 655b 7073 7461  .mclk_state[psta
+0000cc30: 7465 5b30 5d5d 5b31 5d29 2920 213d 2070  te[0]][1])) != p
+0000cc40: 7374 6174 655b 325d 3a0a 2020 2020 2020  state[2]:.      
+0000cc50: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000cc60: 2054 7275 650a 2020 2020 2020 2020 7265   True.        re
+0000cc70: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
+0000cc80: 6465 6620 6973 5f63 6861 6e67 6564 5f76  def is_changed_v
+0000cc90: 6464 635f 6375 7276 655f 7074 2873 656c  ddc_curve_pt(sel
+0000cca0: 662c 2070 7374 6174 653a 204c 6973 745b  f, pstate: List[
+0000ccb0: 696e 745d 2920 2d3e 2062 6f6f 6c3a 0a20  int]) -> bool:. 
+0000ccc0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000ccd0: 2020 2043 6865 636b 2069 6620 6769 7665     Check if give
+0000cce0: 6e20 7664 6463 2063 7572 7665 2070 6f69  n vddc curve poi
+0000ccf0: 6e74 2076 616c 7565 2064 6966 6665 7265  nt value differe
+0000cd00: 6e74 2066 726f 6d20 6375 7272 656e 742e  nt from current.
+0000cd10: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0000cd20: 2070 7374 6174 653a 2063 7572 7665 5f70   pstate: curve_p
+0000cd30: 6f69 6e74 203d 205b 706f 696e 745f 6e75  oint = [point_nu
+0000cd40: 6d62 6572 2c20 636c 6b5f 7661 6c75 652c  mber, clk_value,
+0000cd50: 2076 6464 635f 7661 6c75 655d 0a20 2020   vddc_value].   
+0000cd60: 2020 2020 203a 7265 7475 726e 3a20 5265       :return: Re
+0000cd70: 7475 726e 2054 7275 6520 6966 2063 6861  turn True if cha
+0000cd80: 6e67 6564 0a20 2020 2020 2020 2022 2222  nged.        """
+0000cd90: 0a20 2020 2020 2020 2069 6620 696e 7428  .        if int(
+0000cda0: 7265 2e73 7562 2850 4154 5445 524e 535b  re.sub(PATTERNS[
+0000cdb0: 504b 2e45 4e44 5f49 4e5f 414c 5048 415d  PK.END_IN_ALPHA]
+0000cdc0: 2c20 2727 2c20 7365 6c66 2e76 6464 635f  , '', self.vddc_
+0000cdd0: 6375 7276 655b 7073 7461 7465 5b30 5d5d  curve[pstate[0]]
+0000cde0: 5b30 5d29 2920 213d 2070 7374 6174 655b  [0])) != pstate[
+0000cdf0: 315d 3a0a 2020 2020 2020 2020 2020 2020  1]:.            
+0000ce00: 7265 7475 726e 2054 7275 650a 2020 2020  return True.    
+0000ce10: 2020 2020 6966 2069 6e74 2872 652e 7375      if int(re.su
+0000ce20: 6228 5041 5454 4552 4e53 5b50 4b2e 454e  b(PATTERNS[PK.EN
+0000ce30: 445f 494e 5f41 4c50 4841 5d2c 2027 272c  D_IN_ALPHA], '',
+0000ce40: 2073 656c 662e 7664 6463 5f63 7572 7665   self.vddc_curve
+0000ce50: 5b70 7374 6174 655b 305d 5d5b 315d 2929  [pstate[0]][1]))
+0000ce60: 2021 3d20 7073 7461 7465 5b32 5d3a 0a20   != pstate[2]:. 
+0000ce70: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000ce80: 6e20 5472 7565 0a20 2020 2020 2020 2072  n True.        r
+0000ce90: 6574 7572 6e20 4661 6c73 650a 0a20 2020  eturn False..   
+0000cea0: 2064 6566 2069 735f 6368 616e 6765 645f   def is_changed_
+0000ceb0: 7664 6467 6678 5f6f 6666 7365 7428 7365  vddgfx_offset(se
+0000cec0: 6c66 2c20 7465 7374 5f76 6464 6766 785f  lf, test_vddgfx_
+0000ced0: 6f66 6673 6574 3a20 696e 7429 202d 3e20  offset: int) -> 
+0000cee0: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
+0000cef0: 220a 2020 2020 2020 2020 4368 6563 6b20  ".        Check 
+0000cf00: 6966 2067 6976 656e 2076 6464 6766 785f  if given vddgfx_
+0000cf10: 6f66 6673 6574 2076 616c 7565 2069 7320  offset value is 
+0000cf20: 6368 616e 6765 642e 0a0a 2020 2020 2020  changed...      
+0000cf30: 2020 3a70 6172 616d 2074 6573 745f 7664    :param test_vd
+0000cf40: 6467 6678 5f6f 6666 7365 743a 2049 6e74  dgfx_offset: Int
+0000cf50: 6567 6572 2076 6464 6766 785f 6f66 6673  eger vddgfx_offs
+0000cf60: 6574 2076 616c 7565 2074 6f20 6265 2074  et value to be t
+0000cf70: 6573 7465 640a 2020 2020 2020 2020 3a72  ested.        :r
+0000cf80: 6574 7572 6e3a 2052 6574 7572 6e20 5472  eturn: Return Tr
+0000cf90: 7565 2069 6620 6368 616e 6765 640a 2020  ue if changed.  
+0000cfa0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000cfb0: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
+0000cfc0: 6e63 6528 7465 7374 5f76 6464 6766 785f  nce(test_vddgfx_
+0000cfd0: 6f66 6673 6574 2c20 696e 7429 3a20 7265  offset, int): re
+0000cfe0: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
+0000cff0: 2020 2069 6620 7465 7374 5f76 6464 6766     if test_vddgf
+0000d000: 785f 6f66 6673 6574 203d 3d20 7365 6c66  x_offset == self
+0000d010: 2e70 726d 2e76 6464 6766 785f 6f66 6673  .prm.vddgfx_offs
+0000d020: 6574 3a0a 2020 2020 2020 2020 2020 2020  et:.            
+0000d030: 7265 7475 726e 2046 616c 7365 0a20 2020  return False.   
+0000d040: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
+0000d050: 0a0a 2020 2020 6465 6620 6973 5f76 616c  ..    def is_val
+0000d060: 6964 5f76 6464 6766 785f 6f66 6673 6574  id_vddgfx_offset
+0000d070: 2873 656c 662c 2074 6573 745f 7664 6467  (self, test_vddg
+0000d080: 6678 5f6f 6666 7365 743a 2069 6e74 2920  fx_offset: int) 
+0000d090: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
+0000d0a0: 2022 2222 0a20 2020 2020 2020 2043 6865   """.        Che
+0000d0b0: 636b 2069 6620 6769 7665 6e20 7664 6467  ck if given vddg
+0000d0c0: 6678 5f6f 6666 7365 7420 7661 6c75 6520  fx_offset value 
+0000d0d0: 6973 2076 616c 6964 2e0a 0a20 2020 2020  is valid...     
+0000d0e0: 2020 203a 7061 7261 6d20 7465 7374 5f76     :param test_v
+0000d0f0: 6464 6766 785f 6f66 6673 6574 3a20 496e  ddgfx_offset: In
+0000d100: 7465 6765 7220 7664 6467 6678 5f6f 6666  teger vddgfx_off
+0000d110: 7365 7420 7661 6c75 6520 746f 2062 6520  set value to be 
+0000d120: 7465 7374 6564 0a20 2020 2020 2020 203a  tested.        :
+0000d130: 7265 7475 726e 3a20 5265 7475 726e 2054  return: Return T
+0000d140: 7275 6520 6966 2076 616c 6964 0a20 2020  rue if valid.   
+0000d150: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000d160: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000d170: 6365 2874 6573 745f 7664 6467 6678 5f6f  ce(test_vddgfx_o
+0000d180: 6666 7365 742c 2069 6e74 293a 2072 6574  ffset, int): ret
+0000d190: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
+0000d1a0: 2020 7667 6f5f 6d69 6e20 3d20 696e 7428    vgo_min = int(
+0000d1b0: 7265 2e73 7562 2850 4154 5445 524e 535b  re.sub(PATTERNS[
+0000d1c0: 504b 2e45 4e44 5f49 4e5f 414c 5048 415d  PK.END_IN_ALPHA]
+0000d1d0: 2c20 2727 2c20 7374 7228 7365 6c66 2e70  , '', str(self.p
+0000d1e0: 726d 2e76 6464 6766 785f 6f66 6673 6574  rm.vddgfx_offset
+0000d1f0: 5f72 616e 6765 5b30 5d29 2929 0a20 2020  _range[0]))).   
+0000d200: 2020 2020 2076 676f 5f6d 6178 203d 2069       vgo_max = i
+0000d210: 6e74 2872 652e 7375 6228 5041 5454 4552  nt(re.sub(PATTER
+0000d220: 4e53 5b50 4b2e 454e 445f 494e 5f41 4c50  NS[PK.END_IN_ALP
+0000d230: 4841 5d2c 2027 272c 2073 7472 2873 656c  HA], '', str(sel
+0000d240: 662e 7072 6d2e 7664 6467 6678 5f6f 6666  f.prm.vddgfx_off
+0000d250: 7365 745f 7261 6e67 655b 315d 2929 290a  set_range[1]))).
+0000d260: 2020 2020 2020 2020 6966 2074 6573 745f          if test_
+0000d270: 7664 6467 6678 5f6f 6666 7365 7420 3c20  vddgfx_offset < 
+0000d280: 7667 6f5f 6d69 6e20 6f72 2074 6573 745f  vgo_min or test_
+0000d290: 7664 6467 6678 5f6f 6666 7365 7420 3e20  vddgfx_offset > 
+0000d2a0: 7667 6f5f 6d61 783a 0a20 2020 2020 2020  vgo_max:.       
+0000d2b0: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+0000d2c0: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+0000d2d0: 2054 7275 650a 0a20 2020 2064 6566 2069   True..    def i
+0000d2e0: 735f 7661 6c69 645f 7664 6463 5f63 7572  s_valid_vddc_cur
+0000d2f0: 7665 5f70 7473 2873 656c 662c 2063 7572  ve_pts(self, cur
+0000d300: 7665 5f70 7473 3a20 4c69 7374 5b69 6e74  ve_pts: List[int
+0000d310: 5d29 202d 3e20 626f 6f6c 3a0a 2020 2020  ]) -> bool:.    
+0000d320: 2020 2020 2222 2220 4368 6563 6b20 6966      """ Check if
+0000d330: 2067 6976 656e 2073 636c 6b20 7073 7461   given sclk psta
+0000d340: 7465 2076 616c 7565 2069 7320 7661 6c69  te value is vali
+0000d350: 642e 0a0a 2020 2020 2020 2020 3a70 6172  d...        :par
+0000d360: 616d 2063 7572 7665 5f70 7473 3a20 6375  am curve_pts: cu
+0000d370: 7276 655f 706f 696e 7420 3d20 5b70 6f69  rve_point = [poi
+0000d380: 6e74 5f6e 756d 6265 722c 2063 6c6b 5f76  nt_number, clk_v
+0000d390: 616c 7565 2c20 7664 6463 5f76 616c 7565  alue, vddc_value
+0000d3a0: 5d0a 2020 2020 2020 2020 3a72 6574 7572  ].        :retur
+0000d3b0: 6e3a 2052 6574 7572 6e20 5472 7565 2069  n: Return True i
+0000d3c0: 6620 7661 6c69 640a 2020 2020 2020 2020  f valid.        
+0000d3d0: 2222 220a 2020 2020 2020 2020 7363 6c6b  """.        sclk
+0000d3e0: 5f6d 696e 203d 2069 6e74 2872 652e 7375  _min = int(re.su
+0000d3f0: 6228 5041 5454 4552 4e53 5b50 4b2e 454e  b(PATTERNS[PK.EN
+0000d400: 445f 494e 5f41 4c50 4841 5d2c 2027 272c  D_IN_ALPHA], '',
+0000d410: 2073 7472 2873 656c 662e 7664 6463 5f63   str(self.vddc_c
+0000d420: 7572 7665 5f72 616e 6765 5b63 7572 7665  urve_range[curve
+0000d430: 5f70 7473 5b30 5d5d 5b27 5343 4c4b 275d  _pts[0]]['SCLK']
+0000d440: 5b30 5d29 2929 0a20 2020 2020 2020 2073  [0]))).        s
+0000d450: 636c 6b5f 6d61 7820 3d20 696e 7428 7265  clk_max = int(re
+0000d460: 2e73 7562 2850 4154 5445 524e 535b 504b  .sub(PATTERNS[PK
+0000d470: 2e45 4e44 5f49 4e5f 414c 5048 415d 2c20  .END_IN_ALPHA], 
+0000d480: 2727 2c20 7374 7228 7365 6c66 2e76 6464  '', str(self.vdd
+0000d490: 635f 6375 7276 655f 7261 6e67 655b 6375  c_curve_range[cu
+0000d4a0: 7276 655f 7074 735b 305d 5d5b 2753 434c  rve_pts[0]]['SCL
+0000d4b0: 4b27 5d5b 315d 2929 290a 2020 2020 2020  K'][1]))).      
+0000d4c0: 2020 6966 2063 7572 7665 5f70 7473 5b31    if curve_pts[1
+0000d4d0: 5d20 3c20 7363 6c6b 5f6d 696e 206f 7220  ] < sclk_min or 
+0000d4e0: 6375 7276 655f 7074 735b 315d 203e 2073  curve_pts[1] > s
+0000d4f0: 636c 6b5f 6d61 783a 0a20 2020 2020 2020  clk_max:.       
+0000d500: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+0000d510: 650a 2020 2020 2020 2020 7664 6463 5f6d  e.        vddc_m
+0000d520: 696e 203d 2069 6e74 2872 652e 7375 6228  in = int(re.sub(
+0000d530: 5041 5454 4552 4e53 5b50 4b2e 454e 445f  PATTERNS[PK.END_
+0000d540: 494e 5f41 4c50 4841 5d2c 2027 272c 2073  IN_ALPHA], '', s
+0000d550: 7472 2873 656c 662e 7072 6d2e 7664 6463  tr(self.prm.vddc
+0000d560: 5f72 616e 6765 5b30 5d29 2929 0a20 2020  _range[0]))).   
+0000d570: 2020 2020 2076 6464 635f 6d61 7820 3d20       vddc_max = 
+0000d580: 696e 7428 7265 2e73 7562 2850 4154 5445  int(re.sub(PATTE
+0000d590: 524e 535b 504b 2e45 4e44 5f49 4e5f 414c  RNS[PK.END_IN_AL
+0000d5a0: 5048 415d 2c20 2727 2c20 7374 7228 7365  PHA], '', str(se
+0000d5b0: 6c66 2e70 726d 2e76 6464 635f 7261 6e67  lf.prm.vddc_rang
+0000d5c0: 655b 315d 2929 290a 2020 2020 2020 2020  e[1]))).        
+0000d5d0: 6966 2063 7572 7665 5f70 7473 5b32 5d20  if curve_pts[2] 
+0000d5e0: 3c20 7664 6463 5f6d 696e 206f 7220 6375  < vddc_min or cu
+0000d5f0: 7276 655f 7074 735b 325d 203e 2076 6464  rve_pts[2] > vdd
+0000d600: 635f 6d61 783a 0a20 2020 2020 2020 2020  c_max:.         
+0000d610: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+0000d620: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+0000d630: 7275 650a 0a20 2020 2064 6566 2069 735f  rue..    def is_
+0000d640: 7661 6c69 645f 7073 7461 7465 5f6c 6973  valid_pstate_lis
+0000d650: 745f 7374 7228 7365 6c66 2c20 7073 5f73  t_str(self, ps_s
+0000d660: 7472 3a20 7374 722c 2063 6c6b 5f6e 616d  tr: str, clk_nam
+0000d670: 653a 2073 7472 2920 2d3e 2062 6f6f 6c3a  e: str) -> bool:
+0000d680: 0a20 2020 2020 2020 2022 2222 2043 6865  .        """ Che
+0000d690: 636b 2069 6620 7468 6520 6769 7665 6e20  ck if the given 
+0000d6a0: 702d 7374 6174 6573 2061 7265 2076 616c  p-states are val
+0000d6b0: 6964 2066 6f72 2074 6865 2067 6976 656e  id for the given
+0000d6c0: 2063 6c6f 636b 2e0a 0a20 2020 2020 2020   clock...       
+0000d6d0: 203a 7061 7261 6d20 7073 5f73 7472 3a20   :param ps_str: 
+0000d6e0: 5374 7269 6e67 206f 6620 636f 6d6d 6120  String of comma 
+0000d6f0: 7365 7061 7261 7465 6420 7073 7461 7465  separated pstate
+0000d700: 206e 756d 6265 7273 0a20 2020 2020 2020   numbers.       
+0000d710: 203a 7061 7261 6d20 636c 6b5f 6e61 6d65   :param clk_name
+0000d720: 3a20 5468 6520 7461 7267 6574 2063 6c6f  : The target clo
+0000d730: 636b 206e 616d 650a 2020 2020 2020 2020  ck name.        
+0000d740: 3a72 6574 7572 6e3a 2054 7275 6520 6966  :return: True if
+0000d750: 2076 616c 6964 0a20 2020 2020 2020 2022   valid.        "
+0000d760: 2222 0a20 2020 2020 2020 2069 6620 7073  "".        if ps
+0000d770: 5f73 7472 203d 3d20 2727 3a0a 2020 2020  _str == '':.    
+0000d780: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+0000d790: 7275 650a 2020 2020 2020 2020 6966 206e  rue.        if n
+0000d7a0: 6f74 2072 652e 6675 6c6c 6d61 7463 6828  ot re.fullmatch(
+0000d7b0: 5041 5454 4552 4e53 5b50 4b2e 5641 4c49  PATTERNS[PK.VALI
+0000d7c0: 445f 5053 5f53 5452 5d2c 2070 735f 7374  D_PS_STR], ps_st
+0000d7d0: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
+0000d7e0: 7265 7475 726e 2046 616c 7365 0a20 2020  return False.   
+0000d7f0: 2020 2020 2070 735f 6c69 7374 203d 2073       ps_list = s
+0000d800: 656c 662e 7072 6d2e 6d63 6c6b 5f6d 6173  elf.prm.mclk_mas
+0000d810: 6b2e 7370 6c69 7428 272c 2729 2069 6620  k.split(',') if 
+0000d820: 636c 6b5f 6e61 6d65 203d 3d20 274d 434c  clk_name == 'MCL
+0000d830: 4b27 2065 6c73 6520 7365 6c66 2e70 726d  K' else self.prm
+0000d840: 2e73 636c 6b5f 6d61 736b 2e73 706c 6974  .sclk_mask.split
+0000d850: 2827 2c27 290a 2020 2020 2020 2020 666f  (',').        fo
+0000d860: 7220 7073 5f76 616c 2069 6e20 7073 5f73  r ps_val in ps_s
+0000d870: 7472 2e73 706c 6974 2829 3a0a 2020 2020  tr.split():.    
+0000d880: 2020 2020 2020 2020 6966 2070 735f 7661          if ps_va
+0000d890: 6c20 6e6f 7420 696e 2070 735f 6c69 7374  l not in ps_list
+0000d8a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000d8b0: 2020 7265 7475 726e 2046 616c 7365 0a20    return False. 
+0000d8c0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+0000d8d0: 7565 0a0a 2020 2020 6465 6620 6765 745f  ue..    def get_
+0000d8e0: 6375 7272 656e 745f 7070 6d5f 6d6f 6465  current_ppm_mode
+0000d8f0: 2873 656c 6629 202d 3e20 556e 696f 6e5b  (self) -> Union[
+0000d900: 4e6f 6e65 2c20 4c69 7374 5b55 6e69 6f6e  None, List[Union
+0000d910: 5b69 6e74 2c20 7374 725d 5d5d 3a0a 2020  [int, str]]]:.  
+0000d920: 2020 2020 2020 2222 2220 5265 6164 2047        """ Read G
+0000d930: 5055 2070 706d 2064 6566 696e 6974 696f  PU ppm definitio
+0000d940: 6e73 2061 6e64 2063 7572 7265 6e74 2073  ns and current s
+0000d950: 6574 7469 6e67 7320 6672 6f6d 2064 7269  ettings from dri
+0000d960: 7665 7220 6669 6c65 732e 0a0a 2020 2020  ver files...    
+0000d970: 2020 2020 3a72 6574 7572 6e3a 2070 706d      :return: ppm
+0000d980: 2073 7461 7465 0a20 2020 2020 2020 2022   state.        "
+0000d990: 2222 0a20 2020 2020 2020 2069 6620 7365  "".        if se
+0000d9a0: 6c66 2e70 726d 2e76 656e 646f 7220 213d  lf.prm.vendor !=
+0000d9b0: 2047 7075 5665 6e64 6f72 2e41 4d44 3a0a   GpuVendor.AMD:.
+0000d9c0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000d9d0: 726e 204e 6f6e 650a 2020 2020 2020 2020  rn None.        
+0000d9e0: 6966 2073 656c 662e 7072 6d2e 706f 7765  if self.prm.powe
+0000d9f0: 725f 6470 6d5f 666f 7263 652e 6c6f 7765  r_dpm_force.lowe
+0000da00: 7228 2920 3d3d 2027 6175 746f 273a 0a20  r() == 'auto':. 
+0000da10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000da20: 6e20 5b2d 312c 2027 4155 544f 275d 0a20  n [-1, 'AUTO']. 
+0000da30: 2020 2020 2020 2070 706d 5f69 7465 6d20         ppm_item 
+0000da40: 3d20 7365 6c66 2e70 726d 2e70 706d 2e73  = self.prm.ppm.s
+0000da50: 706c 6974 2827 2d27 290a 2020 2020 2020  plit('-').      
+0000da60: 2020 7265 7475 726e 205b 696e 7428 7070    return [int(pp
+0000da70: 6d5f 6974 656d 5b30 5d29 2c20 7070 6d5f  m_item[0]), ppm_
+0000da80: 6974 656d 5b31 5d5d 0a0a 2020 2020 6465  item[1]]..    de
+0000da90: 6620 7265 6164 5f72 6177 5f73 656e 736f  f read_raw_senso
+0000daa0: 7273 2873 656c 6629 202d 3e20 4e6f 6e65  rs(self) -> None
+0000dab0: 3a0a 2020 2020 2020 2020 2222 2220 5265  :.        """ Re
+0000dac0: 6164 2061 6c6c 2070 6f73 7369 626c 6520  ad all possible 
+0000dad0: 6465 7669 6365 2064 7269 7665 7220 6669  device driver fi
+0000dae0: 6c65 7320 616e 6420 706f 7075 6c61 7465  les and populate
+0000daf0: 2073 656c 6627 7320 7261 7720 6469 6374   self's raw dict
+0000db00: 696f 6e61 7279 2e0a 2020 2020 2020 2020  ionary..        
+0000db10: 2222 220a 2020 2020 2020 2020 666f 7220  """.        for 
+0000db20: 2873 656e 736f 725f 7479 7065 2c20 7061  (sensor_type, pa
+0000db30: 7468 2920 696e 207b 2744 4556 4943 4527  th) in {'DEVICE'
+0000db40: 3a20 7365 6c66 2e70 726d 2e63 6172 645f  : self.prm.card_
+0000db50: 7061 7468 2c20 2748 574d 4f4e 273a 2073  path, 'HWMON': s
+0000db60: 656c 662e 7072 6d2e 6877 6d6f 6e5f 7061  elf.prm.hwmon_pa
+0000db70: 7468 7d2e 6974 656d 7328 293a 0a20 2020  th}.items():.   
+0000db80: 2020 2020 2020 2020 2069 6620 7061 7468           if path
+0000db90: 2061 6e64 206f 732e 7061 7468 2e69 7364   and os.path.isd
+0000dba0: 6972 2870 6174 6829 3a0a 2020 2020 2020  ir(path):.      
+0000dbb0: 2020 2020 2020 2020 2020 666f 7220 6669            for fi
+0000dbc0: 6c65 2069 6e20 6f73 2e6c 6973 7464 6972  le in os.listdir
+0000dbd0: 2870 6174 6829 3a0a 2020 2020 2020 2020  (path):.        
+0000dbe0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+0000dbf0: 5f70 6174 6820 3d20 6f73 2e70 6174 682e  _path = os.path.
+0000dc00: 6a6f 696e 2870 6174 682c 2066 696c 6529  join(path, file)
+0000dc10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dc20: 2020 2020 2069 6620 6e6f 7420 6f73 2e70       if not os.p
+0000dc30: 6174 682e 6973 6669 6c65 2866 696c 655f  ath.isfile(file_
+0000dc40: 7061 7468 293a 2063 6f6e 7469 6e75 650a  path): continue.
+0000dc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dc60: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+0000dc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dc80: 2077 6974 6820 6f70 656e 2866 696c 655f   with open(file_
+0000dc90: 7061 7468 2c20 2772 272c 2065 6e63 6f64  path, 'r', encod
+0000dca0: 696e 673d 2775 7466 2d38 2729 2061 7320  ing='utf-8') as 
+0000dcb0: 6669 6c65 5f70 7472 3a0a 2020 2020 2020  file_ptr:.      
+0000dcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dcd0: 2020 2020 2020 636f 6e74 656e 7473 203d        contents =
+0000dce0: 2066 696c 655f 7074 722e 7265 6164 2829   file_ptr.read()
+0000dcf0: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
+0000dd00: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+0000dd10: 6570 7420 5065 726d 6973 7369 6f6e 4572  ept PermissionEr
+0000dd20: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
+0000dd30: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0000dd40: 7465 6e74 7320 3d20 2750 6572 6d69 7373  tents = 'Permiss
+0000dd50: 696f 6e45 7272 6f72 270a 2020 2020 2020  ionError'.      
+0000dd60: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+0000dd70: 6365 7074 204f 5345 7272 6f72 3a0a 2020  cept OSError:.  
+0000dd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dd90: 2020 2020 2020 636f 6e74 656e 7473 203d        contents =
+0000dda0: 2027 4f53 4572 726f 7227 0a20 2020 2020   'OSError'.     
+0000ddb0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000ddc0: 7863 6570 7420 556e 6963 6f64 6544 6563  xcept UnicodeDec
+0000ddd0: 6f64 6545 7272 6f72 3a0a 2020 2020 2020  odeError:.      
+0000dde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ddf0: 2020 636f 6e74 656e 7473 203d 2027 4249    contents = 'BI
+0000de00: 4e41 5259 270a 2020 2020 2020 2020 2020  NARY'.          
+0000de10: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+0000de20: 6177 5b73 656e 736f 725f 7479 7065 5d2e  aw[sensor_type].
+0000de30: 7570 6461 7465 287b 6669 6c65 3a20 636f  update({file: co
+0000de40: 6e74 656e 7473 7d29 0a20 2020 2020 2020  ntents}).       
+0000de50: 2020 2020 2047 5554 5f43 4f4e 5354 2e70       GUT_CONST.p
+0000de60: 726f 6365 7373 5f6d 6573 7361 6765 2827  rocess_message('
+0000de70: 496e 7661 6c69 6420 7061 7468 2066 6f72  Invalid path for
+0000de80: 207b 7d20 7061 7468 3a20 5b7b 7d5d 272e   {} path: [{}]'.
+0000de90: 666f 726d 6174 2873 656e 736f 725f 7479  format(sensor_ty
+0000dea0: 7065 2c20 7061 7468 2929 0a0a 2020 2020  pe, path))..    
+0000deb0: 6465 6620 6973 5f61 6d64 5f72 6561 6461  def is_amd_reada
+0000dec0: 626c 6528 7365 6c66 2920 2d3e 2062 6f6f  ble(self) -> boo
+0000ded0: 6c3a 0a20 2020 2020 2020 2022 2222 2043  l:.        """ C
+0000dee0: 6865 636b 2069 6620 4750 5520 6973 2041  heck if GPU is A
+0000def0: 4d44 2061 6e64 2072 6561 6461 626c 6520  MD and readable 
+0000df00: 616e 6420 7265 6164 6162 6c65 2074 7970  and readable typ
+0000df10: 652e 0a0a 2020 2020 2020 2020 3a72 6574  e...        :ret
+0000df20: 7572 6e3a 2054 7275 6520 6966 2069 7320  urn: True if is 
+0000df30: 414d 4420 616e 6420 7265 6164 6162 6c65  AMD and readable
+0000df40: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+0000df50: 2020 2020 2020 6966 2073 656c 662e 7072        if self.pr
+0000df60: 6d2e 7665 6e64 6f72 2021 3d20 4770 7556  m.vendor != GpuV
+0000df70: 656e 646f 722e 414d 443a 0a20 2020 2020  endor.AMD:.     
+0000df80: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+0000df90: 6c73 650a 2020 2020 2020 2020 6966 206e  lse.        if n
+0000dfa0: 6f74 2047 5554 5f43 4f4e 5354 2e66 6f72  ot GUT_CONST.for
+0000dfb0: 6365 5f61 6c6c 3a0a 2020 2020 2020 2020  ce_all:.        
+0000dfc0: 2020 2020 2320 4f72 6967 696e 616c 6c79      # Originally
+0000dfd0: 2041 5055 2077 6173 2061 6c73 6f20 6469   APU was also di
+0000dfe0: 7361 626c 6564 2066 6f72 2070 7374 6174  sabled for pstat
+0000dff0: 6573 2062 7574 206e 6f74 2070 706d 0a20  es but not ppm. 
+0000e000: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+0000e010: 7420 7365 6c66 2e70 726d 2e72 6561 6461  t self.prm.reada
+0000e020: 626c 6520 6f72 2073 656c 662e 7072 6d2e  ble or self.prm.
+0000e030: 6770 755f 7479 7065 2069 6e20 2847 7075  gpu_type in (Gpu
+0000e040: 5479 7065 2e4c 6567 6163 792c 2047 7075  Type.Legacy, Gpu
+0000e050: 5479 7065 2e55 6e73 7570 706f 7274 6564  Type.Unsupported
+0000e060: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000e070: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+0000e080: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+0000e090: 7275 650a 0a20 2020 2064 6566 2072 6561  rue..    def rea
+0000e0a0: 645f 6770 755f 7070 5f66 6561 7475 7265  d_gpu_pp_feature
+0000e0b0: 7328 7365 6c66 2c20 7265 7475 726e 5f64  s(self, return_d
+0000e0c0: 6174 613a 2062 6f6f 6c20 3d20 4661 6c73  ata: bool = Fals
+0000e0d0: 6529 202d 3e20 4f70 7469 6f6e 616c 5b73  e) -> Optional[s
+0000e0e0: 7472 5d3a 0a20 2020 2020 2020 2022 2222  tr]:.        """
+0000e0f0: 2052 6561 6420 616d 6467 7075 2050 5020   Read amdgpu PP 
+0000e100: 4665 6174 7572 6520 656e 6162 6c65 6d65  Feature enableme
+0000e110: 6e74 2e0a 0a20 2020 2020 2020 203a 7061  nt...        :pa
+0000e120: 7261 6d20 7265 7475 726e 5f64 6174 613a  ram return_data:
+0000e130: 2052 6574 7572 6e20 7261 7720 6669 6c65   Return raw file
+0000e140: 2072 6561 6420 6461 7461 2069 6620 5472   read data if Tr
+0000e150: 7565 0a20 2020 2020 2020 203a 7265 7475  ue.        :retu
+0000e160: 726e 3a20 2052 6177 2066 696c 6520 7265  rn:  Raw file re
+0000e170: 6164 2064 6174 6120 6f72 204e 6f6e 650a  ad data or None.
+0000e180: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000e190: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+0000e1a0: 6973 5f61 6d64 5f72 6561 6461 626c 6528  is_amd_readable(
+0000e1b0: 293a 2072 6574 7572 6e20 4e6f 6e65 0a20  ): return None. 
+0000e1c0: 2020 2020 2020 2070 6172 616d 6574 6572         parameter
+0000e1d0: 5f66 696c 6520 3d20 2770 705f 6665 6174  _file = 'pp_feat
+0000e1e0: 7572 6573 270a 2020 2020 2020 2020 6966  ures'.        if
+0000e1f0: 206e 6f74 2073 656c 662e 7061 7261 6d5f   not self.param_
+0000e200: 6973 5f61 6374 6976 6528 7061 7261 6d65  is_active(parame
+0000e210: 7465 725f 6669 6c65 293a 2072 6574 7572  ter_file): retur
+0000e220: 6e20 4e6f 6e65 0a0a 2020 2020 2020 2020  n None..        
+0000e230: 7264 6174 6120 3d20 2727 0a20 2020 2020  rdata = ''.     
+0000e240: 2020 2066 696c 655f 7061 7468 203d 206f     file_path = o
+0000e250: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
+0000e260: 2e70 726d 2e63 6172 645f 7061 7468 2c20  .prm.card_path, 
+0000e270: 7061 7261 6d65 7465 725f 6669 6c65 290a  parameter_file).
+0000e280: 2020 2020 2020 2020 6966 206e 6f74 206f          if not o
+0000e290: 732e 7061 7468 2e69 7366 696c 6528 6669  s.path.isfile(fi
+0000e2a0: 6c65 5f70 6174 6829 3a0a 2020 2020 2020  le_path):.      
+0000e2b0: 2020 2020 2020 4755 545f 434f 4e53 542e        GUT_CONST.
+0000e2c0: 7072 6f63 6573 735f 6d65 7373 6167 6528  process_message(
+0000e2d0: 2745 7272 6f72 3a20 7070 5f66 6561 7475  'Error: pp_featu
+0000e2e0: 7265 7320 6669 6c65 2064 6f65 7320 6e6f  res file does no
+0000e2f0: 7420 6578 6973 743a 207b 7d27 2e66 6f72  t exist: {}'.for
+0000e300: 6d61 7428 6669 6c65 5f70 6174 6829 290a  mat(file_path)).
+0000e310: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000e320: 2e64 6973 6162 6c65 5f70 6172 616d 5f72  .disable_param_r
+0000e330: 6561 6428 7061 7261 6d65 7465 725f 6669  ead(parameter_fi
+0000e340: 6c65 290a 2020 2020 2020 2020 2020 2020  le).            
+0000e350: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
+0000e360: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+0000e370: 2020 2020 2077 6974 6820 6f70 656e 2866       with open(f
+0000e380: 696c 655f 7061 7468 2c20 2772 272c 2065  ile_path, 'r', e
+0000e390: 6e63 6f64 696e 673d 2775 7466 2d38 2729  ncoding='utf-8')
+0000e3a0: 2061 7320 6665 6174 7572 655f 6669 6c65   as feature_file
+0000e3b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000e3c0: 2020 666f 7220 6c69 6e65 2069 6e20 6665    for line in fe
+0000e3d0: 6174 7572 655f 6669 6c65 3a0a 2020 2020  ature_file:.    
+0000e3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e3f0: 6966 2072 6574 7572 6e5f 6461 7461 3a20  if return_data: 
+0000e400: 7264 6174 6120 2b3d 206c 696e 650a 2020  rdata += line.  
+0000e410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e420: 2020 6c69 6e65 5f73 7472 203d 206c 696e    line_str = lin
+0000e430: 652e 7374 7269 7028 290a 2020 2020 2020  e.strip().      
+0000e440: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000e450: 206e 6f74 2073 656c 662e 7072 6d2e 7070   not self.prm.pp
+0000e460: 5f66 6561 7475 7265 733a 0a20 2020 2020  _features:.     
+0000e470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e480: 2020 2069 6620 7265 2e73 6561 7263 6828     if re.search(
+0000e490: 4755 545f 434f 4e53 542e 5041 5454 4552  GUT_CONST.PATTER
+0000e4a0: 4e53 5b50 4b2e 414d 445f 4645 4154 5552  NS[PK.AMD_FEATUR
+0000e4b0: 4553 5d2c 206c 696e 655f 7374 7229 3a0a  ES], line_str):.
+0000e4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e4d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000e4e0: 2e70 726d 2e70 705f 6665 6174 7572 6573  .prm.pp_features
+0000e4f0: 203d 2072 652e 7375 6228 4755 545f 434f   = re.sub(GUT_CO
+0000e500: 4e53 542e 5041 5454 4552 4e53 5b50 4b2e  NST.PATTERNS[PK.
+0000e510: 414d 445f 4645 4154 5552 4553 5d2c 2027  AMD_FEATURES], '
+0000e520: 272c 206c 696e 655f 7374 7229 0a20 2020  ', line_str).   
+0000e530: 2020 2020 2065 7863 6570 7420 5065 726d       except Perm
+0000e540: 6973 7369 6f6e 4572 726f 7220 6173 2065  issionError as e
+0000e550: 7863 6570 745f 6572 723a 0a20 2020 2020  xcept_err:.     
+0000e560: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
+0000e570: 6275 6728 2745 7272 6f72 3a20 4361 6e20  bug('Error: Can 
+0000e580: 6e6f 7420 7265 6164 2070 7066 6561 7475  not read ppfeatu
+0000e590: 7265 7320 6472 6976 6572 2066 696c 6520  res driver file 
+0000e5a0: 2573 2c20 6572 726f 723a 205b 2573 5d27  %s, error: [%s]'
+0000e5b0: 2c20 7365 6c66 2e70 726d 2e70 6369 655f  , self.prm.pcie_
+0000e5c0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+0000e5d0: 2020 2020 2020 2020 2020 2020 2065 7863               exc
+0000e5e0: 6570 745f 6572 7229 0a20 2020 2020 2020  ept_err).       
+0000e5f0: 2020 2020 2070 7269 6e74 2827 4572 726f       print('Erro
+0000e600: 723a 2053 7973 7465 6d20 7375 7070 6f72  r: System suppor
+0000e610: 7420 6973 7375 6520 666f 7220 4750 5520  t issue for GPU 
+0000e620: 5b7b 7d5d 272e 666f 726d 6174 2873 656c  [{}]'.format(sel
+0000e630: 662e 7072 6d2e 7063 6965 5f69 6429 290a  f.prm.pcie_id)).
+0000e640: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000e650: 2e64 6973 6162 6c65 5f70 6172 616d 5f72  .disable_param_r
+0000e660: 6561 6428 7061 7261 6d65 7465 725f 6669  ead(parameter_fi
+0000e670: 6c65 290a 2020 2020 2020 2020 2020 2020  le).            
+0000e680: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
+0000e690: 2020 2020 6578 6365 7074 204f 5345 7272      except OSErr
+0000e6a0: 6f72 2061 7320 6578 6365 7074 5f65 7272  or as except_err
+0000e6b0: 3a0a 2020 2020 2020 2020 2020 2020 4c4f  :.            LO
+0000e6c0: 4747 4552 2e64 6562 7567 2827 4572 726f  GGER.debug('Erro
+0000e6d0: 723a 2073 7973 7465 6d20 7375 7070 6f72  r: system suppor
+0000e6e0: 7420 6973 7375 6520 666f 7220 2573 2c20  t issue for %s, 
+0000e6f0: 6572 726f 723a 205b 2573 5d27 2c20 7365  error: [%s]', se
+0000e700: 6c66 2e70 726d 2e70 6369 655f 6964 2c20  lf.prm.pcie_id, 
+0000e710: 6578 6365 7074 5f65 7272 290a 2020 2020  except_err).    
+0000e720: 2020 2020 2020 2020 7072 696e 7428 2745          print('E
+0000e730: 7272 6f72 3a20 5379 7374 656d 2073 7570  rror: System sup
+0000e740: 706f 7274 2069 7373 7565 2066 6f72 2047  port issue for G
+0000e750: 5055 205b 7b7d 5d27 2e66 6f72 6d61 7428  PU [{}]'.format(
+0000e760: 7365 6c66 2e70 726d 2e70 6369 655f 6964  self.prm.pcie_id
+0000e770: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
+0000e780: 656c 662e 6469 7361 626c 655f 7061 7261  elf.disable_para
+0000e790: 6d5f 7265 6164 2870 6172 616d 6574 6572  m_read(parameter
+0000e7a0: 5f66 696c 6529 0a20 2020 2020 2020 2020  _file).         
+0000e7b0: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
+0000e7c0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+0000e7d0: 6461 7461 2069 6620 7265 7475 726e 5f64  data if return_d
+0000e7e0: 6174 6120 656c 7365 204e 6f6e 650a 0a20  ata else None.. 
+0000e7f0: 2020 2064 6566 2072 6561 645f 6770 755f     def read_gpu_
+0000e800: 7070 6d5f 7461 626c 6528 7365 6c66 2c20  ppm_table(self, 
+0000e810: 7265 7475 726e 5f64 6174 613a 2062 6f6f  return_data: boo
+0000e820: 6c20 3d20 4661 6c73 6529 202d 3e20 4f70  l = False) -> Op
+0000e830: 7469 6f6e 616c 5b73 7472 5d3a 0a20 2020  tional[str]:.   
+0000e840: 2020 2020 2022 2222 2052 6561 6420 7468       """ Read th
+0000e850: 6520 7070 6d20 7461 626c 652e 0a0a 2020  e ppm table...  
+0000e860: 2020 2020 2020 3a70 6172 616d 2072 6574        :param ret
+0000e870: 7572 6e5f 6461 7461 3a20 666c 6167 2074  urn_data: flag t
+0000e880: 6f20 696e 6469 6361 7465 2069 6620 7265  o indicate if re
+0000e890: 6164 2064 6174 6120 7368 6f75 6c64 2062  ad data should b
+0000e8a0: 6520 7265 7475 726e 6564 2e0a 2020 2020  e returned..    
+0000e8b0: 2020 2020 3a72 6574 7572 6e3a 2072 6574      :return: ret
+0000e8c0: 7572 6e20 6461 7461 206f 7220 4e6f 6e65  urn data or None
+0000e8d0: 2069 6620 4661 6c73 650a 2020 2020 2020   if False.      
+0000e8e0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+0000e8f0: 206e 6f74 2073 656c 662e 6973 5f61 6d64   not self.is_amd
+0000e900: 5f72 6561 6461 626c 6528 293a 2072 6574  _readable(): ret
+0000e910: 7572 6e20 4e6f 6e65 0a20 2020 2020 2020  urn None.       
+0000e920: 2070 6172 616d 6574 6572 5f66 696c 6520   parameter_file 
+0000e930: 3d20 2770 705f 706f 7765 725f 7072 6f66  = 'pp_power_prof
+0000e940: 696c 655f 6d6f 6465 270a 2020 2020 2020  ile_mode'.      
+0000e950: 2020 6966 206e 6f74 2073 656c 662e 7061    if not self.pa
+0000e960: 7261 6d5f 6973 5f61 6374 6976 6528 7061  ram_is_active(pa
+0000e970: 7261 6d65 7465 725f 6669 6c65 293a 2072  rameter_file): r
+0000e980: 6574 7572 6e20 4e6f 6e65 0a0a 2020 2020  eturn None..    
+0000e990: 2020 2020 7264 6174 6120 3d20 2727 0a20      rdata = ''. 
+0000e9a0: 2020 2020 2020 2066 696c 655f 7061 7468         file_path
+0000e9b0: 203d 206f 732e 7061 7468 2e6a 6f69 6e28   = os.path.join(
+0000e9c0: 7365 6c66 2e70 726d 2e63 6172 645f 7061  self.prm.card_pa
+0000e9d0: 7468 2c20 7061 7261 6d65 7465 725f 6669  th, parameter_fi
+0000e9e0: 6c65 290a 2020 2020 2020 2020 6966 206e  le).        if n
+0000e9f0: 6f74 206f 732e 7061 7468 2e69 7366 696c  ot os.path.isfil
+0000ea00: 6528 6669 6c65 5f70 6174 6829 3a0a 2020  e(file_path):.  
+0000ea10: 2020 2020 2020 2020 2020 4755 545f 434f            GUT_CO
+0000ea20: 4e53 542e 7072 6f63 6573 735f 6d65 7373  NST.process_mess
+0000ea30: 6167 6528 2745 7272 6f72 3a20 7070 6d20  age('Error: ppm 
+0000ea40: 7461 626c 6520 6669 6c65 2064 6f65 7320  table file does 
+0000ea50: 6e6f 7420 6578 6973 743a 207b 7d27 2e66  not exist: {}'.f
+0000ea60: 6f72 6d61 7428 6669 6c65 5f70 6174 6829  ormat(file_path)
+0000ea70: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000ea80: 6c66 2e64 6973 6162 6c65 5f70 6172 616d  lf.disable_param
+0000ea90: 5f72 6561 6428 7061 7261 6d65 7465 725f  _read(parameter_
+0000eaa0: 6669 6c65 290a 2020 2020 2020 2020 2020  file).          
+0000eab0: 2020 7265 7475 726e 204e 6f6e 650a 2020    return None.  
+0000eac0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0000ead0: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
+0000eae0: 2866 696c 655f 7061 7468 2c20 2772 272c  (file_path, 'r',
+0000eaf0: 2065 6e63 6f64 696e 673d 2775 7466 2d38   encoding='utf-8
+0000eb00: 2729 2061 7320 6361 7264 5f66 696c 653a  ') as card_file:
+0000eb10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000eb20: 2066 6f72 206c 696e 6520 696e 2063 6172   for line in car
+0000eb30: 645f 6669 6c65 3a0a 2020 2020 2020 2020  d_file:.        
+0000eb40: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+0000eb50: 6574 7572 6e5f 6461 7461 3a20 7264 6174  eturn_data: rdat
+0000eb60: 6120 2b3d 206c 696e 650a 2020 2020 2020  a += line.      
+0000eb70: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0000eb80: 6e65 7374 7220 3d20 6c69 6e65 2e73 7472  nestr = line.str
+0000eb90: 6970 2829 0a20 2020 2020 2020 2020 2020  ip().           
+0000eba0: 2020 2020 2020 2020 2023 2043 6865 636b           # Check
+0000ebb0: 2066 6f72 206d 6f64 6520 6e61 6d65 3a20   for mode name: 
+0000ebc0: 6265 6769 6e73 2077 6974 6820 275b 205d  begins with '[ ]
+0000ebd0: 2b5b 302d 395d 2e2a 270a 2020 2020 2020  +[0-9].*'.      
+0000ebe0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000ebf0: 2072 652e 6675 6c6c 6d61 7463 6828 7227   re.fullmatch(r'
+0000ec00: 5c73 2b5c 642e 2a27 2c20 6c69 6e65 5b30  \s+\d.*', line[0
+0000ec10: 3a33 5d29 3a0a 2020 2020 2020 2020 2020  :3]):.          
+0000ec20: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0000ec30: 6e65 7374 7220 3d20 7265 2e73 7562 2872  nestr = re.sub(r
+0000ec40: 275c 732a 5b2a 5d2a 3a27 2c20 2720 272c  '\s*[*]*:', ' ',
+0000ec50: 206c 696e 6573 7472 290a 2020 2020 2020   linestr).      
+0000ec60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ec70: 2020 6c69 6e65 5f69 7465 6d73 203d 206c    line_items = l
+0000ec80: 696e 6573 7472 2e73 706c 6974 2829 0a20  inestr.split(). 
+0000ec90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eca0: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
+0000ecb0: 6275 6728 2750 504d 206c 696e 653a 2025  bug('PPM line: %
+0000ecc0: 7327 2c20 6c69 6e65 7374 7229 0a20 2020  s', linestr).   
+0000ecd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ece0: 2020 2020 2069 6620 6c65 6e28 6c69 6e65       if len(line
+0000ecf0: 5f69 7465 6d73 2920 3c20 323a 0a20 2020  _items) < 2:.   
+0000ed00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed10: 2020 2020 2020 2020 2047 5554 5f43 4f4e           GUT_CON
+0000ed20: 5354 2e70 726f 6365 7373 5f6d 6573 7361  ST.process_messa
+0000ed30: 6765 2827 4572 726f 723a 2069 6e76 616c  ge('Error: inval
+0000ed40: 6964 2070 706d 3a20 7b7d 272e 666f 726d  id ppm: {}'.form
+0000ed50: 6174 286c 696e 6573 7472 2929 0a20 2020  at(linestr)).   
+0000ed60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed70: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+0000ed80: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000ed90: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+0000eda0: 2e64 6562 7567 2827 5661 6c69 6420 7070  .debug('Valid pp
+0000edb0: 6d20 6c69 6e65 3a20 2573 272c 206c 696e  m line: %s', lin
+0000edc0: 6573 7472 290a 2020 2020 2020 2020 2020  estr).          
+0000edd0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000ede0: 6c66 2e70 706d 5f6d 6f64 6573 5b6c 696e  lf.ppm_modes[lin
+0000edf0: 655f 6974 656d 735b 305d 5d20 3d20 6c69  e_items[0]] = li
+0000ee00: 6e65 5f69 7465 6d73 5b31 3a5d 0a20 2020  ne_items[1:].   
+0000ee10: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000ee20: 662e 7070 6d5f 6d6f 6465 735b 272d 3127  f.ppm_modes['-1'
+0000ee30: 5d20 3d20 5b27 4155 544f 272c 2027 4175  ] = ['AUTO', 'Au
+0000ee40: 746f 275d 0a20 2020 2020 2020 2065 7863  to'].        exc
+0000ee50: 6570 7420 5065 726d 6973 7369 6f6e 4572  ept PermissionEr
+0000ee60: 726f 7220 6173 2065 7863 6570 745f 6572  ror as except_er
+0000ee70: 723a 0a20 2020 2020 2020 2020 2020 204c  r:.            L
+0000ee80: 4f47 4745 522e 6465 6275 6728 2745 7272  OGGER.debug('Err
+0000ee90: 6f72 3a20 4361 6e20 6e6f 7420 7265 6164  or: Can not read
+0000eea0: 2070 7374 6174 6520 6472 6976 6572 2066   pstate driver f
+0000eeb0: 696c 6520 2573 2c20 6572 726f 723a 205b  ile %s, error: [
+0000eec0: 2573 5d27 2c20 7365 6c66 2e70 726d 2e70  %s]', self.prm.p
+0000eed0: 6369 655f 6964 2c20 6578 6365 7074 5f65  cie_id, except_e
+0000eee0: 7272 290a 2020 2020 2020 2020 2020 2020  rr).            
+0000eef0: 7072 696e 7428 2745 7272 6f72 3a20 5379  print('Error: Sy
+0000ef00: 7374 656d 2073 7570 706f 7274 2069 7373  stem support iss
+0000ef10: 7565 2066 6f72 2047 5055 205b 7b7d 5d27  ue for GPU [{}]'
+0000ef20: 2e66 6f72 6d61 7428 7365 6c66 2e70 726d  .format(self.prm
+0000ef30: 2e70 6369 655f 6964 2929 0a20 2020 2020  .pcie_id)).     
+0000ef40: 2020 2020 2020 2073 656c 662e 6469 7361         self.disa
+0000ef50: 626c 655f 7061 7261 6d5f 7265 6164 2870  ble_param_read(p
+0000ef60: 6172 616d 6574 6572 5f66 696c 6529 0a20  arameter_file). 
+0000ef70: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000ef80: 6e20 4e6f 6e65 0a20 2020 2020 2020 2065  n None.        e
+0000ef90: 7863 6570 7420 4f53 4572 726f 7220 6173  xcept OSError as
+0000efa0: 2065 7863 6570 745f 6572 723a 0a20 2020   except_err:.   
+0000efb0: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
+0000efc0: 6465 6275 6728 2745 7272 6f72 3a20 5379  debug('Error: Sy
+0000efd0: 7374 656d 2073 7570 706f 7274 2069 7373  stem support iss
+0000efe0: 7565 2066 6f72 2025 732c 2065 7272 6f72  ue for %s, error
+0000eff0: 3a20 5b25 735d 272c 2073 656c 662e 7072  : [%s]', self.pr
+0000f000: 6d2e 7063 6965 5f69 642c 2065 7863 6570  m.pcie_id, excep
+0000f010: 745f 6572 7229 0a20 2020 2020 2020 2020  t_err).         
+0000f020: 2020 2070 7269 6e74 2827 4572 726f 723a     print('Error:
+0000f030: 2053 7973 7465 6d20 7375 7070 6f72 7420   System support 
+0000f040: 6973 7375 6520 666f 7220 4750 5520 5b7b  issue for GPU [{
+0000f050: 7d5d 272e 666f 726d 6174 2873 656c 662e  }]'.format(self.
+0000f060: 7072 6d2e 7063 6965 5f69 6429 290a 2020  prm.pcie_id)).  
+0000f070: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
+0000f080: 6973 6162 6c65 5f70 6172 616d 5f72 6561  isable_param_rea
+0000f090: 6428 7061 7261 6d65 7465 725f 6669 6c65  d(parameter_file
+0000f0a0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+0000f0b0: 7475 726e 204e 6f6e 650a 0a20 2020 2020  turn None..     
+0000f0c0: 2020 2072 6574 7572 6e20 7264 6174 6120     return rdata 
+0000f0d0: 6966 2072 6574 7572 6e5f 6461 7461 2065  if return_data e
+0000f0e0: 6c73 6520 4e6f 6e65 0a0a 2020 2020 6465  lse None..    de
+0000f0f0: 6620 7265 6164 5f67 7075 5f70 7374 6174  f read_gpu_pstat
+0000f100: 6573 2873 656c 6629 202d 3e20 4e6f 6e65  es(self) -> None
+0000f110: 3a0a 2020 2020 2020 2020 2222 2220 5265  :.        """ Re
+0000f120: 6164 2047 5055 2070 7374 6174 6520 6465  ad GPU pstate de
+0000f130: 6669 6e69 7469 6f6e 7320 616e 6420 7061  finitions and pa
+0000f140: 7261 6d65 7465 7220 7261 6e67 6573 2066  rameter ranges f
+0000f150: 726f 6d20 6472 6976 6572 2066 696c 6573  rom driver files
+0000f160: 2e0a 2020 2020 2020 2020 2020 2020 5365  ..            Se
+0000f170: 7420 6361 7264 2074 7970 6520 6261 7365  t card type base
+0000f180: 6420 6f6e 2070 7374 6174 6520 636f 6e66  d on pstate conf
+0000f190: 6967 7572 6174 696f 6e0a 2020 2020 2020  iguration.      
+0000f1a0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
+0000f1b0: 206e 6f74 2073 656c 662e 6973 5f61 6d64   not self.is_amd
+0000f1c0: 5f72 6561 6461 626c 6528 293a 2072 6574  _readable(): ret
+0000f1d0: 7572 6e0a 2020 2020 2020 2020 7061 7261  urn.        para
+0000f1e0: 6d65 7465 725f 6669 6c65 203d 2027 7070  meter_file = 'pp
+0000f1f0: 5f6f 645f 636c 6b5f 766f 6c74 6167 6527  _od_clk_voltage'
+0000f200: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0000f210: 7365 6c66 2e70 6172 616d 5f69 735f 6163  self.param_is_ac
+0000f220: 7469 7665 2870 6172 616d 6574 6572 5f66  tive(parameter_f
+0000f230: 696c 6529 3a20 7265 7475 726e 0a0a 2020  ile): return..  
+0000f240: 2020 2020 2020 6669 6c65 5f70 6174 6820        file_path 
+0000f250: 3d20 6f73 2e70 6174 682e 6a6f 696e 2873  = os.path.join(s
+0000f260: 656c 662e 7072 6d2e 6361 7264 5f70 6174  elf.prm.card_pat
+0000f270: 682c 2070 6172 616d 6574 6572 5f66 696c  h, parameter_fil
+0000f280: 6529 0a20 2020 2020 2020 2069 6620 6e6f  e).        if no
+0000f290: 7420 6f73 2e70 6174 682e 6973 6669 6c65  t os.path.isfile
+0000f2a0: 2866 696c 655f 7061 7468 293a 0a20 2020  (file_path):.   
+0000f2b0: 2020 2020 2020 2020 2047 5554 5f43 4f4e           GUT_CON
+0000f2c0: 5354 2e70 726f 6365 7373 5f6d 6573 7361  ST.process_messa
+0000f2d0: 6765 2827 4572 726f 7220 6765 7474 696e  ge('Error gettin
+0000f2e0: 6720 702d 7374 6174 6573 3a20 7b7d 272e  g p-states: {}'.
+0000f2f0: 666f 726d 6174 2866 696c 655f 7061 7468  format(file_path
+0000f300: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
+0000f310: 656c 662e 6469 7361 626c 655f 7061 7261  elf.disable_para
+0000f320: 6d5f 7265 6164 2870 6172 616d 6574 6572  m_read(parameter
+0000f330: 5f66 696c 6529 0a20 2020 2020 2020 2020  _file).         
+0000f340: 2020 2072 6574 7572 6e0a 2020 2020 2020     return.      
+0000f350: 2020 6375 7272 656e 745f 6d6f 6465 203d    current_mode =
+0000f360: 204f 644d 6f64 652e 6e6f 6e65 0a20 2020   OdMode.none.   
+0000f370: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000f380: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
+0000f390: 6669 6c65 5f70 6174 682c 2027 7227 2c20  file_path, 'r', 
+0000f3a0: 656e 636f 6469 6e67 3d27 7574 662d 3827  encoding='utf-8'
+0000f3b0: 2920 6173 2063 6172 645f 6669 6c65 3a0a  ) as card_file:.
+0000f3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f3d0: 666f 7220 6c69 6e65 2069 6e20 6361 7264  for line in card
+0000f3e0: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
+0000f3f0: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+0000f400: 7420 6973 696e 7374 616e 6365 286c 696e  t isinstance(lin
+0000f410: 652c 2073 7472 293a 0a20 2020 2020 2020  e, str):.       
+0000f420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f430: 2047 5554 5f43 4f4e 5354 2e70 726f 6365   GUT_CONST.proce
+0000f440: 7373 5f6d 6573 7361 6765 2827 5265 6164  ss_message('Read
+0000f450: 206e 6f6e 2d73 7472 696e 6720 6974 656d   non-string item
+0000f460: 205b 7b7d 5d20 6672 6f6d 207b 7d27 2e66   [{}] from {}'.f
+0000f470: 6f72 6d61 7428 6c69 6e65 2c20 7061 7261  ormat(line, para
+0000f480: 6d65 7465 725f 6669 6c65 2929 0a20 2020  meter_file)).   
+0000f490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f4a0: 2020 2020 2073 656c 662e 6469 7361 626c       self.disabl
+0000f4b0: 655f 7061 7261 6d5f 7265 6164 2870 6172  e_param_read(par
+0000f4c0: 616d 6574 6572 5f66 696c 6529 0a20 2020  ameter_file).   
+0000f4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f4e0: 2020 2020 2072 6574 7572 6e0a 2020 2020       return.    
+0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f500: 6c69 6e65 203d 206c 696e 652e 7374 7269  line = line.stri
+0000f510: 7028 290a 2020 2020 2020 2020 2020 2020  p().            
+0000f520: 2020 2020 2020 2020 6c69 6e65 203d 206c          line = l
+0000f530: 696e 652e 7374 7269 7028 275c 7830 3027  ine.strip('\x00'
+0000f540: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000f550: 2020 2020 2020 6966 206e 6f74 206c 696e        if not lin
+0000f560: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0000f570: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
+0000f580: 522e 6465 6275 6728 274e 756c 6c20 6461  R.debug('Null da
+0000f590: 7461 2072 6563 6569 7665 642c 2075 7375  ta received, usu
+0000f5a0: 616c 6c79 2063 6175 7365 6420 6279 2069  ally caused by i
+0000f5b0: 6e76 616c 6964 2070 705f 6665 6174 7572  nvalid pp_featur
+0000f5c0: 6520 6d61 736b 2e27 290a 2020 2020 2020  e mask.').      
+0000f5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f5e0: 2020 636f 6e74 696e 7565 0a0a 2020 2020    continue..    
+0000f5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f600: 2320 4465 7465 726d 696e 6520 6461 7461  # Determine data
+0000f610: 2074 7970 6520 6672 6f6d 2068 6561 6465   type from heade
+0000f620: 7220 7661 6c75 652e 2041 6c73 6f20 7365  r value. Also se
+0000f630: 7420 6361 7264 2074 7970 6520 6672 6f6d  t card type from
+0000f640: 2068 6561 6465 7220 7479 7065 732e 0a20   header types.. 
+0000f650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f660: 2020 2069 6620 7265 2e66 756c 6c6d 6174     if re.fullmat
+0000f670: 6368 2827 4f44 5f2e 2a3a 2427 2c20 6c69  ch('OD_.*:$', li
+0000f680: 6e65 293a 0a20 2020 2020 2020 2020 2020  ne):.           
+0000f690: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000f6a0: 7265 2e66 756c 6c6d 6174 6368 2827 4f44  re.fullmatch('OD
+0000f6b0: 5f2e 434c 4b3a 2427 2c20 6c69 6e65 293a  _.CLK:$', line):
+0000f6c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f6d0: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0000f6e0: 7265 6e74 5f6d 6f64 6520 3d20 4f64 4d6f  rent_mode = OdMo
+0000f6f0: 6465 2e76 616c 7565 0a20 2020 2020 2020  de.value.       
+0000f700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f710: 2020 2020 2063 6c6b 5f6e 616d 6520 3d20       clk_name = 
+0000f720: 6c69 6e65 2e73 7472 6970 2829 0a20 2020  line.strip().   
+0000f730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f740: 2020 2020 2065 6c69 6620 7265 2e66 756c       elif re.ful
+0000f750: 6c6d 6174 6368 2827 4f44 5f56 4444 435f  lmatch('OD_VDDC_
+0000f760: 4355 5256 453a 2427 2c20 6c69 6e65 293a  CURVE:$', line):
+0000f770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f780: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0000f790: 7265 6e74 5f6d 6f64 6520 3d20 4f64 4d6f  rent_mode = OdMo
+0000f7a0: 6465 2e63 7572 7665 0a20 2020 2020 2020  de.curve.       
+0000f7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f7c0: 2020 2020 2073 656c 662e 7072 6d2e 6770       self.prm.gp
+0000f7d0: 755f 7479 7065 203d 2047 7075 5479 7065  u_type = GpuType
+0000f7e0: 2e43 7572 7665 5074 730a 2020 2020 2020  .CurvePts.      
+0000f7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f800: 2020 2020 2020 636c 6b5f 6e61 6d65 203d        clk_name =
+0000f810: 2027 270a 2020 2020 2020 2020 2020 2020   ''.            
+0000f820: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0000f830: 2072 652e 6675 6c6c 6d61 7463 6828 274f   re.fullmatch('O
+0000f840: 445f 5644 4447 4658 5f4f 4646 5345 543a  D_VDDGFX_OFFSET:
+0000f850: 2427 2c20 6c69 6e65 293a 0a20 2020 2020  $', line):.     
+0000f860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f870: 2020 2020 2020 2063 7572 7265 6e74 5f6d         current_m
+0000f880: 6f64 6520 3d20 4f64 4d6f 6465 2e6f 6666  ode = OdMode.off
+0000f890: 7365 740a 2020 2020 2020 2020 2020 2020  set.            
+0000f8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f8b0: 7365 6c66 2e70 726d 2e67 7075 5f74 7970  self.prm.gpu_typ
+0000f8c0: 6520 3d20 4770 7554 7970 652e 4f66 6673  e = GpuType.Offs
+0000f8d0: 6574 0a20 2020 2020 2020 2020 2020 2020  et.             
+0000f8e0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000f8f0: 6c6b 5f6e 616d 6520 3d20 2727 0a20 2020  lk_name = ''.   
+0000f900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f910: 2020 2020 2065 6c69 6620 7265 2e66 756c       elif re.ful
+0000f920: 6c6d 6174 6368 2827 4f44 5f52 414e 4745  lmatch('OD_RANGE
+0000f930: 3a24 272c 206c 696e 6529 3a0a 2020 2020  :$', line):.    
 0000f940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f960: 2020 2020 2020 2020 2020 2020 2020 4770                Gp
-0000f970: 7554 7970 652e 4375 7276 6550 7473 2c20  uType.CurvePts, 
-0000f980: 4770 7554 7970 652e 4f66 6673 6574 293a  GpuType.Offset):
-0000f990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f9a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000f9b0: 6c69 6e65 6974 656d 735f 6c65 6e20 3d3d  lineitems_len ==
-0000f9c0: 2033 3a0a 2020 2020 2020 2020 2020 2020   3:.            
-0000f9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f9e0: 2020 2020 7365 6c66 2e70 726d 2e67 7075      self.prm.gpu
-0000f9f0: 5f74 7970 6520 3d20 4770 7554 7970 652e  _type = GpuType.
-0000fa00: 5053 7461 7465 730a 2020 2020 2020 2020  PStates.        
-0000fa10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa20: 2020 2020 6966 206c 696e 6569 7465 6d73      if lineitems
-0000fa30: 5f6c 656e 203d 3d20 323a 0a20 2020 2020  _len == 2:.     
-0000fa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa50: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000fa60: 7072 6d2e 6770 755f 7479 7065 203d 2047  prm.gpu_type = G
-0000fa70: 7075 5479 7065 2e41 5055 0a20 2020 2020  puType.APU.     
-0000fa80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa90: 2020 2020 2020 2065 6c69 6620 6c69 6e65         elif line
-0000faa0: 6974 656d 735f 6c65 6e20 3e20 3320 6f72  items_len > 3 or
-0000fab0: 206c 696e 6569 7465 6d73 5f6c 656e 203c   lineitems_len <
-0000fac0: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
-0000fad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fae0: 2020 2020 4755 545f 434f 4e53 542e 7072      GUT_CONST.pr
-0000faf0: 6f63 6573 735f 6d65 7373 6167 6528 2745  ocess_message('E
-0000fb00: 7272 6f72 3a20 496e 7661 6c69 6420 7073  rror: Invalid ps
-0000fb10: 7461 7465 2065 6e74 7279 206c 656e 6774  tate entry lengt
-0000fb20: 6820 7b7d 2066 6f72 207b 7d3a 2027 2e66  h {} for {}: '.f
-0000fb30: 6f72 6d61 7428 0a20 2020 2020 2020 2020  ormat(.         
-0000fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb50: 2020 2020 2020 2020 2020 206c 696e 6569             linei
-0000fb60: 7465 6d73 5f6c 656e 2c20 6f73 2e70 6174  tems_len, os.pat
-0000fb70: 682e 6a6f 696e 2873 656c 662e 7072 6d2e  h.join(self.prm.
-0000fb80: 6361 7264 5f70 6174 682c 2027 7070 5f6f  card_path, 'pp_o
-0000fb90: 645f 636c 6b5f 766f 6c74 6167 6527 2929  d_clk_voltage'))
-0000fba0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000f950: 2020 2020 2020 2020 6375 7272 656e 745f          current_
+0000f960: 6d6f 6465 203d 204f 644d 6f64 652e 7261  mode = OdMode.ra
+0000f970: 6e67 650a 2020 2020 2020 2020 2020 2020  nge.            
+0000f980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f990: 636c 6b5f 6e61 6d65 203d 2027 270a 2020  clk_name = ''.  
+0000f9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9b0: 2020 2020 2020 636f 6e74 696e 7565 0a0a        continue..
+0000f9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f9d0: 2020 2020 2320 5370 6c69 7420 6461 7461      # Split data
+0000f9e0: 206c 696e 652e 0a20 2020 2020 2020 2020   line..         
+0000f9f0: 2020 2020 2020 2020 2020 206c 696e 6520             line 
+0000fa00: 3d20 7265 2e73 7562 2872 2740 272c 2027  = re.sub(r'@', '
+0000fa10: 2027 2c20 6c69 6e65 290a 2020 2020 2020   ', line).      
+0000fa20: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0000fa30: 6e65 6974 656d 733a 204c 6973 745b 616e  neitems: List[an
+0000fa40: 795d 203d 206c 696e 652e 7370 6c69 7428  y] = line.split(
+0000fa50: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000fa60: 2020 2020 2020 6966 206e 6f74 206c 696e        if not lin
+0000fa70: 6569 7465 6d73 3a20 636f 6e74 696e 7565  eitems: continue
+0000fa80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fa90: 2020 2020 206c 696e 6569 7465 6d73 5f6c       lineitems_l
+0000faa0: 656e 203d 206c 656e 286c 696e 6569 7465  en = len(lineite
+0000fab0: 6d73 290a 0a20 2020 2020 2020 2020 2020  ms)..           
+0000fac0: 2020 2020 2020 2020 2069 6620 6375 7272           if curr
+0000fad0: 656e 745f 6d6f 6465 203d 3d20 4f64 4d6f  ent_mode == OdMo
+0000fae0: 6465 2e76 616c 7565 3a0a 2020 2020 2020  de.value:.      
+0000faf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb00: 2020 2320 5665 7269 6679 2069 6620 6461    # Verify if da
+0000fb10: 7461 2066 6f72 6d61 7420 6d61 7463 6865  ta format matche
+0000fb20: 7320 7073 7461 7465 2074 7970 652e 0a20  s pstate type.. 
+0000fb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fb40: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
+0000fb50: 726d 2e67 7075 5f74 7970 6520 6e6f 7420  rm.gpu_type not 
+0000fb60: 696e 2028 4770 7554 7970 652e 5053 7461  in (GpuType.PSta
+0000fb70: 7465 732c 2047 7075 5479 7065 2e50 5374  tes, GpuType.PSt
+0000fb80: 6174 6573 4e45 2c20 4770 7554 7970 652e  atesNE, GpuType.
+0000fb90: 4150 552c 0a20 2020 2020 2020 2020 2020  APU,.           
+0000fba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000fbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fbc0: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
-0000fbd0: 496e 7661 6c69 6420 6c69 6e65 206c 656e  Invalid line len
-0000fbe0: 6774 6820 666f 7220 7073 7461 7465 206c  gth for pstate l
-0000fbf0: 696e 6520 6974 656d 3a20 2573 272c 206c  ine item: %s', l
-0000fc00: 696e 6529 0a20 2020 2020 2020 2020 2020  ine).           
-0000fc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc20: 2020 2020 2063 6f6e 7469 6e75 650a 0a20       continue.. 
+0000fbc0: 2020 2020 2020 2020 2020 4770 7554 7970            GpuTyp
+0000fbd0: 652e 4375 7276 6550 7473 2c20 4770 7554  e.CurvePts, GpuT
+0000fbe0: 7970 652e 4f66 6673 6574 293a 0a20 2020  ype.Offset):.   
+0000fbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc00: 2020 2020 2020 2020 2069 6620 6c69 6e65           if line
+0000fc10: 6974 656d 735f 6c65 6e20 3d3d 2033 3a0a  items_len == 3:.
+0000fc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000fc30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc40: 2020 2020 2020 2023 2052 6561 6420 696e         # Read in
-0000fc50: 2064 6174 6120 6261 7365 6420 6f6e 2064   data based on d
-0000fc60: 6174 6120 7479 7065 2e0a 2020 2020 2020  ata type..      
+0000fc40: 7365 6c66 2e70 726d 2e67 7075 5f74 7970  self.prm.gpu_typ
+0000fc50: 6520 3d20 4770 7554 7970 652e 5053 7461  e = GpuType.PSta
+0000fc60: 7465 730a 2020 2020 2020 2020 2020 2020  tes.            
 0000fc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc80: 2020 6c69 6e65 6974 656d 735b 305d 203d    lineitems[0] =
-0000fc90: 2069 6e74 2872 652e 7375 6228 273a 272c   int(re.sub(':',
-0000fca0: 2027 272c 206c 696e 6569 7465 6d73 5b30   '', lineitems[0
-0000fcb0: 5d29 290a 2020 2020 2020 2020 2020 2020  ])).            
-0000fcc0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-0000fcd0: 696e 6569 7465 6d73 5f6c 656e 203d 3d20  ineitems_len == 
-0000fce0: 323a 206c 696e 6569 7465 6d73 2e61 7070  2: lineitems.app
-0000fcf0: 656e 6428 272d 2729 0a20 2020 2020 2020  end('-').       
-0000fd00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd10: 2069 6620 636c 6b5f 6e61 6d65 203d 3d20   if clk_name == 
-0000fd20: 274f 445f 5343 4c4b 3a27 3a0a 2020 2020  'OD_SCLK:':.    
+0000fc80: 6966 206c 696e 6569 7465 6d73 5f6c 656e  if lineitems_len
+0000fc90: 203d 3d20 323a 0a20 2020 2020 2020 2020   == 2:.         
+0000fca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fcb0: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
+0000fcc0: 6770 755f 7479 7065 203d 2047 7075 5479  gpu_type = GpuTy
+0000fcd0: 7065 2e41 5055 0a20 2020 2020 2020 2020  pe.APU.         
+0000fce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fcf0: 2020 2065 6c69 6620 6c69 6e65 6974 656d     elif lineitem
+0000fd00: 735f 6c65 6e20 3e20 3320 6f72 206c 696e  s_len > 3 or lin
+0000fd10: 6569 7465 6d73 5f6c 656e 203c 2032 3a0a  eitems_len < 2:.
+0000fd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000fd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd40: 2020 2020 2020 2020 7365 6c66 2e73 636c          self.scl
-0000fd50: 6b5f 7374 6174 655b 6c69 6e65 6974 656d  k_state[lineitem
-0000fd60: 735b 305d 5d20 3d20 5b6c 696e 6569 7465  s[0]] = [lineite
-0000fd70: 6d73 5b31 5d2c 206c 696e 6569 7465 6d73  ms[1], lineitems
-0000fd80: 5b32 5d5d 0a20 2020 2020 2020 2020 2020  [2]].           
-0000fd90: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-0000fda0: 6620 636c 6b5f 6e61 6d65 203d 3d20 274f  f clk_name == 'O
-0000fdb0: 445f 4d43 4c4b 3a27 3a0a 2020 2020 2020  D_MCLK:':.      
-0000fdc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fdd0: 2020 2020 2020 7365 6c66 2e6d 636c 6b5f        self.mclk_
-0000fde0: 7374 6174 655b 6c69 6e65 6974 656d 735b  state[lineitems[
-0000fdf0: 305d 5d20 3d20 5b6c 696e 6569 7465 6d73  0]] = [lineitems
-0000fe00: 5b31 5d2c 206c 696e 6569 7465 6d73 5b32  [1], lineitems[2
-0000fe10: 5d5d 0a0a 2020 2020 2020 2020 2020 2020  ]]..            
-0000fe20: 2020 2020 2020 2020 656c 6966 2063 7572          elif cur
-0000fe30: 7265 6e74 5f6d 6f64 6520 3d3d 204f 644d  rent_mode == OdM
-0000fe40: 6f64 652e 6375 7276 653a 0a20 2020 2020  ode.curve:.     
-0000fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe60: 2020 206c 696e 6569 7465 6d73 5b30 5d20     lineitems[0] 
-0000fe70: 3d20 696e 7428 7265 2e73 7562 2827 3a27  = int(re.sub(':'
-0000fe80: 2c20 2727 2c20 6c69 6e65 6974 656d 735b  , '', lineitems[
-0000fe90: 305d 2929 0a20 2020 2020 2020 2020 2020  0])).           
-0000fea0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0000feb0: 662e 7664 6463 5f63 7572 7665 5b6c 696e  f.vddc_curve[lin
-0000fec0: 6569 7465 6d73 5b30 5d5d 203d 205b 6c69  eitems[0]] = [li
-0000fed0: 6e65 6974 656d 735b 315d 2c20 6c69 6e65  neitems[1], line
-0000fee0: 6974 656d 735b 325d 5d0a 0a20 2020 2020  items[2]]..     
-0000fef0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000ff00: 6c69 6620 6375 7272 656e 745f 6d6f 6465  lif current_mode
-0000ff10: 203d 3d20 4f64 4d6f 6465 2e6f 6666 7365   == OdMode.offse
-0000ff20: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-0000ff30: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-0000ff40: 696e 7374 616e 6365 286c 696e 6569 7465  instance(lineite
-0000ff50: 6d73 5b30 5d2c 2073 7472 293a 0a20 2020  ms[0], str):.   
-0000ff60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ff70: 2020 2020 2020 2020 2069 6620 6c69 6e65           if line
-0000ff80: 6974 656d 735b 305d 2e69 736e 756d 6572  items[0].isnumer
-0000ff90: 6963 2829 3a0a 2020 2020 2020 2020 2020  ic():.          
-0000ffa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ffb0: 2020 2020 2020 7365 6c66 2e70 726d 2e76        self.prm.v
-0000ffc0: 6464 6766 785f 6f66 6673 6574 203d 2069  ddgfx_offset = i
-0000ffd0: 6e74 286c 696e 6569 7465 6d73 5b30 5d29  nt(lineitems[0])
+0000fd40: 4755 545f 434f 4e53 542e 7072 6f63 6573  GUT_CONST.proces
+0000fd50: 735f 6d65 7373 6167 6528 2745 7272 6f72  s_message('Error
+0000fd60: 3a20 496e 7661 6c69 6420 7073 7461 7465  : Invalid pstate
+0000fd70: 2065 6e74 7279 206c 656e 6774 6820 7b7d   entry length {}
+0000fd80: 2066 6f72 207b 7d3a 2027 2e66 6f72 6d61   for {}: '.forma
+0000fd90: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+0000fda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fdb0: 2020 2020 2020 206c 696e 6569 7465 6d73         lineitems
+0000fdc0: 5f6c 656e 2c20 6f73 2e70 6174 682e 6a6f  _len, os.path.jo
+0000fdd0: 696e 2873 656c 662e 7072 6d2e 6361 7264  in(self.prm.card
+0000fde0: 5f70 6174 682c 2027 7070 5f6f 645f 636c  _path, 'pp_od_cl
+0000fdf0: 6b5f 766f 6c74 6167 6527 2929 290a 2020  k_voltage'))).  
+0000fe00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe10: 2020 2020 2020 2020 2020 2020 2020 4c4f                LO
+0000fe20: 4747 4552 2e64 6562 7567 2827 496e 7661  GGER.debug('Inva
+0000fe30: 6c69 6420 6c69 6e65 206c 656e 6774 6820  lid line length 
+0000fe40: 666f 7220 7073 7461 7465 206c 696e 6520  for pstate line 
+0000fe50: 6974 656d 3a20 2573 272c 206c 696e 6529  item: %s', line)
+0000fe60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fe70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fe80: 2063 6f6e 7469 6e75 650a 0a20 2020 2020   continue..     
+0000fe90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fea0: 2020 2023 2052 6561 6420 696e 2064 6174     # Read in dat
+0000feb0: 6120 6261 7365 6420 6f6e 2064 6174 6120  a based on data 
+0000fec0: 7479 7065 2e0a 2020 2020 2020 2020 2020  type..          
+0000fed0: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0000fee0: 6e65 6974 656d 735b 305d 203d 2069 6e74  neitems[0] = int
+0000fef0: 2872 652e 7375 6228 273a 272c 2027 272c  (re.sub(':', '',
+0000ff00: 206c 696e 6569 7465 6d73 5b30 5d29 290a   lineitems[0])).
+0000ff10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff20: 2020 2020 2020 2020 6966 206c 696e 6569          if linei
+0000ff30: 7465 6d73 5f6c 656e 203d 3d20 323a 206c  tems_len == 2: l
+0000ff40: 696e 6569 7465 6d73 2e61 7070 656e 6428  ineitems.append(
+0000ff50: 272d 2729 0a20 2020 2020 2020 2020 2020  '-').           
+0000ff60: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000ff70: 636c 6b5f 6e61 6d65 203d 3d20 274f 445f  clk_name == 'OD_
+0000ff80: 5343 4c4b 3a27 3a0a 2020 2020 2020 2020  SCLK:':.        
+0000ff90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ffa0: 2020 2020 7365 6c66 2e73 636c 6b5f 7374      self.sclk_st
+0000ffb0: 6174 655b 6c69 6e65 6974 656d 735b 305d  ate[lineitems[0]
+0000ffc0: 5d20 3d20 5b6c 696e 6569 7465 6d73 5b31  ] = [lineitems[1
+0000ffd0: 5d2c 206c 696e 6569 7465 6d73 5b32 5d5d  ], lineitems[2]]
 0000ffe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fff0: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-00010000: 6620 7265 2e66 756c 6c6d 6174 6368 2847  f re.fullmatch(G
-00010010: 5554 5f43 4f4e 5354 2e50 4154 5445 524e  UT_CONST.PATTERN
-00010020: 535b 274e 554d 5f45 4e44 5f49 4e5f 414c  S['NUM_END_IN_AL
-00010030: 5048 4127 5d2c 206c 696e 6569 7465 6d73  PHA'], lineitems
-00010040: 5b30 5d29 3a0a 2020 2020 2020 2020 2020  [0]):.          
-00010050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010060: 2020 2020 2020 7365 6c66 2e70 726d 2e76        self.prm.v
-00010070: 6464 6766 785f 6f66 6673 6574 203d 2069  ddgfx_offset = i
-00010080: 6e74 2872 652e 7375 6228 5041 5454 4552  nt(re.sub(PATTER
-00010090: 4e53 5b27 454e 445f 494e 5f41 4c50 4841  NS['END_IN_ALPHA
-000100a0: 275d 2c20 2727 2c20 6c69 6e65 6974 656d  '], '', lineitem
-000100b0: 735b 305d 2929 0a20 2020 2020 2020 2020  s[0])).         
-000100c0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000100d0: 6c69 6620 6973 696e 7374 616e 6365 286c  lif isinstance(l
-000100e0: 696e 6569 7465 6d73 5b30 5d2c 2069 6e74  ineitems[0], int
-000100f0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00010100: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00010110: 656c 662e 7072 6d2e 7664 6467 6678 5f6f  elf.prm.vddgfx_o
-00010120: 6666 7365 7420 3d20 6c69 6e65 6974 656d  ffset = lineitem
-00010130: 735b 305d 0a0a 2020 2020 2020 2020 2020  s[0]..          
-00010140: 2020 2020 2020 2020 2020 656c 6966 2063            elif c
-00010150: 7572 7265 6e74 5f6d 6f64 6520 3d3d 204f  urrent_mode == O
-00010160: 644d 6f64 652e 7261 6e67 653a 0a20 2020  dMode.range:.   
-00010170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010180: 2020 2020 2069 6620 6c69 6e65 6974 656d       if lineitem
-00010190: 735b 305d 203d 3d20 2753 434c 4b3a 273a  s[0] == 'SCLK:':
-000101a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000101b0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000101c0: 662e 7072 6d2e 7363 6c6b 5f66 5f72 616e  f.prm.sclk_f_ran
-000101d0: 6765 203d 205b 6c69 6e65 6974 656d 735b  ge = [lineitems[
-000101e0: 315d 2c20 6c69 6e65 6974 656d 735b 325d  1], lineitems[2]
-000101f0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00010200: 2020 2020 2020 2020 2020 656c 6966 206c            elif l
-00010210: 696e 6569 7465 6d73 5b30 5d20 3d3d 2027  ineitems[0] == '
-00010220: 4d43 4c4b 3a27 3a0a 2020 2020 2020 2020  MCLK:':.        
-00010230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010240: 2020 2020 7365 6c66 2e70 726d 2e6d 636c      self.prm.mcl
-00010250: 6b5f 665f 7261 6e67 6520 3d20 5b6c 696e  k_f_range = [lin
-00010260: 6569 7465 6d73 5b31 5d2c 206c 696e 6569  eitems[1], linei
-00010270: 7465 6d73 5b32 5d5d 0a20 2020 2020 2020  tems[2]].       
-00010280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010290: 2065 6c69 6620 6c69 6e65 6974 656d 735b   elif lineitems[
-000102a0: 305d 203d 3d20 2756 4444 433a 273a 0a20  0] == 'VDDC:':. 
+0000fff0: 2020 2020 2020 2020 2065 6c69 6620 636c           elif cl
+00010000: 6b5f 6e61 6d65 203d 3d20 274f 445f 4d43  k_name == 'OD_MC
+00010010: 4c4b 3a27 3a0a 2020 2020 2020 2020 2020  LK:':.          
+00010020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010030: 2020 7365 6c66 2e6d 636c 6b5f 7374 6174    self.mclk_stat
+00010040: 655b 6c69 6e65 6974 656d 735b 305d 5d20  e[lineitems[0]] 
+00010050: 3d20 5b6c 696e 6569 7465 6d73 5b31 5d2c  = [lineitems[1],
+00010060: 206c 696e 6569 7465 6d73 5b32 5d5d 0a0a   lineitems[2]]..
+00010070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010080: 2020 2020 656c 6966 2063 7572 7265 6e74      elif current
+00010090: 5f6d 6f64 6520 3d3d 204f 644d 6f64 652e  _mode == OdMode.
+000100a0: 6375 7276 653a 0a20 2020 2020 2020 2020  curve:.         
+000100b0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+000100c0: 696e 6569 7465 6d73 5b30 5d20 3d20 696e  ineitems[0] = in
+000100d0: 7428 7265 2e73 7562 2827 3a27 2c20 2727  t(re.sub(':', ''
+000100e0: 2c20 6c69 6e65 6974 656d 735b 305d 2929  , lineitems[0]))
+000100f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010100: 2020 2020 2020 2020 2073 656c 662e 7664           self.vd
+00010110: 6463 5f63 7572 7665 5b6c 696e 6569 7465  dc_curve[lineite
+00010120: 6d73 5b30 5d5d 203d 205b 6c69 6e65 6974  ms[0]] = [lineit
+00010130: 656d 735b 315d 2c20 6c69 6e65 6974 656d  ems[1], lineitem
+00010140: 735b 325d 5d0a 0a20 2020 2020 2020 2020  s[2]]..         
+00010150: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00010160: 6375 7272 656e 745f 6d6f 6465 203d 3d20  current_mode == 
+00010170: 4f64 4d6f 6465 2e6f 6666 7365 743a 0a20  OdMode.offset:. 
+00010180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010190: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+000101a0: 616e 6365 286c 696e 6569 7465 6d73 5b30  ance(lineitems[0
+000101b0: 5d2c 2073 7472 293a 0a20 2020 2020 2020  ], str):.       
+000101c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101d0: 2020 2020 2069 6620 6c69 6e65 6974 656d       if lineitem
+000101e0: 735b 305d 2e69 736e 756d 6572 6963 2829  s[0].isnumeric()
+000101f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010210: 2020 7365 6c66 2e70 726d 2e76 6464 6766    self.prm.vddgf
+00010220: 785f 6f66 6673 6574 203d 2069 6e74 286c  x_offset = int(l
+00010230: 696e 6569 7465 6d73 5b30 5d29 0a20 2020  ineitems[0]).   
+00010240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010250: 2020 2020 2020 2020 2065 6c69 6620 7265           elif re
+00010260: 2e66 756c 6c6d 6174 6368 2847 5554 5f43  .fullmatch(GUT_C
+00010270: 4f4e 5354 2e50 4154 5445 524e 535b 504b  ONST.PATTERNS[PK
+00010280: 2e4e 554d 5f45 4e44 5f49 4e5f 414c 5048  .NUM_END_IN_ALPH
+00010290: 415d 2c20 6c69 6e65 6974 656d 735b 305d  A], lineitems[0]
+000102a0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
 000102b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000102c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000102d0: 7072 6d2e 7664 6463 5f72 616e 6765 203d  prm.vddc_range =
-000102e0: 205b 6c69 6e65 6974 656d 735b 315d 2c20   [lineitems[1], 
-000102f0: 6c69 6e65 6974 656d 735b 325d 5d0a 2020  lineitems[2]].  
-00010300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010310: 2020 2020 2020 656c 6966 2072 652e 6675        elif re.fu
-00010320: 6c6c 6d61 7463 6828 2756 4444 435f 4355  llmatch('VDDC_CU
-00010330: 5256 455f 2e2a 272c 206c 696e 6529 3a0a  RVE_.*', line):.
-00010340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010350: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00010360: 656e 286c 696e 6569 7465 6d73 2920 3d3d  en(lineitems) ==
-00010370: 2033 3a0a 2020 2020 2020 2020 2020 2020   3:.            
-00010380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010390: 2020 2020 696e 6465 7820 3d20 7265 2e73      index = re.s
-000103a0: 7562 2872 2756 4444 435f 4355 5256 455f  ub(r'VDDC_CURVE_
-000103b0: 2e2a 5c5b 272c 2027 272c 206c 696e 6569  .*\[', '', linei
-000103c0: 7465 6d73 5b30 5d29 0a20 2020 2020 2020  tems[0]).       
+000102c0: 2020 2073 656c 662e 7072 6d2e 7664 6467     self.prm.vddg
+000102d0: 6678 5f6f 6666 7365 7420 3d20 696e 7428  fx_offset = int(
+000102e0: 7265 2e73 7562 2850 4154 5445 524e 535b  re.sub(PATTERNS[
+000102f0: 504b 2e45 4e44 5f49 4e5f 414c 5048 415d  PK.END_IN_ALPHA]
+00010300: 2c20 2727 2c20 6c69 6e65 6974 656d 735b  , '', lineitems[
+00010310: 305d 2929 0a20 2020 2020 2020 2020 2020  0])).           
+00010320: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
+00010330: 6620 6973 696e 7374 616e 6365 286c 696e  f isinstance(lin
+00010340: 6569 7465 6d73 5b30 5d2c 2069 6e74 293a  eitems[0], int):
+00010350: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010360: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00010370: 662e 7072 6d2e 7664 6467 6678 5f6f 6666  f.prm.vddgfx_off
+00010380: 7365 7420 3d20 6c69 6e65 6974 656d 735b  set = lineitems[
+00010390: 305d 0a0a 2020 2020 2020 2020 2020 2020  0]..            
+000103a0: 2020 2020 2020 2020 656c 6966 2063 7572          elif cur
+000103b0: 7265 6e74 5f6d 6f64 6520 3d3d 204f 644d  rent_mode == OdM
+000103c0: 6f64 652e 7261 6e67 653a 0a20 2020 2020  ode.range:.     
 000103d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000103e0: 2020 2020 2020 2020 2069 6e64 6578 203d           index =
-000103f0: 2072 652e 7375 6228 7227 5d2e 2a27 2c20   re.sub(r'].*', 
-00010400: 2727 2c20 696e 6465 7829 0a20 2020 2020  '', index).     
-00010410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010420: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-00010430: 7420 696e 6465 782e 6973 6e75 6d65 7269  t index.isnumeri
-00010440: 6328 293a 0a20 2020 2020 2020 2020 2020  c():.           
+000103e0: 2020 2069 6620 6c69 6e65 6974 656d 735b     if lineitems[
+000103f0: 305d 203d 3d20 2753 434c 4b3a 273a 0a20  0] == 'SCLK:':. 
+00010400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010410: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010420: 7072 6d2e 7363 6c6b 5f66 5f72 616e 6765  prm.sclk_f_range
+00010430: 203d 205b 6c69 6e65 6974 656d 735b 315d   = [lineitems[1]
+00010440: 2c20 6c69 6e65 6974 656d 735b 325d 5d0a  , lineitems[2]].
 00010450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010460: 2020 2020 2020 2020 2047 5554 5f43 4f4e           GUT_CON
-00010470: 5354 2e70 726f 6365 7373 5f6d 6573 7361  ST.process_messa
-00010480: 6765 2827 4572 726f 723a 2049 6e76 616c  ge('Error: Inval
-00010490: 6964 2069 6e64 6578 2066 6f72 206c 696e  id index for lin
-000104a0: 6520 6974 656d 3a20 7b7d 272e 666f 726d  e item: {}'.form
-000104b0: 6174 286c 696e 6529 290a 2020 2020 2020  at(line)).      
-000104c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000104d0: 2020 2020 2020 2020 2020 2020 2020 4c4f                LO
-000104e0: 4747 4552 2e64 6562 7567 2827 496e 7661  GGER.debug('Inva
-000104f0: 6c69 6420 696e 6465 7820 666f 7220 7073  lid index for ps
-00010500: 7461 7465 206c 696e 6520 6974 656d 3a20  tate line item: 
-00010510: 2573 272c 206c 696e 6529 0a20 2020 2020  %s', line).     
-00010520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010530: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00010540: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
-00010550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010560: 2020 2020 2020 2020 696e 6465 7820 3d20          index = 
-00010570: 696e 7428 696e 6465 7829 0a20 2020 2020  int(index).     
-00010580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010590: 2020 2020 2020 2020 2020 2070 6172 616d             param
-000105a0: 203d 2072 652e 7375 6228 7227 5644 4443   = re.sub(r'VDDC
-000105b0: 5f43 5552 5645 5f27 2c20 2727 2c20 6c69  _CURVE_', '', li
-000105c0: 6e65 6974 656d 735b 305d 290a 2020 2020  neitems[0]).    
-000105d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105e0: 2020 2020 2020 2020 2020 2020 7061 7261              para
-000105f0: 6d20 3d20 7265 2e73 7562 2872 275c 5b5c  m = re.sub(r'\[\
-00010600: 645d 3a27 2c20 2727 2c20 7061 7261 6d29  d]:', '', param)
-00010610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010630: 204c 4f47 4745 522e 6465 6275 6728 2743   LOGGER.debug('C
-00010640: 7572 7665 3a20 696e 6465 783a 2025 7320  urve: index: %s 
-00010650: 7061 7261 6d3a 2025 732c 2076 616c 3120  param: %s, val1 
-00010660: 2573 2c20 7661 6c32 3a20 2573 272c 0a20  %s, val2: %s',. 
+00010460: 2020 2020 2020 2020 656c 6966 206c 696e          elif lin
+00010470: 6569 7465 6d73 5b30 5d20 3d3d 2027 4d43  eitems[0] == 'MC
+00010480: 4c4b 3a27 3a0a 2020 2020 2020 2020 2020  LK:':.          
+00010490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000104a0: 2020 7365 6c66 2e70 726d 2e6d 636c 6b5f    self.prm.mclk_
+000104b0: 665f 7261 6e67 6520 3d20 5b6c 696e 6569  f_range = [linei
+000104c0: 7465 6d73 5b31 5d2c 206c 696e 6569 7465  tems[1], lineite
+000104d0: 6d73 5b32 5d5d 0a20 2020 2020 2020 2020  ms[2]].         
+000104e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000104f0: 6c69 6620 6c69 6e65 6974 656d 735b 305d  lif lineitems[0]
+00010500: 203d 3d20 2756 4444 433a 273a 0a20 2020   == 'VDDC:':.   
+00010510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010520: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00010530: 6d2e 7664 6463 5f72 616e 6765 203d 205b  m.vddc_range = [
+00010540: 6c69 6e65 6974 656d 735b 315d 2c20 6c69  lineitems[1], li
+00010550: 6e65 6974 656d 735b 325d 5d0a 2020 2020  neitems[2]].    
+00010560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010570: 2020 2020 656c 6966 2072 652e 6675 6c6c      elif re.full
+00010580: 6d61 7463 6828 2756 4444 435f 4355 5256  match('VDDC_CURV
+00010590: 455f 2e2a 272c 206c 696e 6529 3a0a 2020  E_.*', line):.  
+000105a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000105b0: 2020 2020 2020 2020 2020 6966 206c 656e            if len
+000105c0: 286c 696e 6569 7465 6d73 2920 3d3d 2033  (lineitems) == 3
+000105d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000105e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000105f0: 2020 696e 6465 7820 3d20 7265 2e73 7562    index = re.sub
+00010600: 2872 2756 4444 435f 4355 5256 455f 2e2a  (r'VDDC_CURVE_.*
+00010610: 5c5b 272c 2027 272c 206c 696e 6569 7465  \[', '', lineite
+00010620: 6d73 5b30 5d29 0a20 2020 2020 2020 2020  ms[0]).         
+00010630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010640: 2020 2020 2020 2069 6e64 6578 203d 2072         index = r
+00010650: 652e 7375 6228 7227 5d2e 2a27 2c20 2727  e.sub(r'].*', ''
+00010660: 2c20 696e 6465 7829 0a20 2020 2020 2020  , index).       
 00010670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010690: 2020 2020 2020 2020 2020 2020 696e 6465              inde
-000106a0: 782c 2070 6172 616d 2c20 6c69 6e65 6974  x, param, lineit
-000106b0: 656d 735b 315d 2c20 6c69 6e65 6974 656d  ems[1], lineitem
-000106c0: 735b 325d 290a 2020 2020 2020 2020 2020  s[2]).          
-000106d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000106e0: 2020 2020 2020 6966 2069 6e64 6578 2069        if index i
-000106f0: 6e20 7365 6c66 2e76 6464 635f 6375 7276  n self.vddc_curv
-00010700: 655f 7261 6e67 653a 0a20 2020 2020 2020  e_range:.       
-00010710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010720: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00010730: 662e 7664 6463 5f63 7572 7665 5f72 616e  f.vddc_curve_ran
-00010740: 6765 5b69 6e64 6578 5d2e 7570 6461 7465  ge[index].update
-00010750: 287b 7061 7261 6d3a 205b 6c69 6e65 6974  ({param: [lineit
-00010760: 656d 735b 315d 2c20 6c69 6e65 6974 656d  ems[1], lineitem
-00010770: 735b 325d 5d7d 290a 2020 2020 2020 2020  s[2]]}).        
+00010680: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00010690: 696e 6465 782e 6973 6e75 6d65 7269 6328  index.isnumeric(
+000106a0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+000106b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000106c0: 2020 2020 2020 2047 5554 5f43 4f4e 5354         GUT_CONST
+000106d0: 2e70 726f 6365 7373 5f6d 6573 7361 6765  .process_message
+000106e0: 2827 4572 726f 723a 2049 6e76 616c 6964  ('Error: Invalid
+000106f0: 2069 6e64 6578 2066 6f72 206c 696e 6520   index for line 
+00010700: 6974 656d 3a20 7b7d 272e 666f 726d 6174  item: {}'.format
+00010710: 286c 696e 6529 290a 2020 2020 2020 2020  (line)).        
+00010720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010730: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+00010740: 4552 2e64 6562 7567 2827 496e 7661 6c69  ER.debug('Invali
+00010750: 6420 696e 6465 7820 666f 7220 7073 7461  d index for psta
+00010760: 7465 206c 696e 6520 6974 656d 3a20 2573  te line item: %s
+00010770: 272c 206c 696e 6529 0a20 2020 2020 2020  ', line).       
 00010780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010790: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000107a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010790: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+000107a0: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
 000107b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000107c0: 2020 7365 6c66 2e76 6464 635f 6375 7276    self.vddc_curv
-000107d0: 655f 7261 6e67 655b 696e 6465 785d 203d  e_range[index] =
-000107e0: 207b 7d0a 2020 2020 2020 2020 2020 2020   {}.            
-000107f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010800: 2020 2020 2020 2020 7365 6c66 2e76 6464          self.vdd
-00010810: 635f 6375 7276 655f 7261 6e67 655b 696e  c_curve_range[in
-00010820: 6465 785d 2e75 7064 6174 6528 7b70 6172  dex].update({par
-00010830: 616d 3a20 5b6c 696e 6569 7465 6d73 5b31  am: [lineitems[1
-00010840: 5d2c 206c 696e 6569 7465 6d73 5b32 5d5d  ], lineitems[2]]
-00010850: 7d29 0a20 2020 2020 2020 2020 2020 2020  }).             
-00010860: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00010870: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00010880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010890: 2020 2020 2047 5554 5f43 4f4e 5354 2e70       GUT_CONST.p
-000108a0: 726f 6365 7373 5f6d 6573 7361 6765 2827  rocess_message('
-000108b0: 4572 726f 723a 2049 6e76 616c 6964 2043  Error: Invalid C
-000108c0: 5552 5645 2065 6e74 7279 3a20 7b7d 272e  URVE entry: {}'.
-000108d0: 666f 726d 6174 2866 696c 655f 7061 7468  format(file_path
-000108e0: 2929 0a0a 2020 2020 2020 2020 6578 6365  ))..        exce
-000108f0: 7074 204f 5345 7272 6f72 2061 7320 6578  pt OSError as ex
-00010900: 6365 7074 5f65 7272 3a0a 2020 2020 2020  cept_err:.      
-00010910: 2020 2020 2020 4c4f 4747 4552 2e64 6562        LOGGER.deb
-00010920: 7567 2827 4572 726f 723a 2073 7973 7465  ug('Error: syste
-00010930: 6d20 7375 7070 6f72 7420 6973 7375 6520  m support issue 
-00010940: 666f 7220 2573 2065 7272 6f72 3a20 5b25  for %s error: [%
-00010950: 735d 272c 2073 656c 662e 7072 6d2e 7063  s]', self.prm.pc
-00010960: 6965 5f69 642c 2065 7863 6570 745f 6572  ie_id, except_er
-00010970: 7229 0a20 2020 2020 2020 2020 2020 2070  r).            p
-00010980: 7269 6e74 2827 4572 726f 723a 2053 7973  rint('Error: Sys
-00010990: 7465 6d20 7375 7070 6f72 7420 6973 7375  tem support issu
-000109a0: 6520 666f 7220 4750 5520 5b7b 7d5d 272e  e for GPU [{}]'.
-000109b0: 666f 726d 6174 2873 656c 662e 7072 6d2e  format(self.prm.
-000109c0: 7063 6965 5f69 6429 290a 2020 2020 2020  pcie_id)).      
-000109d0: 2020 2020 2020 7365 6c66 2e64 6973 6162        self.disab
-000109e0: 6c65 5f70 6172 616d 5f72 6561 6428 7061  le_param_read(pa
-000109f0: 7261 6d65 7465 725f 6669 6c65 290a 0a20  rameter_file).. 
-00010a00: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
-00010a10: 726d 2e67 7075 5f74 7970 6520 3d3d 2047  rm.gpu_type == G
-00010a20: 7075 5479 7065 2e43 7572 7665 5074 733a  puType.CurvePts:
-00010a30: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00010a40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00010a50: 2020 6d61 785f 7374 6174 6520 3d20 6d61    max_state = ma
-00010a60: 7828 7365 6c66 2e76 6464 635f 6375 7276  x(self.vddc_curv
-00010a70: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00010a80: 2020 206d 696e 5f6c 696d 203d 206d 696e     min_lim = min
-00010a90: 2873 656c 662e 7664 6463 5f63 7572 7665  (self.vddc_curve
-00010aa0: 5f72 616e 6765 5b30 5d5b 2756 4f4c 5427  _range[0]['VOLT'
-00010ab0: 5d5b 305d 2c20 7365 6c66 2e76 6464 635f  ][0], self.vddc_
-00010ac0: 6375 7276 655b 305d 5b31 5d29 0a20 2020  curve[0][1]).   
-00010ad0: 2020 2020 2020 2020 2020 2020 206d 6178               max
-00010ae0: 5f6c 696d 203d 206d 6178 2873 656c 662e  _lim = max(self.
-00010af0: 7664 6463 5f63 7572 7665 5f72 616e 6765  vddc_curve_range
-00010b00: 5b6d 6178 5f73 7461 7465 5d5b 2756 4f4c  [max_state]['VOL
-00010b10: 5427 5d5b 315d 2c20 7365 6c66 2e76 6464  T'][1], self.vdd
-00010b20: 635f 6375 7276 655b 6d61 785f 7374 6174  c_curve[max_stat
-00010b30: 655d 5b31 5d29 0a20 2020 2020 2020 2020  e][1]).         
-00010b40: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
-00010b50: 7664 6463 5f72 616e 6765 203d 205b 6d69  vddc_range = [mi
-00010b60: 6e5f 6c69 6d2c 206d 6178 5f6c 696d 5d0a  n_lim, max_lim].
-00010b70: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00010b80: 7074 2028 4b65 7945 7272 6f72 2c20 5661  pt (KeyError, Va
-00010b90: 6c75 6545 7272 6f72 293a 0a20 2020 2020  lueError):.     
-00010ba0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00010bb0: 7072 6d2e 7664 6463 5f72 616e 6765 203d  prm.vddc_range =
-00010bc0: 205b 4e6f 6e65 2c20 4e6f 6e65 5d0a 0a20   [None, None].. 
-00010bd0: 2020 2064 6566 2072 6561 645f 6770 755f     def read_gpu_
-00010be0: 7365 6e73 6f72 2873 656c 662c 2070 6172  sensor(self, par
-00010bf0: 616d 6574 6572 3a20 7374 722c 2076 656e  ameter: str, ven
-00010c00: 646f 723a 2047 7075 5665 6e64 6f72 203d  dor: GpuVendor =
-00010c10: 2047 7075 5665 6e64 6f72 2e41 4d44 2c0a   GpuVendor.AMD,.
-00010c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010c30: 2020 2020 2020 2020 7365 6e73 6f72 5f74          sensor_t
-00010c40: 7970 653a 2073 7472 203d 2027 4857 4d4f  ype: str = 'HWMO
-00010c50: 4e27 2920 2d3e 2055 6e69 6f6e 5b4e 6f6e  N') -> Union[Non
-00010c60: 652c 2062 6f6f 6c2c 2069 6e74 2c20 7374  e, bool, int, st
-00010c70: 722c 2074 7570 6c65 2c20 6c69 7374 2c20  r, tuple, list, 
-00010c80: 6469 6374 5d3a 0a20 2020 2020 2020 2022  dict]:.        "
-00010c90: 2222 0a20 2020 2020 2020 2052 6561 6420  "".        Read 
-00010ca0: 7365 6e73 6f72 2066 6f72 2074 6865 2067  sensor for the g
-00010cb0: 6976 656e 2070 6172 616d 6574 6572 206e  iven parameter n
-00010cc0: 616d 652e 2020 5072 6f63 6573 7320 7065  ame.  Process pe
-00010cd0: 7220 7365 6e73 6f72 5f64 6574 6169 6c73  r sensor_details
-00010ce0: 2064 6963 7420 7573 696e 6720 7468 6520   dict using the 
-00010cf0: 7370 6563 6966 6965 640a 2020 2020 2020  specified.      
-00010d00: 2020 7665 6e64 6f72 206e 616d 6520 616e    vendor name an
-00010d10: 6420 7365 6e73 6f72 5f74 7970 652e 0a0a  d sensor_type...
-00010d20: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
-00010d30: 6172 616d 6574 6572 3a20 4770 7549 7465  arameter: GpuIte
-00010d40: 6d20 7061 7261 6d65 7465 7220 6e61 6d65  m parameter name
-00010d50: 2028 414d 4429 0a20 2020 2020 2020 203a   (AMD).        :
-00010d60: 7061 7261 6d20 7665 6e64 6f72 3a20 4750  param vendor: GP
-00010d70: 5520 7665 6e64 6f72 206e 616d 6520 656e  U vendor name en
-00010d80: 756d 206f 626a 6563 740a 2020 2020 2020  um object.      
-00010d90: 2020 3a70 6172 616d 2073 656e 736f 725f    :param sensor_
-00010da0: 7479 7065 3a20 4750 5520 7365 6e73 6f72  type: GPU sensor
-00010db0: 206e 616d 6520 2848 574d 4f4e 206f 7220   name (HWMON or 
-00010dc0: 4445 5649 4345 290a 2020 2020 2020 2020  DEVICE).        
-00010dd0: 3a72 6574 7572 6e3a 2056 616c 7565 2066  :return: Value f
-00010de0: 726f 6d20 7265 6164 696e 6720 7365 6e73  rom reading sens
-00010df0: 6f72 2e0a 2020 2020 2020 2020 2222 220a  or..        """.
-00010e00: 2020 2020 2020 2020 6966 2076 656e 646f          if vendo
-00010e10: 7220 696e 2028 4770 7556 656e 646f 722e  r in (GpuVendor.
-00010e20: 414d 442c 2047 7075 5665 6e64 6f72 2e50  AMD, GpuVendor.P
-00010e30: 4349 4529 3a0a 2020 2020 2020 2020 2020  CIE):.          
-00010e40: 2020 7265 7475 726e 2073 656c 662e 7265    return self.re
-00010e50: 6164 5f67 7075 5f73 656e 736f 725f 6765  ad_gpu_sensor_ge
-00010e60: 6e65 7269 6328 7061 7261 6d65 7465 722c  neric(parameter,
-00010e70: 2076 656e 646f 722c 2073 656e 736f 725f   vendor, sensor_
-00010e80: 7479 7065 290a 2020 2020 2020 2020 6966  type).        if
-00010e90: 2076 656e 646f 7220 3d3d 2047 7075 5665   vendor == GpuVe
-00010ea0: 6e64 6f72 2e4e 5649 4449 413a 0a20 2020  ndor.NVIDIA:.   
-00010eb0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00010ec0: 7365 6c66 2e72 6561 645f 6770 755f 7365  self.read_gpu_se
-00010ed0: 6e73 6f72 5f6e 7628 7061 7261 6d65 7465  nsor_nv(paramete
-00010ee0: 7229 0a20 2020 2020 2020 2047 5554 5f43  r).        GUT_C
-00010ef0: 4f4e 5354 2e70 726f 6365 7373 5f6d 6573  ONST.process_mes
-00010f00: 7361 6765 2827 4572 726f 723a 2049 6e76  sage('Error: Inv
-00010f10: 616c 6964 2076 656e 646f 7220 5b7b 7d5d  alid vendor [{}]
-00010f20: 272e 666f 726d 6174 2876 656e 646f 7229  '.format(vendor)
-00010f30: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00010f40: 204e 6f6e 650a 0a20 2020 2064 6566 2072   None..    def r
-00010f50: 6561 645f 6770 755f 7365 6e73 6f72 5f6e  ead_gpu_sensor_n
-00010f60: 7628 7365 6c66 2c20 7061 7261 6d65 7465  v(self, paramete
-00010f70: 723a 2073 7472 2920 2d3e 2055 6e69 6f6e  r: str) -> Union
-00010f80: 5b4e 6f6e 652c 2062 6f6f 6c2c 2069 6e74  [None, bool, int
-00010f90: 2c20 7374 722c 2074 7570 6c65 2c20 6c69  , str, tuple, li
-00010fa0: 7374 2c20 6469 6374 5d3a 0a20 2020 2020  st, dict]:.     
-00010fb0: 2020 2022 2222 0a20 2020 2020 2020 2046     """.        F
-00010fc0: 756e 6374 696f 6e20 746f 2072 6561 6420  unction to read 
-00010fd0: 6120 7369 6e67 6c65 2073 656e 736f 7220  a single sensor 
-00010fe0: 6672 6f6d 204e 5620 4750 552e 0a0a 2020  from NV GPU...  
-00010ff0: 2020 2020 2020 3a70 6172 616d 2070 6172        :param par
-00011000: 616d 6574 6572 3a20 2054 6172 6765 7420  ameter:  Target 
-00011010: 7061 7261 6d65 7465 7220 666f 7220 7265  parameter for re
-00011020: 6164 696e 670a 2020 2020 2020 2020 3a72  ading.        :r
-00011030: 6574 7572 6e3a 2072 6561 6420 7265 7375  eturn: read resu
-00011040: 6c74 730a 2020 2020 2020 2020 2222 220a  lts.        """.
-00011050: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
-00011060: 656c 662e 7061 7261 6d5f 6973 5f61 6374  elf.param_is_act
-00011070: 6976 6528 7061 7261 6d65 7465 7229 3a0a  ive(parameter):.
-00011080: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00011090: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
-000110a0: 2063 6d64 5f73 7472 203d 2027 7b7d 202d   cmd_str = '{} -
-000110b0: 6920 7b7d 202d 2d71 7565 7279 2d67 7075  i {} --query-gpu
-000110c0: 3d7b 7d20 2d2d 666f 726d 6174 3d63 7376  ={} --format=csv
-000110d0: 2c6e 6f68 6561 6465 722c 6e6f 756e 6974  ,noheader,nounit
-000110e0: 7327 2e66 6f72 6d61 7428 0a20 2020 2020  s'.format(.     
-000110f0: 2020 2020 2020 2020 2020 2020 2047 5554               GUT
-00011100: 5f43 4f4e 5354 2e63 6d64 5f6e 7669 6469  _CONST.cmd_nvidi
-00011110: 615f 736d 692c 2073 656c 662e 7072 6d2e  a_smi, self.prm.
-00011120: 7063 6965 5f69 642c 2070 6172 616d 6574  pcie_id, paramet
-00011130: 6572 290a 2020 2020 2020 2020 4c4f 4747  er).        LOGG
-00011140: 4552 2e64 6562 7567 2827 4e56 2063 6f6d  ER.debug('NV com
-00011150: 6d61 6e64 3a5c 6e25 7327 2c20 636d 645f  mand:\n%s', cmd_
-00011160: 7374 7229 0a20 2020 2020 2020 206e 736d  str).        nsm
-00011170: 695f 6974 656d 203d 204e 6f6e 650a 2020  i_item = None.  
-00011180: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00011190: 2020 2020 2020 206e 736d 695f 6974 656d         nsmi_item
-000111a0: 203d 2073 7562 7072 6f63 6573 732e 6368   = subprocess.ch
-000111b0: 6563 6b5f 6f75 7470 7574 2873 686c 6578  eck_output(shlex
-000111c0: 5f73 706c 6974 2863 6d64 5f73 7472 292c  _split(cmd_str),
-000111d0: 2073 6865 6c6c 3d46 616c 7365 292e 6465   shell=False).de
-000111e0: 636f 6465 2829 2e73 706c 6974 2827 5c6e  code().split('\n
-000111f0: 2729 0a20 2020 2020 2020 2020 2020 204c  ').            L
-00011200: 4f47 4745 522e 6465 6275 6728 274e 5620  OGGER.debug('NV 
-00011210: 7261 7720 7175 6572 7920 7265 7370 6f6e  raw query respon
-00011220: 7365 3a20 5b25 735d 272c 206e 736d 695f  se: [%s]', nsmi_
-00011230: 6974 656d 290a 2020 2020 2020 2020 6578  item).        ex
-00011240: 6365 7074 2028 7375 6270 726f 6365 7373  cept (subprocess
-00011250: 2e43 616c 6c65 6450 726f 6365 7373 4572  .CalledProcessEr
-00011260: 726f 722c 204f 5345 7272 6f72 2920 6173  ror, OSError) as
-00011270: 2065 7863 6570 745f 6572 723a 0a20 2020   except_err:.   
-00011280: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-00011290: 6465 6275 6728 274e 5620 7175 6572 7920  debug('NV query 
-000112a0: 2573 2065 7272 6f72 3a20 5b25 735d 272c  %s error: [%s]',
-000112b0: 206e 736d 695f 6974 656d 2c20 6578 6365   nsmi_item, exce
-000112c0: 7074 5f65 7272 290a 2020 2020 2020 2020  pt_err).        
-000112d0: 2020 2020 7365 6c66 2e64 6973 6162 6c65      self.disable
-000112e0: 5f70 6172 616d 5f72 6561 6428 7061 7261  _param_read(para
-000112f0: 6d65 7465 7229 0a20 2020 2020 2020 2020  meter).         
-00011300: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-00011310: 2020 2020 2020 2020 7265 7475 726e 5f69          return_i
-00011320: 7465 6d20 3d20 6e73 6d69 5f69 7465 6d5b  tem = nsmi_item[
-00011330: 305d 2e73 7472 6970 2829 2069 6620 6e73  0].strip() if ns
-00011340: 6d69 5f69 7465 6d20 656c 7365 204e 6f6e  mi_item else Non
-00011350: 650a 2020 2020 2020 2020 4c4f 4747 4552  e.        LOGGER
-00011360: 2e64 6562 7567 2827 4e56 2071 7565 7279  .debug('NV query
-00011370: 2072 6573 756c 743a 205b 2573 5d27 2c20   result: [%s]', 
-00011380: 7265 7475 726e 5f69 7465 6d29 0a20 2020  return_item).   
-00011390: 2020 2020 2072 6574 7572 6e20 7265 7475       return retu
-000113a0: 726e 5f69 7465 6d0a 0a20 2020 2064 6566  rn_item..    def
-000113b0: 2072 6561 645f 6770 755f 7365 6e73 6f72   read_gpu_sensor
-000113c0: 5f67 656e 6572 6963 2873 656c 662c 2070  _generic(self, p
-000113d0: 6172 616d 6574 6572 3a20 7374 722c 2076  arameter: str, v
-000113e0: 656e 646f 723a 2047 7075 5665 6e64 6f72  endor: GpuVendor
-000113f0: 203d 2047 7075 5665 6e64 6f72 2e41 4d44   = GpuVendor.AMD
-00011400: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00011410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011420: 2020 7365 6e73 6f72 5f74 7970 653a 2073    sensor_type: s
-00011430: 7472 203d 2027 4857 4d4f 4e27 2920 2d3e  tr = 'HWMON') ->
-00011440: 2055 6e69 6f6e 5b4e 6f6e 652c 2062 6f6f   Union[None, boo
-00011450: 6c2c 2069 6e74 2c20 7374 722c 2074 7570  l, int, str, tup
-00011460: 6c65 2c20 6c69 7374 2c20 6469 6374 5d3a  le, list, dict]:
-00011470: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00011480: 2020 2020 2052 6561 6420 7365 6e73 6f72       Read sensor
-00011490: 2066 6f72 2074 6865 2067 6976 656e 2070   for the given p
-000114a0: 6172 616d 6574 6572 206e 616d 652e 2020  arameter name.  
-000114b0: 5072 6f63 6573 7320 7065 7220 7365 6e73  Process per sens
-000114c0: 6f72 5f64 6574 6169 6c73 2064 6963 7420  or_details dict 
-000114d0: 7573 696e 6720 7468 6520 7370 6563 6966  using the specif
-000114e0: 6965 640a 2020 2020 2020 2020 7665 6e64  ied.        vend
-000114f0: 6f72 206e 616d 6520 616e 6420 7365 6e73  or name and sens
-00011500: 6f72 5f74 7970 652e 0a0a 2020 2020 2020  or_type...      
-00011510: 2020 3a70 6172 616d 2070 6172 616d 6574    :param paramet
-00011520: 6572 3a20 4770 7549 7465 6d20 7061 7261  er: GpuItem para
-00011530: 6d65 7465 7220 6e61 6d65 2028 414d 4429  meter name (AMD)
-00011540: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00011550: 7665 6e64 6f72 3a20 4750 5520 7665 6e64  vendor: GPU vend
-00011560: 6f72 206e 616d 6520 656e 756d 206f 626a  or name enum obj
-00011570: 6563 740a 2020 2020 2020 2020 3a70 6172  ect.        :par
-00011580: 616d 2073 656e 736f 725f 7479 7065 3a20  am sensor_type: 
-00011590: 4750 5520 7365 6e73 6f72 206e 616d 6520  GPU sensor name 
-000115a0: 2848 574d 4f4e 206f 7220 4445 5649 4345  (HWMON or DEVICE
-000115b0: 290a 2020 2020 2020 2020 3a72 6574 7572  ).        :retur
-000115c0: 6e3a 2056 616c 7565 2066 726f 6d20 7265  n: Value from re
-000115d0: 6164 696e 6720 7365 6e73 6f72 2e0a 2020  ading sensor..  
-000115e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000115f0: 2020 6966 206e 6f74 2047 5554 5f43 4f4e    if not GUT_CON
-00011600: 5354 2e66 6f72 6365 5f61 6c6c 3a0a 2020  ST.force_all:.  
-00011610: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-00011620: 662e 7072 6d2e 6770 755f 7479 7065 203d  f.prm.gpu_type =
-00011630: 3d20 4770 7554 7970 652e 556e 7375 7070  = GpuType.Unsupp
-00011640: 6f72 7465 6420 616e 6420 7061 7261 6d65  orted and parame
-00011650: 7465 7220 213d 2027 6964 273a 0a20 2020  ter != 'id':.   
-00011660: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00011670: 7572 6e20 4e6f 6e65 0a20 2020 2020 2020  urn None.       
-00011680: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
-00011690: 2e70 726d 2e72 6561 6461 626c 6520 616e  .prm.readable an
-000116a0: 6420 7061 7261 6d65 7465 7220 213d 2027  d parameter != '
-000116b0: 6964 273a 0a20 2020 2020 2020 2020 2020  id':.           
-000116c0: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
-000116d0: 0a20 2020 2020 2020 2069 6620 7365 6e73  .        if sens
-000116e0: 6f72 5f74 7970 6520 6e6f 7420 696e 2073  or_type not in s
-000116f0: 656c 662e 5f73 656e 736f 725f 6465 7461  elf._sensor_deta
-00011700: 696c 735b 7665 6e64 6f72 5d3a 0a20 2020  ils[vendor]:.   
-00011710: 2020 2020 2020 2020 2047 5554 5f43 4f4e           GUT_CON
-00011720: 5354 2e70 726f 6365 7373 5f6d 6573 7361  ST.process_messa
-00011730: 6765 2827 4572 726f 723a 2049 6e76 616c  ge('Error: Inval
-00011740: 6964 2073 656e 736f 725f 7479 7065 205b  id sensor_type [
-00011750: 7b7d 5d27 2e66 6f72 6d61 7428 7365 6e73  {}]'.format(sens
-00011760: 6f72 5f74 7970 6529 290a 2020 2020 2020  or_type)).      
-00011770: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00011780: 650a 2020 2020 2020 2020 7365 6e73 6f72  e.        sensor
-00011790: 5f64 6963 7420 3d20 7365 6c66 2e5f 7365  _dict = self._se
-000117a0: 6e73 6f72 5f64 6574 6169 6c73 5b76 656e  nsor_details[ven
-000117b0: 646f 725d 5b73 656e 736f 725f 7479 7065  dor][sensor_type
-000117c0: 5d0a 2020 2020 2020 2020 6966 2070 6172  ].        if par
-000117d0: 616d 6574 6572 206e 6f74 2069 6e20 7365  ameter not in se
-000117e0: 6e73 6f72 5f64 6963 743a 0a20 2020 2020  nsor_dict:.     
-000117f0: 2020 2020 2020 2047 5554 5f43 4f4e 5354         GUT_CONST
-00011800: 2e70 726f 6365 7373 5f6d 6573 7361 6765  .process_message
-00011810: 2827 4572 726f 723a 2049 6e76 616c 6964  ('Error: Invalid
-00011820: 2070 6172 616d 6574 6572 205b 7b7d 5d27   parameter [{}]'
-00011830: 2e66 6f72 6d61 7428 7061 7261 6d65 7465  .format(paramete
-00011840: 7229 290a 2020 2020 2020 2020 2020 2020  r)).            
-00011850: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
-00011860: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-00011870: 7061 7261 6d5f 6973 5f61 6374 6976 6528  param_is_active(
-00011880: 7061 7261 6d65 7465 7229 3a0a 2020 2020  parameter):.    
-00011890: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-000118a0: 6f6e 650a 0a20 2020 2020 2020 2064 6576  one..        dev
-000118b0: 6963 655f 7365 6e73 6f72 5f70 6174 6820  ice_sensor_path 
-000118c0: 3d20 7365 6c66 2e70 726d 2e63 6172 645f  = self.prm.card_
-000118d0: 7061 7468 2069 6620 7365 6c66 2e70 726d  path if self.prm
-000118e0: 2e63 6172 645f 7061 7468 2065 6c73 6520  .card_path else 
-000118f0: 7365 6c66 2e70 726d 2e73 7973 5f63 6172  self.prm.sys_car
-00011900: 645f 7061 7468 0a20 2020 2020 2020 204c  d_path.        L
-00011910: 4f47 4745 522e 6465 6275 6728 2773 656e  OGGER.debug('sen
-00011920: 736f 7220 7061 7468 2073 6574 2074 6f20  sor path set to 
-00011930: 5b25 735d 272c 2064 6576 6963 655f 7365  [%s]', device_se
-00011940: 6e73 6f72 5f70 6174 6829 0a20 2020 2020  nsor_path).     
-00011950: 2020 2073 656e 736f 725f 7061 7468 203d     sensor_path =
-00011960: 2073 656c 662e 7072 6d2e 6877 6d6f 6e5f   self.prm.hwmon_
-00011970: 7061 7468 2069 6620 7365 6e73 6f72 5f74  path if sensor_t
-00011980: 7970 6520 3d3d 2027 4857 4d4f 4e27 2065  ype == 'HWMON' e
-00011990: 6c73 6520 6465 7669 6365 5f73 656e 736f  lse device_senso
-000119a0: 725f 7061 7468 0a20 2020 2020 2020 2076  r_path.        v
-000119b0: 616c 7565 7320 3d20 5b5d 0a20 2020 2020  alues = [].     
-000119c0: 2020 2072 6574 5f76 616c 7565 203d 205b     ret_value = [
-000119d0: 5d0a 2020 2020 2020 2020 7265 745f 6469  ].        ret_di
-000119e0: 6374 203d 207b 7d0a 2020 2020 2020 2020  ct = {}.        
-000119f0: 7461 7267 6574 5f73 656e 736f 7220 3d20  target_sensor = 
-00011a00: 7365 6e73 6f72 5f64 6963 745b 7061 7261  sensor_dict[para
-00011a10: 6d65 7465 725d 0a20 2020 2020 2020 2069  meter].        i
-00011a20: 6620 7461 7267 6574 5f73 656e 736f 725b  f target_sensor[
-00011a30: 2774 7970 6527 5d20 696e 2028 5365 6e73  'type'] in (Sens
-00011a40: 6f72 5479 7065 2e49 6e70 7574 4c61 6265  orType.InputLabe
-00011a50: 6c58 2c20 5365 6e73 6f72 5479 7065 2e41  lX, SensorType.A
-00011a60: 6c6c 5053 7461 7465 7329 3a0a 2020 2020  llPStates):.    
-00011a70: 2020 2020 2020 2020 7365 6e73 6f72 5f66          sensor_f
-00011a80: 696c 6573 203d 2067 6c6f 6228 6f73 2e70  iles = glob(os.p
-00011a90: 6174 682e 6a6f 696e 2873 656e 736f 725f  ath.join(sensor_
-00011aa0: 7061 7468 2c20 7461 7267 6574 5f73 656e  path, target_sen
-00011ab0: 736f 725b 2773 656e 736f 7227 5d5b 305d  sor['sensor'][0]
-00011ac0: 2929 0a20 2020 2020 2020 2065 6c73 653a  )).        else:
-00011ad0: 0a20 2020 2020 2020 2020 2020 2073 656e  .            sen
-00011ae0: 736f 725f 6669 6c65 7320 3d20 7461 7267  sor_files = targ
-00011af0: 6574 5f73 656e 736f 725b 2773 656e 736f  et_sensor['senso
-00011b00: 7227 5d0a 2020 2020 2020 2020 666f 7220  r'].        for 
-00011b10: 7365 6e73 6f72 5f66 696c 6520 696e 2073  sensor_file in s
-00011b20: 656e 736f 725f 6669 6c65 733a 0a20 2020  ensor_files:.   
-00011b30: 2020 2020 2020 2020 2066 696c 655f 7061           file_pa
-00011b40: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
-00011b50: 6e28 7365 6e73 6f72 5f70 6174 682c 2073  n(sensor_path, s
-00011b60: 656e 736f 725f 6669 6c65 290a 2020 2020  ensor_file).    
-00011b70: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
-00011b80: 7468 2e69 7366 696c 6528 6669 6c65 5f70  th.isfile(file_p
-00011b90: 6174 6829 3a0a 2020 2020 2020 2020 2020  ath):.          
-00011ba0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00011bb0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-00011bc0: 6974 6820 6f70 656e 2866 696c 655f 7061  ith open(file_pa
-00011bd0: 7468 2c20 2772 272c 2065 6e63 6f64 696e  th, 'r', encodin
-00011be0: 673d 2775 7466 2d38 2729 2061 7320 6877  g='utf-8') as hw
-00011bf0: 6d6f 6e5f 6669 6c65 3a0a 2020 2020 2020  mon_file:.      
-00011c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c10: 2020 6966 2074 6172 6765 745f 7365 6e73    if target_sens
-00011c20: 6f72 5b27 7479 7065 275d 2069 6e20 2853  or['type'] in (S
-00011c30: 656e 736f 7254 7970 652e 5369 6e67 6c65  ensorType.Single
-00011c40: 5374 7269 6e67 5365 6c65 6374 2c0a 2020  StringSelect,.  
-00011c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c80: 2020 2053 656e 736f 7254 7970 652e 4d4c     SensorType.ML
-00011c90: 5353 2c0a 2020 2020 2020 2020 2020 2020  SS,.            
-00011ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011cc0: 2020 2020 2020 2020 2053 656e 736f 7254           SensorT
-00011cd0: 7970 652e 496e 7075 744c 6162 656c 582c  ype.InputLabelX,
-00011ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d10: 2020 2020 2020 5365 6e73 6f72 5479 7065        SensorType
-00011d20: 2e41 6c6c 5053 7461 7465 7329 3a0a 2020  .AllPStates):.  
-00011d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d40: 2020 2020 2020 2020 2020 6c69 6e65 7320            lines 
-00011d50: 3d20 6877 6d6f 6e5f 6669 6c65 2e72 6561  = hwmon_file.rea
-00011d60: 646c 696e 6573 2829 0a20 2020 2020 2020  dlines().       
-00011d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d80: 2020 2020 2066 6f72 206c 696e 6520 696e       for line in
-00011d90: 206c 696e 6573 3a0a 2020 2020 2020 2020   lines:.        
-00011da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011db0: 2020 2020 2020 2020 7661 6c75 6573 2e61          values.a
-00011dc0: 7070 656e 6428 6c69 6e65 2e73 7472 6970  ppend(line.strip
-00011dd0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-00011de0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00011df0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00011e00: 2020 2020 2020 2020 2020 2020 2020 7661                va
-00011e10: 6c75 6573 2e61 7070 656e 6428 6877 6d6f  lues.append(hwmo
-00011e20: 6e5f 6669 6c65 2e72 6561 646c 696e 6528  n_file.readline(
-00011e30: 292e 7374 7269 7028 2929 0a20 2020 2020  ).strip()).     
-00011e40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011e50: 6620 7461 7267 6574 5f73 656e 736f 725b  f target_sensor[
-00011e60: 2774 7970 6527 5d20 3d3d 2053 656e 736f  'type'] == Senso
-00011e70: 7254 7970 652e 416c 6c50 5374 6174 6573  rType.AllPStates
-00011e80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00011e90: 2020 2020 2020 2020 2020 2320 636c 6f63            # cloc
-00011ea0: 6b5f 6e61 6d65 3a20 7b70 735f 6e75 6d3a  k_name: {ps_num:
-00011eb0: 207b 2776 616c 7565 273a 2070 735f 7661   {'value': ps_va
-00011ec0: 6c2c 2027 7374 6174 6527 3a20 7073 5f73  l, 'state': ps_s
-00011ed0: 7473 7d7d 0a20 2020 2020 2020 2020 2020  ts}}.           
-00011ee0: 2020 2020 2020 2020 2020 2020 2063 6c6f               clo
-00011ef0: 636b 5f6e 616d 6520 3d20 7265 2e73 7562  ck_name = re.sub
-00011f00: 2872 272e 2a70 705f 6470 6d5f 272c 2027  (r'.*pp_dpm_', '
-00011f10: 272c 2073 656e 736f 725f 6669 6c65 290a  ', sensor_file).
-00011f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f30: 2020 2020 2020 2020 6966 2063 6c6f 636b          if clock
-00011f40: 5f6e 616d 6520 6e6f 7420 696e 2073 656c  _name not in sel
-00011f50: 662e 616c 6c5f 7073 7461 7465 733a 0a20  f.all_pstates:. 
-00011f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00011f80: 616c 6c5f 7073 7461 7465 732e 7570 6461  all_pstates.upda
-00011f90: 7465 287b 636c 6f63 6b5f 6e61 6d65 3a20  te({clock_name: 
-00011fa0: 7b7d 7d29 0a20 2020 2020 2020 2020 2020  {}}).           
-00011fb0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00011fc0: 2070 735f 7661 6c75 6520 696e 2076 616c   ps_value in val
-00011fd0: 7565 733a 0a20 2020 2020 2020 2020 2020  ues:.           
+000107c0: 2020 2020 2020 696e 6465 7820 3d20 696e        index = in
+000107d0: 7428 696e 6465 7829 0a20 2020 2020 2020  t(index).       
+000107e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107f0: 2020 2020 2020 2020 2070 6172 616d 203d           param =
+00010800: 2072 652e 7375 6228 7227 5644 4443 5f43   re.sub(r'VDDC_C
+00010810: 5552 5645 5f27 2c20 2727 2c20 6c69 6e65  URVE_', '', line
+00010820: 6974 656d 735b 305d 290a 2020 2020 2020  items[0]).      
+00010830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010840: 2020 2020 2020 2020 2020 7061 7261 6d20            param 
+00010850: 3d20 7265 2e73 7562 2872 275c 5b5c 645d  = re.sub(r'\[\d]
+00010860: 3a27 2c20 2727 2c20 7061 7261 6d29 0a20  :', '', param). 
+00010870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010880: 2020 2020 2020 2020 2020 2020 2020 204c                 L
+00010890: 4f47 4745 522e 6465 6275 6728 2743 7572  OGGER.debug('Cur
+000108a0: 7665 3a20 696e 6465 783a 2025 7320 7061  ve: index: %s pa
+000108b0: 7261 6d3a 2025 732c 2076 616c 3120 2573  ram: %s, val1 %s
+000108c0: 2c20 7661 6c32 3a20 2573 272c 0a20 2020  , val2: %s',.   
+000108d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108f0: 2020 2020 2020 2020 2020 696e 6465 782c            index,
+00010900: 2070 6172 616d 2c20 6c69 6e65 6974 656d   param, lineitem
+00010910: 735b 315d 2c20 6c69 6e65 6974 656d 735b  s[1], lineitems[
+00010920: 325d 290a 2020 2020 2020 2020 2020 2020  2]).            
+00010930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010940: 2020 2020 6966 2069 6e64 6578 2069 6e20      if index in 
+00010950: 7365 6c66 2e76 6464 635f 6375 7276 655f  self.vddc_curve_
+00010960: 7261 6e67 653a 0a20 2020 2020 2020 2020  range:.         
+00010970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010980: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010990: 7664 6463 5f63 7572 7665 5f72 616e 6765  vddc_curve_range
+000109a0: 5b69 6e64 6578 5d2e 7570 6461 7465 287b  [index].update({
+000109b0: 7061 7261 6d3a 205b 6c69 6e65 6974 656d  param: [lineitem
+000109c0: 735b 315d 2c20 6c69 6e65 6974 656d 735b  s[1], lineitems[
+000109d0: 325d 5d7d 290a 2020 2020 2020 2020 2020  2]]}).          
+000109e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109f0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00010a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a20: 7365 6c66 2e76 6464 635f 6375 7276 655f  self.vddc_curve_
+00010a30: 7261 6e67 655b 696e 6465 785d 203d 207b  range[index] = {
+00010a40: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+00010a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a60: 2020 2020 2020 7365 6c66 2e76 6464 635f        self.vddc_
+00010a70: 6375 7276 655f 7261 6e67 655b 696e 6465  curve_range[inde
+00010a80: 785d 2e75 7064 6174 6528 7b70 6172 616d  x].update({param
+00010a90: 3a20 5b6c 696e 6569 7465 6d73 5b31 5d2c  : [lineitems[1],
+00010aa0: 206c 696e 6569 7465 6d73 5b32 5d5d 7d29   lineitems[2]]})
+00010ab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010ac0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00010ad0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00010ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010af0: 2020 2047 5554 5f43 4f4e 5354 2e70 726f     GUT_CONST.pro
+00010b00: 6365 7373 5f6d 6573 7361 6765 2827 4572  cess_message('Er
+00010b10: 726f 723a 2049 6e76 616c 6964 2043 5552  ror: Invalid CUR
+00010b20: 5645 2065 6e74 7279 3a20 7b7d 272e 666f  VE entry: {}'.fo
+00010b30: 726d 6174 2866 696c 655f 7061 7468 2929  rmat(file_path))
+00010b40: 0a0a 2020 2020 2020 2020 6578 6365 7074  ..        except
+00010b50: 2050 6572 6d69 7373 696f 6e45 7272 6f72   PermissionError
+00010b60: 2061 7320 6578 6365 7074 5f65 7272 3a0a   as except_err:.
+00010b70: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+00010b80: 4552 2e64 6562 7567 2827 4572 726f 723a  ER.debug('Error:
+00010b90: 2043 616e 206e 6f74 2072 6561 6420 7073   Can not read ps
+00010ba0: 7461 7465 2064 7269 7665 7220 6669 6c65  tate driver file
+00010bb0: 2025 732c 2065 7272 6f72 3a20 5b25 735d   %s, error: [%s]
+00010bc0: 272c 2073 656c 662e 7072 6d2e 7063 6965  ', self.prm.pcie
+00010bd0: 5f69 642c 2065 7863 6570 745f 6572 7229  _id, except_err)
+00010be0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00010bf0: 6e74 2827 4572 726f 723a 2053 7973 7465  nt('Error: Syste
+00010c00: 6d20 7375 7070 6f72 7420 6973 7375 6520  m support issue 
+00010c10: 666f 7220 4750 5520 5b7b 7d5d 272e 666f  for GPU [{}]'.fo
+00010c20: 726d 6174 2873 656c 662e 7072 6d2e 7063  rmat(self.prm.pc
+00010c30: 6965 5f69 6429 290a 2020 2020 2020 2020  ie_id)).        
+00010c40: 2020 2020 7365 6c66 2e64 6973 6162 6c65      self.disable
+00010c50: 5f70 6172 616d 5f72 6561 6428 7061 7261  _param_read(para
+00010c60: 6d65 7465 725f 6669 6c65 290a 2020 2020  meter_file).    
+00010c70: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+00010c80: 6f6e 650a 2020 2020 2020 2020 6578 6365  one.        exce
+00010c90: 7074 204f 5345 7272 6f72 2061 7320 6578  pt OSError as ex
+00010ca0: 6365 7074 5f65 7272 3a0a 2020 2020 2020  cept_err:.      
+00010cb0: 2020 2020 2020 4c4f 4747 4552 2e64 6562        LOGGER.deb
+00010cc0: 7567 2827 4572 726f 723a 2073 7973 7465  ug('Error: syste
+00010cd0: 6d20 7375 7070 6f72 7420 6973 7375 6520  m support issue 
+00010ce0: 666f 7220 2573 2065 7272 6f72 3a20 5b25  for %s error: [%
+00010cf0: 735d 272c 2073 656c 662e 7072 6d2e 7063  s]', self.prm.pc
+00010d00: 6965 5f69 642c 2065 7863 6570 745f 6572  ie_id, except_er
+00010d10: 7229 0a20 2020 2020 2020 2020 2020 2070  r).            p
+00010d20: 7269 6e74 2827 4572 726f 723a 2053 7973  rint('Error: Sys
+00010d30: 7465 6d20 7375 7070 6f72 7420 6973 7375  tem support issu
+00010d40: 6520 666f 7220 4750 5520 5b7b 7d5d 272e  e for GPU [{}]'.
+00010d50: 666f 726d 6174 2873 656c 662e 7072 6d2e  format(self.prm.
+00010d60: 7063 6965 5f69 6429 290a 2020 2020 2020  pcie_id)).      
+00010d70: 2020 2020 2020 7365 6c66 2e64 6973 6162        self.disab
+00010d80: 6c65 5f70 6172 616d 5f72 6561 6428 7061  le_param_read(pa
+00010d90: 7261 6d65 7465 725f 6669 6c65 290a 0a20  rameter_file).. 
+00010da0: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
+00010db0: 726d 2e67 7075 5f74 7970 6520 3d3d 2047  rm.gpu_type == G
+00010dc0: 7075 5479 7065 2e43 7572 7665 5074 733a  puType.CurvePts:
+00010dd0: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
+00010de0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010df0: 2020 6d61 785f 7374 6174 6520 3d20 6d61    max_state = ma
+00010e00: 7828 7365 6c66 2e76 6464 635f 6375 7276  x(self.vddc_curv
+00010e10: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00010e20: 2020 206d 696e 5f6c 696d 203d 206d 696e     min_lim = min
+00010e30: 2873 656c 662e 7664 6463 5f63 7572 7665  (self.vddc_curve
+00010e40: 5f72 616e 6765 5b30 5d5b 2756 4f4c 5427  _range[0]['VOLT'
+00010e50: 5d5b 305d 2c20 7365 6c66 2e76 6464 635f  ][0], self.vddc_
+00010e60: 6375 7276 655b 305d 5b31 5d29 0a20 2020  curve[0][1]).   
+00010e70: 2020 2020 2020 2020 2020 2020 206d 6178               max
+00010e80: 5f6c 696d 203d 206d 6178 2873 656c 662e  _lim = max(self.
+00010e90: 7664 6463 5f63 7572 7665 5f72 616e 6765  vddc_curve_range
+00010ea0: 5b6d 6178 5f73 7461 7465 5d5b 2756 4f4c  [max_state]['VOL
+00010eb0: 5427 5d5b 315d 2c20 7365 6c66 2e76 6464  T'][1], self.vdd
+00010ec0: 635f 6375 7276 655b 6d61 785f 7374 6174  c_curve[max_stat
+00010ed0: 655d 5b31 5d29 0a20 2020 2020 2020 2020  e][1]).         
+00010ee0: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
+00010ef0: 7664 6463 5f72 616e 6765 203d 205b 6d69  vddc_range = [mi
+00010f00: 6e5f 6c69 6d2c 206d 6178 5f6c 696d 5d0a  n_lim, max_lim].
+00010f10: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00010f20: 7074 2028 4b65 7945 7272 6f72 2c20 5661  pt (KeyError, Va
+00010f30: 6c75 6545 7272 6f72 293a 0a20 2020 2020  lueError):.     
+00010f40: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010f50: 7072 6d2e 7664 6463 5f72 616e 6765 203d  prm.vddc_range =
+00010f60: 205b 4e6f 6e65 2c20 4e6f 6e65 5d0a 0a20   [None, None].. 
+00010f70: 2020 2064 6566 2072 6561 645f 6770 755f     def read_gpu_
+00010f80: 7365 6e73 6f72 2873 656c 662c 2070 6172  sensor(self, par
+00010f90: 616d 6574 6572 3a20 7374 722c 2076 656e  ameter: str, ven
+00010fa0: 646f 723a 2047 7075 5665 6e64 6f72 203d  dor: GpuVendor =
+00010fb0: 2047 7075 5665 6e64 6f72 2e41 4d44 2c0a   GpuVendor.AMD,.
+00010fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010fd0: 2020 2020 2020 2020 7365 6e73 6f72 5f74          sensor_t
+00010fe0: 7970 653a 2073 7472 203d 2027 4857 4d4f  ype: str = 'HWMO
+00010ff0: 4e27 2920 2d3e 2055 6e69 6f6e 5b4e 6f6e  N') -> Union[Non
+00011000: 652c 2062 6f6f 6c2c 2069 6e74 2c20 7374  e, bool, int, st
+00011010: 722c 2074 7570 6c65 2c20 6c69 7374 2c20  r, tuple, list, 
+00011020: 6469 6374 5d3a 0a20 2020 2020 2020 2022  dict]:.        "
+00011030: 2222 2052 6561 6420 7365 6e73 6f72 2066  "" Read sensor f
+00011040: 6f72 2074 6865 2067 6976 656e 2070 6172  or the given par
+00011050: 616d 6574 6572 206e 616d 652e 2020 5072  ameter name.  Pr
+00011060: 6f63 6573 7320 7065 7220 7365 6e73 6f72  ocess per sensor
+00011070: 5f64 6574 6169 6c73 2064 6963 7420 7573  _details dict us
+00011080: 696e 6720 7468 6520 7370 6563 6966 6965  ing the specifie
+00011090: 640a 2020 2020 2020 2020 2020 2020 7665  d.            ve
+000110a0: 6e64 6f72 206e 616d 6520 616e 6420 7365  ndor name and se
+000110b0: 6e73 6f72 5f74 7970 652e 0a0a 2020 2020  nsor_type...    
+000110c0: 2020 2020 3a70 6172 616d 2070 6172 616d      :param param
+000110d0: 6574 6572 3a20 4770 7549 7465 6d20 7061  eter: GpuItem pa
+000110e0: 7261 6d65 7465 7220 6e61 6d65 2028 414d  rameter name (AM
+000110f0: 4429 0a20 2020 2020 2020 203a 7061 7261  D).        :para
+00011100: 6d20 7665 6e64 6f72 3a20 4750 5520 7665  m vendor: GPU ve
+00011110: 6e64 6f72 206e 616d 6520 656e 756d 206f  ndor name enum o
+00011120: 626a 6563 740a 2020 2020 2020 2020 3a70  bject.        :p
+00011130: 6172 616d 2073 656e 736f 725f 7479 7065  aram sensor_type
+00011140: 3a20 4750 5520 7365 6e73 6f72 206e 616d  : GPU sensor nam
+00011150: 6520 2848 574d 4f4e 206f 7220 4445 5649  e (HWMON or DEVI
+00011160: 4345 290a 2020 2020 2020 2020 3a72 6574  CE).        :ret
+00011170: 7572 6e3a 2056 616c 7565 2066 726f 6d20  urn: Value from 
+00011180: 7265 6164 696e 6720 7365 6e73 6f72 2e0a  reading sensor..
+00011190: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000111a0: 2020 2020 6966 2076 656e 646f 7220 696e      if vendor in
+000111b0: 2028 4770 7556 656e 646f 722e 414d 442c   (GpuVendor.AMD,
+000111c0: 2047 7075 5665 6e64 6f72 2e50 4349 4529   GpuVendor.PCIE)
+000111d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000111e0: 7475 726e 2073 656c 662e 7265 6164 5f67  turn self.read_g
+000111f0: 7075 5f73 656e 736f 725f 6765 6e65 7269  pu_sensor_generi
+00011200: 6328 7061 7261 6d65 7465 722c 2076 656e  c(parameter, ven
+00011210: 646f 722c 2073 656e 736f 725f 7479 7065  dor, sensor_type
+00011220: 290a 2020 2020 2020 2020 6966 2076 656e  ).        if ven
+00011230: 646f 7220 3d3d 2047 7075 5665 6e64 6f72  dor == GpuVendor
+00011240: 2e4e 5649 4449 413a 0a20 2020 2020 2020  .NVIDIA:.       
+00011250: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00011260: 2e72 6561 645f 6770 755f 7365 6e73 6f72  .read_gpu_sensor
+00011270: 5f6e 7628 7061 7261 6d65 7465 7229 0a20  _nv(parameter). 
+00011280: 2020 2020 2020 2047 5554 5f43 4f4e 5354         GUT_CONST
+00011290: 2e70 726f 6365 7373 5f6d 6573 7361 6765  .process_message
+000112a0: 2827 4572 726f 723a 2049 6e76 616c 6964  ('Error: Invalid
+000112b0: 2076 656e 646f 7220 5b7b 7d5d 272e 666f   vendor [{}]'.fo
+000112c0: 726d 6174 2876 656e 646f 7229 290a 2020  rmat(vendor)).  
+000112d0: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+000112e0: 650a 0a20 2020 2064 6566 2072 6561 645f  e..    def read_
+000112f0: 6770 755f 7365 6e73 6f72 5f6e 7628 7365  gpu_sensor_nv(se
+00011300: 6c66 2c20 7061 7261 6d65 7465 723a 2073  lf, parameter: s
+00011310: 7472 2920 2d3e 2055 6e69 6f6e 5b4e 6f6e  tr) -> Union[Non
+00011320: 652c 2062 6f6f 6c2c 2069 6e74 2c20 7374  e, bool, int, st
+00011330: 722c 2074 7570 6c65 2c20 6c69 7374 2c20  r, tuple, list, 
+00011340: 6469 6374 5d3a 0a20 2020 2020 2020 2022  dict]:.        "
+00011350: 2222 2046 756e 6374 696f 6e20 746f 2072  "" Function to r
+00011360: 6561 6420 6120 7369 6e67 6c65 2073 656e  ead a single sen
+00011370: 736f 7220 6672 6f6d 204e 5620 4750 552e  sor from NV GPU.
+00011380: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00011390: 2070 6172 616d 6574 6572 3a20 2054 6172   parameter:  Tar
+000113a0: 6765 7420 7061 7261 6d65 7465 7220 666f  get parameter fo
+000113b0: 7220 7265 6164 696e 670a 2020 2020 2020  r reading.      
+000113c0: 2020 3a72 6574 7572 6e3a 2072 6561 6420    :return: read 
+000113d0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+000113e0: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
+000113f0: 6f74 2073 656c 662e 7061 7261 6d5f 6973  ot self.param_is
+00011400: 5f61 6374 6976 6528 7061 7261 6d65 7465  _active(paramete
+00011410: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
+00011420: 7265 7475 726e 2046 616c 7365 0a20 2020  return False.   
+00011430: 2020 2020 2063 6d64 5f73 7472 203d 2027       cmd_str = '
+00011440: 7b7d 202d 6920 7b7d 202d 2d71 7565 7279  {} -i {} --query
+00011450: 2d67 7075 3d7b 7d20 2d2d 666f 726d 6174  -gpu={} --format
+00011460: 3d63 7376 2c6e 6f68 6561 6465 722c 6e6f  =csv,noheader,no
+00011470: 756e 6974 7327 2e66 6f72 6d61 7428 0a20  units'.format(. 
+00011480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011490: 2047 5554 5f43 4f4e 5354 2e63 6d64 5f6e   GUT_CONST.cmd_n
+000114a0: 7669 6469 615f 736d 692c 2073 656c 662e  vidia_smi, self.
+000114b0: 7072 6d2e 7063 6965 5f69 642c 2070 6172  prm.pcie_id, par
+000114c0: 616d 6574 6572 290a 2020 2020 2020 2020  ameter).        
+000114d0: 4c4f 4747 4552 2e64 6562 7567 2827 4e56  LOGGER.debug('NV
+000114e0: 2063 6f6d 6d61 6e64 3a5c 6e25 7327 2c20   command:\n%s', 
+000114f0: 636d 645f 7374 7229 0a20 2020 2020 2020  cmd_str).       
+00011500: 206e 736d 695f 6974 656d 203d 204e 6f6e   nsmi_item = Non
+00011510: 650a 2020 2020 2020 2020 7472 793a 0a20  e.        try:. 
+00011520: 2020 2020 2020 2020 2020 206e 736d 695f             nsmi_
+00011530: 6974 656d 203d 2073 7562 7072 6f63 6573  item = subproces
+00011540: 732e 6368 6563 6b5f 6f75 7470 7574 2873  s.check_output(s
+00011550: 686c 6578 5f73 706c 6974 2863 6d64 5f73  hlex_split(cmd_s
+00011560: 7472 292c 2073 6865 6c6c 3d46 616c 7365  tr), shell=False
+00011570: 292e 6465 636f 6465 2829 2e73 706c 6974  ).decode().split
+00011580: 2827 5c6e 2729 0a20 2020 2020 2020 2020  ('\n').         
+00011590: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
+000115a0: 274e 5620 7261 7720 7175 6572 7920 7265  'NV raw query re
+000115b0: 7370 6f6e 7365 3a20 5b25 735d 272c 206e  sponse: [%s]', n
+000115c0: 736d 695f 6974 656d 290a 2020 2020 2020  smi_item).      
+000115d0: 2020 6578 6365 7074 2028 7375 6270 726f    except (subpro
+000115e0: 6365 7373 2e43 616c 6c65 6450 726f 6365  cess.CalledProce
+000115f0: 7373 4572 726f 722c 204f 5345 7272 6f72  ssError, OSError
+00011600: 2920 6173 2065 7863 6570 745f 6572 723a  ) as except_err:
+00011610: 0a20 2020 2020 2020 2020 2020 204c 4f47  .            LOG
+00011620: 4745 522e 6465 6275 6728 274e 5620 7175  GER.debug('NV qu
+00011630: 6572 7920 2573 2065 7272 6f72 3a20 5b25  ery %s error: [%
+00011640: 735d 272c 206e 736d 695f 6974 656d 2c20  s]', nsmi_item, 
+00011650: 6578 6365 7074 5f65 7272 290a 2020 2020  except_err).    
+00011660: 2020 2020 2020 2020 7365 6c66 2e64 6973          self.dis
+00011670: 6162 6c65 5f70 6172 616d 5f72 6561 6428  able_param_read(
+00011680: 7061 7261 6d65 7465 7229 0a20 2020 2020  parameter).     
+00011690: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+000116a0: 6c73 650a 2020 2020 2020 2020 7265 7475  lse.        retu
+000116b0: 726e 5f69 7465 6d20 3d20 6e73 6d69 5f69  rn_item = nsmi_i
+000116c0: 7465 6d5b 305d 2e73 7472 6970 2829 2069  tem[0].strip() i
+000116d0: 6620 6e73 6d69 5f69 7465 6d20 656c 7365  f nsmi_item else
+000116e0: 204e 6f6e 650a 2020 2020 2020 2020 4c4f   None.        LO
+000116f0: 4747 4552 2e64 6562 7567 2827 4e56 2071  GGER.debug('NV q
+00011700: 7565 7279 2072 6573 756c 743a 205b 2573  uery result: [%s
+00011710: 5d27 2c20 7265 7475 726e 5f69 7465 6d29  ]', return_item)
+00011720: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011730: 7265 7475 726e 5f69 7465 6d0a 0a20 2020  return_item..   
+00011740: 2064 6566 2072 6561 645f 6770 755f 7365   def read_gpu_se
+00011750: 6e73 6f72 5f67 656e 6572 6963 2873 656c  nsor_generic(sel
+00011760: 662c 2070 6172 616d 6574 6572 3a20 7374  f, parameter: st
+00011770: 722c 2076 656e 646f 723a 2047 7075 5665  r, vendor: GpuVe
+00011780: 6e64 6f72 203d 2047 7075 5665 6e64 6f72  ndor = GpuVendor
+00011790: 2e41 4d44 2c0a 2020 2020 2020 2020 2020  .AMD,.          
+000117a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000117b0: 2020 2020 2020 7365 6e73 6f72 5f74 7970        sensor_typ
+000117c0: 653a 2073 7472 203d 2027 4857 4d4f 4e27  e: str = 'HWMON'
+000117d0: 2920 2d3e 2055 6e69 6f6e 5b4e 6f6e 652c  ) -> Union[None,
+000117e0: 2062 6f6f 6c2c 2069 6e74 2c20 7374 722c   bool, int, str,
+000117f0: 2074 7570 6c65 2c20 6c69 7374 2c20 6469   tuple, list, di
+00011800: 6374 5d3a 0a20 2020 2020 2020 2022 2222  ct]:.        """
+00011810: 2052 6561 6420 7365 6e73 6f72 2066 6f72   Read sensor for
+00011820: 2074 6865 2067 6976 656e 2070 6172 616d   the given param
+00011830: 6574 6572 206e 616d 652e 2020 5072 6f63  eter name.  Proc
+00011840: 6573 7320 7065 7220 7365 6e73 6f72 5f64  ess per sensor_d
+00011850: 6574 6169 6c73 2064 6963 7420 7573 696e  etails dict usin
+00011860: 6720 7468 6520 7370 6563 6966 6965 640a  g the specified.
+00011870: 2020 2020 2020 2020 2020 2020 7665 6e64              vend
+00011880: 6f72 206e 616d 6520 616e 6420 7365 6e73  or name and sens
+00011890: 6f72 5f74 7970 652e 0a0a 2020 2020 2020  or_type...      
+000118a0: 2020 3a70 6172 616d 2070 6172 616d 6574    :param paramet
+000118b0: 6572 3a20 4770 7549 7465 6d20 7061 7261  er: GpuItem para
+000118c0: 6d65 7465 7220 6e61 6d65 2028 414d 4429  meter name (AMD)
+000118d0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+000118e0: 7665 6e64 6f72 3a20 4750 5520 7665 6e64  vendor: GPU vend
+000118f0: 6f72 206e 616d 6520 656e 756d 206f 626a  or name enum obj
+00011900: 6563 740a 2020 2020 2020 2020 3a70 6172  ect.        :par
+00011910: 616d 2073 656e 736f 725f 7479 7065 3a20  am sensor_type: 
+00011920: 4750 5520 7365 6e73 6f72 206e 616d 6520  GPU sensor name 
+00011930: 2848 574d 4f4e 206f 7220 4445 5649 4345  (HWMON or DEVICE
+00011940: 290a 2020 2020 2020 2020 3a72 6574 7572  ).        :retur
+00011950: 6e3a 2056 616c 7565 2066 726f 6d20 7265  n: Value from re
+00011960: 6164 696e 6720 7365 6e73 6f72 2e0a 2020  ading sensor..  
+00011970: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00011980: 2020 6966 206e 6f74 2047 5554 5f43 4f4e    if not GUT_CON
+00011990: 5354 2e66 6f72 6365 5f61 6c6c 3a0a 2020  ST.force_all:.  
+000119a0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+000119b0: 662e 7072 6d2e 6770 755f 7479 7065 203d  f.prm.gpu_type =
+000119c0: 3d20 4770 7554 7970 652e 556e 7375 7070  = GpuType.Unsupp
+000119d0: 6f72 7465 6420 616e 6420 7061 7261 6d65  orted and parame
+000119e0: 7465 7220 213d 2027 6964 273a 0a20 2020  ter != 'id':.   
+000119f0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00011a00: 7572 6e20 4e6f 6e65 0a20 2020 2020 2020  urn None.       
+00011a10: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
+00011a20: 2e70 726d 2e72 6561 6461 626c 6520 616e  .prm.readable an
+00011a30: 6420 7061 7261 6d65 7465 7220 213d 2027  d parameter != '
+00011a40: 6964 273a 0a20 2020 2020 2020 2020 2020  id':.           
+00011a50: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
+00011a60: 0a20 2020 2020 2020 2069 6620 7365 6e73  .        if sens
+00011a70: 6f72 5f74 7970 6520 6e6f 7420 696e 2073  or_type not in s
+00011a80: 656c 662e 5f73 656e 736f 725f 6465 7461  elf._sensor_deta
+00011a90: 696c 735b 7665 6e64 6f72 5d3a 0a20 2020  ils[vendor]:.   
+00011aa0: 2020 2020 2020 2020 2047 5554 5f43 4f4e           GUT_CON
+00011ab0: 5354 2e70 726f 6365 7373 5f6d 6573 7361  ST.process_messa
+00011ac0: 6765 2827 4572 726f 723a 2049 6e76 616c  ge('Error: Inval
+00011ad0: 6964 2073 656e 736f 725f 7479 7065 205b  id sensor_type [
+00011ae0: 7b7d 5d27 2e66 6f72 6d61 7428 7365 6e73  {}]'.format(sens
+00011af0: 6f72 5f74 7970 6529 290a 2020 2020 2020  or_type)).      
+00011b00: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+00011b10: 650a 2020 2020 2020 2020 7365 6e73 6f72  e.        sensor
+00011b20: 5f64 6963 7420 3d20 7365 6c66 2e5f 7365  _dict = self._se
+00011b30: 6e73 6f72 5f64 6574 6169 6c73 5b76 656e  nsor_details[ven
+00011b40: 646f 725d 5b73 656e 736f 725f 7479 7065  dor][sensor_type
+00011b50: 5d0a 2020 2020 2020 2020 6966 2070 6172  ].        if par
+00011b60: 616d 6574 6572 206e 6f74 2069 6e20 7365  ameter not in se
+00011b70: 6e73 6f72 5f64 6963 743a 0a20 2020 2020  nsor_dict:.     
+00011b80: 2020 2020 2020 2047 5554 5f43 4f4e 5354         GUT_CONST
+00011b90: 2e70 726f 6365 7373 5f6d 6573 7361 6765  .process_message
+00011ba0: 2827 4572 726f 723a 2049 6e76 616c 6964  ('Error: Invalid
+00011bb0: 2070 6172 616d 6574 6572 205b 7b7d 5d27   parameter [{}]'
+00011bc0: 2e66 6f72 6d61 7428 7061 7261 6d65 7465  .format(paramete
+00011bd0: 7229 290a 2020 2020 2020 2020 2020 2020  r)).            
+00011be0: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
+00011bf0: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+00011c00: 7061 7261 6d5f 6973 5f61 6374 6976 6528  param_is_active(
+00011c10: 7061 7261 6d65 7465 7229 3a0a 2020 2020  parameter):.    
+00011c20: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+00011c30: 6f6e 650a 0a20 2020 2020 2020 2064 6576  one..        dev
+00011c40: 6963 655f 7365 6e73 6f72 5f70 6174 6820  ice_sensor_path 
+00011c50: 3d20 7365 6c66 2e70 726d 2e63 6172 645f  = self.prm.card_
+00011c60: 7061 7468 2069 6620 7365 6c66 2e70 726d  path if self.prm
+00011c70: 2e63 6172 645f 7061 7468 2065 6c73 6520  .card_path else 
+00011c80: 7365 6c66 2e70 726d 2e73 7973 5f63 6172  self.prm.sys_car
+00011c90: 645f 7061 7468 0a20 2020 2020 2020 204c  d_path.        L
+00011ca0: 4f47 4745 522e 6465 6275 6728 2773 656e  OGGER.debug('sen
+00011cb0: 736f 7220 7061 7468 2073 6574 2074 6f20  sor path set to 
+00011cc0: 5b25 735d 272c 2064 6576 6963 655f 7365  [%s]', device_se
+00011cd0: 6e73 6f72 5f70 6174 6829 0a20 2020 2020  nsor_path).     
+00011ce0: 2020 2073 656e 736f 725f 7061 7468 203d     sensor_path =
+00011cf0: 2073 656c 662e 7072 6d2e 6877 6d6f 6e5f   self.prm.hwmon_
+00011d00: 7061 7468 2069 6620 7365 6e73 6f72 5f74  path if sensor_t
+00011d10: 7970 6520 3d3d 2027 4857 4d4f 4e27 2065  ype == 'HWMON' e
+00011d20: 6c73 6520 6465 7669 6365 5f73 656e 736f  lse device_senso
+00011d30: 725f 7061 7468 0a20 2020 2020 2020 2076  r_path.        v
+00011d40: 616c 7565 7320 3d20 5b5d 0a20 2020 2020  alues = [].     
+00011d50: 2020 2072 6574 5f76 616c 7565 203d 205b     ret_value = [
+00011d60: 5d0a 2020 2020 2020 2020 7265 745f 6469  ].        ret_di
+00011d70: 6374 203d 207b 7d0a 2020 2020 2020 2020  ct = {}.        
+00011d80: 7461 7267 6574 5f73 656e 736f 7220 3d20  target_sensor = 
+00011d90: 7365 6e73 6f72 5f64 6963 745b 7061 7261  sensor_dict[para
+00011da0: 6d65 7465 725d 0a20 2020 2020 2020 2069  meter].        i
+00011db0: 6620 7461 7267 6574 5f73 656e 736f 725b  f target_sensor[
+00011dc0: 2774 7970 6527 5d20 696e 2028 5365 6e73  'type'] in (Sens
+00011dd0: 6f72 5479 7065 2e49 6e70 7574 4c61 6265  orType.InputLabe
+00011de0: 6c58 2c20 5365 6e73 6f72 5479 7065 2e41  lX, SensorType.A
+00011df0: 6c6c 5053 7461 7465 7329 3a0a 2020 2020  llPStates):.    
+00011e00: 2020 2020 2020 2020 7365 6e73 6f72 5f66          sensor_f
+00011e10: 696c 6573 203d 2067 6c6f 6228 6f73 2e70  iles = glob(os.p
+00011e20: 6174 682e 6a6f 696e 2873 656e 736f 725f  ath.join(sensor_
+00011e30: 7061 7468 2c20 7461 7267 6574 5f73 656e  path, target_sen
+00011e40: 736f 725b 2773 656e 736f 7227 5d5b 305d  sor['sensor'][0]
+00011e50: 2929 0a20 2020 2020 2020 2065 6c73 653a  )).        else:
+00011e60: 0a20 2020 2020 2020 2020 2020 2073 656e  .            sen
+00011e70: 736f 725f 6669 6c65 7320 3d20 7461 7267  sor_files = targ
+00011e80: 6574 5f73 656e 736f 725b 2773 656e 736f  et_sensor['senso
+00011e90: 7227 5d0a 2020 2020 2020 2020 666f 7220  r'].        for 
+00011ea0: 7365 6e73 6f72 5f66 696c 6520 696e 2073  sensor_file in s
+00011eb0: 656e 736f 725f 6669 6c65 733a 0a20 2020  ensor_files:.   
+00011ec0: 2020 2020 2020 2020 2066 696c 655f 7061           file_pa
+00011ed0: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+00011ee0: 6e28 7365 6e73 6f72 5f70 6174 682c 2073  n(sensor_path, s
+00011ef0: 656e 736f 725f 6669 6c65 290a 2020 2020  ensor_file).    
+00011f00: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
+00011f10: 7468 2e69 7366 696c 6528 6669 6c65 5f70  th.isfile(file_p
+00011f20: 6174 6829 3a0a 2020 2020 2020 2020 2020  ath):.          
+00011f30: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00011f40: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+00011f50: 6974 6820 6f70 656e 2866 696c 655f 7061  ith open(file_pa
+00011f60: 7468 2c20 2772 272c 2065 6e63 6f64 696e  th, 'r', encodin
+00011f70: 673d 2775 7466 2d38 2729 2061 7320 6877  g='utf-8') as hw
+00011f80: 6d6f 6e5f 6669 6c65 3a0a 2020 2020 2020  mon_file:.      
+00011f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011fa0: 2020 6966 2074 6172 6765 745f 7365 6e73    if target_sens
+00011fb0: 6f72 5b27 7479 7065 275d 2069 6e20 2853  or['type'] in (S
+00011fc0: 656e 736f 7254 7970 652e 5369 6e67 6c65  ensorType.Single
+00011fd0: 5374 7269 6e67 5365 6c65 6374 2c0a 2020  StringSelect,.  
 00011fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ff0: 2070 735f 7661 6c5f 6c69 7374 203d 2072   ps_val_list = r
-00012000: 652e 7375 6228 273a 272c 2027 272c 2070  e.sub(':', '', p
-00012010: 735f 7661 6c75 6529 2e73 706c 6974 2829  s_value).split()
-00012020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012030: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00012040: 6c65 6e28 7073 5f76 616c 5f6c 6973 7429  len(ps_val_list)
-00012050: 203e 2031 3a0a 2020 2020 2020 2020 2020   > 1:.          
-00012060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012070: 2020 2020 2020 7073 5f6e 756d 203d 2069        ps_num = i
-00012080: 6e74 2870 735f 7661 6c5f 6c69 7374 5b30  nt(ps_val_list[0
-00012090: 5d29 2069 6620 7073 5f76 616c 5f6c 6973  ]) if ps_val_lis
-000120a0: 745b 305d 2e69 736e 756d 6572 6963 2829  t[0].isnumeric()
-000120b0: 2065 6c73 6520 7073 5f76 616c 5f6c 6973   else ps_val_lis
-000120c0: 745b 305d 0a20 2020 2020 2020 2020 2020  t[0].           
-000120d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000120e0: 2020 2020 2070 735f 7661 6c20 3d20 7073       ps_val = ps
-000120f0: 5f76 616c 5f6c 6973 745b 315d 0a20 2020  _val_list[1].   
+00011ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012010: 2020 2053 656e 736f 7254 7970 652e 4d4c     SensorType.ML
+00012020: 5353 2c0a 2020 2020 2020 2020 2020 2020  SS,.            
+00012030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012050: 2020 2020 2020 2020 2053 656e 736f 7254           SensorT
+00012060: 7970 652e 496e 7075 744c 6162 656c 582c  ype.InputLabelX,
+00012070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120a0: 2020 2020 2020 5365 6e73 6f72 5479 7065        SensorType
+000120b0: 2e41 6c6c 5053 7461 7465 7329 3a0a 2020  .AllPStates):.  
+000120c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120d0: 2020 2020 2020 2020 2020 6c69 6e65 7320            lines 
+000120e0: 3d20 6877 6d6f 6e5f 6669 6c65 2e72 6561  = hwmon_file.rea
+000120f0: 646c 696e 6573 2829 0a20 2020 2020 2020  dlines().       
 00012100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012110: 2020 2020 2020 2020 2020 2020 2070 735f               ps_
-00012120: 7374 7320 3d20 4661 6c73 650a 2020 2020  sts = False.    
+00012110: 2020 2020 2066 6f72 206c 696e 6520 696e       for line in
+00012120: 206c 696e 6573 3a0a 2020 2020 2020 2020   lines:.        
 00012130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012140: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00012150: 656e 2870 735f 7661 6c5f 6c69 7374 2920  en(ps_val_list) 
-00012160: 3e20 323a 0a20 2020 2020 2020 2020 2020  > 2:.           
-00012170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012180: 2020 2020 2020 2020 2070 735f 7374 7320           ps_sts 
-00012190: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
-000121a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000121b0: 2020 2020 2020 2069 6620 7073 5f6e 756d         if ps_num
-000121c0: 206e 6f74 2069 6e20 7365 6c66 2e61 6c6c   not in self.all
-000121d0: 5f70 7374 6174 6573 5b63 6c6f 636b 5f6e  _pstates[clock_n
-000121e0: 616d 655d 3a0a 2020 2020 2020 2020 2020  ame]:.          
-000121f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012200: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00012210: 6c6c 5f70 7374 6174 6573 5b63 6c6f 636b  ll_pstates[clock
-00012220: 5f6e 616d 655d 2e75 7064 6174 6528 7b70  _name].update({p
-00012230: 735f 6e75 6d3a 207b 2776 616c 7565 273a  s_num: {'value':
-00012240: 2070 735f 7661 6c2c 2027 7374 6174 6527   ps_val, 'state'
-00012250: 3a20 7073 5f73 7473 7d7d 290a 2020 2020  : ps_sts}}).    
-00012260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012270: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00012280: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000122a0: 2020 2020 2020 7365 6c66 2e61 6c6c 5f70        self.all_p
-000122b0: 7374 6174 6573 5b63 6c6f 636b 5f6e 616d  states[clock_nam
-000122c0: 655d 5b70 735f 6e75 6d5d 5b27 7661 6c75  e][ps_num]['valu
-000122d0: 6527 5d20 3d20 7073 5f76 616c 0a20 2020  e'] = ps_val.   
-000122e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012140: 2020 2020 2020 2020 7661 6c75 6573 2e61          values.a
+00012150: 7070 656e 6428 6c69 6e65 2e73 7472 6970  ppend(line.strip
+00012160: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+00012170: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00012180: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012190: 2020 2020 2020 2020 2020 2020 2020 7661                va
+000121a0: 6c75 6573 2e61 7070 656e 6428 6877 6d6f  lues.append(hwmo
+000121b0: 6e5f 6669 6c65 2e72 6561 646c 696e 6528  n_file.readline(
+000121c0: 292e 7374 7269 7028 2929 0a20 2020 2020  ).strip()).     
+000121d0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000121e0: 6620 7461 7267 6574 5f73 656e 736f 725b  f target_sensor[
+000121f0: 2774 7970 6527 5d20 3d3d 2053 656e 736f  'type'] == Senso
+00012200: 7254 7970 652e 416c 6c50 5374 6174 6573  rType.AllPStates
+00012210: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012220: 2020 2020 2020 2020 2020 2320 636c 6f63            # cloc
+00012230: 6b5f 6e61 6d65 3a20 7b70 735f 6e75 6d3a  k_name: {ps_num:
+00012240: 207b 2776 616c 7565 273a 2070 735f 7661   {'value': ps_va
+00012250: 6c2c 2027 7374 6174 6527 3a20 7073 5f73  l, 'state': ps_s
+00012260: 7473 7d7d 0a20 2020 2020 2020 2020 2020  ts}}.           
+00012270: 2020 2020 2020 2020 2020 2020 2063 6c6f               clo
+00012280: 636b 5f6e 616d 6520 3d20 7265 2e73 7562  ck_name = re.sub
+00012290: 2872 272e 2a70 705f 6470 6d5f 272c 2027  (r'.*pp_dpm_', '
+000122a0: 272c 2073 656e 736f 725f 6669 6c65 290a  ', sensor_file).
+000122b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122c0: 2020 2020 2020 2020 6966 2063 6c6f 636b          if clock
+000122d0: 5f6e 616d 6520 6e6f 7420 696e 2073 656c  _name not in sel
+000122e0: 662e 616c 6c5f 7073 7461 7465 733a 0a20  f.all_pstates:. 
 000122f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012300: 2073 656c 662e 616c 6c5f 7073 7461 7465   self.all_pstate
-00012310: 735b 636c 6f63 6b5f 6e61 6d65 5d5b 7073  s[clock_name][ps
-00012320: 5f6e 756d 5d5b 2773 7461 7465 275d 203d  _num]['state'] =
-00012330: 2070 735f 7374 730a 2020 2020 2020 2020   ps_sts.        
-00012340: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00012350: 2074 6172 6765 745f 7365 6e73 6f72 5b27   target_sensor['
-00012360: 7479 7065 275d 203d 3d20 5365 6e73 6f72  type'] == Sensor
-00012370: 5479 7065 2e49 6e70 7574 4c61 6265 6c58  Type.InputLabelX
-00012380: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012390: 2020 2020 2020 2020 2020 6c61 6265 6c5f            label_
-000123a0: 6669 6c65 5f70 6174 683a 2073 7472 203d  file_path: str =
-000123b0: 2027 270a 2020 2020 2020 2020 2020 2020   ''.            
-000123c0: 2020 2020 2020 2020 2020 2020 6966 2027              if '
-000123d0: 5f69 6e70 7574 2720 696e 2066 696c 655f  _input' in file_
-000123e0: 7061 7468 3a0a 2020 2020 2020 2020 2020  path:.          
+00012300: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00012310: 616c 6c5f 7073 7461 7465 732e 7570 6461  all_pstates.upda
+00012320: 7465 287b 636c 6f63 6b5f 6e61 6d65 3a20  te({clock_name: 
+00012330: 7b7d 7d29 0a20 2020 2020 2020 2020 2020  {}}).           
+00012340: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00012350: 2070 735f 7661 6c75 6520 696e 2076 616c   ps_value in val
+00012360: 7565 733a 0a20 2020 2020 2020 2020 2020  ues:.           
+00012370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012380: 2070 735f 7661 6c5f 6c69 7374 203d 2072   ps_val_list = r
+00012390: 652e 7375 6228 273a 272c 2027 272c 2070  e.sub(':', '', p
+000123a0: 735f 7661 6c75 6529 2e73 706c 6974 2829  s_value).split()
+000123b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000123c0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000123d0: 6c65 6e28 7073 5f76 616c 5f6c 6973 7429  len(ps_val_list)
+000123e0: 203e 2031 3a0a 2020 2020 2020 2020 2020   > 1:.          
 000123f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012400: 2020 6c61 6265 6c5f 6669 6c65 5f70 6174    label_file_pat
-00012410: 6820 3d20 6669 6c65 5f70 6174 682e 7265  h = file_path.re
-00012420: 706c 6163 6528 275f 696e 7075 7427 2c20  place('_input', 
-00012430: 275f 6c61 6265 6c27 290a 2020 2020 2020  '_label').      
-00012440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012450: 2020 656c 6966 2027 5f63 7269 7427 2069    elif '_crit' i
-00012460: 6e20 6669 6c65 5f70 6174 683a 0a20 2020  n file_path:.   
-00012470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012480: 2020 2020 2020 2020 206c 6162 656c 5f66           label_f
-00012490: 696c 655f 7061 7468 203d 2066 696c 655f  ile_path = file_
-000124a0: 7061 7468 2e72 6570 6c61 6365 2827 5f63  path.replace('_c
-000124b0: 7269 7427 2c20 275f 6c61 6265 6c27 290a  rit', '_label').
+00012400: 2020 2020 2020 7073 5f6e 756d 203d 2069        ps_num = i
+00012410: 6e74 2870 735f 7661 6c5f 6c69 7374 5b30  nt(ps_val_list[0
+00012420: 5d29 2069 6620 7073 5f76 616c 5f6c 6973  ]) if ps_val_lis
+00012430: 745b 305d 2e69 736e 756d 6572 6963 2829  t[0].isnumeric()
+00012440: 2065 6c73 6520 7073 5f76 616c 5f6c 6973   else ps_val_lis
+00012450: 745b 305d 0a20 2020 2020 2020 2020 2020  t[0].           
+00012460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012470: 2020 2020 2070 735f 7661 6c20 3d20 7073       ps_val = ps
+00012480: 5f76 616c 5f6c 6973 745b 315d 0a20 2020  _val_list[1].   
+00012490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000124a0: 2020 2020 2020 2020 2020 2020 2070 735f               ps_
+000124b0: 7374 7320 3d20 4661 6c73 650a 2020 2020  sts = False.    
 000124c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000124d0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000124e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000124f0: 2020 2020 2020 2020 2020 4755 545f 434f            GUT_CO
-00012500: 4e53 542e 7072 6f63 6573 735f 6d65 7373  NST.process_mess
-00012510: 6167 6528 2745 7272 6f72 2069 6e20 7365  age('Error in se
-00012520: 6e73 6f72 206c 6162 656c 2070 6169 723a  nsor label pair:
-00012530: 207b 7d27 2e66 6f72 6d61 7428 7461 7267   {}'.format(targ
-00012540: 6574 5f73 656e 736f 7229 290a 2020 2020  et_sensor)).    
-00012550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012560: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
-00012570: 7366 696c 6528 6c61 6265 6c5f 6669 6c65  sfile(label_file
-00012580: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
-00012590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000125a0: 2020 2020 7769 7468 206f 7065 6e28 6c61      with open(la
-000125b0: 6265 6c5f 6669 6c65 5f70 6174 682c 2027  bel_file_path, '
-000125c0: 7227 2c20 656e 636f 6469 6e67 3d27 7574  r', encoding='ut
-000125d0: 662d 3827 2920 6173 2073 656e 736f 725f  f-8') as sensor_
-000125e0: 6c61 6265 6c5f 6669 6c65 3a0a 2020 2020  label_file:.    
+000124d0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+000124e0: 656e 2870 735f 7661 6c5f 6c69 7374 2920  en(ps_val_list) 
+000124f0: 3e20 323a 0a20 2020 2020 2020 2020 2020  > 2:.           
+00012500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012510: 2020 2020 2020 2020 2070 735f 7374 7320           ps_sts 
+00012520: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
+00012530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012540: 2020 2020 2020 2069 6620 7073 5f6e 756d         if ps_num
+00012550: 206e 6f74 2069 6e20 7365 6c66 2e61 6c6c   not in self.all
+00012560: 5f70 7374 6174 6573 5b63 6c6f 636b 5f6e  _pstates[clock_n
+00012570: 616d 655d 3a0a 2020 2020 2020 2020 2020  ame]:.          
+00012580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012590: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
+000125a0: 6c6c 5f70 7374 6174 6573 5b63 6c6f 636b  ll_pstates[clock
+000125b0: 5f6e 616d 655d 2e75 7064 6174 6528 7b70  _name].update({p
+000125c0: 735f 6e75 6d3a 207b 2776 616c 7565 273a  s_num: {'value':
+000125d0: 2070 735f 7661 6c2c 2027 7374 6174 6527   ps_val, 'state'
+000125e0: 3a20 7073 5f73 7473 7d7d 290a 2020 2020  : ps_sts}}).    
 000125f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012600: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
-00012610: 6573 2e61 7070 656e 6428 7365 6e73 6f72  es.append(sensor
-00012620: 5f6c 6162 656c 5f66 696c 652e 7265 6164  _label_file.read
-00012630: 6c69 6e65 2829 2e73 7472 6970 2829 290a  line().strip()).
-00012640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012650: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00012660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012670: 2020 2020 2020 2020 2020 7661 6c75 6573            values
-00012680: 2e61 7070 656e 6428 6f73 2e70 6174 682e  .append(os.path.
-00012690: 6261 7365 6e61 6d65 2873 656e 736f 725f  basename(sensor_
-000126a0: 6669 6c65 2929 0a20 2020 2020 2020 2020  file)).         
-000126b0: 2020 2020 2020 2065 7863 6570 7420 4f53         except OS
-000126c0: 4572 726f 7220 6173 2065 7272 3a0a 2020  Error as err:.  
-000126d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000126e0: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
-000126f0: 4578 6365 7074 696f 6e20 5b25 735d 3a20  Exception [%s]: 
-00012700: 4361 6e20 6e6f 7420 7265 6164 2048 5720  Can not read HW 
-00012710: 6669 6c65 3a20 2573 272c 2065 7272 2c20  file: %s', err, 
-00012720: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
-00012730: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012740: 656c 662e 6469 7361 626c 655f 7061 7261  elf.disable_para
-00012750: 6d5f 7265 6164 2870 6172 616d 6574 6572  m_read(parameter
-00012760: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00012770: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
-00012780: 7365 0a20 2020 2020 2020 2020 2020 2065  se.            e
-00012790: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000127a0: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-000127b0: 6728 2748 5720 6669 6c65 2064 6f65 7320  g('HW file does 
-000127c0: 6e6f 7420 6578 6973 743a 2025 7327 2c20  not exist: %s', 
-000127d0: 6669 6c65 5f70 6174 6829 0a20 2020 2020  file_path).     
-000127e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000127f0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
-00012800: 6164 2870 6172 616d 6574 6572 290a 2020  ad(parameter).  
-00012810: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00012820: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
-00012830: 2020 2020 6966 2074 6172 6765 745f 7365      if target_se
-00012840: 6e73 6f72 5b27 7479 7065 275d 203d 3d20  nsor['type'] == 
-00012850: 5365 6e73 6f72 5479 7065 2e53 696e 676c  SensorType.Singl
-00012860: 6550 6172 616d 3a0a 2020 2020 2020 2020  eParam:.        
-00012870: 2020 2020 6966 2074 6172 6765 745f 7365      if target_se
-00012880: 6e73 6f72 5b27 6366 275d 203d 3d20 313a  nsor['cf'] == 1:
-00012890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000128a0: 2072 6574 7572 6e20 696e 7428 7661 6c75   return int(valu
-000128b0: 6573 5b30 5d29 0a20 2020 2020 2020 2020  es[0]).         
-000128c0: 2020 2072 6574 7572 6e20 696e 7428 7661     return int(va
-000128d0: 6c75 6573 5b30 5d29 202a 2074 6172 6765  lues[0]) * targe
-000128e0: 745f 7365 6e73 6f72 5b27 6366 275d 0a20  t_sensor['cf']. 
-000128f0: 2020 2020 2020 2069 6620 7461 7267 6574         if target
-00012900: 5f73 656e 736f 725b 2774 7970 6527 5d20  _sensor['type'] 
-00012910: 3d3d 2053 656e 736f 7254 7970 652e 496e  == SensorType.In
-00012920: 7075 744c 6162 656c 3a0a 2020 2020 2020  putLabel:.      
-00012930: 2020 2020 2020 7265 745f 7661 6c75 652e        ret_value.
-00012940: 6170 7065 6e64 2869 6e74 2876 616c 7565  append(int(value
-00012950: 735b 305d 2920 2a20 7461 7267 6574 5f73  s[0]) * target_s
-00012960: 656e 736f 725b 2763 6627 5d29 0a20 2020  ensor['cf']).   
-00012970: 2020 2020 2020 2020 2072 6574 5f76 616c           ret_val
-00012980: 7565 2e61 7070 656e 6428 7661 6c75 6573  ue.append(values
-00012990: 5b31 5d29 0a20 2020 2020 2020 2020 2020  [1]).           
-000129a0: 2072 6574 7572 6e20 7475 706c 6528 7265   return tuple(re
-000129b0: 745f 7661 6c75 6529 0a20 2020 2020 2020  t_value).       
-000129c0: 2069 6620 7461 7267 6574 5f73 656e 736f   if target_senso
-000129d0: 725b 2774 7970 6527 5d20 696e 2028 5365  r['type'] in (Se
-000129e0: 6e73 6f72 5479 7065 2e4d 4c53 532c 2053  nsorType.MLSS, S
-000129f0: 656e 736f 7254 7970 652e 4d4c 4d53 293a  ensorType.MLMS):
-00012a00: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00012a10: 7572 6e20 7661 6c75 6573 0a20 2020 2020  urn values.     
-00012a20: 2020 2069 6620 7461 7267 6574 5f73 656e     if target_sen
-00012a30: 736f 725b 2774 7970 6527 5d20 3d3d 2053  sor['type'] == S
-00012a40: 656e 736f 7254 7970 652e 4d69 6e4d 6178  ensorType.MinMax
-00012a50: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00012a60: 745f 7661 6c75 652e 6170 7065 6e64 2869  t_value.append(i
-00012a70: 6e74 2869 6e74 2876 616c 7565 735b 305d  nt(int(values[0]
-00012a80: 2920 2a20 7461 7267 6574 5f73 656e 736f  ) * target_senso
-00012a90: 725b 2763 6627 5d29 290a 2020 2020 2020  r['cf'])).      
-00012aa0: 2020 2020 2020 7265 745f 7661 6c75 652e        ret_value.
-00012ab0: 6170 7065 6e64 2869 6e74 2869 6e74 2876  append(int(int(v
-00012ac0: 616c 7565 735b 315d 2920 2a20 7461 7267  alues[1]) * targ
-00012ad0: 6574 5f73 656e 736f 725b 2763 6627 5d29  et_sensor['cf'])
-00012ae0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00012af0: 7475 726e 2074 7570 6c65 2872 6574 5f76  turn tuple(ret_v
-00012b00: 616c 7565 290a 2020 2020 2020 2020 6966  alue).        if
-00012b10: 2074 6172 6765 745f 7365 6e73 6f72 5b27   target_sensor['
-00012b20: 7479 7065 275d 203d 3d20 5365 6e73 6f72  type'] == Sensor
-00012b30: 5479 7065 2e41 6c6c 5053 7461 7465 733a  Type.AllPStates:
-00012b40: 0a20 2020 2020 2020 2020 2020 2023 2041  .            # A
-00012b50: 6c72 6561 6479 2073 6574 2064 6963 7420  lready set dict 
-00012b60: 696e 206f 626a 6563 740a 2020 2020 2020  in object.      
-00012b70: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00012b80: 650a 2020 2020 2020 2020 6966 2074 6172  e.        if tar
-00012b90: 6765 745f 7365 6e73 6f72 5b27 7479 7065  get_sensor['type
-00012ba0: 275d 203d 3d20 5365 6e73 6f72 5479 7065  '] == SensorType
-00012bb0: 2e49 6e70 7574 4c61 6265 6c58 3a0a 2020  .InputLabelX:.  
-00012bc0: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-00012bd0: 696e 2072 616e 6765 2830 2c20 6c65 6e28  in range(0, len(
-00012be0: 7661 6c75 6573 292c 2032 293a 0a20 2020  values), 2):.   
-00012bf0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00012c00: 5f64 6963 742e 7570 6461 7465 287b 7661  _dict.update({va
-00012c10: 6c75 6573 5b69 2b31 5d3a 2069 6e74 2876  lues[i+1]: int(v
-00012c20: 616c 7565 735b 695d 2920 2a20 7461 7267  alues[i]) * targ
-00012c30: 6574 5f73 656e 736f 725b 2763 6627 5d7d  et_sensor['cf']}
-00012c40: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00012c50: 7475 726e 2072 6574 5f64 6963 740a 2020  turn ret_dict.  
-00012c60: 2020 2020 2020 6966 2074 6172 6765 745f        if target_
-00012c70: 7365 6e73 6f72 5b27 7479 7065 275d 203d  sensor['type'] =
-00012c80: 3d20 5365 6e73 6f72 5479 7065 2e53 696e  = SensorType.Sin
-00012c90: 676c 6553 7472 696e 6753 656c 6563 743a  gleStringSelect:
-00012ca0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00012cb0: 2069 7465 6d20 696e 2076 616c 7565 733a   item in values:
-00012cc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012cd0: 2069 6620 272a 2720 696e 2069 7465 6d3a   if '*' in item:
-00012ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012cf0: 2020 2020 2072 6574 7572 6e20 6974 656d       return item
-00012d00: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00012d10: 7572 6e20 4e6f 6e65 0a20 2020 2020 2020  urn None.       
-00012d20: 2069 6620 7461 7267 6574 5f73 656e 736f   if target_senso
-00012d30: 725b 2774 7970 6527 5d20 3d3d 2053 656e  r['type'] == Sen
-00012d40: 736f 7254 7970 652e 5369 6e67 6c65 5374  sorType.SingleSt
-00012d50: 7269 6e67 3a0a 2020 2020 2020 2020 2020  ring:.          
-00012d60: 2020 7265 7475 726e 2076 616c 7565 735b    return values[
-00012d70: 305d 0a20 2020 2020 2020 2072 6169 7365  0].        raise
-00012d80: 2056 616c 7565 4572 726f 7228 2749 6e76   ValueError('Inv
-00012d90: 616c 6964 2073 656e 736f 7220 7479 7065  alid sensor type
-00012da0: 3a20 7b7d 272e 666f 726d 6174 2874 6172  : {}'.format(tar
-00012db0: 6765 745f 7365 6e73 6f72 5b27 7479 7065  get_sensor['type
-00012dc0: 275d 2929 0a0a 2020 2020 6465 6620 7265  ']))..    def re
-00012dd0: 6164 5f67 7075 5f73 656e 736f 725f 7365  ad_gpu_sensor_se
-00012de0: 7428 7365 6c66 2c20 6461 7461 5f74 7970  t(self, data_typ
-00012df0: 653a 2053 656e 736f 7253 6574 203d 2053  e: SensorSet = S
-00012e00: 656e 736f 7253 6574 2e41 6c6c 2920 2d3e  ensorSet.All) ->
-00012e10: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
-00012e20: 2222 0a20 2020 2020 2020 2052 6561 6420  "".        Read 
-00012e30: 4750 5520 7365 6e73 6f72 2064 6174 6120  GPU sensor data 
-00012e40: 6672 6f6d 2048 574d 4f4e 2061 6e64 2044  from HWMON and D
-00012e50: 4556 4943 4520 7365 6e73 6f72 7320 7573  EVICE sensors us
-00012e60: 696e 6720 7468 6520 7365 6e73 6f72 2073  ing the sensor s
-00012e70: 6574 2064 6566 696e 6564 0a20 2020 2020  et defined.     
-00012e80: 2020 2062 7920 6461 7461 5f74 7970 652e     by data_type.
-00012e90: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00012ea0: 2064 6174 615f 7479 7065 3a20 5370 6563   data_type: Spec
-00012eb0: 6966 6965 7320 7468 6520 7365 6e73 6f72  ifies the sensor
-00012ec0: 2073 6574 3a20 4479 6e61 6d69 632c 2053   set: Dynamic, S
-00012ed0: 7461 7469 632c 2049 6e66 6f2c 2053 7461  tatic, Info, Sta
-00012ee0: 7465 2c20 416c 6c20 4d6f 6e69 746f 720a  te, All Monitor.
-00012ef0: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-00012f00: 2054 7275 6520 6f6e 2073 7563 6365 7373   True on success
-00012f10: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-00012f20: 2020 2020 2020 6966 2073 656c 662e 7072        if self.pr
-00012f30: 6d2e 7665 6e64 6f72 203d 3d20 4770 7556  m.vendor == GpuV
-00012f40: 656e 646f 722e 414d 443a 0a20 2020 2020  endor.AMD:.     
-00012f50: 2020 2020 2020 2072 6574 7572 6e5f 7374         return_st
-00012f60: 6174 203d 2073 656c 662e 7265 6164 5f67  at = self.read_g
-00012f70: 7075 5f73 656e 736f 725f 7365 745f 616d  pu_sensor_set_am
-00012f80: 6428 6461 7461 5f74 7970 6529 0a20 2020  d(data_type).   
-00012f90: 2020 2020 2020 2020 2073 656c 662e 7570           self.up
-00012fa0: 6461 7465 5f74 6162 6c65 5f69 7465 6d73  date_table_items
-00012fb0: 5f73 7461 7475 7328 290a 2020 2020 2020  _status().      
-00012fc0: 2020 2020 2020 7265 7475 726e 2072 6574        return ret
-00012fd0: 7572 6e5f 7374 6174 0a20 2020 2020 2020  urn_stat.       
-00012fe0: 2069 6620 7365 6c66 2e70 726d 2e76 656e   if self.prm.ven
-00012ff0: 646f 7220 3d3d 2047 7075 5665 6e64 6f72  dor == GpuVendor
-00013000: 2e4e 5649 4449 413a 0a20 2020 2020 2020  .NVIDIA:.       
-00013010: 2020 2020 2072 6574 7572 6e5f 7374 6174       return_stat
-00013020: 203d 2073 656c 662e 7265 6164 5f67 7075   = self.read_gpu
-00013030: 5f73 656e 736f 725f 7365 745f 6e76 2864  _sensor_set_nv(d
-00013040: 6174 615f 7479 7065 290a 2020 2020 2020  ata_type).      
-00013050: 2020 2020 2020 7365 6c66 2e75 7064 6174        self.updat
-00013060: 655f 7461 626c 655f 6974 656d 735f 7374  e_table_items_st
-00013070: 6174 7573 2829 0a20 2020 2020 2020 2020  atus().         
-00013080: 2020 2072 6574 7572 6e20 7265 7475 726e     return return
-00013090: 5f73 7461 740a 2020 2020 2020 2020 7265  _stat.        re
-000130a0: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
-000130b0: 6465 6620 7570 6461 7465 5f74 6162 6c65  def update_table
-000130c0: 5f69 7465 6d73 5f73 7461 7475 7328 7365  _items_status(se
-000130d0: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
-000130e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000130f0: 2055 7064 6174 6520 7468 6520 7265 6164   Update the read
-00013100: 6162 6c65 2073 7461 7475 7320 6f66 2074  able status of t
-00013110: 6162 6c65 2072 656c 6174 6564 2070 6172  able related par
-00013120: 616d 6574 6572 732e 0a20 2020 2020 2020  ameters..       
-00013130: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00013140: 4755 545f 434f 4e53 542e 6465 6275 673a  GUT_CONST.debug:
-00013150: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00013160: 6e74 2827 2323 2320 7265 6164 5f74 696d  nt('### read_tim
-00013170: 655f 7661 6c3a 207b 7d27 2e66 6f72 6d61  e_val: {}'.forma
-00013180: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
-00013190: 2020 2073 656c 662e 6765 745f 7061 7261     self.get_para
-000131a0: 6d73 5f76 616c 7565 2827 7265 6164 5f74  ms_value('read_t
-000131b0: 696d 6527 292e 7374 7266 7469 6d65 2847  ime').strftime(G
-000131c0: 5554 5f43 4f4e 5354 2e54 494d 455f 464f  UT_CONST.TIME_FO
-000131d0: 524d 4154 2929 290a 2020 2020 2020 2020  RMAT))).        
-000131e0: 666f 7220 7461 626c 655f 6974 656d 2c20  for table_item, 
-000131f0: 7374 6174 7573 2069 6e20 7365 6c66 2e74  status in self.t
-00013200: 6162 6c65 5f70 6172 616d 6574 6572 735f  able_parameters_
-00013210: 7374 6174 7573 2e69 7465 6d73 2829 3a0a  status.items():.
-00013220: 2020 2020 2020 2020 2020 2020 6966 2047              if G
-00013230: 5554 5f43 4f4e 5354 2e64 6562 7567 3a0a  UT_CONST.debug:.
-00013240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013250: 7072 696e 7428 277b 7d3a 207b 7d3a 207b  print('{}: {}: {
-00013260: 7d27 2e66 6f72 6d61 7428 7461 626c 655f  }'.format(table_
-00013270: 6974 656d 2c20 7374 6174 7573 2c20 7365  item, status, se
-00013280: 6c66 2e67 6574 5f70 6172 616d 735f 7661  lf.get_params_va
-00013290: 6c75 6528 7461 626c 655f 6974 656d 2929  lue(table_item))
-000132a0: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-000132b0: 2066 6f72 6d61 745f 7461 626c 655f 7661   format_table_va
-000132c0: 6c75 6528 7365 6c66 2e67 6574 5f70 6172  lue(self.get_par
-000132d0: 616d 735f 7661 6c75 6528 7461 626c 655f  ams_value(table_
-000132e0: 6974 656d 292c 2074 6162 6c65 5f69 7465  item), table_ite
-000132f0: 6d29 2069 6e20 7b4e 6f6e 652c 2027 272c  m) in {None, '',
-00013300: 206e 705f 6e61 6e2c 2027 2d2d 2d27 7d3a   np_nan, '---'}:
-00013310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013320: 2073 656c 662e 7461 626c 655f 7061 7261   self.table_para
-00013330: 6d65 7465 7273 5f73 7461 7475 735b 7461  meters_status[ta
-00013340: 626c 655f 6974 656d 5d20 3d20 4661 6c73  ble_item] = Fals
-00013350: 650a 2020 2020 2020 2020 6966 2047 5554  e.        if GUT
-00013360: 5f43 4f4e 5354 2e64 6562 7567 3a0a 2020  _CONST.debug:.  
-00013370: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-00013380: 2727 290a 0a20 2020 2064 6566 2072 6561  '')..    def rea
-00013390: 645f 6770 755f 7365 6e73 6f72 5f73 6574  d_gpu_sensor_set
-000133a0: 5f6e 7628 7365 6c66 2c20 6461 7461 5f74  _nv(self, data_t
-000133b0: 7970 653a 2053 656e 736f 7253 6574 203d  ype: SensorSet =
-000133c0: 2053 656e 736f 7253 6574 2e41 6c6c 2920   SensorSet.All) 
-000133d0: 2d3e 2062 6f6f 6c3a 0a20 2020 2020 2020  -> bool:.       
-000133e0: 2022 2222 0a20 2020 2020 2020 2055 7365   """.        Use
-000133f0: 2074 6865 206e 7669 6469 615f 736d 6920   the nvidia_smi 
-00013400: 746f 6f6c 2074 6f20 7175 6572 7920 4750  tool to query GP
-00013410: 5520 7061 7261 6d65 7465 7273 2e0a 0a20  U parameters... 
-00013420: 2020 2020 2020 203a 7061 7261 6d20 6461         :param da
-00013430: 7461 5f74 7970 653a 2073 7065 6369 6669  ta_type: specifi
-00013440: 6573 2074 6865 2073 6574 206f 6620 7365  es the set of se
-00013450: 6e73 6f72 7320 746f 2072 6561 640a 2020  nsors to read.  
-00013460: 2020 2020 2020 3a72 6574 7572 6e3a 2054        :return: T
-00013470: 7275 6520 6966 2073 7563 6365 7373 6675  rue if successfu
-00013480: 6c2c 2065 6c73 6520 4661 6c73 6520 616e  l, else False an
-00013490: 6420 6361 7264 2077 696c 6c20 6861 7665  d card will have
-000134a0: 2072 6561 6420 6469 7361 626c 6564 0a20   read disabled. 
-000134b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000134c0: 2020 2069 6620 6461 7461 5f74 7970 6520     if data_type 
-000134d0: 6e6f 7420 696e 2073 656c 662e 6e76 5f71  not in self.nv_q
-000134e0: 7565 7279 5f69 7465 6d73 3a0a 2020 2020  uery_items:.    
-000134f0: 2020 2020 2020 2020 7261 6973 6520 5479          raise Ty
-00013500: 7065 4572 726f 7228 2749 6e76 616c 6964  peError('Invalid
-00013510: 2053 656e 736f 7253 6574 2076 616c 7565   SensorSet value
-00013520: 3a20 5b7b 7d5d 272e 666f 726d 6174 2864  : [{}]'.format(d
-00013530: 6174 615f 7479 7065 2929 0a0a 2020 2020  ata_type))..    
-00013540: 2020 2020 7365 6e73 6f72 5f64 6963 7420      sensor_dict 
-00013550: 3d20 4770 7549 7465 6d2e 6e76 5f71 7565  = GpuItem.nv_que
-00013560: 7279 5f69 7465 6d73 5b64 6174 615f 7479  ry_items[data_ty
-00013570: 7065 5d0a 2020 2020 2020 2020 6e73 6d69  pe].        nsmi
-00013580: 5f69 7465 6d73 203d 205b 5d0a 2020 2020  _items = [].    
-00013590: 2020 2020 7175 6572 795f 6c69 7374 203d      query_list =
-000135a0: 205b 6974 656d 2066 6f72 2073 7562 6c69   [item for subli
-000135b0: 7374 2069 6e20 7365 6e73 6f72 5f64 6963  st in sensor_dic
-000135c0: 742e 7661 6c75 6573 2829 2066 6f72 2069  t.values() for i
-000135d0: 7465 6d20 696e 2073 7562 6c69 7374 5d0a  tem in sublist].
-000135e0: 2020 2020 2020 2020 7175 6572 795f 6c69          query_li
-000135f0: 7374 203d 205b 6974 656d 2066 6f72 2069  st = [item for i
-00013600: 7465 6d20 696e 2071 7565 7279 5f6c 6973  tem in query_lis
-00013610: 7420 6966 206e 6f74 2073 656c 662e 7061  t if not self.pa
-00013620: 7261 6d5f 6973 5f61 6374 6976 6528 6974  ram_is_active(it
-00013630: 656d 295d 0a0a 2020 2020 2020 2020 6966  em)]..        if
-00013640: 2073 656c 662e 7661 6c69 6461 7465 645f   self.validated_
-00013650: 7365 6e73 6f72 733a 0a20 2020 2020 2020  sensors:.       
-00013660: 2020 2020 2071 7279 5f73 7472 696e 6720       qry_string 
-00013670: 3d20 272c 272e 6a6f 696e 2871 7565 7279  = ','.join(query
-00013680: 5f6c 6973 7429 0a20 2020 2020 2020 2020  _list).         
-00013690: 2020 2063 6d64 5f73 7472 203d 2027 7b7d     cmd_str = '{}
-000136a0: 202d 6920 7b7d 202d 2d71 7565 7279 2d67   -i {} --query-g
-000136b0: 7075 3d7b 7d20 2d2d 666f 726d 6174 3d63  pu={} --format=c
-000136c0: 7376 2c6e 6f68 6561 6465 722c 6e6f 756e  sv,noheader,noun
-000136d0: 6974 7327 2e66 6f72 6d61 7428 0a20 2020  its'.format(.   
-000136e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136f0: 2020 2020 2047 5554 5f43 4f4e 5354 2e63       GUT_CONST.c
-00013700: 6d64 5f6e 7669 6469 615f 736d 692c 2073  md_nvidia_smi, s
-00013710: 656c 662e 7072 6d2e 7063 6965 5f69 642c  elf.prm.pcie_id,
-00013720: 2071 7279 5f73 7472 696e 6729 0a20 2020   qry_string).   
-00013730: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-00013740: 6465 6275 6728 274e 5620 636f 6d6d 616e  debug('NV comman
-00013750: 643a 5c6e 2573 272c 2063 6d64 5f73 7472  d:\n%s', cmd_str
-00013760: 290a 2020 2020 2020 2020 2020 2020 7472  ).            tr
-00013770: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00013780: 2020 206e 736d 695f 6974 656d 7320 3d20     nsmi_items = 
-00013790: 7375 6270 726f 6365 7373 2e63 6865 636b  subprocess.check
-000137a0: 5f6f 7574 7075 7428 7368 6c65 785f 7370  _output(shlex_sp
-000137b0: 6c69 7428 636d 645f 7374 7229 2c20 7368  lit(cmd_str), sh
-000137c0: 656c 6c3d 4661 6c73 6529 2e64 6563 6f64  ell=False).decod
-000137d0: 6528 292e 7370 6c69 7428 275c 6e27 290a  e().split('\n').
-000137e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137f0: 4c4f 4747 4552 2e64 6562 7567 2827 4e56  LOGGER.debug('NV
-00013800: 2071 7565 7279 2028 7369 6e67 6c65 2d63   query (single-c
-00013810: 616c 6c29 2072 6573 756c 743a 205b 2573  all) result: [%s
-00013820: 5d27 2c20 6e73 6d69 5f69 7465 6d73 290a  ]', nsmi_items).
-00013830: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00013840: 7074 2028 7375 6270 726f 6365 7373 2e43  pt (subprocess.C
-00013850: 616c 6c65 6450 726f 6365 7373 4572 726f  alledProcessErro
-00013860: 722c 204f 5345 7272 6f72 2920 6173 2065  r, OSError) as e
-00013870: 7863 6570 745f 6572 723a 0a20 2020 2020  xcept_err:.     
-00013880: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
-00013890: 522e 6465 6275 6728 274e 5620 7175 6572  R.debug('NV quer
-000138a0: 7920 2573 2065 7272 6f72 3a20 5b25 735d  y %s error: [%s]
-000138b0: 272c 206e 736d 695f 6974 656d 732c 2065  ', nsmi_items, e
-000138c0: 7863 6570 745f 6572 7229 0a20 2020 2020  xcept_err).     
-000138d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000138e0: 6e20 4661 6c73 650a 2020 2020 2020 2020  n False.        
-000138f0: 2020 2020 6966 206e 736d 695f 6974 656d      if nsmi_item
-00013900: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00013910: 2020 206e 736d 695f 6974 656d 7320 3d20     nsmi_items = 
-00013920: 6e73 6d69 5f69 7465 6d73 5b30 5d2e 7370  nsmi_items[0].sp
-00013930: 6c69 7428 272c 2729 0a20 2020 2020 2020  lit(',').       
-00013940: 2020 2020 2020 2020 206e 736d 695f 6974           nsmi_it
-00013950: 656d 7320 3d20 5b69 7465 6d2e 7374 7269  ems = [item.stri
-00013960: 7028 2920 666f 7220 6974 656d 2069 6e20  p() for item in 
-00013970: 6e73 6d69 5f69 7465 6d73 5d0a 2020 2020  nsmi_items].    
-00013980: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00013990: 2020 2020 2020 2320 5265 6164 2073 656e        # Read sen
-000139a0: 736f 7273 206f 6e65 2061 7420 6120 7469  sors one at a ti
-000139b0: 6d65 2069 6620 5365 6e73 6f72 5365 742e  me if SensorSet.
-000139c0: 416c 6c20 6861 7320 6e6f 7420 6265 656e  All has not been
-000139d0: 2076 616c 6964 6174 6564 0a20 2020 2020   validated.     
-000139e0: 2020 2020 2020 2069 6620 6461 7461 5f74         if data_t
-000139f0: 7970 6520 3d3d 2053 656e 736f 7253 6574  ype == SensorSet
-00013a00: 2e41 6c6c 3a0a 2020 2020 2020 2020 2020  .All:.          
-00013a10: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00013a20: 6174 6564 5f73 656e 736f 7273 203d 2054  ated_sensors = T
-00013a30: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-00013a40: 666f 7220 7175 6572 795f 6974 656d 2069  for query_item i
-00013a50: 6e20 7175 6572 795f 6c69 7374 3a0a 2020  n query_list:.  
-00013a60: 2020 2020 2020 2020 2020 2020 2020 7175                qu
-00013a70: 6572 795f 6461 7461 203d 2073 656c 662e  ery_data = self.
-00013a80: 7265 6164 5f67 7075 5f73 656e 736f 725f  read_gpu_sensor_
-00013a90: 6e76 2871 7565 7279 5f69 7465 6d29 0a20  nv(query_item). 
-00013aa0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00013ab0: 736d 695f 6974 656d 732e 6170 7065 6e64  smi_items.append
-00013ac0: 2871 7565 7279 5f64 6174 6129 0a20 2020  (query_data).   
-00013ad0: 2020 2020 2020 2020 2020 2020 204c 4f47               LOG
-00013ae0: 4745 522e 6465 6275 6728 274e 5620 7175  GER.debug('NV qu
-00013af0: 6572 7920 2865 6163 682d 6361 6c6c 2920  ery (each-call) 
-00013b00: 7175 6572 7920 6974 656d 205b 2573 5d2c  query item [%s],
-00013b10: 2072 6573 756c 743a 205b 2573 5d27 2c20   result: [%s]', 
-00013b20: 7175 6572 795f 6974 656d 2c20 7175 6572  query_item, quer
-00013b30: 795f 6461 7461 290a 2020 2020 2020 2020  y_data).        
-00013b40: 2020 2020 6966 206e 6f74 206e 736d 695f      if not nsmi_
-00013b50: 6974 656d 733a 0a20 2020 2020 2020 2020  items:.         
-00013b60: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-00013b70: 6275 6728 274e 5620 7175 6572 7920 2865  bug('NV query (e
-00013b80: 6163 682d 6361 6c6c 2920 6661 696c 6564  ach-call) failed
-00013b90: 2066 6f72 2061 6c6c 2073 656e 736f 7273   for all sensors
-00013ba0: 2c20 6469 7361 626c 696e 6720 7265 6164  , disabling read
-00013bb0: 2066 6f72 2063 6172 6420 5b25 735d 272c   for card [%s]',
-00013bc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013bd0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00013be0: 6c66 2e70 726d 2e63 6172 645f 6e75 6d29  lf.prm.card_num)
-00013bf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013c00: 2073 656c 662e 7072 6d2e 7265 6164 6162   self.prm.readab
-00013c10: 6c65 203d 2046 616c 7365 0a20 2020 2020  le = False.     
-00013c20: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00013c30: 6e20 4661 6c73 650a 0a20 2020 2020 2020  n False..       
-00013c40: 2072 6573 756c 7473 203d 2064 6963 7428   results = dict(
-00013c50: 7a69 7028 7175 6572 795f 6c69 7374 2c20  zip(query_list, 
-00013c60: 6e73 6d69 5f69 7465 6d73 2929 0a20 2020  nsmi_items)).   
-00013c70: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-00013c80: 6728 274e 5620 7175 6572 7920 7265 7375  g('NV query resu
-00013c90: 6c74 3a20 2573 272c 2072 6573 756c 7473  lt: %s', results
-00013ca0: 290a 0a20 2020 2020 2020 2023 2050 6f70  )..        # Pop
-00013cb0: 756c 6174 6520 4770 7549 7465 6d20 6461  ulate GpuItem da
-00013cc0: 7461 2066 726f 6d20 7265 7375 6c74 7320  ta from results 
-00013cd0: 6469 6374 696f 6e61 7279 0a20 2020 2020  dictionary.     
-00013ce0: 2020 2066 6f72 2070 6172 616d 5f6e 616d     for param_nam
-00013cf0: 652c 2073 656e 736f 725f 6c69 7374 2069  e, sensor_list i
-00013d00: 6e20 7365 6e73 6f72 5f64 6963 742e 6974  n sensor_dict.it
-00013d10: 656d 7328 293a 0a20 2020 2020 2020 2020  ems():.         
-00013d20: 2020 2069 6620 7061 7261 6d5f 6e61 6d65     if param_name
-00013d30: 203d 3d20 2770 6f77 6572 5f63 6170 5f72   == 'power_cap_r
-00013d40: 616e 6765 273a 0a20 2020 2020 2020 2020  ange':.         
-00013d50: 2020 2020 2020 2069 6620 7265 7375 6c74         if result
-00013d60: 735b 2770 6f77 6572 2e6d 696e 5f6c 696d  s['power.min_lim
-00013d70: 6974 275d 2061 6e64 2072 652e 6675 6c6c  it'] and re.full
-00013d80: 6d61 7463 6828 5041 5454 4552 4e53 5b27  match(PATTERNS['
-00013d90: 4953 5f46 4c4f 4154 275d 2c20 7265 7375  IS_FLOAT'], resu
-00013da0: 6c74 735b 2770 6f77 6572 2e6d 696e 5f6c  lts['power.min_l
-00013db0: 696d 6974 275d 293a 0a20 2020 2020 2020  imit']):.       
-00013dc0: 2020 2020 2020 2020 2020 2020 2070 6f77               pow
-00013dd0: 6572 5f6d 696e 203d 2066 6c6f 6174 2872  er_min = float(r
-00013de0: 6573 756c 7473 5b27 706f 7765 722e 6d69  esults['power.mi
-00013df0: 6e5f 6c69 6d69 7427 5d29 0a20 2020 2020  n_limit']).     
-00013e00: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00013e10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013e20: 2020 2020 2070 6f77 6572 5f6d 696e 203d       power_min =
-00013e30: 2072 6573 756c 7473 5b27 706f 7765 722e   results['power.
-00013e40: 6d69 6e5f 6c69 6d69 7427 5d0a 2020 2020  min_limit'].    
-00013e50: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00013e60: 6573 756c 7473 5b27 706f 7765 722e 6d61  esults['power.ma
-00013e70: 785f 6c69 6d69 7427 5d20 616e 6420 7265  x_limit'] and re
-00013e80: 2e66 756c 6c6d 6174 6368 2850 4154 5445  .fullmatch(PATTE
-00013e90: 524e 535b 2749 535f 464c 4f41 5427 5d2c  RNS['IS_FLOAT'],
-00013ea0: 2072 6573 756c 7473 5b27 706f 7765 722e   results['power.
-00013eb0: 6d61 785f 6c69 6d69 7427 5d29 3a0a 2020  max_limit']):.  
-00013ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ed0: 2020 706f 7765 725f 6d61 7820 3d20 666c    power_max = fl
-00013ee0: 6f61 7428 7265 7375 6c74 735b 2770 6f77  oat(results['pow
-00013ef0: 6572 2e6d 6178 5f6c 696d 6974 275d 290a  er.max_limit']).
-00013f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013f10: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00013f20: 2020 2020 2020 2020 2020 706f 7765 725f            power_
-00013f30: 6d61 7820 3d20 7265 7375 6c74 735b 2770  max = results['p
-00013f40: 6f77 6572 2e6d 6178 5f6c 696d 6974 275d  ower.max_limit']
-00013f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013f60: 2073 656c 662e 7072 6d2e 706f 7765 725f   self.prm.power_
-00013f70: 6361 705f 7261 6e67 6520 3d20 5b70 6f77  cap_range = [pow
-00013f80: 6572 5f6d 696e 2c20 706f 7765 725f 6d61  er_min, power_ma
-00013f90: 785d 0a20 2020 2020 2020 2020 2020 2065  x].            e
-00013fa0: 6c69 6620 7061 7261 6d5f 6e61 6d65 203d  lif param_name =
-00013fb0: 3d20 2770 6f77 6572 273a 0a20 2020 2020  = 'power':.     
-00013fc0: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00013fd0: 7375 6c74 735b 2770 6f77 6572 2e64 7261  sults['power.dra
-00013fe0: 7727 5d20 616e 6420 7265 2e66 756c 6c6d  w'] and re.fullm
-00013ff0: 6174 6368 2850 4154 5445 524e 535b 2749  atch(PATTERNS['I
-00014000: 535f 464c 4f41 5427 5d2c 2072 6573 756c  S_FLOAT'], resul
-00014010: 7473 5b27 706f 7765 722e 6472 6177 275d  ts['power.draw']
-00014020: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00014030: 2020 2020 2020 2070 6f77 6572 203d 2066         power = f
-00014040: 6c6f 6174 2872 6573 756c 7473 5b27 706f  loat(results['po
-00014050: 7765 722e 6472 6177 275d 290a 2020 2020  wer.draw']).    
-00014060: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00014070: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014080: 2020 2020 2020 7365 6c66 2e64 6973 6162        self.disab
-00014090: 6c65 5f70 6172 616d 5f72 6561 6428 2770  le_param_read('p
-000140a0: 6f77 6572 2729 0a20 2020 2020 2020 2020  ower').         
-000140b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000140c0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
-000140d0: 6164 2827 656e 6572 6779 2729 0a20 2020  ad('energy').   
-000140e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140f0: 2070 6f77 6572 203d 204e 6f6e 650a 2020   power = None.  
-00014100: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00014110: 6c66 2e73 6574 5f70 6172 616d 735f 7661  lf.set_params_va
-00014120: 6c75 6528 2770 6f77 6572 272c 2070 6f77  lue('power', pow
-00014130: 6572 290a 2020 2020 2020 2020 2020 2020  er).            
-00014140: 656c 6966 2070 6172 616d 5f6e 616d 6520  elif param_name 
-00014150: 3d3d 2027 7073 7461 7465 7327 3a0a 2020  == 'pstates':.  
-00014160: 2020 2020 2020 2020 2020 2020 2020 7073                ps
-00014170: 7461 7465 5f73 7472 203d 2072 652e 7375  tate_str = re.su
-00014180: 6228 5041 5454 4552 4e53 5b27 414c 5048  b(PATTERNS['ALPH
-00014190: 4127 5d2c 2027 272c 2072 6573 756c 7473  A'], '', results
-000141a0: 5b27 7073 7461 7465 275d 290a 2020 2020  ['pstate']).    
-000141b0: 2020 2020 2020 2020 2020 2020 7073 7461              psta
-000141c0: 7465 203d 2069 6e74 2870 7374 6174 655f  te = int(pstate_
-000141d0: 7374 7229 2069 6620 7073 7461 7465 5f73  str) if pstate_s
-000141e0: 7472 2e69 736e 756d 6572 6963 2829 2065  tr.isnumeric() e
-000141f0: 6c73 6520 4e6f 6e65 0a20 2020 2020 2020  lse None.       
-00014200: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-00014210: 6d5b 2773 636c 6b5f 7073 275d 5b30 5d20  m['sclk_ps'][0] 
-00014220: 3d20 7073 7461 7465 0a20 2020 2020 2020  = pstate.       
-00014230: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-00014240: 6d5b 276d 636c 6b5f 7073 275d 5b30 5d20  m['mclk_ps'][0] 
-00014250: 3d20 7073 7461 7465 0a20 2020 2020 2020  = pstate.       
-00014260: 2020 2020 2065 6c69 6620 7061 7261 6d5f       elif param_
-00014270: 6e61 6d65 2069 6e20 7b27 7465 6d70 6572  name in {'temper
-00014280: 6174 7572 6573 272c 2027 766f 6c74 6167  atures', 'voltag
-00014290: 6573 272c 2027 6672 6571 7565 6e63 6965  es', 'frequencie
-000142a0: 7327 2c20 2766 7265 7175 656e 6369 6573  s', 'frequencies
-000142b0: 5f6d 6178 277d 3a0a 2020 2020 2020 2020  _max'}:.        
-000142c0: 2020 2020 2020 2020 7365 6c66 2e70 726d          self.prm
-000142d0: 5b70 6172 616d 5f6e 616d 655d 203d 207b  [param_name] = {
-000142e0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
-000142f0: 2020 666f 7220 736e 5f6b 2069 6e20 7365    for sn_k in se
-00014300: 6e73 6f72 5f6c 6973 743a 0a20 2020 2020  nsor_list:.     
-00014310: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00014320: 6620 736e 5f6b 206e 6f74 2069 6e20 7265  f sn_k not in re
-00014330: 7375 6c74 733a 2063 6f6e 7469 6e75 650a  sults: continue.
-00014340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014350: 2020 2020 6966 2072 6573 756c 7473 5b73      if results[s
-00014360: 6e5f 6b5d 2061 6e64 2072 652e 6675 6c6c  n_k] and re.full
-00014370: 6d61 7463 6828 5041 5454 4552 4e53 5b27  match(PATTERNS['
-00014380: 4953 5f46 4c4f 4154 275d 2c20 7265 7375  IS_FLOAT'], resu
-00014390: 6c74 735b 736e 5f6b 5d29 3a0a 2020 2020  lts[sn_k]):.    
-000143a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000143b0: 2020 2020 7061 7261 6d5f 7661 6c20 3d20      param_val = 
-000143c0: 666c 6f61 7428 7265 7375 6c74 735b 736e  float(results[sn
-000143d0: 5f6b 5d29 0a20 2020 2020 2020 2020 2020  _k]).           
-000143e0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000143f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014400: 2020 2020 2020 2070 6172 616d 5f76 616c         param_val
-00014410: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00014420: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00014430: 2e70 726d 5b70 6172 616d 5f6e 616d 655d  .prm[param_name]
-00014440: 2e75 7064 6174 6528 7b73 6e5f 6b3a 2070  .update({sn_k: p
-00014450: 6172 616d 5f76 616c 7d29 0a20 2020 2020  aram_val}).     
-00014460: 2020 2020 2020 2065 6c69 6620 7265 2e66         elif re.f
-00014470: 756c 6c6d 6174 6368 2850 4154 5445 524e  ullmatch(PATTERN
-00014480: 535b 2747 5055 4d45 4d54 5950 4527 5d2c  S['GPUMEMTYPE'],
-00014490: 2070 6172 616d 5f6e 616d 6529 3a0a 2020   param_name):.  
-000144a0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-000144b0: 7220 736e 5f6b 2069 6e20 7365 6e73 6f72  r sn_k in sensor
-000144c0: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
-000144d0: 2020 2020 2020 2020 2020 2069 6620 736e             if sn
-000144e0: 5f6b 206e 6f74 2069 6e20 7265 7375 6c74  _k not in result
-000144f0: 733a 2063 6f6e 7469 6e75 650a 2020 2020  s: continue.    
-00014500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014510: 6d65 6d5f 7661 6c75 6520 3d20 696e 7428  mem_value = int(
-00014520: 7265 7375 6c74 735b 736e 5f6b 5d29 2069  results[sn_k]) i
-00014530: 6620 7265 7375 6c74 735b 736e 5f6b 5d2e  f results[sn_k].
-00014540: 6973 6e75 6d65 7269 6320 656c 7365 204e  isnumeric else N
-00014550: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-00014560: 2020 2020 2020 2020 7365 6c66 2e70 726d          self.prm
-00014570: 5b70 6172 616d 5f6e 616d 655d 203d 206d  [param_name] = m
-00014580: 656d 5f76 616c 7565 202f 2031 3032 342e  em_value / 1024.
-00014590: 300a 2020 2020 2020 2020 2020 2020 2020  0.              
-000145a0: 2020 7365 6c66 2e73 6574 5f6d 656d 6f72    self.set_memor
-000145b0: 795f 7573 6167 6528 290a 2020 2020 2020  y_usage().      
-000145c0: 2020 2020 2020 656c 6966 2070 6172 616d        elif param
-000145d0: 5f6e 616d 6520 3d3d 2027 6661 6e5f 7370  _name == 'fan_sp
-000145e0: 6565 6427 3a0a 2020 2020 2020 2020 2020  eed':.          
-000145f0: 2020 2020 2020 736e 5f6b 203d 2073 656e        sn_k = sen
-00014600: 736f 725f 6c69 7374 5b30 5d0a 2020 2020  sor_list[0].    
-00014610: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00014620: 652e 6675 6c6c 6d61 7463 6828 5041 5454  e.fullmatch(PATT
-00014630: 4552 4e53 5b27 4953 5f46 4c4f 4154 275d  ERNS['IS_FLOAT']
-00014640: 2c20 7265 7375 6c74 735b 736e 5f6b 5d29  , results[sn_k])
-00014650: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014660: 2020 2020 2020 7365 6c66 2e70 726d 5b70        self.prm[p
-00014670: 6172 616d 5f6e 616d 655d 203d 2066 6c6f  aram_name] = flo
-00014680: 6174 2872 6573 756c 7473 5b73 6e5f 6b5d  at(results[sn_k]
-00014690: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000146a0: 2020 2020 2020 7365 6c66 2e70 726d 2e66        self.prm.f
-000146b0: 616e 5f70 776d 203d 2073 656c 662e 7072  an_pwm = self.pr
-000146c0: 6d5b 7061 7261 6d5f 6e61 6d65 5d0a 2020  m[param_name].  
-000146d0: 2020 2020 2020 2020 2020 656c 6966 2070            elif p
-000146e0: 6172 616d 5f6e 616d 6520 3d3d 2027 6c69  aram_name == 'li
-000146f0: 6e6b 5f73 7064 273a 0a20 2020 2020 2020  nk_spd':.       
-00014700: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
-00014710: 6d2e 6c69 6e6b 5f73 7064 203d 2027 4745  m.link_spd = 'GE
-00014720: 4e7b 7d27 2e66 6f72 6d61 7428 7265 7375  N{}'.format(resu
-00014730: 6c74 735b 2770 6369 652e 6c69 6e6b 2e67  lts['pcie.link.g
-00014740: 656e 2e63 7572 7265 6e74 275d 290a 2020  en.current']).  
-00014750: 2020 2020 2020 2020 2020 656c 6966 2070            elif p
-00014760: 6172 616d 5f6e 616d 6520 3d3d 2027 6d6f  aram_name == 'mo
-00014770: 6465 6c27 3a0a 2020 2020 2020 2020 2020  del':.          
-00014780: 2020 2020 2020 7365 6c66 2e70 726d 2e6d        self.prm.m
-00014790: 6f64 656c 203d 2072 6573 756c 7473 5b27  odel = results['
-000147a0: 6e61 6d65 275d 0a20 2020 2020 2020 2020  name'].         
-000147b0: 2020 2020 2020 2073 656c 662e 7072 6d2e         self.prm.
-000147c0: 6d6f 6465 6c5f 6469 7370 6c61 7920 3d20  model_display = 
-000147d0: 7365 6c66 2e70 726d 2e6d 6f64 656c 5f64  self.prm.model_d
-000147e0: 6576 6963 655f 6465 636f 6465 0a20 2020  evice_decode.   
-000147f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00014800: 7265 7375 6c74 735b 276e 616d 6527 5d20  results['name'] 
-00014810: 616e 6420 6c65 6e28 7265 7375 6c74 735b  and len(results[
-00014820: 276e 616d 6527 5d29 203c 206c 656e 2873  'name']) < len(s
-00014830: 656c 662e 7072 6d2e 6d6f 6465 6c5f 6465  elf.prm.model_de
-00014840: 7669 6365 5f64 6563 6f64 6529 3a0a 2020  vice_decode):.  
-00014850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014860: 2020 7365 6c66 2e70 726d 2e6d 6f64 656c    self.prm.model
-00014870: 5f64 6973 706c 6179 203d 2072 6573 756c  _display = resul
-00014880: 7473 5b27 6e61 6d65 275d 0a20 2020 2020  ts['name'].     
-00014890: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000148a0: 7072 6d2e 6d6f 6465 6c5f 6469 7370 6c61  prm.model_displa
-000148b0: 7920 3d20 7365 6c66 2e66 6974 5f64 6973  y = self.fit_dis
-000148c0: 706c 6179 5f6e 616d 6528 7365 6c66 2e70  play_name(self.p
-000148d0: 726d 2e6d 6f64 656c 5f64 6973 706c 6179  rm.model_display
-000148e0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-000148f0: 6966 206c 656e 2873 656e 736f 725f 6c69  if len(sensor_li
-00014900: 7374 2920 3d3d 2031 3a0a 2020 2020 2020  st) == 1:.      
-00014910: 2020 2020 2020 2020 2020 736e 5f6b 203d            sn_k =
-00014920: 2073 656e 736f 725f 6c69 7374 5b30 5d0a   sensor_list[0].
-00014930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014940: 6966 2072 652e 6675 6c6c 6d61 7463 6828  if re.fullmatch(
-00014950: 5041 5454 4552 4e53 5b27 4953 5f46 4c4f  PATTERNS['IS_FLO
-00014960: 4154 275d 2c20 7265 7375 6c74 735b 736e  AT'], results[sn
-00014970: 5f6b 5d29 3a0a 2020 2020 2020 2020 2020  _k]):.          
-00014980: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-00014990: 726d 5b70 6172 616d 5f6e 616d 655d 203d  rm[param_name] =
-000149a0: 2066 6c6f 6174 2872 6573 756c 7473 5b73   float(results[s
-000149b0: 6e5f 6b5d 290a 2020 2020 2020 2020 2020  n_k]).          
-000149c0: 2020 2020 2020 656c 6966 206e 6f74 2072        elif not r
-000149d0: 6573 756c 7473 5b73 6e5f 6b5d 3a0a 2020  esults[sn_k]:.  
-000149e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000149f0: 2020 7365 6c66 2e70 726d 5b70 6172 616d    self.prm[param
-00014a00: 5f6e 616d 655d 203d 204e 6f6e 650a 2020  _name] = None.  
-00014a10: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00014a20: 6c66 2e70 726d 5b70 6172 616d 5f6e 616d  lf.prm[param_nam
-00014a30: 655d 203d 2072 6573 756c 7473 5b73 6e5f  e] = results[sn_
-00014a40: 6b5d 0a20 2020 2020 2020 2072 6574 7572  k].        retur
-00014a50: 6e20 5472 7565 0a0a 2020 2020 6465 6620  n True..    def 
-00014a60: 7265 6164 5f67 7075 5f73 656e 736f 725f  read_gpu_sensor_
-00014a70: 7365 745f 616d 6428 7365 6c66 2c20 6461  set_amd(self, da
-00014a80: 7461 5f74 7970 653a 2053 656e 736f 7253  ta_type: SensorS
-00014a90: 6574 203d 2053 656e 736f 7253 6574 2e41  et = SensorSet.A
-00014aa0: 6c6c 2920 2d3e 2062 6f6f 6c3a 0a20 2020  ll) -> bool:.   
-00014ab0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00014ac0: 2052 6561 6420 4750 5520 7365 6e73 6f72   Read GPU sensor
-00014ad0: 2064 6174 6120 6672 6f6d 2048 574d 4f4e   data from HWMON
-00014ae0: 2061 6e64 2044 4556 4943 4520 7365 6e73   and DEVICE sens
-00014af0: 6f72 7320 7573 696e 6720 7468 6520 7365  ors using the se
-00014b00: 6e73 6f72 2073 6574 2064 6566 696e 6564  nsor set defined
-00014b10: 0a20 2020 2020 2020 2062 7920 6461 7461  .        by data
-00014b20: 5f74 7970 652e 0a0a 2020 2020 2020 2020  _type...        
-00014b30: 3a70 6172 616d 2064 6174 615f 7479 7065  :param data_type
-00014b40: 3a20 5370 6563 6966 6965 7320 7468 6520  : Specifies the 
-00014b50: 7365 6e73 6f72 2073 6574 3a20 4479 6e61  sensor set: Dyna
-00014b60: 6d69 632c 2053 7461 7469 632c 2049 6e66  mic, Static, Inf
-00014b70: 6f2c 2053 7461 7465 2c20 416c 6c20 4d6f  o, State, All Mo
-00014b80: 6e69 746f 720a 2020 2020 2020 2020 3a72  nitor.        :r
-00014b90: 6574 7572 6e3a 2054 7275 6520 6966 2073  eturn: True if s
-00014ba0: 7563 6365 7373 6675 6c0a 2020 2020 2020  uccessful.      
-00014bb0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-00014bc0: 206e 6f74 2047 5554 5f43 4f4e 5354 2e66   not GUT_CONST.f
-00014bd0: 6f72 6365 5f61 6c6c 3a0a 2020 2020 2020  orce_all:.      
-00014be0: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
-00014bf0: 662e 7072 6d2e 7265 6164 6162 6c65 3a0a  f.prm.readable:.
-00014c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014c10: 7265 7475 726e 2046 616c 7365 0a0a 2020  return False..  
-00014c20: 2020 2020 2020 7265 7475 726e 5f73 7461        return_sta
-00014c30: 7475 7320 3d20 4661 6c73 650a 2020 2020  tus = False.    
-00014c40: 2020 2020 7061 7261 6d5f 6c69 7374 203d      param_list =
-00014c50: 2073 656c 662e 7365 6e73 6f72 5f73 6574   self.sensor_set
-00014c60: 735b 6461 7461 5f74 7970 655d 0a0a 2020  s[data_type]..  
-00014c70: 2020 2020 2020 666f 7220 7365 6e73 6f72        for sensor
-00014c80: 5f74 7970 652c 2070 6172 616d 5f6e 616d  _type, param_nam
-00014c90: 6573 2069 6e20 7061 7261 6d5f 6c69 7374  es in param_list
-00014ca0: 2e69 7465 6d73 2829 3a0a 2020 2020 2020  .items():.      
-00014cb0: 2020 2020 2020 666f 7220 7061 7261 6d20        for param 
-00014cc0: 696e 2070 6172 616d 5f6e 616d 6573 3a0a  in param_names:.
-00014cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ce0: 4c4f 4747 4552 2e64 6562 7567 2827 5072  LOGGER.debug('Pr
-00014cf0: 6f63 6573 7369 6e67 2070 6172 616d 6574  ocessing paramet
-00014d00: 6572 3a20 2573 272c 2070 6172 616d 290a  er: %s', param).
-00014d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014d20: 7264 6174 6120 3d20 7365 6c66 2e72 6561  rdata = self.rea
-00014d30: 645f 6770 755f 7365 6e73 6f72 2870 6172  d_gpu_sensor(par
-00014d40: 616d 2c20 7665 6e64 6f72 3d73 656c 662e  am, vendor=self.
-00014d50: 7072 6d2e 7665 6e64 6f72 2c20 7365 6e73  prm.vendor, sens
-00014d60: 6f72 5f74 7970 653d 7365 6e73 6f72 5f74  or_type=sensor_t
-00014d70: 7970 6529 0a20 2020 2020 2020 2020 2020  ype).           
-00014d80: 2020 2020 2069 6620 7264 6174 6120 6973       if rdata is
-00014d90: 2046 616c 7365 3a0a 2020 2020 2020 2020   False:.        
-00014da0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-00014db0: 6172 616d 2021 3d20 2775 6e69 7175 655f  aram != 'unique_
-00014dc0: 6964 273a 0a20 2020 2020 2020 2020 2020  id':.           
-00014dd0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00014de0: 662e 6469 7361 626c 655f 7061 7261 6d5f  f.disable_param_
-00014df0: 7265 6164 2827 756e 6971 7565 5f69 6427  read('unique_id'
-00014e00: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00014e10: 2020 656c 6966 2072 6461 7461 2069 7320    elif rdata is 
-00014e20: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00014e30: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
-00014e40: 2e64 6562 7567 2827 5265 6164 2064 6174  .debug('Read dat
-00014e50: 6120 5b25 735d 2c20 496e 7661 6c69 6420  a [%s], Invalid 
-00014e60: 6f72 2064 6973 6162 6c65 6420 7061 7261  or disabled para
-00014e70: 6d65 7465 723a 2025 7327 2c20 7264 6174  meter: %s', rdat
-00014e80: 612c 2070 6172 616d 290a 2020 2020 2020  a, param).      
-00014e90: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00014ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014eb0: 2020 2020 4c4f 4747 4552 2e64 6562 7567      LOGGER.debug
-00014ec0: 2827 5661 6c69 6420 6461 7461 205b 2573  ('Valid data [%s
-00014ed0: 5d20 666f 7220 7061 7261 6d65 7465 723a  ] for parameter:
-00014ee0: 2025 7327 2c20 7264 6174 612c 2070 6172   %s', rdata, par
-00014ef0: 616d 290a 2020 2020 2020 2020 2020 2020  am).            
-00014f00: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
-00014f10: 5f70 6172 616d 735f 7661 6c75 6528 7061  _params_value(pa
-00014f20: 7261 6d2c 2072 6461 7461 290a 2020 2020  ram, rdata).    
-00014f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f40: 7265 7475 726e 5f73 7461 7475 7320 3d20  return_status = 
-00014f50: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
-00014f60: 7572 6e20 7265 7475 726e 5f73 7461 7475  urn return_statu
-00014f70: 730a 0a20 2020 2064 6566 2070 7269 6e74  s..    def print
-00014f80: 5f64 6973 6162 6c65 645f 7061 7261 6d73  _disabled_params
-00014f90: 2873 656c 6629 202d 3e20 4e6f 6e65 3a0a  (self) -> None:.
-00014fa0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00014fb0: 2020 2020 5072 696e 7420 6c69 7374 206f      Print list o
-00014fc0: 6620 6469 7361 626c 6564 2070 6172 616d  f disabled param
-00014fd0: 6574 6572 732e 0a20 2020 2020 2020 2022  eters..        "
-00014fe0: 2222 0a20 2020 2020 2020 2070 6172 616d  "".        param
-00014ff0: 5f6c 6973 7473 203d 205b 5d0a 2020 2020  _lists = [].    
-00015000: 2020 2020 6966 2047 5554 5f43 4f4e 5354      if GUT_CONST
-00015010: 2e76 6572 626f 7365 2061 6e64 2073 656c  .verbose and sel
-00015020: 662e 7265 6164 5f73 6b69 703a 0a20 2020  f.read_skip:.   
-00015030: 2020 2020 2020 2020 2070 6172 616d 5f6c           param_l
-00015040: 6973 7473 2e61 7070 656e 6428 2753 6b69  ists.append('Ski
-00015050: 7070 6564 2729 0a20 2020 2020 2020 2069  pped').        i
-00015060: 6620 7365 6c66 2e72 6561 645f 6469 7361  f self.read_disa
-00015070: 626c 6564 3a0a 2020 2020 2020 2020 2020  bled:.          
-00015080: 2020 7061 7261 6d5f 6c69 7374 732e 6170    param_lists.ap
-00015090: 7065 6e64 2827 4469 7361 626c 6564 2729  pend('Disabled')
-000150a0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000150b0: 7061 7261 6d5f 6c69 7374 733a 0a20 2020  param_lists:.   
-000150c0: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
-000150d0: 2020 2020 2020 2020 7061 7261 6d5f 6c69          param_li
-000150e0: 7374 7320 3d20 7475 706c 6528 7061 7261  sts = tuple(para
-000150f0: 6d5f 6c69 7374 735b 3a5d 2c29 0a0a 2020  m_lists[:],)..  
-00015100: 2020 2020 2020 636f 6c6f 7220 3d20 7365        color = se
-00015110: 6c66 2e6d 6172 6b5f 7570 5f63 6f64 6573  lf.mark_up_codes
-00015120: 5b27 6e6f 6e65 275d 2069 6620 4755 545f  ['none'] if GUT_
-00015130: 434f 4e53 542e 6e6f 5f6d 6172 6b75 7020  CONST.no_markup 
-00015140: 656c 7365 2073 656c 662e 6d61 726b 5f75  else self.mark_u
-00015150: 705f 636f 6465 735b 2764 6174 6127 5d0a  p_codes['data'].
-00015160: 2020 2020 2020 2020 636f 6c6f 725f 7265          color_re
-00015170: 7365 7420 3d20 7365 6c66 2e6d 6172 6b5f  set = self.mark_
-00015180: 7570 5f63 6f64 6573 5b27 6e6f 6e65 275d  up_codes['none']
-00015190: 2069 6620 4755 545f 434f 4e53 542e 6e6f   if GUT_CONST.no
-000151a0: 5f6d 6172 6b75 7020 656c 7365 2073 656c  _markup else sel
-000151b0: 662e 6d61 726b 5f75 705f 636f 6465 735b  f.mark_up_codes[
-000151c0: 2772 6573 6574 275d 0a20 2020 2020 2020  'reset'].       
-000151d0: 2070 7265 203d 2027 2020 2027 0a20 2020   pre = '   '.   
-000151e0: 2020 2020 2066 6f72 2070 6172 616d 5f6c       for param_l
-000151f0: 6973 745f 6e61 6d65 2069 6e20 7061 7261  ist_name in para
-00015200: 6d5f 6c69 7374 733a 0a20 2020 2020 2020  m_lists:.       
-00015210: 2020 2020 2070 6172 616d 5f6c 6973 7420       param_list 
-00015220: 3d20 7365 6c66 2e72 6561 645f 6469 7361  = self.read_disa
-00015230: 626c 6564 2069 6620 7061 7261 6d5f 6c69  bled if param_li
-00015240: 7374 5f6e 616d 6520 3d3d 2027 4469 7361  st_name == 'Disa
-00015250: 626c 6564 2720 656c 7365 2073 656c 662e  bled' else self.
-00015260: 7265 6164 5f73 6b69 700a 2020 2020 2020  read_skip.      
-00015270: 2020 2020 2020 6c61 6265 6c20 3d20 277b        label = '{
-00015280: 7d20 5061 7261 6d65 7465 7273 3a20 272e  } Parameters: '.
-00015290: 666f 726d 6174 2870 6172 616d 5f6c 6973  format(param_lis
-000152a0: 745f 6e61 6d65 290a 2020 2020 2020 2020  t_name).        
-000152b0: 2020 2020 7072 696e 7428 277b 7d7b 7d7b      print('{}{}{
-000152c0: 7d27 2e66 6f72 6d61 7428 7072 652c 2027  }'.format(pre, '
-000152d0: 272c 2027 2327 2e6c 6a75 7374 2835 302c  ', '#'.ljust(50,
-000152e0: 2027 2327 2929 290a 2020 2020 2020 2020   '#'))).        
-000152f0: 2020 2020 7072 696e 7428 277b 7d7b 7d27      print('{}{}'
-00015300: 2e66 6f72 6d61 7428 7072 652c 206c 6162  .format(pre, lab
-00015310: 656c 292c 2065 6e64 3d27 2729 0a20 2020  el), end='').   
-00015320: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
-00015330: 7b7d 272e 666f 726d 6174 2863 6f6c 6f72  {}'.format(color
-00015340: 292c 2065 6e64 3d27 2729 0a20 2020 2020  ), end='').     
-00015350: 2020 2020 2020 2066 6f72 2069 2c20 7061         for i, pa
-00015360: 7261 6d65 7465 7220 696e 2065 6e75 6d65  rameter in enume
-00015370: 7261 7465 2870 6172 616d 5f6c 6973 7429  rate(param_list)
-00015380: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00015390: 2020 6966 2069 203d 3d20 303a 0a20 2020    if i == 0:.   
-000153a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000153b0: 2070 7269 6e74 2827 7b7d 272e 666f 726d   print('{}'.form
-000153c0: 6174 2870 6172 616d 6574 6572 292c 2065  at(parameter), e
-000153d0: 6e64 3d27 2729 0a20 2020 2020 2020 2020  nd='').         
-000153e0: 2020 2020 2020 2065 6c69 6620 6e6f 7420         elif not 
-000153f0: 6920 2520 343a 0a20 2020 2020 2020 2020  i % 4:.         
-00015400: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00015410: 2827 2c5c 6e7b 7d7b 7d7b 7d27 2e66 6f72  (',\n{}{}{}'.for
-00015420: 6d61 7428 7072 652c 2027 2027 2e6c 6a75  mat(pre, ' '.lju
-00015430: 7374 286c 656e 286c 6162 656c 292c 2027  st(len(label), '
-00015440: 2027 292c 2070 6172 616d 6574 6572 292c   '), parameter),
-00015450: 2065 6e64 3d27 2729 0a20 2020 2020 2020   end='').       
-00015460: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00015470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015480: 2020 2070 7269 6e74 2827 2c20 7b7d 272e     print(', {}'.
-00015490: 666f 726d 6174 2870 6172 616d 6574 6572  format(parameter
-000154a0: 292c 2065 6e64 3d27 2729 0a20 2020 2020  ), end='').     
-000154b0: 2020 2020 2020 2070 7269 6e74 2827 7b7d         print('{}
-000154c0: 272e 666f 726d 6174 2863 6f6c 6f72 5f72  '.format(color_r
-000154d0: 6573 6574 2929 0a0a 2020 2020 6465 6620  eset))..    def 
-000154e0: 7072 696e 745f 7061 7261 6d5f 7461 626c  print_param_tabl
-000154f0: 6528 7365 6c66 2c20 7061 7261 6d5f 6e61  e(self, param_na
-00015500: 6d65 3a20 7374 722c 2073 686f 7274 3a20  me: str, short: 
-00015510: 626f 6f6c 203d 2054 7275 6529 202d 3e20  bool = True) -> 
-00015520: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-00015530: 220a 2020 2020 2020 2020 5072 696e 7420  ".        Print 
-00015540: 6875 6d61 6e20 6672 6965 6e64 6c79 2074  human friendly t
-00015550: 6162 6c65 206f 6620 7370 6563 6966 6965  able of specifie
-00015560: 6420 7061 7261 6d65 7465 7273 2e0a 0a20  d parameters... 
-00015570: 2020 2020 2020 203a 7061 7261 6d20 7061         :param pa
-00015580: 7261 6d5f 6e61 6d65 3a20 5461 7267 6574  ram_name: Target
-00015590: 2070 6172 616d 6574 6572 206b 6579 206e   parameter key n
-000155a0: 616d 652e 0a20 2020 2020 2020 203a 7061  ame..        :pa
-000155b0: 7261 6d20 7368 6f72 743a 2050 7269 6e74  ram short: Print
-000155c0: 2073 686f 7274 2067 7075 2066 6972 7374   short gpu first
-000155d0: 2069 6620 5472 7565 0a20 2020 2020 2020   if True.       
-000155e0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-000155f0: 6e6f 7420 7365 6c66 2e69 735f 616d 645f  not self.is_amd_
-00015600: 7265 6164 6162 6c65 2829 3a20 7265 7475  readable(): retu
-00015610: 726e 0a20 2020 2020 2020 2070 6172 616d  rn.        param
-00015620: 5f74 6162 6c65 5f64 6566 696e 6974 696f  _table_definitio
-00015630: 6e73 203d 207b 2770 705f 6665 6174 7572  ns = {'pp_featur
-00015640: 6573 273a 207b 2766 756e 6327 3a20 7365  es': {'func': se
-00015650: 6c66 2e72 6561 645f 6770 755f 7070 5f66  lf.read_gpu_pp_f
-00015660: 6561 7475 7265 732c 2027 6e61 6d65 273a  eatures, 'name':
-00015670: 2027 5050 2046 6561 7475 7265 277d 2c0a   'PP Feature'},.
-00015680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156a0: 2020 2027 636c 696e 666f 273a 207b 2766     'clinfo': {'f
-000156b0: 756e 6327 3a20 4e6f 6e65 2c20 276e 616d  unc': None, 'nam
-000156c0: 6527 3a20 2743 4c49 4e46 4f27 7d2c 0a20  e': 'CLINFO'},. 
-000156d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156f0: 2020 2770 7374 6174 6527 3a20 7b27 6675    'pstate': {'fu
-00015700: 6e63 273a 204e 6f6e 652c 2027 6e61 6d65  nc': None, 'name
-00015710: 273a 2027 502d 5374 6174 6527 7d2c 0a20  ': 'P-State'},. 
-00015720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015740: 2020 2770 706d 273a 207b 2766 756e 6327    'ppm': {'func'
-00015750: 3a20 7365 6c66 2e72 6561 645f 6770 755f  : self.read_gpu_
-00015760: 7070 6d5f 7461 626c 652c 2027 6e61 6d65  ppm_table, 'name
-00015770: 273a 2027 5050 4d27 7d7d 0a20 2020 2020  ': 'PPM'}}.     
-00015780: 2020 2069 6620 7061 7261 6d5f 6e61 6d65     if param_name
-00015790: 206e 6f74 2069 6e20 7061 7261 6d5f 7461   not in param_ta
-000157a0: 626c 655f 6465 6669 6e69 7469 6f6e 733a  ble_definitions:
-000157b0: 2072 6574 7572 6e0a 0a20 2020 2020 2020   return..       
-000157c0: 2070 7265 203d 2027 2020 2027 0a20 2020   pre = '   '.   
-000157d0: 2020 2020 2063 6f6c 6f72 203d 2073 656c       color = sel
-000157e0: 662e 6d61 726b 5f75 705f 636f 6465 735b  f.mark_up_codes[
-000157f0: 276e 6f6e 6527 5d20 6966 2047 5554 5f43  'none'] if GUT_C
-00015800: 4f4e 5354 2e6e 6f5f 6d61 726b 7570 2065  ONST.no_markup e
-00015810: 6c73 6520 7365 6c66 2e6d 6172 6b5f 7570  lse self.mark_up
-00015820: 5f63 6f64 6573 5b27 6461 7461 275d 0a20  _codes['data']. 
-00015830: 2020 2020 2020 2063 6f6c 6f72 5f72 6573         color_res
-00015840: 6574 203d 2073 656c 662e 6d61 726b 5f75  et = self.mark_u
-00015850: 705f 636f 6465 735b 276e 6f6e 6527 5d20  p_codes['none'] 
-00015860: 6966 2047 5554 5f43 4f4e 5354 2e6e 6f5f  if GUT_CONST.no_
-00015870: 6d61 726b 7570 2065 6c73 6520 7365 6c66  markup else self
-00015880: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
-00015890: 7265 7365 7427 5d0a 0a20 2020 2020 2020  reset']..       
-000158a0: 2070 6172 616d 5f64 6574 6169 6c73 203d   param_details =
-000158b0: 2070 6172 616d 5f74 6162 6c65 5f64 6566   param_table_def
-000158c0: 696e 6974 696f 6e73 5b70 6172 616d 5f6e  initions[param_n
-000158d0: 616d 655d 0a20 2020 2020 2020 2072 6561  ame].        rea
-000158e0: 645f 6461 7461 203d 2070 6172 616d 5f64  d_data = param_d
-000158f0: 6574 6169 6c73 5b27 6675 6e63 275d 2872  etails['func'](r
-00015900: 6574 7572 6e5f 6461 7461 3d54 7275 6529  eturn_data=True)
-00015910: 2069 6620 7061 7261 6d5f 6465 7461 696c   if param_detail
-00015920: 735b 2766 756e 6327 5d20 656c 7365 204e  s['func'] else N
-00015930: 6f6e 650a 0a20 2020 2020 2020 2069 6620  one..        if 
-00015940: 7368 6f72 743a 2073 656c 662e 7072 696e  short: self.prin
-00015950: 7428 7368 6f72 743d 5472 7565 2c20 6e65  t(short=True, ne
-00015960: 776c 696e 653d 4661 6c73 6529 0a20 2020  wline=False).   
-00015970: 2020 2020 2074 6974 6c65 5f73 7472 203d       title_str =
-00015980: 2027 7b7d 207b 7d20 5461 626c 6520 4461   '{} {} Table Da
-00015990: 7461 2027 2e66 6f72 6d61 7428 2723 272e  ta '.format('#'.
-000159a0: 6c6a 7573 7428 332c 2027 2327 292c 2070  ljust(3, '#'), p
-000159b0: 6172 616d 5f64 6574 6169 6c73 5b27 6e61  aram_details['na
-000159c0: 6d65 275d 290a 2020 2020 2020 2020 7072  me']).        pr
-000159d0: 696e 7428 277b 7d7b 7d7b 7d27 2e66 6f72  int('{}{}{}'.for
-000159e0: 6d61 7428 7072 652c 2074 6974 6c65 5f73  mat(pre, title_s
-000159f0: 7472 2c20 2723 272e 6c6a 7573 7428 3530  tr, '#'.ljust(50
-00015a00: 202d 206c 656e 2874 6974 6c65 5f73 7472   - len(title_str
-00015a10: 292c 2027 2327 2929 290a 2020 2020 2020  ), '#'))).      
-00015a20: 2020 6966 2070 6172 616d 5f6e 616d 6520    if param_name 
-00015a30: 3d3d 2027 636c 696e 666f 273a 0a20 2020  == 'clinfo':.   
-00015a40: 2020 2020 2020 2020 2069 7465 6d5f 636f           item_co
-00015a50: 756e 7420 3d20 300a 2020 2020 2020 2020  unt = 0.        
-00015a60: 2020 2020 6966 2073 656c 662e 7072 6d2e      if self.prm.
-00015a70: 636f 6d70 7574 653a 0a20 2020 2020 2020  compute:.       
-00015a80: 2020 2020 2020 2020 2066 6f72 206f 636c           for ocl
-00015a90: 5f70 6172 616d 5f6e 616d 652c 206f 636c  _param_name, ocl
-00015aa0: 5f70 6172 616d 5f6c 6162 656c 2069 6e20  _param_label in 
-00015ab0: 7365 6c66 2e5f 4750 555f 434c 494e 464f  self._GPU_CLINFO
-00015ac0: 5f4c 6162 656c 732e 6974 656d 7328 293a  _Labels.items():
-00015ad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015ae0: 2020 2020 2069 6620 7365 6c66 2e67 6574       if self.get
-00015af0: 5f63 6c69 6e66 6f5f 7661 6c75 6528 6f63  _clinfo_value(oc
-00015b00: 6c5f 7061 7261 6d5f 6e61 6d65 293a 0a20  l_param_name):. 
-00015b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015b20: 2020 2020 2020 2069 7465 6d5f 636f 756e         item_coun
-00015b30: 7420 2b3d 2031 0a20 2020 2020 2020 2020  t += 1.         
-00015b40: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00015b50: 7269 6e74 2827 7b7d 3a20 7b7d 7b7d 7b7d  rint('{}: {}{}{}
-00015b60: 272e 666f 726d 6174 286f 636c 5f70 6172  '.format(ocl_par
-00015b70: 616d 5f6c 6162 656c 2c20 636f 6c6f 722c  am_label, color,
-00015b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012600: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00012610: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012630: 2020 2020 2020 7365 6c66 2e61 6c6c 5f70        self.all_p
+00012640: 7374 6174 6573 5b63 6c6f 636b 5f6e 616d  states[clock_nam
+00012650: 655d 5b70 735f 6e75 6d5d 5b27 7661 6c75  e][ps_num]['valu
+00012660: 6527 5d20 3d20 7073 5f76 616c 0a20 2020  e'] = ps_val.   
+00012670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012690: 2073 656c 662e 616c 6c5f 7073 7461 7465   self.all_pstate
+000126a0: 735b 636c 6f63 6b5f 6e61 6d65 5d5b 7073  s[clock_name][ps
+000126b0: 5f6e 756d 5d5b 2773 7461 7465 275d 203d  _num]['state'] =
+000126c0: 2070 735f 7374 730a 2020 2020 2020 2020   ps_sts.        
+000126d0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000126e0: 2074 6172 6765 745f 7365 6e73 6f72 5b27   target_sensor['
+000126f0: 7479 7065 275d 203d 3d20 5365 6e73 6f72  type'] == Sensor
+00012700: 5479 7065 2e49 6e70 7574 4c61 6265 6c58  Type.InputLabelX
+00012710: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012720: 2020 2020 2020 2020 2020 6c61 6265 6c5f            label_
+00012730: 6669 6c65 5f70 6174 683a 2073 7472 203d  file_path: str =
+00012740: 2027 270a 2020 2020 2020 2020 2020 2020   ''.            
+00012750: 2020 2020 2020 2020 2020 2020 6966 2027              if '
+00012760: 5f69 6e70 7574 2720 696e 2066 696c 655f  _input' in file_
+00012770: 7061 7468 3a0a 2020 2020 2020 2020 2020  path:.          
+00012780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012790: 2020 6c61 6265 6c5f 6669 6c65 5f70 6174    label_file_pat
+000127a0: 6820 3d20 6669 6c65 5f70 6174 682e 7265  h = file_path.re
+000127b0: 706c 6163 6528 275f 696e 7075 7427 2c20  place('_input', 
+000127c0: 275f 6c61 6265 6c27 290a 2020 2020 2020  '_label').      
+000127d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000127e0: 2020 656c 6966 2027 5f63 7269 7427 2069    elif '_crit' i
+000127f0: 6e20 6669 6c65 5f70 6174 683a 0a20 2020  n file_path:.   
+00012800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012810: 2020 2020 2020 2020 206c 6162 656c 5f66           label_f
+00012820: 696c 655f 7061 7468 203d 2066 696c 655f  ile_path = file_
+00012830: 7061 7468 2e72 6570 6c61 6365 2827 5f63  path.replace('_c
+00012840: 7269 7427 2c20 275f 6c61 6265 6c27 290a  rit', '_label').
+00012850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012860: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00012870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012880: 2020 2020 2020 2020 2020 4755 545f 434f            GUT_CO
+00012890: 4e53 542e 7072 6f63 6573 735f 6d65 7373  NST.process_mess
+000128a0: 6167 6528 2745 7272 6f72 2069 6e20 7365  age('Error in se
+000128b0: 6e73 6f72 206c 6162 656c 2070 6169 723a  nsor label pair:
+000128c0: 207b 7d27 2e66 6f72 6d61 7428 7461 7267   {}'.format(targ
+000128d0: 6574 5f73 656e 736f 7229 290a 2020 2020  et_sensor)).    
+000128e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000128f0: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
+00012900: 7366 696c 6528 6c61 6265 6c5f 6669 6c65  sfile(label_file
+00012910: 5f70 6174 6829 3a0a 2020 2020 2020 2020  _path):.        
+00012920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012930: 2020 2020 7769 7468 206f 7065 6e28 6c61      with open(la
+00012940: 6265 6c5f 6669 6c65 5f70 6174 682c 2027  bel_file_path, '
+00012950: 7227 2c20 656e 636f 6469 6e67 3d27 7574  r', encoding='ut
+00012960: 662d 3827 2920 6173 2073 656e 736f 725f  f-8') as sensor_
+00012970: 6c61 6265 6c5f 6669 6c65 3a0a 2020 2020  label_file:.    
+00012980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012990: 2020 2020 2020 2020 2020 2020 7661 6c75              valu
+000129a0: 6573 2e61 7070 656e 6428 7365 6e73 6f72  es.append(sensor
+000129b0: 5f6c 6162 656c 5f66 696c 652e 7265 6164  _label_file.read
+000129c0: 6c69 6e65 2829 2e73 7472 6970 2829 290a  line().strip()).
+000129d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000129e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000129f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a00: 2020 2020 2020 2020 2020 7661 6c75 6573            values
+00012a10: 2e61 7070 656e 6428 6f73 2e70 6174 682e  .append(os.path.
+00012a20: 6261 7365 6e61 6d65 2873 656e 736f 725f  basename(sensor_
+00012a30: 6669 6c65 2929 0a20 2020 2020 2020 2020  file)).         
+00012a40: 2020 2020 2020 2065 7863 6570 7420 5065         except Pe
+00012a50: 726d 6973 7369 6f6e 4572 726f 7220 6173  rmissionError as
+00012a60: 2065 7863 6570 745f 6572 723a 0a20 2020   except_err:.   
+00012a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a80: 204c 4f47 4745 522e 6465 6275 6728 2745   LOGGER.debug('E
+00012a90: 7272 6f72 3a20 4361 6e20 6e6f 7420 7265  rror: Can not re
+00012aa0: 6164 2047 5055 205b 2573 5d20 6472 6976  ad GPU [%s] driv
+00012ab0: 6572 2066 696c 6520 5b25 735d 2c20 6572  er file [%s], er
+00012ac0: 726f 723a 205b 2573 5d27 2c0a 2020 2020  ror: [%s]',.    
+00012ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ae0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00012af0: 662e 7072 6d2e 7063 6965 5f69 642c 2074  f.prm.pcie_id, t
+00012b00: 6172 6765 745f 7365 6e73 6f72 2c20 6578  arget_sensor, ex
+00012b10: 6365 7074 5f65 7272 290a 2020 2020 2020  cept_err).      
+00012b20: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00012b30: 696e 7428 2745 7272 6f72 3a20 5379 7374  int('Error: Syst
+00012b40: 656d 2073 7570 706f 7274 2069 7373 7565  em support issue
+00012b50: 2066 6f72 2047 5055 205b 7b7d 5d27 2e66   for GPU [{}]'.f
+00012b60: 6f72 6d61 7428 7365 6c66 2e70 726d 2e70  ormat(self.prm.p
+00012b70: 6369 655f 6964 2929 0a20 2020 2020 2020  cie_id)).       
+00012b80: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00012b90: 662e 6469 7361 626c 655f 7061 7261 6d5f  f.disable_param_
+00012ba0: 7265 6164 2870 6172 616d 6574 6572 290a  read(parameter).
+00012bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012bc0: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+00012bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012be0: 6578 6365 7074 204f 5345 7272 6f72 2061  except OSError a
+00012bf0: 7320 6578 6365 7074 5f65 7272 3a0a 2020  s except_err:.  
+00012c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012c10: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
+00012c20: 4578 6365 7074 696f 6e20 5b25 735d 3a20  Exception [%s]: 
+00012c30: 4361 6e20 6e6f 7420 7265 6164 2048 5720  Can not read HW 
+00012c40: 6669 6c65 3a20 2573 272c 2065 7863 6570  file: %s', excep
+00012c50: 745f 6572 722c 2066 696c 655f 7061 7468  t_err, file_path
+00012c60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00012c70: 2020 2020 2020 7365 6c66 2e64 6973 6162        self.disab
+00012c80: 6c65 5f70 6172 616d 5f72 6561 6428 7061  le_param_read(pa
+00012c90: 7261 6d65 7465 7229 0a20 2020 2020 2020  rameter).       
+00012ca0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00012cb0: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
+00012cc0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00012cd0: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+00012ce0: 4552 2e64 6562 7567 2827 4857 2066 696c  ER.debug('HW fil
+00012cf0: 6520 646f 6573 206e 6f74 2065 7869 7374  e does not exist
+00012d00: 3a20 2573 272c 2066 696c 655f 7061 7468  : %s', file_path
+00012d10: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00012d20: 2020 7365 6c66 2e64 6973 6162 6c65 5f70    self.disable_p
+00012d30: 6172 616d 5f72 6561 6428 7061 7261 6d65  aram_read(parame
+00012d40: 7465 7229 0a20 2020 2020 2020 2020 2020  ter).           
+00012d50: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+00012d60: 650a 0a20 2020 2020 2020 2069 6620 7461  e..        if ta
+00012d70: 7267 6574 5f73 656e 736f 725b 2774 7970  rget_sensor['typ
+00012d80: 6527 5d20 3d3d 2053 656e 736f 7254 7970  e'] == SensorTyp
+00012d90: 652e 5369 6e67 6c65 5061 7261 6d3a 0a20  e.SingleParam:. 
+00012da0: 2020 2020 2020 2020 2020 2069 6620 7461             if ta
+00012db0: 7267 6574 5f73 656e 736f 725b 2763 6627  rget_sensor['cf'
+00012dc0: 5d20 3d3d 2031 3a0a 2020 2020 2020 2020  ] == 1:.        
+00012dd0: 2020 2020 2020 2020 7265 7475 726e 2069          return i
+00012de0: 6e74 2876 616c 7565 735b 305d 290a 2020  nt(values[0]).  
+00012df0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00012e00: 2069 6e74 2876 616c 7565 735b 305d 2920   int(values[0]) 
+00012e10: 2a20 7461 7267 6574 5f73 656e 736f 725b  * target_sensor[
+00012e20: 2763 6627 5d0a 2020 2020 2020 2020 6966  'cf'].        if
+00012e30: 2074 6172 6765 745f 7365 6e73 6f72 5b27   target_sensor['
+00012e40: 7479 7065 275d 203d 3d20 5365 6e73 6f72  type'] == Sensor
+00012e50: 5479 7065 2e49 6e70 7574 4c61 6265 6c3a  Type.InputLabel:
+00012e60: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00012e70: 5f76 616c 7565 2e61 7070 656e 6428 696e  _value.append(in
+00012e80: 7428 7661 6c75 6573 5b30 5d29 202a 2074  t(values[0]) * t
+00012e90: 6172 6765 745f 7365 6e73 6f72 5b27 6366  arget_sensor['cf
+00012ea0: 275d 290a 2020 2020 2020 2020 2020 2020  ']).            
+00012eb0: 7265 745f 7661 6c75 652e 6170 7065 6e64  ret_value.append
+00012ec0: 2876 616c 7565 735b 315d 290a 2020 2020  (values[1]).    
+00012ed0: 2020 2020 2020 2020 7265 7475 726e 2074          return t
+00012ee0: 7570 6c65 2872 6574 5f76 616c 7565 290a  uple(ret_value).
+00012ef0: 2020 2020 2020 2020 6966 2074 6172 6765          if targe
+00012f00: 745f 7365 6e73 6f72 5b27 7479 7065 275d  t_sensor['type']
+00012f10: 2069 6e20 2853 656e 736f 7254 7970 652e   in (SensorType.
+00012f20: 4d4c 5353 2c20 5365 6e73 6f72 5479 7065  MLSS, SensorType
+00012f30: 2e4d 4c4d 5329 3a0a 2020 2020 2020 2020  .MLMS):.        
+00012f40: 2020 2020 7265 7475 726e 2076 616c 7565      return value
+00012f50: 730a 2020 2020 2020 2020 6966 2074 6172  s.        if tar
+00012f60: 6765 745f 7365 6e73 6f72 5b27 7479 7065  get_sensor['type
+00012f70: 275d 203d 3d20 5365 6e73 6f72 5479 7065  '] == SensorType
+00012f80: 2e4d 696e 4d61 783a 0a20 2020 2020 2020  .MinMax:.       
+00012f90: 2020 2020 2072 6574 5f76 616c 7565 2e61       ret_value.a
+00012fa0: 7070 656e 6428 696e 7428 696e 7428 7661  ppend(int(int(va
+00012fb0: 6c75 6573 5b30 5d29 202a 2074 6172 6765  lues[0]) * targe
+00012fc0: 745f 7365 6e73 6f72 5b27 6366 275d 2929  t_sensor['cf']))
+00012fd0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00012fe0: 5f76 616c 7565 2e61 7070 656e 6428 696e  _value.append(in
+00012ff0: 7428 696e 7428 7661 6c75 6573 5b31 5d29  t(int(values[1])
+00013000: 202a 2074 6172 6765 745f 7365 6e73 6f72   * target_sensor
+00013010: 5b27 6366 275d 2929 0a20 2020 2020 2020  ['cf'])).       
+00013020: 2020 2020 2072 6574 7572 6e20 7475 706c       return tupl
+00013030: 6528 7265 745f 7661 6c75 6529 0a20 2020  e(ret_value).   
+00013040: 2020 2020 2069 6620 7461 7267 6574 5f73       if target_s
+00013050: 656e 736f 725b 2774 7970 6527 5d20 3d3d  ensor['type'] ==
+00013060: 2053 656e 736f 7254 7970 652e 416c 6c50   SensorType.AllP
+00013070: 5374 6174 6573 3a0a 2020 2020 2020 2020  States:.        
+00013080: 2020 2020 2320 416c 7265 6164 7920 7365      # Already se
+00013090: 7420 6469 6374 2069 6e20 6f62 6a65 6374  t dict in object
+000130a0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000130b0: 7572 6e20 4e6f 6e65 0a20 2020 2020 2020  urn None.       
+000130c0: 2069 6620 7461 7267 6574 5f73 656e 736f   if target_senso
+000130d0: 725b 2774 7970 6527 5d20 3d3d 2053 656e  r['type'] == Sen
+000130e0: 736f 7254 7970 652e 496e 7075 744c 6162  sorType.InputLab
+000130f0: 656c 583a 0a20 2020 2020 2020 2020 2020  elX:.           
+00013100: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00013110: 302c 206c 656e 2876 616c 7565 7329 2c20  0, len(values), 
+00013120: 3229 3a0a 2020 2020 2020 2020 2020 2020  2):.            
+00013130: 2020 2020 7265 745f 6469 6374 2e75 7064      ret_dict.upd
+00013140: 6174 6528 7b76 616c 7565 735b 692b 315d  ate({values[i+1]
+00013150: 3a20 696e 7428 7661 6c75 6573 5b69 5d29  : int(values[i])
+00013160: 202a 2074 6172 6765 745f 7365 6e73 6f72   * target_sensor
+00013170: 5b27 6366 275d 7d29 0a20 2020 2020 2020  ['cf']}).       
+00013180: 2020 2020 2072 6574 7572 6e20 7265 745f       return ret_
+00013190: 6469 6374 0a20 2020 2020 2020 2069 6620  dict.        if 
+000131a0: 7461 7267 6574 5f73 656e 736f 725b 2774  target_sensor['t
+000131b0: 7970 6527 5d20 3d3d 2053 656e 736f 7254  ype'] == SensorT
+000131c0: 7970 652e 5369 6e67 6c65 5374 7269 6e67  ype.SingleString
+000131d0: 5365 6c65 6374 3a0a 2020 2020 2020 2020  Select:.        
+000131e0: 2020 2020 666f 7220 6974 656d 2069 6e20      for item in 
+000131f0: 7661 6c75 6573 3a0a 2020 2020 2020 2020  values:.        
+00013200: 2020 2020 2020 2020 6966 2027 2a27 2069          if '*' i
+00013210: 6e20 6974 656d 3a0a 2020 2020 2020 2020  n item:.        
+00013220: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00013230: 726e 2069 7465 6d0a 2020 2020 2020 2020  rn item.        
+00013240: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+00013250: 2020 2020 2020 2020 6966 2074 6172 6765          if targe
+00013260: 745f 7365 6e73 6f72 5b27 7479 7065 275d  t_sensor['type']
+00013270: 203d 3d20 5365 6e73 6f72 5479 7065 2e53   == SensorType.S
+00013280: 696e 676c 6553 7472 696e 673a 0a20 2020  ingleString:.   
+00013290: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+000132a0: 7661 6c75 6573 5b30 5d0a 2020 2020 2020  values[0].      
+000132b0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+000132c0: 6f72 2827 496e 7661 6c69 6420 7365 6e73  or('Invalid sens
+000132d0: 6f72 2074 7970 653a 207b 7d27 2e66 6f72  or type: {}'.for
+000132e0: 6d61 7428 7461 7267 6574 5f73 656e 736f  mat(target_senso
+000132f0: 725b 2774 7970 6527 5d29 290a 0a20 2020  r['type']))..   
+00013300: 2064 6566 2072 6561 645f 6770 755f 7365   def read_gpu_se
+00013310: 6e73 6f72 5f73 6574 2873 656c 662c 2064  nsor_set(self, d
+00013320: 6174 615f 7479 7065 3a20 5365 6e73 6f72  ata_type: Sensor
+00013330: 5365 7420 3d20 5365 6e73 6f72 5365 742e  Set = SensorSet.
+00013340: 416c 6c29 202d 3e20 626f 6f6c 3a0a 2020  All) -> bool:.  
+00013350: 2020 2020 2020 2222 2220 5265 6164 2047        """ Read G
+00013360: 5055 2073 656e 736f 7220 6461 7461 2066  PU sensor data f
+00013370: 726f 6d20 4857 4d4f 4e20 616e 6420 4445  rom HWMON and DE
+00013380: 5649 4345 2073 656e 736f 7273 2075 7369  VICE sensors usi
+00013390: 6e67 2074 6865 2073 656e 736f 7220 7365  ng the sensor se
+000133a0: 7420 6465 6669 6e65 640a 2020 2020 2020  t defined.      
+000133b0: 2020 2020 2020 6279 2064 6174 615f 7479        by data_ty
+000133c0: 7065 2e0a 0a20 2020 2020 2020 203a 7061  pe...        :pa
+000133d0: 7261 6d20 6461 7461 5f74 7970 653a 2053  ram data_type: S
+000133e0: 7065 6369 6669 6573 2074 6865 2073 656e  pecifies the sen
+000133f0: 736f 7220 7365 743a 2044 796e 616d 6963  sor set: Dynamic
+00013400: 2c20 5374 6174 6963 2c20 496e 666f 2c20  , Static, Info, 
+00013410: 5374 6174 652c 2041 6c6c 204d 6f6e 6974  State, All Monit
+00013420: 6f72 0a20 2020 2020 2020 203a 7265 7475  or.        :retu
+00013430: 726e 3a20 5472 7565 206f 6e20 7375 6363  rn: True on succ
+00013440: 6573 732e 0a20 2020 2020 2020 2022 2222  ess..        """
+00013450: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00013460: 2e70 726d 2e76 656e 646f 7220 3d3d 2047  .prm.vendor == G
+00013470: 7075 5665 6e64 6f72 2e41 4d44 3a0a 2020  puVendor.AMD:.  
+00013480: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00013490: 5f73 7461 7420 3d20 7365 6c66 2e72 6561  _stat = self.rea
+000134a0: 645f 6770 755f 7365 6e73 6f72 5f73 6574  d_gpu_sensor_set
+000134b0: 5f61 6d64 2864 6174 615f 7479 7065 290a  _amd(data_type).
+000134c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000134d0: 2e75 7064 6174 655f 7461 626c 655f 6974  .update_table_it
+000134e0: 656d 735f 7374 6174 7573 2829 0a20 2020  ems_status().   
+000134f0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00013500: 7265 7475 726e 5f73 7461 740a 2020 2020  return_stat.    
+00013510: 2020 2020 6966 2073 656c 662e 7072 6d2e      if self.prm.
+00013520: 7665 6e64 6f72 203d 3d20 4770 7556 656e  vendor == GpuVen
+00013530: 646f 722e 4e56 4944 4941 3a0a 2020 2020  dor.NVIDIA:.    
+00013540: 2020 2020 2020 2020 7265 7475 726e 5f73          return_s
+00013550: 7461 7420 3d20 7365 6c66 2e72 6561 645f  tat = self.read_
+00013560: 6770 755f 7365 6e73 6f72 5f73 6574 5f6e  gpu_sensor_set_n
+00013570: 7628 6461 7461 5f74 7970 6529 0a20 2020  v(data_type).   
+00013580: 2020 2020 2020 2020 2073 656c 662e 7570           self.up
+00013590: 6461 7465 5f74 6162 6c65 5f69 7465 6d73  date_table_items
+000135a0: 5f73 7461 7475 7328 290a 2020 2020 2020  _status().      
+000135b0: 2020 2020 2020 7265 7475 726e 2072 6574        return ret
+000135c0: 7572 6e5f 7374 6174 0a20 2020 2020 2020  urn_stat.       
+000135d0: 2072 6574 7572 6e20 4661 6c73 650a 0a20   return False.. 
+000135e0: 2020 2064 6566 2075 7064 6174 655f 7461     def update_ta
+000135f0: 626c 655f 6974 656d 735f 7374 6174 7573  ble_items_status
+00013600: 2873 656c 6629 202d 3e20 4e6f 6e65 3a0a  (self) -> None:.
+00013610: 2020 2020 2020 2020 2222 2220 5570 6461          """ Upda
+00013620: 7465 2074 6865 2072 6561 6461 626c 6520  te the readable 
+00013630: 7374 6174 7573 206f 6620 7461 626c 6520  status of table 
+00013640: 7265 6c61 7465 6420 7061 7261 6d65 7465  related paramete
+00013650: 7273 2e0a 2020 2020 2020 2020 2222 220a  rs..        """.
+00013660: 2020 2020 2020 2020 6966 2047 5554 5f43          if GUT_C
+00013670: 4f4e 5354 2e64 6562 7567 3a0a 2020 2020  ONST.debug:.    
+00013680: 2020 2020 2020 2020 7072 696e 7428 2723          print('#
+00013690: 2323 2072 6561 645f 7469 6d65 5f76 616c  ## read_time_val
+000136a0: 3a20 7b7d 272e 666f 726d 6174 280a 2020  : {}'.format(.  
+000136b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000136c0: 6c66 2e67 6574 5f70 6172 616d 735f 7661  lf.get_params_va
+000136d0: 6c75 6528 2772 6561 645f 7469 6d65 2729  lue('read_time')
+000136e0: 2e73 7472 6674 696d 6528 4755 545f 434f  .strftime(GUT_CO
+000136f0: 4e53 542e 5449 4d45 5f46 4f52 4d41 5429  NST.TIME_FORMAT)
+00013700: 2929 0a20 2020 2020 2020 2066 6f72 2074  )).        for t
+00013710: 6162 6c65 5f69 7465 6d2c 2073 7461 7475  able_item, statu
+00013720: 7320 696e 2073 656c 662e 7461 626c 655f  s in self.table_
+00013730: 7061 7261 6d65 7465 7273 5f73 7461 7475  parameters_statu
+00013740: 732e 6974 656d 7328 293a 0a20 2020 2020  s.items():.     
+00013750: 2020 2020 2020 2069 6620 4755 545f 434f         if GUT_CO
+00013760: 4e53 542e 6465 6275 673a 0a20 2020 2020  NST.debug:.     
+00013770: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00013780: 2827 7b7d 3a20 7b7d 3a20 7b7d 272e 666f  ('{}: {}: {}'.fo
+00013790: 726d 6174 2874 6162 6c65 5f69 7465 6d2c  rmat(table_item,
+000137a0: 2073 7461 7475 732c 2073 656c 662e 6765   status, self.ge
+000137b0: 745f 7061 7261 6d73 5f76 616c 7565 2874  t_params_value(t
+000137c0: 6162 6c65 5f69 7465 6d29 2929 0a20 2020  able_item))).   
+000137d0: 2020 2020 2020 2020 2069 6620 666f 726d           if form
+000137e0: 6174 5f74 6162 6c65 5f76 616c 7565 2873  at_table_value(s
+000137f0: 656c 662e 6765 745f 7061 7261 6d73 5f76  elf.get_params_v
+00013800: 616c 7565 2874 6162 6c65 5f69 7465 6d29  alue(table_item)
+00013810: 2c20 7461 626c 655f 6974 656d 2920 696e  , table_item) in
+00013820: 207b 4e6f 6e65 2c20 2727 2c20 6e70 5f6e   {None, '', np_n
+00013830: 616e 2c20 272d 2d2d 277d 3a0a 2020 2020  an, '---'}:.    
+00013840: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00013850: 2e74 6162 6c65 5f70 6172 616d 6574 6572  .table_parameter
+00013860: 735f 7374 6174 7573 5b74 6162 6c65 5f69  s_status[table_i
+00013870: 7465 6d5d 203d 2046 616c 7365 0a20 2020  tem] = False.   
+00013880: 2020 2020 2069 6620 4755 545f 434f 4e53       if GUT_CONS
+00013890: 542e 6465 6275 673a 0a20 2020 2020 2020  T.debug:.       
+000138a0: 2020 2020 2070 7269 6e74 2827 2729 0a0a       print('')..
+000138b0: 2020 2020 6465 6620 7265 6164 5f67 7075      def read_gpu
+000138c0: 5f73 656e 736f 725f 7365 745f 6e76 2873  _sensor_set_nv(s
+000138d0: 656c 662c 2064 6174 615f 7479 7065 3a20  elf, data_type: 
+000138e0: 5365 6e73 6f72 5365 7420 3d20 5365 6e73  SensorSet = Sens
+000138f0: 6f72 5365 742e 416c 6c29 202d 3e20 626f  orSet.All) -> bo
+00013900: 6f6c 3a0a 2020 2020 2020 2020 2222 2220  ol:.        """ 
+00013910: 5573 6520 7468 6520 6e76 6964 6961 5f73  Use the nvidia_s
+00013920: 6d69 2074 6f6f 6c20 746f 2071 7565 7279  mi tool to query
+00013930: 2047 5055 2070 6172 616d 6574 6572 732e   GPU parameters.
+00013940: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00013950: 2064 6174 615f 7479 7065 3a20 7370 6563   data_type: spec
+00013960: 6966 6965 7320 7468 6520 7365 7420 6f66  ifies the set of
+00013970: 2073 656e 736f 7273 2074 6f20 7265 6164   sensors to read
+00013980: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00013990: 3a20 5472 7565 2069 6620 7375 6363 6573  : True if succes
+000139a0: 7366 756c 2c20 656c 7365 2046 616c 7365  sful, else False
+000139b0: 2061 6e64 2063 6172 6420 7769 6c6c 2068   and card will h
+000139c0: 6176 6520 7265 6164 2064 6973 6162 6c65  ave read disable
+000139d0: 640a 2020 2020 2020 2020 2222 220a 2020  d.        """.  
+000139e0: 2020 2020 2020 6966 2064 6174 615f 7479        if data_ty
+000139f0: 7065 206e 6f74 2069 6e20 7365 6c66 2e6e  pe not in self.n
+00013a00: 765f 7175 6572 795f 6974 656d 733a 0a20  v_query_items:. 
+00013a10: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00013a20: 2054 7970 6545 7272 6f72 2827 496e 7661   TypeError('Inva
+00013a30: 6c69 6420 5365 6e73 6f72 5365 7420 7661  lid SensorSet va
+00013a40: 6c75 653a 205b 7b7d 5d27 2e66 6f72 6d61  lue: [{}]'.forma
+00013a50: 7428 6461 7461 5f74 7970 6529 290a 0a20  t(data_type)).. 
+00013a60: 2020 2020 2020 2073 656e 736f 725f 6469         sensor_di
+00013a70: 6374 203d 2047 7075 4974 656d 2e6e 765f  ct = GpuItem.nv_
+00013a80: 7175 6572 795f 6974 656d 735b 6461 7461  query_items[data
+00013a90: 5f74 7970 655d 0a20 2020 2020 2020 206e  _type].        n
+00013aa0: 736d 695f 6974 656d 7320 3d20 5b5d 0a20  smi_items = []. 
+00013ab0: 2020 2020 2020 2071 7565 7279 5f6c 6973         query_lis
+00013ac0: 7420 3d20 5b69 7465 6d20 666f 7220 7375  t = [item for su
+00013ad0: 626c 6973 7420 696e 2073 656e 736f 725f  blist in sensor_
+00013ae0: 6469 6374 2e76 616c 7565 7328 2920 666f  dict.values() fo
+00013af0: 7220 6974 656d 2069 6e20 7375 626c 6973  r item in sublis
+00013b00: 745d 0a20 2020 2020 2020 2071 7565 7279  t].        query
+00013b10: 5f6c 6973 7420 3d20 5b69 7465 6d20 666f  _list = [item fo
+00013b20: 7220 6974 656d 2069 6e20 7175 6572 795f  r item in query_
+00013b30: 6c69 7374 2069 6620 6e6f 7420 7365 6c66  list if not self
+00013b40: 2e70 6172 616d 5f69 735f 6163 7469 7665  .param_is_active
+00013b50: 2869 7465 6d29 5d0a 0a20 2020 2020 2020  (item)]..       
+00013b60: 2069 6620 7365 6c66 2e76 616c 6964 6174   if self.validat
+00013b70: 6564 5f73 656e 736f 7273 3a0a 2020 2020  ed_sensors:.    
+00013b80: 2020 2020 2020 2020 7172 795f 7374 7269          qry_stri
+00013b90: 6e67 203d 2027 2c27 2e6a 6f69 6e28 7175  ng = ','.join(qu
+00013ba0: 6572 795f 6c69 7374 290a 2020 2020 2020  ery_list).      
+00013bb0: 2020 2020 2020 636d 645f 7374 7220 3d20        cmd_str = 
+00013bc0: 277b 7d20 2d69 207b 7d20 2d2d 7175 6572  '{} -i {} --quer
+00013bd0: 792d 6770 753d 7b7d 202d 2d66 6f72 6d61  y-gpu={} --forma
+00013be0: 743d 6373 762c 6e6f 6865 6164 6572 2c6e  t=csv,noheader,n
+00013bf0: 6f75 6e69 7473 272e 666f 726d 6174 280a  ounits'.format(.
+00013c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013c10: 2020 2020 2020 2020 4755 545f 434f 4e53          GUT_CONS
+00013c20: 542e 636d 645f 6e76 6964 6961 5f73 6d69  T.cmd_nvidia_smi
+00013c30: 2c20 7365 6c66 2e70 726d 2e70 6369 655f  , self.prm.pcie_
+00013c40: 6964 2c20 7172 795f 7374 7269 6e67 290a  id, qry_string).
+00013c50: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+00013c60: 4552 2e64 6562 7567 2827 4e56 2063 6f6d  ER.debug('NV com
+00013c70: 6d61 6e64 3a5c 6e25 7327 2c20 636d 645f  mand:\n%s', cmd_
+00013c80: 7374 7229 0a20 2020 2020 2020 2020 2020  str).           
+00013c90: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00013ca0: 2020 2020 2020 6e73 6d69 5f69 7465 6d73        nsmi_items
+00013cb0: 203d 2073 7562 7072 6f63 6573 732e 6368   = subprocess.ch
+00013cc0: 6563 6b5f 6f75 7470 7574 2873 686c 6578  eck_output(shlex
+00013cd0: 5f73 706c 6974 2863 6d64 5f73 7472 292c  _split(cmd_str),
+00013ce0: 2073 6865 6c6c 3d46 616c 7365 292e 6465   shell=False).de
+00013cf0: 636f 6465 2829 2e73 706c 6974 2827 5c6e  code().split('\n
+00013d00: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
+00013d10: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
+00013d20: 274e 5620 7175 6572 7920 2873 696e 676c  'NV query (singl
+00013d30: 652d 6361 6c6c 2920 7265 7375 6c74 3a20  e-call) result: 
+00013d40: 5b25 735d 272c 206e 736d 695f 6974 656d  [%s]', nsmi_item
+00013d50: 7329 0a20 2020 2020 2020 2020 2020 2065  s).            e
+00013d60: 7863 6570 7420 2873 7562 7072 6f63 6573  xcept (subproces
+00013d70: 732e 4361 6c6c 6564 5072 6f63 6573 7345  s.CalledProcessE
+00013d80: 7272 6f72 2c20 4f53 4572 726f 7229 2061  rror, OSError) a
+00013d90: 7320 6578 6365 7074 5f65 7272 3a0a 2020  s except_err:.  
+00013da0: 2020 2020 2020 2020 2020 2020 2020 4c4f                LO
+00013db0: 4747 4552 2e64 6562 7567 2827 4e56 2071  GGER.debug('NV q
+00013dc0: 7565 7279 2025 7320 6572 726f 723a 205b  uery %s error: [
+00013dd0: 2573 5d27 2c20 6e73 6d69 5f69 7465 6d73  %s]', nsmi_items
+00013de0: 2c20 6578 6365 7074 5f65 7272 290a 2020  , except_err).  
+00013df0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00013e00: 7475 726e 2046 616c 7365 0a20 2020 2020  turn False.     
+00013e10: 2020 2020 2020 2069 6620 6e73 6d69 5f69         if nsmi_i
+00013e20: 7465 6d73 3a0a 2020 2020 2020 2020 2020  tems:.          
+00013e30: 2020 2020 2020 6e73 6d69 5f69 7465 6d73        nsmi_items
+00013e40: 203d 206e 736d 695f 6974 656d 735b 305d   = nsmi_items[0]
+00013e50: 2e73 706c 6974 2827 2c27 290a 2020 2020  .split(',').    
+00013e60: 2020 2020 2020 2020 2020 2020 6e73 6d69              nsmi
+00013e70: 5f69 7465 6d73 203d 205b 6974 656d 2e73  _items = [item.s
+00013e80: 7472 6970 2829 2066 6f72 2069 7465 6d20  trip() for item 
+00013e90: 696e 206e 736d 695f 6974 656d 735d 0a20  in nsmi_items]. 
+00013ea0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00013eb0: 2020 2020 2020 2020 2023 2052 6561 6420           # Read 
+00013ec0: 7365 6e73 6f72 7320 6f6e 6520 6174 2061  sensors one at a
+00013ed0: 2074 696d 6520 6966 2053 656e 736f 7253   time if SensorS
+00013ee0: 6574 2e41 6c6c 2068 6173 206e 6f74 2062  et.All has not b
+00013ef0: 6565 6e20 7661 6c69 6461 7465 640a 2020  een validated.  
+00013f00: 2020 2020 2020 2020 2020 6966 2064 6174            if dat
+00013f10: 615f 7479 7065 203d 3d20 5365 6e73 6f72  a_type == Sensor
+00013f20: 5365 742e 416c 6c3a 0a20 2020 2020 2020  Set.All:.       
+00013f30: 2020 2020 2020 2020 2073 656c 662e 7661           self.va
+00013f40: 6c69 6461 7465 645f 7365 6e73 6f72 7320  lidated_sensors 
+00013f50: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
+00013f60: 2020 2066 6f72 2071 7565 7279 5f69 7465     for query_ite
+00013f70: 6d20 696e 2071 7565 7279 5f6c 6973 743a  m in query_list:
+00013f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013f90: 2071 7565 7279 5f64 6174 6120 3d20 7365   query_data = se
+00013fa0: 6c66 2e72 6561 645f 6770 755f 7365 6e73  lf.read_gpu_sens
+00013fb0: 6f72 5f6e 7628 7175 6572 795f 6974 656d  or_nv(query_item
+00013fc0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00013fd0: 2020 6e73 6d69 5f69 7465 6d73 2e61 7070    nsmi_items.app
+00013fe0: 656e 6428 7175 6572 795f 6461 7461 290a  end(query_data).
+00013ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014000: 4c4f 4747 4552 2e64 6562 7567 2827 4e56  LOGGER.debug('NV
+00014010: 2071 7565 7279 2028 6561 6368 2d63 616c   query (each-cal
+00014020: 6c29 2071 7565 7279 2069 7465 6d20 5b25  l) query item [%
+00014030: 735d 2c20 7265 7375 6c74 3a20 5b25 735d  s], result: [%s]
+00014040: 272c 2071 7565 7279 5f69 7465 6d2c 2071  ', query_item, q
+00014050: 7565 7279 5f64 6174 6129 0a20 2020 2020  uery_data).     
+00014060: 2020 2020 2020 2069 6620 6e6f 7420 6e73         if not ns
+00014070: 6d69 5f69 7465 6d73 3a0a 2020 2020 2020  mi_items:.      
+00014080: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+00014090: 2e64 6562 7567 2827 4e56 2071 7565 7279  .debug('NV query
+000140a0: 2028 6561 6368 2d63 616c 6c29 2066 6169   (each-call) fai
+000140b0: 6c65 6420 666f 7220 616c 6c20 7365 6e73  led for all sens
+000140c0: 6f72 732c 2064 6973 6162 6c69 6e67 2072  ors, disabling r
+000140d0: 6561 6420 666f 7220 6361 7264 205b 2573  ead for card [%s
+000140e0: 5d27 2c0a 2020 2020 2020 2020 2020 2020  ]',.            
+000140f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014100: 2073 656c 662e 7072 6d2e 6361 7264 5f6e   self.prm.card_n
+00014110: 756d 290a 2020 2020 2020 2020 2020 2020  um).            
+00014120: 2020 2020 7365 6c66 2e70 726d 2e72 6561      self.prm.rea
+00014130: 6461 626c 6520 3d20 4661 6c73 650a 2020  dable = False.  
+00014140: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00014150: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
+00014160: 2020 2020 7265 7375 6c74 7320 3d20 6469      results = di
+00014170: 6374 287a 6970 2871 7565 7279 5f6c 6973  ct(zip(query_lis
+00014180: 742c 206e 736d 695f 6974 656d 7329 290a  t, nsmi_items)).
+00014190: 2020 2020 2020 2020 4c4f 4747 4552 2e64          LOGGER.d
+000141a0: 6562 7567 2827 4e56 2071 7565 7279 2072  ebug('NV query r
+000141b0: 6573 756c 743a 2025 7327 2c20 7265 7375  esult: %s', resu
+000141c0: 6c74 7329 0a0a 2020 2020 2020 2020 2320  lts)..        # 
+000141d0: 506f 7075 6c61 7465 2047 7075 4974 656d  Populate GpuItem
+000141e0: 2064 6174 6120 6672 6f6d 2072 6573 756c   data from resul
+000141f0: 7473 2064 6963 7469 6f6e 6172 790a 2020  ts dictionary.  
+00014200: 2020 2020 2020 666f 7220 7061 7261 6d5f        for param_
+00014210: 6e61 6d65 2c20 7365 6e73 6f72 5f6c 6973  name, sensor_lis
+00014220: 7420 696e 2073 656e 736f 725f 6469 6374  t in sensor_dict
+00014230: 2e69 7465 6d73 2829 3a0a 2020 2020 2020  .items():.      
+00014240: 2020 2020 2020 6966 2070 6172 616d 5f6e        if param_n
+00014250: 616d 6520 3d3d 2027 706f 7765 725f 6361  ame == 'power_ca
+00014260: 705f 7261 6e67 6527 3a0a 2020 2020 2020  p_range':.      
+00014270: 2020 2020 2020 2020 2020 6966 2072 6573            if res
+00014280: 756c 7473 5b27 706f 7765 722e 6d69 6e5f  ults['power.min_
+00014290: 6c69 6d69 7427 5d20 616e 6420 7265 2e66  limit'] and re.f
+000142a0: 756c 6c6d 6174 6368 2850 4154 5445 524e  ullmatch(PATTERN
+000142b0: 535b 504b 2e49 535f 464c 4f41 545d 2c20  S[PK.IS_FLOAT], 
+000142c0: 7265 7375 6c74 735b 2770 6f77 6572 2e6d  results['power.m
+000142d0: 696e 5f6c 696d 6974 275d 293a 0a20 2020  in_limit']):.   
+000142e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000142f0: 2070 6f77 6572 5f6d 696e 203d 2066 6c6f   power_min = flo
+00014300: 6174 2872 6573 756c 7473 5b27 706f 7765  at(results['powe
+00014310: 722e 6d69 6e5f 6c69 6d69 7427 5d29 0a20  r.min_limit']). 
+00014320: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014330: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00014340: 2020 2020 2020 2020 2070 6f77 6572 5f6d           power_m
+00014350: 696e 203d 2072 6573 756c 7473 5b27 706f  in = results['po
+00014360: 7765 722e 6d69 6e5f 6c69 6d69 7427 5d0a  wer.min_limit'].
+00014370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014380: 6966 2072 6573 756c 7473 5b27 706f 7765  if results['powe
+00014390: 722e 6d61 785f 6c69 6d69 7427 5d20 616e  r.max_limit'] an
+000143a0: 6420 7265 2e66 756c 6c6d 6174 6368 2850  d re.fullmatch(P
+000143b0: 4154 5445 524e 535b 504b 2e49 535f 464c  ATTERNS[PK.IS_FL
+000143c0: 4f41 545d 2c20 7265 7375 6c74 735b 2770  OAT], results['p
+000143d0: 6f77 6572 2e6d 6178 5f6c 696d 6974 275d  ower.max_limit']
+000143e0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+000143f0: 2020 2020 2020 2070 6f77 6572 5f6d 6178         power_max
+00014400: 203d 2066 6c6f 6174 2872 6573 756c 7473   = float(results
+00014410: 5b27 706f 7765 722e 6d61 785f 6c69 6d69  ['power.max_limi
+00014420: 7427 5d29 0a20 2020 2020 2020 2020 2020  t']).           
+00014430: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00014440: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00014450: 6f77 6572 5f6d 6178 203d 2072 6573 756c  ower_max = resul
+00014460: 7473 5b27 706f 7765 722e 6d61 785f 6c69  ts['power.max_li
+00014470: 6d69 7427 5d0a 2020 2020 2020 2020 2020  mit'].          
+00014480: 2020 2020 2020 7365 6c66 2e70 726d 2e70        self.prm.p
+00014490: 6f77 6572 5f63 6170 5f72 616e 6765 203d  ower_cap_range =
+000144a0: 205b 706f 7765 725f 6d69 6e2c 2070 6f77   [power_min, pow
+000144b0: 6572 5f6d 6178 5d0a 2020 2020 2020 2020  er_max].        
+000144c0: 2020 2020 656c 6966 2070 6172 616d 5f6e      elif param_n
+000144d0: 616d 6520 3d3d 2027 706f 7765 7227 3a0a  ame == 'power':.
+000144e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144f0: 6966 2072 6573 756c 7473 5b27 706f 7765  if results['powe
+00014500: 722e 6472 6177 275d 2061 6e64 2072 652e  r.draw'] and re.
+00014510: 6675 6c6c 6d61 7463 6828 5041 5454 4552  fullmatch(PATTER
+00014520: 4e53 5b50 4b2e 4953 5f46 4c4f 4154 5d2c  NS[PK.IS_FLOAT],
+00014530: 2072 6573 756c 7473 5b27 706f 7765 722e   results['power.
+00014540: 6472 6177 275d 293a 0a20 2020 2020 2020  draw']):.       
+00014550: 2020 2020 2020 2020 2020 2020 2070 6f77               pow
+00014560: 6572 203d 2066 6c6f 6174 2872 6573 756c  er = float(resul
+00014570: 7473 5b27 706f 7765 722e 6472 6177 275d  ts['power.draw']
+00014580: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00014590: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000145a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000145b0: 2e64 6973 6162 6c65 5f70 6172 616d 5f72  .disable_param_r
+000145c0: 6561 6428 2770 6f77 6572 2729 0a20 2020  ead('power').   
+000145d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000145e0: 2073 656c 662e 6469 7361 626c 655f 7061   self.disable_pa
+000145f0: 7261 6d5f 7265 6164 2827 656e 6572 6779  ram_read('energy
+00014600: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
+00014610: 2020 2020 2020 2070 6f77 6572 203d 204e         power = N
+00014620: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00014630: 2020 2020 7365 6c66 2e73 6574 5f70 6172      self.set_par
+00014640: 616d 735f 7661 6c75 6528 2770 6f77 6572  ams_value('power
+00014650: 272c 2070 6f77 6572 290a 2020 2020 2020  ', power).      
+00014660: 2020 2020 2020 656c 6966 2070 6172 616d        elif param
+00014670: 5f6e 616d 6520 3d3d 2027 7073 7461 7465  _name == 'pstate
+00014680: 7327 3a0a 2020 2020 2020 2020 2020 2020  s':.            
+00014690: 2020 2020 7073 7461 7465 5f73 7472 203d      pstate_str =
+000146a0: 2072 652e 7375 6228 5041 5454 4552 4e53   re.sub(PATTERNS
+000146b0: 5b50 4b2e 414c 5048 415d 2c20 2727 2c20  [PK.ALPHA], '', 
+000146c0: 7265 7375 6c74 735b 2770 7374 6174 6527  results['pstate'
+000146d0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+000146e0: 2020 2070 7374 6174 6520 3d20 696e 7428     pstate = int(
+000146f0: 7073 7461 7465 5f73 7472 2920 6966 2070  pstate_str) if p
+00014700: 7374 6174 655f 7374 722e 6973 6e75 6d65  state_str.isnume
+00014710: 7269 6328 2920 656c 7365 204e 6f6e 650a  ric() else None.
+00014720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014730: 7365 6c66 2e70 726d 5b27 7363 6c6b 5f70  self.prm['sclk_p
+00014740: 7327 5d5b 305d 203d 2070 7374 6174 650a  s'][0] = pstate.
+00014750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014760: 7365 6c66 2e70 726d 5b27 6d63 6c6b 5f70  self.prm['mclk_p
+00014770: 7327 5d5b 305d 203d 2070 7374 6174 650a  s'][0] = pstate.
+00014780: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00014790: 2070 6172 616d 5f6e 616d 6520 696e 207b   param_name in {
+000147a0: 2774 656d 7065 7261 7475 7265 7327 2c20  'temperatures', 
+000147b0: 2776 6f6c 7461 6765 7327 2c20 2766 7265  'voltages', 'fre
+000147c0: 7175 656e 6369 6573 272c 2027 6672 6571  quencies', 'freq
+000147d0: 7565 6e63 6965 735f 6d61 7827 7d3a 0a20  uencies_max'}:. 
+000147e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000147f0: 656c 662e 7072 6d5b 7061 7261 6d5f 6e61  elf.prm[param_na
+00014800: 6d65 5d20 3d20 7b7d 0a20 2020 2020 2020  me] = {}.       
+00014810: 2020 2020 2020 2020 2066 6f72 2073 6e5f           for sn_
+00014820: 6b20 696e 2073 656e 736f 725f 6c69 7374  k in sensor_list
+00014830: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014840: 2020 2020 2020 6966 2073 6e5f 6b20 6e6f        if sn_k no
+00014850: 7420 696e 2072 6573 756c 7473 3a20 636f  t in results: co
+00014860: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
+00014870: 2020 2020 2020 2020 2020 2069 6620 7265             if re
+00014880: 7375 6c74 735b 736e 5f6b 5d20 616e 6420  sults[sn_k] and 
+00014890: 7265 2e66 756c 6c6d 6174 6368 2850 4154  re.fullmatch(PAT
+000148a0: 5445 524e 535b 504b 2e49 535f 464c 4f41  TERNS[PK.IS_FLOA
+000148b0: 545d 2c20 7265 7375 6c74 735b 736e 5f6b  T], results[sn_k
+000148c0: 5d29 3a0a 2020 2020 2020 2020 2020 2020  ]):.            
+000148d0: 2020 2020 2020 2020 2020 2020 7061 7261              para
+000148e0: 6d5f 7661 6c20 3d20 666c 6f61 7428 7265  m_val = float(re
+000148f0: 7375 6c74 735b 736e 5f6b 5d29 0a20 2020  sults[sn_k]).   
+00014900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014910: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00014920: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00014930: 6172 616d 5f76 616c 203d 204e 6f6e 650a  aram_val = None.
+00014940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014950: 2020 2020 7365 6c66 2e70 726d 5b70 6172      self.prm[par
+00014960: 616d 5f6e 616d 655d 2e75 7064 6174 6528  am_name].update(
+00014970: 7b73 6e5f 6b3a 2070 6172 616d 5f76 616c  {sn_k: param_val
+00014980: 7d29 0a20 2020 2020 2020 2020 2020 2065  }).            e
+00014990: 6c69 6620 7265 2e66 756c 6c6d 6174 6368  lif re.fullmatch
+000149a0: 2850 4154 5445 524e 535b 504b 2e47 5055  (PATTERNS[PK.GPU
+000149b0: 4d45 4d54 5950 455d 2c20 7061 7261 6d5f  MEMTYPE], param_
+000149c0: 6e61 6d65 293a 0a20 2020 2020 2020 2020  name):.         
+000149d0: 2020 2020 2020 2066 6f72 2073 6e5f 6b20         for sn_k 
+000149e0: 696e 2073 656e 736f 725f 6c69 7374 3a0a  in sensor_list:.
+000149f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a00: 2020 2020 6966 2073 6e5f 6b20 6e6f 7420      if sn_k not 
+00014a10: 696e 2072 6573 756c 7473 3a20 636f 6e74  in results: cont
+00014a20: 696e 7565 0a20 2020 2020 2020 2020 2020  inue.           
+00014a30: 2020 2020 2020 2020 206d 656d 5f76 616c           mem_val
+00014a40: 7565 203d 2069 6e74 2872 6573 756c 7473  ue = int(results
+00014a50: 5b73 6e5f 6b5d 2920 6966 2072 6573 756c  [sn_k]) if resul
+00014a60: 7473 5b73 6e5f 6b5d 2e69 736e 756d 6572  ts[sn_k].isnumer
+00014a70: 6963 2065 6c73 6520 4e6f 6e65 0a20 2020  ic else None.   
+00014a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a90: 2073 656c 662e 7072 6d5b 7061 7261 6d5f   self.prm[param_
+00014aa0: 6e61 6d65 5d20 3d20 6d65 6d5f 7661 6c75  name] = mem_valu
+00014ab0: 6520 2f20 3130 3234 2e30 0a20 2020 2020  e / 1024.0.     
+00014ac0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014ad0: 7365 745f 6d65 6d6f 7279 5f75 7361 6765  set_memory_usage
+00014ae0: 2829 0a20 2020 2020 2020 2020 2020 2065  ().            e
+00014af0: 6c69 6620 7061 7261 6d5f 6e61 6d65 203d  lif param_name =
+00014b00: 3d20 2766 616e 5f73 7065 6564 273a 0a20  = 'fan_speed':. 
+00014b10: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00014b20: 6e5f 6b20 3d20 7365 6e73 6f72 5f6c 6973  n_k = sensor_lis
+00014b30: 745b 305d 0a20 2020 2020 2020 2020 2020  t[0].           
+00014b40: 2020 2020 2069 6620 7265 2e66 756c 6c6d       if re.fullm
+00014b50: 6174 6368 2850 4154 5445 524e 535b 504b  atch(PATTERNS[PK
+00014b60: 2e49 535f 464c 4f41 545d 2c20 7265 7375  .IS_FLOAT], resu
+00014b70: 6c74 735b 736e 5f6b 5d29 3a0a 2020 2020  lts[sn_k]):.    
+00014b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014b90: 7365 6c66 2e70 726d 5b70 6172 616d 5f6e  self.prm[param_n
+00014ba0: 616d 655d 203d 2066 6c6f 6174 2872 6573  ame] = float(res
+00014bb0: 756c 7473 5b73 6e5f 6b5d 290a 2020 2020  ults[sn_k]).    
+00014bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014bd0: 7365 6c66 2e70 726d 2e66 616e 5f70 776d  self.prm.fan_pwm
+00014be0: 203d 2073 656c 662e 7072 6d5b 7061 7261   = self.prm[para
+00014bf0: 6d5f 6e61 6d65 5d0a 2020 2020 2020 2020  m_name].        
+00014c00: 2020 2020 656c 6966 2070 6172 616d 5f6e      elif param_n
+00014c10: 616d 6520 3d3d 2027 6c69 6e6b 5f73 7064  ame == 'link_spd
+00014c20: 273a 0a20 2020 2020 2020 2020 2020 2020  ':.             
+00014c30: 2020 2073 656c 662e 7072 6d2e 6c69 6e6b     self.prm.link
+00014c40: 5f73 7064 203d 2027 4745 4e7b 7d27 2e66  _spd = 'GEN{}'.f
+00014c50: 6f72 6d61 7428 7265 7375 6c74 735b 2770  ormat(results['p
+00014c60: 6369 652e 6c69 6e6b 2e67 656e 2e63 7572  cie.link.gen.cur
+00014c70: 7265 6e74 275d 290a 2020 2020 2020 2020  rent']).        
+00014c80: 2020 2020 656c 6966 2070 6172 616d 5f6e      elif param_n
+00014c90: 616d 6520 3d3d 2027 6d6f 6465 6c27 3a0a  ame == 'model':.
+00014ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014cb0: 7365 6c66 2e70 726d 2e6d 6f64 656c 203d  self.prm.model =
+00014cc0: 2072 6573 756c 7473 5b27 6e61 6d65 275d   results['name']
+00014cd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014ce0: 2073 656c 662e 7072 6d2e 6d6f 6465 6c5f   self.prm.model_
+00014cf0: 6469 7370 6c61 7920 3d20 7365 6c66 2e70  display = self.p
+00014d00: 726d 2e6d 6f64 656c 5f64 6576 6963 655f  rm.model_device_
+00014d10: 6465 636f 6465 0a20 2020 2020 2020 2020  decode.         
+00014d20: 2020 2020 2020 2069 6620 7265 7375 6c74         if result
+00014d30: 735b 276e 616d 6527 5d20 616e 6420 6c65  s['name'] and le
+00014d40: 6e28 7265 7375 6c74 735b 276e 616d 6527  n(results['name'
+00014d50: 5d29 203c 206c 656e 2873 656c 662e 7072  ]) < len(self.pr
+00014d60: 6d2e 6d6f 6465 6c5f 6465 7669 6365 5f64  m.model_device_d
+00014d70: 6563 6f64 6529 3a0a 2020 2020 2020 2020  ecode):.        
+00014d80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00014d90: 2e70 726d 2e6d 6f64 656c 5f64 6973 706c  .prm.model_displ
+00014da0: 6179 203d 2072 6573 756c 7473 5b27 6e61  ay = results['na
+00014db0: 6d65 275d 0a20 2020 2020 2020 2020 2020  me'].           
+00014dc0: 2020 2020 2073 656c 662e 7072 6d2e 6d6f       self.prm.mo
+00014dd0: 6465 6c5f 6469 7370 6c61 7920 3d20 7365  del_display = se
+00014de0: 6c66 2e66 6974 5f64 6973 706c 6179 5f6e  lf.fit_display_n
+00014df0: 616d 6528 7365 6c66 2e70 726d 2e6d 6f64  ame(self.prm.mod
+00014e00: 656c 5f64 6973 706c 6179 290a 2020 2020  el_display).    
+00014e10: 2020 2020 2020 2020 656c 6966 206c 656e          elif len
+00014e20: 2873 656e 736f 725f 6c69 7374 2920 3d3d  (sensor_list) ==
+00014e30: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+00014e40: 2020 2020 736e 5f6b 203d 2073 656e 736f      sn_k = senso
+00014e50: 725f 6c69 7374 5b30 5d0a 2020 2020 2020  r_list[0].      
+00014e60: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
+00014e70: 6675 6c6c 6d61 7463 6828 5041 5454 4552  fullmatch(PATTER
+00014e80: 4e53 5b50 4b2e 4953 5f46 4c4f 4154 5d2c  NS[PK.IS_FLOAT],
+00014e90: 2072 6573 756c 7473 5b73 6e5f 6b5d 293a   results[sn_k]):
+00014ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014eb0: 2020 2020 2073 656c 662e 7072 6d5b 7061       self.prm[pa
+00014ec0: 7261 6d5f 6e61 6d65 5d20 3d20 666c 6f61  ram_name] = floa
+00014ed0: 7428 7265 7375 6c74 735b 736e 5f6b 5d29  t(results[sn_k])
+00014ee0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014ef0: 2065 6c69 6620 6e6f 7420 7265 7375 6c74   elif not result
+00014f00: 735b 736e 5f6b 5d3a 0a20 2020 2020 2020  s[sn_k]:.       
+00014f10: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00014f20: 662e 7072 6d5b 7061 7261 6d5f 6e61 6d65  f.prm[param_name
+00014f30: 5d20 3d20 4e6f 6e65 0a20 2020 2020 2020  ] = None.       
+00014f40: 2020 2020 2020 2020 2073 656c 662e 7072           self.pr
+00014f50: 6d5b 7061 7261 6d5f 6e61 6d65 5d20 3d20  m[param_name] = 
+00014f60: 7265 7375 6c74 735b 736e 5f6b 5d0a 2020  results[sn_k].  
+00014f70: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
+00014f80: 650a 0a20 2020 2064 6566 2072 6561 645f  e..    def read_
+00014f90: 6770 755f 7365 6e73 6f72 5f73 6574 5f61  gpu_sensor_set_a
+00014fa0: 6d64 2873 656c 662c 2064 6174 615f 7479  md(self, data_ty
+00014fb0: 7065 3a20 5365 6e73 6f72 5365 7420 3d20  pe: SensorSet = 
+00014fc0: 5365 6e73 6f72 5365 742e 416c 6c29 202d  SensorSet.All) -
+00014fd0: 3e20 626f 6f6c 3a0a 2020 2020 2020 2020  > bool:.        
+00014fe0: 2222 2220 5265 6164 2047 5055 2073 656e  """ Read GPU sen
+00014ff0: 736f 7220 6461 7461 2066 726f 6d20 4857  sor data from HW
+00015000: 4d4f 4e20 616e 6420 4445 5649 4345 2073  MON and DEVICE s
+00015010: 656e 736f 7273 2075 7369 6e67 2074 6865  ensors using the
+00015020: 2073 656e 736f 7220 7365 7420 6465 6669   sensor set defi
+00015030: 6e65 640a 2020 2020 2020 2020 2020 2020  ned.            
+00015040: 6279 2064 6174 615f 7479 7065 2e0a 0a20  by data_type... 
+00015050: 2020 2020 2020 203a 7061 7261 6d20 6461         :param da
+00015060: 7461 5f74 7970 653a 2053 7065 6369 6669  ta_type: Specifi
+00015070: 6573 2074 6865 2073 656e 736f 7220 7365  es the sensor se
+00015080: 743a 2044 796e 616d 6963 2c20 5374 6174  t: Dynamic, Stat
+00015090: 6963 2c20 496e 666f 2c20 5374 6174 652c  ic, Info, State,
+000150a0: 2041 6c6c 204d 6f6e 6974 6f72 0a20 2020   All Monitor.   
+000150b0: 2020 2020 203a 7265 7475 726e 3a20 5472       :return: Tr
+000150c0: 7565 2069 6620 7375 6363 6573 7366 756c  ue if successful
+000150d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000150e0: 2020 2020 2069 6620 6e6f 7420 4755 545f       if not GUT_
+000150f0: 434f 4e53 542e 666f 7263 655f 616c 6c3a  CONST.force_all:
+00015100: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00015110: 6e6f 7420 7365 6c66 2e70 726d 2e72 6561  not self.prm.rea
+00015120: 6461 626c 653a 0a20 2020 2020 2020 2020  dable:.         
+00015130: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+00015140: 6c73 650a 0a20 2020 2020 2020 2072 6574  lse..        ret
+00015150: 7572 6e5f 7374 6174 7573 203d 2046 616c  urn_status = Fal
+00015160: 7365 0a20 2020 2020 2020 2070 6172 616d  se.        param
+00015170: 5f6c 6973 7420 3d20 7365 6c66 2e73 656e  _list = self.sen
+00015180: 736f 725f 7365 7473 5b64 6174 615f 7479  sor_sets[data_ty
+00015190: 7065 5d0a 0a20 2020 2020 2020 2066 6f72  pe]..        for
+000151a0: 2073 656e 736f 725f 7479 7065 2c20 7061   sensor_type, pa
+000151b0: 7261 6d5f 6e61 6d65 7320 696e 2070 6172  ram_names in par
+000151c0: 616d 5f6c 6973 742e 6974 656d 7328 293a  am_list.items():
+000151d0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+000151e0: 2070 6172 616d 2069 6e20 7061 7261 6d5f   param in param_
+000151f0: 6e61 6d65 733a 0a20 2020 2020 2020 2020  names:.         
+00015200: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
+00015210: 6275 6728 2750 726f 6365 7373 696e 6720  bug('Processing 
+00015220: 7061 7261 6d65 7465 723a 2025 7327 2c20  parameter: %s', 
+00015230: 7061 7261 6d29 0a20 2020 2020 2020 2020  param).         
+00015240: 2020 2020 2020 2072 6461 7461 203d 2073         rdata = s
+00015250: 656c 662e 7265 6164 5f67 7075 5f73 656e  elf.read_gpu_sen
+00015260: 736f 7228 7061 7261 6d2c 2076 656e 646f  sor(param, vendo
+00015270: 723d 7365 6c66 2e70 726d 2e76 656e 646f  r=self.prm.vendo
+00015280: 722c 2073 656e 736f 725f 7479 7065 3d73  r, sensor_type=s
+00015290: 656e 736f 725f 7479 7065 290a 2020 2020  ensor_type).    
+000152a0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+000152b0: 6461 7461 2069 7320 4661 6c73 653a 0a20  data is False:. 
+000152c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000152d0: 2020 2069 6620 7061 7261 6d20 213d 2027     if param != '
+000152e0: 756e 6971 7565 5f69 6427 3a0a 2020 2020  unique_id':.    
+000152f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015300: 2020 2020 7365 6c66 2e64 6973 6162 6c65      self.disable
+00015310: 5f70 6172 616d 5f72 6561 6428 2775 6e69  _param_read('uni
+00015320: 7175 655f 6964 2729 0a20 2020 2020 2020  que_id').       
+00015330: 2020 2020 2020 2020 2065 6c69 6620 7264           elif rd
+00015340: 6174 6120 6973 204e 6f6e 653a 0a20 2020  ata is None:.   
+00015350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015360: 204c 4f47 4745 522e 6465 6275 6728 2752   LOGGER.debug('R
+00015370: 6561 6420 6461 7461 205b 2573 5d2c 2049  ead data [%s], I
+00015380: 6e76 616c 6964 206f 7220 6469 7361 626c  nvalid or disabl
+00015390: 6564 2070 6172 616d 6574 6572 3a20 2573  ed parameter: %s
+000153a0: 272c 2072 6461 7461 2c20 7061 7261 6d29  ', rdata, param)
+000153b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000153c0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000153d0: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
+000153e0: 522e 6465 6275 6728 2756 616c 6964 2064  R.debug('Valid d
+000153f0: 6174 6120 5b25 735d 2066 6f72 2070 6172  ata [%s] for par
+00015400: 616d 6574 6572 3a20 2573 272c 2072 6461  ameter: %s', rda
+00015410: 7461 2c20 7061 7261 6d29 0a20 2020 2020  ta, param).     
+00015420: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00015430: 656c 662e 7365 745f 7061 7261 6d73 5f76  elf.set_params_v
+00015440: 616c 7565 2870 6172 616d 2c20 7264 6174  alue(param, rdat
+00015450: 6129 0a20 2020 2020 2020 2020 2020 2020  a).             
+00015460: 2020 2020 2020 2072 6574 7572 6e5f 7374         return_st
+00015470: 6174 7573 203d 2054 7275 650a 2020 2020  atus = True.    
+00015480: 2020 2020 7265 7475 726e 2072 6574 7572      return retur
+00015490: 6e5f 7374 6174 7573 0a0a 2020 2020 6465  n_status..    de
+000154a0: 6620 7072 696e 745f 6469 7361 626c 6564  f print_disabled
+000154b0: 5f70 6172 616d 7328 7365 6c66 2920 2d3e  _params(self) ->
+000154c0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
+000154d0: 2222 2050 7269 6e74 206c 6973 7420 6f66  "" Print list of
+000154e0: 2064 6973 6162 6c65 6420 7061 7261 6d65   disabled parame
+000154f0: 7465 7273 2e0a 2020 2020 2020 2020 2222  ters..        ""
+00015500: 220a 2020 2020 2020 2020 7061 7261 6d5f  ".        param_
+00015510: 6c69 7374 7320 3d20 5b5d 0a20 2020 2020  lists = [].     
+00015520: 2020 2069 6620 4755 545f 434f 4e53 542e     if GUT_CONST.
+00015530: 7665 7262 6f73 6520 616e 6420 7365 6c66  verbose and self
+00015540: 2e72 6561 645f 736b 6970 3a0a 2020 2020  .read_skip:.    
+00015550: 2020 2020 2020 2020 7061 7261 6d5f 6c69          param_li
+00015560: 7374 732e 6170 7065 6e64 2827 536b 6970  sts.append('Skip
+00015570: 7065 6427 290a 2020 2020 2020 2020 6966  ped').        if
+00015580: 2073 656c 662e 7265 6164 5f64 6973 6162   self.read_disab
+00015590: 6c65 643a 0a20 2020 2020 2020 2020 2020  led:.           
+000155a0: 2070 6172 616d 5f6c 6973 7473 2e61 7070   param_lists.app
+000155b0: 656e 6428 2744 6973 6162 6c65 6427 290a  end('Disabled').
+000155c0: 2020 2020 2020 2020 6966 206e 6f74 2070          if not p
+000155d0: 6172 616d 5f6c 6973 7473 3a0a 2020 2020  aram_lists:.    
+000155e0: 2020 2020 2020 2020 7265 7475 726e 0a20          return. 
+000155f0: 2020 2020 2020 2070 6172 616d 5f6c 6973         param_lis
+00015600: 7473 203d 2074 7570 6c65 2870 6172 616d  ts = tuple(param
+00015610: 5f6c 6973 7473 5b3a 5d2c 290a 0a20 2020  _lists[:],)..   
+00015620: 2020 2020 2063 6f6c 6f72 203d 2073 656c       color = sel
+00015630: 662e 6d61 726b 5f75 705f 636f 6465 735b  f.mark_up_codes[
+00015640: 276e 6f6e 6527 5d20 6966 2047 5554 5f43  'none'] if GUT_C
+00015650: 4f4e 5354 2e6e 6f5f 6d61 726b 7570 2065  ONST.no_markup e
+00015660: 6c73 6520 7365 6c66 2e6d 6172 6b5f 7570  lse self.mark_up
+00015670: 5f63 6f64 6573 5b27 6461 7461 275d 0a20  _codes['data']. 
+00015680: 2020 2020 2020 2063 6f6c 6f72 5f72 6573         color_res
+00015690: 6574 203d 2073 656c 662e 6d61 726b 5f75  et = self.mark_u
+000156a0: 705f 636f 6465 735b 276e 6f6e 6527 5d20  p_codes['none'] 
+000156b0: 6966 2047 5554 5f43 4f4e 5354 2e6e 6f5f  if GUT_CONST.no_
+000156c0: 6d61 726b 7570 2065 6c73 6520 7365 6c66  markup else self
+000156d0: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
+000156e0: 7265 7365 7427 5d0a 2020 2020 2020 2020  reset'].        
+000156f0: 7072 6520 3d20 2720 2020 270a 2020 2020  pre = '   '.    
+00015700: 2020 2020 666f 7220 7061 7261 6d5f 6c69      for param_li
+00015710: 7374 5f6e 616d 6520 696e 2070 6172 616d  st_name in param
+00015720: 5f6c 6973 7473 3a0a 2020 2020 2020 2020  _lists:.        
+00015730: 2020 2020 7061 7261 6d5f 6c69 7374 203d      param_list =
+00015740: 2073 656c 662e 7265 6164 5f64 6973 6162   self.read_disab
+00015750: 6c65 6420 6966 2070 6172 616d 5f6c 6973  led if param_lis
+00015760: 745f 6e61 6d65 203d 3d20 2744 6973 6162  t_name == 'Disab
+00015770: 6c65 6427 2065 6c73 6520 7365 6c66 2e72  led' else self.r
+00015780: 6561 645f 736b 6970 0a20 2020 2020 2020  ead_skip.       
+00015790: 2020 2020 206c 6162 656c 203d 2027 7b7d       label = '{}
+000157a0: 2050 6172 616d 6574 6572 733a 2027 2e66   Parameters: '.f
+000157b0: 6f72 6d61 7428 7061 7261 6d5f 6c69 7374  ormat(param_list
+000157c0: 5f6e 616d 6529 0a20 2020 2020 2020 2020  _name).         
+000157d0: 2020 2070 7269 6e74 2827 7b7d 7b7d 7b7d     print('{}{}{}
+000157e0: 272e 666f 726d 6174 2870 7265 2c20 2727  '.format(pre, ''
+000157f0: 2c20 2723 272e 6c6a 7573 7428 3530 2c20  , '#'.ljust(50, 
+00015800: 2723 2729 2929 0a20 2020 2020 2020 2020  '#'))).         
+00015810: 2020 2070 7269 6e74 2827 7b7d 7b7d 272e     print('{}{}'.
+00015820: 666f 726d 6174 2870 7265 2c20 6c61 6265  format(pre, labe
+00015830: 6c29 2c20 656e 643d 2727 290a 2020 2020  l), end='').    
+00015840: 2020 2020 2020 2020 7072 696e 7428 277b          print('{
+00015850: 7d27 2e66 6f72 6d61 7428 636f 6c6f 7229  }'.format(color)
+00015860: 2c20 656e 643d 2727 290a 2020 2020 2020  , end='').      
+00015870: 2020 2020 2020 666f 7220 692c 2070 6172        for i, par
+00015880: 616d 6574 6572 2069 6e20 656e 756d 6572  ameter in enumer
+00015890: 6174 6528 7061 7261 6d5f 6c69 7374 293a  ate(param_list):
+000158a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000158b0: 2069 6620 6920 3d3d 2030 3a0a 2020 2020   if i == 0:.    
+000158c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000158d0: 7072 696e 7428 277b 7d27 2e66 6f72 6d61  print('{}'.forma
+000158e0: 7428 7061 7261 6d65 7465 7229 2c20 656e  t(parameter), en
+000158f0: 643d 2727 290a 2020 2020 2020 2020 2020  d='').          
+00015900: 2020 2020 2020 656c 6966 206e 6f74 2069        elif not i
+00015910: 2025 2034 3a0a 2020 2020 2020 2020 2020   % 4:.          
+00015920: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00015930: 272c 5c6e 7b7d 7b7d 7b7d 272e 666f 726d  ',\n{}{}{}'.form
+00015940: 6174 2870 7265 2c20 2720 272e 6c6a 7573  at(pre, ' '.ljus
+00015950: 7428 6c65 6e28 6c61 6265 6c29 2c20 2720  t(len(label), ' 
+00015960: 2729 2c20 7061 7261 6d65 7465 7229 2c20  '), parameter), 
+00015970: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
+00015980: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00015990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000159a0: 2020 7072 696e 7428 272c 207b 7d27 2e66    print(', {}'.f
+000159b0: 6f72 6d61 7428 7061 7261 6d65 7465 7229  ormat(parameter)
+000159c0: 2c20 656e 643d 2727 290a 2020 2020 2020  , end='').      
+000159d0: 2020 2020 2020 7072 696e 7428 277b 7d27        print('{}'
+000159e0: 2e66 6f72 6d61 7428 636f 6c6f 725f 7265  .format(color_re
+000159f0: 7365 7429 290a 0a20 2020 2064 6566 2070  set))..    def p
+00015a00: 7269 6e74 5f70 6172 616d 5f74 6162 6c65  rint_param_table
+00015a10: 2873 656c 662c 2070 6172 616d 5f6e 616d  (self, param_nam
+00015a20: 653a 2073 7472 2c20 7368 6f72 743a 2062  e: str, short: b
+00015a30: 6f6f 6c20 3d20 5472 7565 2920 2d3e 204e  ool = True) -> N
+00015a40: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+00015a50: 2050 7269 6e74 2068 756d 616e 2066 7269   Print human fri
+00015a60: 656e 646c 7920 7461 626c 6520 6f66 2073  endly table of s
+00015a70: 7065 6369 6669 6564 2070 6172 616d 6574  pecified paramet
+00015a80: 6572 732e 0a0a 2020 2020 2020 2020 3a70  ers...        :p
+00015a90: 6172 616d 2070 6172 616d 5f6e 616d 653a  aram param_name:
+00015aa0: 2054 6172 6765 7420 7061 7261 6d65 7465   Target paramete
+00015ab0: 7220 6b65 7920 6e61 6d65 2e0a 2020 2020  r key name..    
+00015ac0: 2020 2020 3a70 6172 616d 2073 686f 7274      :param short
+00015ad0: 3a20 5072 696e 7420 7368 6f72 7420 6770  : Print short gp
+00015ae0: 7520 6669 7273 7420 6966 2054 7275 650a  u first if True.
+00015af0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00015b00: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
+00015b10: 6973 5f61 6d64 5f72 6561 6461 626c 6528  is_amd_readable(
+00015b20: 293a 2072 6574 7572 6e0a 2020 2020 2020  ): return.      
+00015b30: 2020 7061 7261 6d5f 7461 626c 655f 6465    param_table_de
+00015b40: 6669 6e69 7469 6f6e 7320 3d20 7b27 7070  finitions = {'pp
+00015b50: 5f66 6561 7475 7265 7327 3a20 7b27 6675  _features': {'fu
+00015b60: 6e63 273a 2073 656c 662e 7265 6164 5f67  nc': self.read_g
+00015b70: 7075 5f70 705f 6665 6174 7572 6573 2c20  pu_pp_features, 
+00015b80: 276e 616d 6527 3a20 2750 5020 4665 6174  'name': 'PP Feat
+00015b90: 7572 6527 7d2c 0a20 2020 2020 2020 2020  ure'},.         
 00015ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015bb0: 2020 2073 656c 662e 6765 745f 636c 696e     self.get_clin
-00015bc0: 666f 5f76 616c 7565 286f 636c 5f70 6172  fo_value(ocl_par
-00015bd0: 616d 5f6e 616d 6529 2c20 636f 6c6f 725f  am_name), color_
-00015be0: 7265 7365 7429 290a 2020 2020 2020 2020  reset)).        
-00015bf0: 2020 2020 6966 206e 6f74 2069 7465 6d5f      if not item_
-00015c00: 636f 756e 743a 0a20 2020 2020 2020 2020  count:.         
-00015c10: 2020 2020 2020 2070 7269 6e74 2827 7b7d         print('{}
-00015c20: 7b7d 4e6f 207b 7d20 4461 7461 2041 7661  {}No {} Data Ava
-00015c30: 696c 6162 6c65 7b7d 272e 666f 726d 6174  ilable{}'.format
-00015c40: 2870 7265 2c20 636f 6c6f 722c 2070 6172  (pre, color, par
-00015c50: 616d 5f64 6574 6169 6c73 5b27 6e61 6d65  am_details['name
-00015c60: 275d 2c20 636f 6c6f 725f 7265 7365 7429  '], color_reset)
-00015c70: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00015c80: 7475 726e 0a20 2020 2020 2020 2069 6620  turn.        if 
-00015c90: 7061 7261 6d5f 6e61 6d65 203d 3d20 2770  param_name == 'p
-00015ca0: 7374 6174 6527 3a0a 2020 2020 2020 2020  state':.        
-00015cb0: 2020 2020 7365 6c66 2e72 6561 645f 6770      self.read_gp
-00015cc0: 755f 7073 7461 7465 7328 290a 2020 2020  u_pstates().    
-00015cd0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
-00015ce0: 6e74 5f70 7374 6174 6573 2829 0a20 2020  nt_pstates().   
-00015cf0: 2020 2020 2020 2020 2072 6574 7572 6e0a           return.
-00015d00: 2020 2020 2020 2020 6966 2072 6561 645f          if read_
-00015d10: 6461 7461 3a0a 2020 2020 2020 2020 2020  data:.          
-00015d20: 2020 666f 7220 6c69 6e65 2069 6e20 7265    for line in re
-00015d30: 6164 5f64 6174 612e 7370 6c69 7428 275c  ad_data.split('\
-00015d40: 6e27 293a 0a20 2020 2020 2020 2020 2020  n'):.           
-00015d50: 2020 2020 2069 6620 6c69 6e65 2e73 7472       if line.str
-00015d60: 6970 2827 5c6e 2729 3a0a 2020 2020 2020  ip('\n'):.      
-00015d70: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00015d80: 696e 7428 277b 7d7b 7d7b 7d7b 7d27 2e66  int('{}{}{}{}'.f
-00015d90: 6f72 6d61 7428 7072 652c 2063 6f6c 6f72  ormat(pre, color
-00015da0: 2c20 6c69 6e65 2e73 7472 6970 2827 5c6e  , line.strip('\n
-00015db0: 2729 2c20 636f 6c6f 725f 7265 7365 7429  '), color_reset)
-00015dc0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00015dd0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00015de0: 7428 277b 7d7b 7d4e 6f20 7b7d 2044 6174  t('{}{}No {} Dat
-00015df0: 6120 4176 6169 6c61 626c 657b 7d27 2e66  a Available{}'.f
-00015e00: 6f72 6d61 7428 7072 652c 2063 6f6c 6f72  ormat(pre, color
-00015e10: 2c20 7061 7261 6d5f 6465 7461 696c 735b  , param_details[
-00015e20: 276e 616d 6527 5d2c 2063 6f6c 6f72 5f72  'name'], color_r
-00015e30: 6573 6574 2929 0a0a 2020 2020 6465 6620  eset))..    def 
-00015e40: 7072 696e 745f 7073 7461 7465 7328 7365  print_pstates(se
-00015e50: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
-00015e60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00015e70: 2050 7269 6e74 2068 756d 616e 2066 7269   Print human fri
-00015e80: 656e 646c 7920 7461 626c 6520 6f66 2070  endly table of p
-00015e90: 2d73 7461 7465 732e 0a20 2020 2020 2020  -states..       
-00015ea0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00015eb0: 6e6f 7420 7365 6c66 2e69 735f 616d 645f  not self.is_amd_
-00015ec0: 7265 6164 6162 6c65 2829 3a20 7265 7475  readable(): retu
-00015ed0: 726e 0a0a 2020 2020 2020 2020 696e 666f  rn..        info
-00015ee0: 5f70 7269 6e74 6564 203d 2046 616c 7365  _printed = False
-00015ef0: 0a20 2020 2020 2020 2063 6f6c 6f72 203d  .        color =
-00015f00: 2073 656c 662e 6d61 726b 5f75 705f 636f   self.mark_up_co
-00015f10: 6465 735b 276e 6f6e 6527 5d20 6966 2047  des['none'] if G
-00015f20: 5554 5f43 4f4e 5354 2e6e 6f5f 6d61 726b  UT_CONST.no_mark
-00015f30: 7570 2065 6c73 6520 7365 6c66 2e6d 6172  up else self.mar
-00015f40: 6b5f 7570 5f63 6f64 6573 5b27 6461 7461  k_up_codes['data
-00015f50: 275d 0a20 2020 2020 2020 2061 6374 6976  '].        activ
-00015f60: 655f 636f 6c6f 7220 3d20 7365 6c66 2e6d  e_color = self.m
-00015f70: 6172 6b5f 7570 5f63 6f64 6573 5b27 6e6f  ark_up_codes['no
-00015f80: 6e65 275d 2069 6620 4755 545f 434f 4e53  ne'] if GUT_CONS
-00015f90: 542e 6e6f 5f6d 6172 6b75 7020 656c 7365  T.no_markup else
-00015fa0: 2073 656c 662e 6d61 726b 5f75 705f 636f   self.mark_up_co
-00015fb0: 6465 735b 2767 7265 656e 275d 0a20 2020  des['green'].   
-00015fc0: 2020 2020 2063 6f6c 6f72 5f72 6573 6574       color_reset
-00015fd0: 203d 2073 656c 662e 6d61 726b 5f75 705f   = self.mark_up_
-00015fe0: 636f 6465 735b 276e 6f6e 6527 5d20 6966  codes['none'] if
-00015ff0: 2047 5554 5f43 4f4e 5354 2e6e 6f5f 6d61   GUT_CONST.no_ma
-00016000: 726b 7570 2065 6c73 6520 7365 6c66 2e6d  rkup else self.m
-00016010: 6172 6b5f 7570 5f63 6f64 6573 5b27 7265  ark_up_codes['re
-00016020: 7365 7427 5d0a 2020 2020 2020 2020 7072  set'].        pr
-00016030: 6520 3d20 2720 2020 270a 2020 2020 2020  e = '   '.      
-00016040: 2020 2320 4450 4d20 5374 6174 6573 0a20    # DPM States. 
-00016050: 2020 2020 2020 2069 6620 7365 6c66 2e70         if self.p
-00016060: 6172 616d 5f69 735f 6163 7469 7665 2827  aram_is_active('
-00016070: 7070 5f6f 645f 636c 6b5f 766f 6c74 6167  pp_od_clk_voltag
-00016080: 6527 293a 0a20 2020 2020 2020 2020 2020  e'):.           
-00016090: 2069 6e66 6f5f 7072 696e 7465 6420 3d20   info_printed = 
-000160a0: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
-000160b0: 2069 6620 7365 6c66 2e70 726d 2e67 7075   if self.prm.gpu
-000160c0: 5f74 7970 6520 3d3d 2047 7075 5479 7065  _type == GpuType
-000160d0: 2e43 7572 7665 5074 733a 0a20 2020 2020  .CurvePts:.     
-000160e0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-000160f0: 2827 7b7d 7b7d 7b7d 272e 666f 726d 6174  ('{}{}{}'.format
-00016100: 2870 7265 2c20 2727 2c20 2723 272e 6c6a  (pre, '', '#'.lj
-00016110: 7573 7428 3530 2c20 2723 2729 2929 0a20  ust(50, '#'))). 
-00016120: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00016130: 7269 6e74 2827 7b7d 4450 4d20 5374 6174  rint('{}DPM Stat
-00016140: 6573 3a27 2e66 6f72 6d61 7428 7072 6529  es:'.format(pre)
-00016150: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016160: 2020 7072 696e 7428 277b 7d53 434c 4b3a    print('{}SCLK:
-00016170: 207b 3a3c 3137 7d20 4d43 4c4b 3a7b 7d27   {:<17} MCLK:{}'
-00016180: 2e66 6f72 6d61 7428 7072 652c 2027 2027  .format(pre, ' '
-00016190: 2c20 636f 6c6f 7229 290a 2020 2020 2020  , color)).      
-000161a0: 2020 2020 2020 2020 2020 666f 7220 7073            for ps
-000161b0: 5f6e 756d 2c20 7073 5f66 7265 7120 696e  _num, ps_freq in
-000161c0: 2073 656c 662e 7363 6c6b 5f64 706d 5f73   self.sclk_dpm_s
-000161d0: 7461 7465 2e69 7465 6d73 2829 3a0a 2020  tate.items():.  
-000161e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000161f0: 2020 7072 696e 7428 277b 7d20 7b3a 3e31    print('{} {:>1
-00016200: 7d3a 2020 7b3a 3c38 7d20 2020 2020 2020  }:  {:<8}       
-00016210: 2020 2020 2027 2e66 6f72 6d61 7428 7072       '.format(pr
-00016220: 652c 2070 735f 6e75 6d2c 2070 735f 6672  e, ps_num, ps_fr
-00016230: 6571 292c 2065 6e64 3d27 2729 0a20 2020  eq), end='').   
-00016240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016250: 2069 6620 7073 5f6e 756d 2069 6e20 7365   if ps_num in se
-00016260: 6c66 2e6d 636c 6b5f 6470 6d5f 7374 6174  lf.mclk_dpm_stat
-00016270: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00016280: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00016290: 2827 7b3a 333e 7d3a 2020 7b3a 3c38 7d27  ('{:3>}:  {:<8}'
-000162a0: 2e66 6f72 6d61 7428 7073 5f6e 756d 2c20  .format(ps_num, 
-000162b0: 7365 6c66 2e6d 636c 6b5f 6470 6d5f 7374  self.mclk_dpm_st
-000162c0: 6174 655b 7073 5f6e 756d 5d29 290a 2020  ate[ps_num])).  
-000162d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000162e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000162f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016300: 7072 696e 7428 2727 290a 0a20 2020 2020  print('')..     
-00016310: 2020 2020 2020 2023 2070 705f 6f64 5f63         # pp_od_c
-00016320: 6c6b 5f76 6f6c 7461 6765 2073 7461 7465  lk_voltage state
-00016330: 730a 2020 2020 2020 2020 2020 2020 7072  s.            pr
-00016340: 696e 7428 277b 7d7b 7d7b 7d7b 7d27 2e66  int('{}{}{}{}'.f
-00016350: 6f72 6d61 7428 7072 652c 2063 6f6c 6f72  ormat(pre, color
-00016360: 5f72 6573 6574 2c20 2727 2c20 2723 272e  _reset, '', '#'.
-00016370: 6c6a 7573 7428 3530 2c20 2723 2729 2929  ljust(50, '#')))
-00016380: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00016390: 6e74 2827 7b7d 5050 204f 4420 5374 6174  nt('{}PP OD Stat
-000163a0: 6573 3a27 2e66 6f72 6d61 7428 7072 6529  es:'.format(pre)
-000163b0: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-000163c0: 696e 7428 277b 7d53 434c 4b3a 207b 3a3c  int('{}SCLK: {:<
-000163d0: 3137 7d20 4d43 4c4b 3a7b 7d27 2e66 6f72  17} MCLK:{}'.for
-000163e0: 6d61 7428 7072 652c 2027 2027 2c20 636f  mat(pre, ' ', co
-000163f0: 6c6f 7229 290a 2020 2020 2020 2020 2020  lor)).          
-00016400: 2020 666f 7220 7073 5f6e 756d 2c20 7073    for ps_num, ps
-00016410: 5f76 616c 7320 696e 2073 656c 662e 7363  _vals in self.sc
-00016420: 6c6b 5f73 7461 7465 2e69 7465 6d73 2829  lk_state.items()
-00016430: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016440: 2020 7072 696e 7428 277b 7d20 7b3a 3e31    print('{} {:>1
-00016450: 7d3a 2020 7b3a 3c38 7d20 207b 3a3c 387d  }:  {:<8}  {:<8}
-00016460: 2020 272e 666f 726d 6174 2870 7265 2c20    '.format(pre, 
-00016470: 7073 5f6e 756d 2c20 7073 5f76 616c 735b  ps_num, ps_vals[
-00016480: 305d 2c20 7073 5f76 616c 735b 315d 292c  0], ps_vals[1]),
-00016490: 2065 6e64 3d27 2729 0a20 2020 2020 2020   end='').       
-000164a0: 2020 2020 2020 2020 2069 6620 7073 5f6e           if ps_n
-000164b0: 756d 2069 6e20 7365 6c66 2e6d 636c 6b5f  um in self.mclk_
-000164c0: 7374 6174 653a 0a20 2020 2020 2020 2020  state:.         
-000164d0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-000164e0: 2827 7b3a 333e 7d3a 2020 7b3a 3c38 7d20  ('{:3>}:  {:<8} 
-000164f0: 207b 3a3c 387d 272e 666f 726d 6174 2870   {:<8}'.format(p
-00016500: 735f 6e75 6d2c 2073 656c 662e 6d63 6c6b  s_num, self.mclk
-00016510: 5f73 7461 7465 5b70 735f 6e75 6d5d 5b30  _state[ps_num][0
-00016520: 5d2c 2073 656c 662e 6d63 6c6b 5f73 7461  ], self.mclk_sta
-00016530: 7465 5b70 735f 6e75 6d5d 5b31 5d29 290a  te[ps_num][1])).
-00016540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016550: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00016560: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-00016570: 2727 290a 2020 2020 2020 2020 2020 2020  '').            
-00016580: 6966 2073 656c 662e 7072 6d2e 6770 755f  if self.prm.gpu_
-00016590: 7479 7065 203d 3d20 4770 7554 7970 652e  type == GpuType.
-000165a0: 4375 7276 6550 7473 3a0a 2020 2020 2020  CurvePts:.      
-000165b0: 2020 2020 2020 2020 2020 2320 4375 7276            # Curv
-000165c0: 6520 706f 696e 7473 0a20 2020 2020 2020  e points.       
-000165d0: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
-000165e0: 7b7d 7b7d 7b7d 7b7d 272e 666f 726d 6174  {}{}{}{}'.format
-000165f0: 2870 7265 2c20 636f 6c6f 725f 7265 7365  (pre, color_rese
-00016600: 742c 2027 272c 2027 2327 2e6c 6a75 7374  t, '', '#'.ljust
-00016610: 2835 302c 2027 2327 2929 290a 2020 2020  (50, '#'))).    
-00016620: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00016630: 7428 277b 7d56 4444 435f 4355 5256 453a  t('{}VDDC_CURVE:
-00016640: 7b7d 272e 666f 726d 6174 2870 7265 2c20  {}'.format(pre, 
-00016650: 636f 6c6f 7229 290a 2020 2020 2020 2020  color)).        
-00016660: 2020 2020 2020 2020 666f 7220 7663 5f69          for vc_i
-00016670: 6e64 6578 2c20 7663 5f76 616c 7320 696e  ndex, vc_vals in
-00016680: 2073 656c 662e 7664 6463 5f63 7572 7665   self.vddc_curve
-00016690: 2e69 7465 6d73 2829 3a0a 2020 2020 2020  .items():.      
-000166a0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-000166b0: 696e 7428 277b 7d20 7b7d 3a20 7b7d 272e  int('{} {}: {}'.
-000166c0: 666f 726d 6174 2870 7265 2c20 7663 5f69  format(pre, vc_i
-000166d0: 6e64 6578 2c20 7663 5f76 616c 7329 290a  ndex, vc_vals)).
-000166e0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-000166f0: 7428 277b 7d27 2e66 6f72 6d61 7428 636f  t('{}'.format(co
-00016700: 6c6f 725f 7265 7365 7429 2c20 656e 643d  lor_reset), end=
-00016710: 2727 290a 2020 2020 2020 2020 6966 2073  '').        if s
-00016720: 656c 662e 616c 6c5f 7073 7461 7465 733a  elf.all_pstates:
-00016730: 0a20 2020 2020 2020 2020 2020 2023 2063  .            # c
-00016740: 6c6f 636b 5f6e 616d 653a 207b 7073 5f6e  lock_name: {ps_n
-00016750: 756d 3a20 7b27 7661 6c75 6527 3a20 7073  um: {'value': ps
-00016760: 5f76 616c 2c20 2773 7461 7465 273a 2070  _val, 'state': p
-00016770: 735f 7374 737d 7d0a 2020 2020 2020 2020  s_sts}}.        
-00016780: 2020 2020 696e 666f 5f70 7269 6e74 6564      info_printed
-00016790: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-000167a0: 2020 2020 7072 696e 7428 277b 7d7b 7d7b      print('{}{}{
-000167b0: 7d7b 7d27 2e66 6f72 6d61 7428 7072 652c  }{}'.format(pre,
-000167c0: 2063 6f6c 6f72 5f72 6573 6574 2c20 2727   color_reset, ''
-000167d0: 2c20 2723 272e 6c6a 7573 7428 3530 2c20  , '#'.ljust(50, 
-000167e0: 2723 2729 2929 0a20 2020 2020 2020 2020  '#'))).         
-000167f0: 2020 2070 7269 6e74 2827 7b7d 416c 6c20     print('{}All 
-00016800: 5073 7461 7465 733a 272e 666f 726d 6174  Pstates:'.format
-00016810: 2870 7265 2929 0a20 2020 2020 2020 2020  (pre)).         
-00016820: 2020 2066 6f72 2063 6c6f 636b 5f6e 616d     for clock_nam
-00016830: 652c 2070 7374 6174 6573 2069 6e20 7365  e, pstates in se
-00016840: 6c66 2e61 6c6c 5f70 7374 6174 6573 2e69  lf.all_pstates.i
-00016850: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
-00016860: 2020 2020 2020 2020 7072 696e 7428 277b          print('{
-00016870: 7d7b 7d3a 7b7d 272e 666f 726d 6174 2870  }{}:{}'.format(p
-00016880: 7265 2c20 636c 6f63 6b5f 6e61 6d65 2c20  re, clock_name, 
-00016890: 636f 6c6f 7229 290a 2020 2020 2020 2020  color)).        
-000168a0: 2020 2020 2020 2020 666f 7220 692c 2028          for i, (
-000168b0: 7073 2c20 7073 5f64 6174 6129 2069 6e20  ps, ps_data) in 
-000168c0: 656e 756d 6572 6174 6528 7073 7461 7465  enumerate(pstate
-000168d0: 732e 6974 656d 7328 2929 3a0a 2020 2020  s.items()):.    
-000168e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000168f0: 6375 725f 636f 6c6f 7220 3d20 6163 7469  cur_color = acti
-00016900: 7665 5f63 6f6c 6f72 2069 6620 7073 5f64  ve_color if ps_d
-00016910: 6174 615b 2773 7461 7465 275d 2065 6c73  ata['state'] els
-00016920: 6520 636f 6c6f 720a 2020 2020 2020 2020  e color.        
-00016930: 2020 2020 2020 2020 2020 2020 6672 6571              freq
-00016940: 203d 2027 2a27 202b 2070 735f 6461 7461   = '*' + ps_data
-00016950: 5b27 7661 6c75 6527 5d20 6966 2047 5554  ['value'] if GUT
-00016960: 5f43 4f4e 5354 2e6e 6f5f 6d61 726b 7570  _CONST.no_markup
-00016970: 2061 6e64 2070 735f 6461 7461 5b27 7374   and ps_data['st
-00016980: 6174 6527 5d20 656c 7365 2070 735f 6461  ate'] else ps_da
-00016990: 7461 5b27 7661 6c75 6527 5d0a 2020 2020  ta['value'].    
-000169a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000169b0: 6966 206e 6f74 2069 3a20 7072 696e 7428  if not i: print(
-000169c0: 277b 7d7b 7d7b 7d7b 7d3a 207b 7d7b 7d27  '{}{}{}{}: {}{}'
-000169d0: 2e66 6f72 6d61 7428 7072 652c 2070 7265  .format(pre, pre
-000169e0: 2c20 6375 725f 636f 6c6f 722c 2070 732c  , cur_color, ps,
-000169f0: 2066 7265 712c 2063 6f6c 6f72 292c 2065   freq, color), e
-00016a00: 6e64 3d27 2729 0a20 2020 2020 2020 2020  nd='').         
-00016a10: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00016a20: 2070 7269 6e74 2827 2c20 7b7d 7b7d 3a20   print(', {}{}: 
-00016a30: 7b7d 7b7d 272e 666f 726d 6174 2863 7572  {}{}'.format(cur
-00016a40: 5f63 6f6c 6f72 2c20 7073 2c20 6672 6571  _color, ps, freq
-00016a50: 2c20 636f 6c6f 7229 2c20 656e 643d 2727  , color), end=''
-00016a60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016a70: 2020 7072 696e 7428 277b 7d27 2e66 6f72    print('{}'.for
-00016a80: 6d61 7428 636f 6c6f 725f 7265 7365 7429  mat(color_reset)
-00016a90: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
-00016aa0: 696e 7428 277b 7d27 2e66 6f72 6d61 7428  int('{}'.format(
-00016ab0: 636f 6c6f 725f 7265 7365 7429 2c20 656e  color_reset), en
-00016ac0: 643d 2727 290a 2020 2020 2020 2020 6966  d='').        if
-00016ad0: 206e 6f74 2069 6e66 6f5f 7072 696e 7465   not info_printe
-00016ae0: 643a 0a20 2020 2020 2020 2020 2020 2070  d:.            p
-00016af0: 7269 6e74 2827 7b7d 7b7d 4e6f 2050 2d53  rint('{}{}No P-S
-00016b00: 7461 7465 2044 6174 6120 4176 6169 6c61  tate Data Availa
-00016b10: 626c 657b 7d27 2e66 6f72 6d61 7428 7072  ble{}'.format(pr
-00016b20: 652c 2063 6f6c 6f72 2c20 636f 6c6f 725f  e, color, color_
-00016b30: 7265 7365 7429 290a 0a20 2020 2064 6566  reset))..    def
-00016b40: 2067 6574 5f6b 6579 5f64 6573 6372 6970   get_key_descrip
-00016b50: 7469 6f6e 2873 656c 662c 2066 696c 656e  tion(self, filen
-00016b60: 616d 653a 2073 7472 2920 2d3e 2054 7570  ame: str) -> Tup
-00016b70: 6c65 5b73 7472 2c20 7374 725d 3a0a 2020  le[str, str]:.  
-00016b80: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00016b90: 2020 5573 6564 2069 6e20 7468 6520 7072    Used in the pr
-00016ba0: 696e 7469 6e67 206f 6620 7261 7720 7265  inting of raw re
-00016bb0: 6164 696e 6720 6f66 2047 5055 2e20 2049  ading of GPU.  I
-00016bc0: 7420 6164 6473 2064 6574 6169 6c73 2061  t adds details a
-00016bd0: 626f 7574 206b 6579 2077 6f72 6420 616e  bout key word an
-00016be0: 6420 6465 7363 7269 7074 696f 6e73 2066  d descriptions f
-00016bf0: 6f72 0a20 2020 2020 2020 2066 696c 6520  or.        file 
-00016c00: 666f 756e 6420 696e 2064 7269 7665 7220  found in driver 
-00016c10: 7265 6c61 7465 6420 7061 7468 732e 0a0a  related paths...
-00016c20: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
-00016c30: 696c 656e 616d 653a 204e 616d 6520 6f66  ilename: Name of
-00016c40: 2064 7269 7665 7220 6669 6c65 2e0a 2020   driver file..  
-00016c50: 2020 2020 2020 3a72 6574 7572 6e3a 2054        :return: T
-00016c60: 7570 6c65 206f 6620 7468 6520 6b65 7920  uple of the key 
-00016c70: 616e 6420 6465 7363 7269 7074 696f 6e20  and description 
-00016c80: 6173 2063 6f6c 6f72 2061 6e6e 6f74 6174  as color annotat
-00016c90: 6564 2073 7472 696e 6773 2e0a 2020 2020  ed strings..    
-00016ca0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00016cb0: 6163 7469 7665 5f63 6f6c 6f72 203d 2063  active_color = c
-00016cc0: 6f6c 6f72 203d 2073 656c 662e 6d61 726b  olor = self.mark
-00016cd0: 5f75 705f 636f 6465 735b 276e 6f6e 6527  _up_codes['none'
-00016ce0: 5d0a 2020 2020 2020 2020 636f 6c6f 725f  ].        color_
-00016cf0: 7265 7365 7420 3d20 7365 6c66 2e6d 6172  reset = self.mar
-00016d00: 6b5f 7570 5f63 6f64 6573 5b27 6e6f 6e65  k_up_codes['none
-00016d10: 275d 2069 6620 4755 545f 434f 4e53 542e  '] if GUT_CONST.
-00016d20: 6e6f 5f6d 6172 6b75 7020 656c 7365 2073  no_markup else s
-00016d30: 656c 662e 6d61 726b 5f75 705f 636f 6465  elf.mark_up_code
-00016d40: 735b 2772 6573 6574 275d 0a20 2020 2020  s['reset'].     
-00016d50: 2020 2069 6620 6e6f 7420 4755 545f 434f     if not GUT_CO
-00016d60: 4e53 542e 6e6f 5f6d 6172 6b75 703a 2061  NST.no_markup: a
-00016d70: 6374 6976 655f 636f 6c6f 7220 3d20 7365  ctive_color = se
-00016d80: 6c66 2e6d 6172 6b5f 7570 5f63 6f64 6573  lf.mark_up_codes
-00016d90: 5b27 6772 6565 6e27 5d0a 2020 2020 2020  ['green'].      
-00016da0: 2020 6966 2066 696c 656e 616d 6520 3d3d    if filename ==
-00016db0: 2027 7070 5f6f 645f 636c 6b5f 766f 6c74   'pp_od_clk_volt
-00016dc0: 6167 6527 3a0a 2020 2020 2020 2020 2020  age':.          
-00016dd0: 2020 7265 7475 726e 2027 7070 5f6f 645f    return 'pp_od_
-00016de0: 636c 6b5f 766f 6c74 6167 6527 2c20 277b  clk_voltage', '{
-00016df0: 7d72 6561 642f 7772 6974 6520 6472 6976  }read/write driv
-00016e00: 6572 2066 696c 657b 7d27 2e66 6f72 6d61  er file{}'.forma
-00016e10: 7428 6163 7469 7665 5f63 6f6c 6f72 2c20  t(active_color, 
-00016e20: 636f 6c6f 725f 7265 7365 7429 0a20 2020  color_reset).   
-00016e30: 2020 2020 2066 6f72 2073 656e 736f 725f       for sensor_
-00016e40: 6469 6374 2069 6e20 7365 6c66 2e5f 7365  dict in self._se
-00016e50: 6e73 6f72 5f64 6574 6169 6c73 2e76 616c  nsor_details.val
-00016e60: 7565 7328 293a 0a20 2020 2020 2020 2020  ues():.         
-00016e70: 2020 2066 6f72 2073 656e 736f 725f 7479     for sensor_ty
-00016e80: 7065 5f64 6963 7420 696e 2073 656e 736f  pe_dict in senso
-00016e90: 725f 6469 6374 2e76 616c 7565 7328 293a  r_dict.values():
-00016ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016eb0: 2066 6f72 2028 7365 6e73 6f72 5f6b 6579   for (sensor_key
-00016ec0: 2c20 7365 6e73 6f72 5f6b 6579 5f64 6963  , sensor_key_dic
-00016ed0: 7429 2069 6e20 7365 6e73 6f72 5f74 7970  t) in sensor_typ
-00016ee0: 655f 6469 6374 2e69 7465 6d73 2829 3a0a  e_dict.items():.
-00016ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f00: 2020 2020 666f 7220 7365 6e73 6f72 5f66      for sensor_f
-00016f10: 696c 6573 2069 6e20 7365 6e73 6f72 5f6b  iles in sensor_k
-00016f20: 6579 5f64 6963 745b 2773 656e 736f 7227  ey_dict['sensor'
-00016f30: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00016f40: 2020 2020 2020 2020 2020 2069 6620 7265             if re
-00016f50: 2e6d 6174 6368 2850 4154 5445 524e 535b  .match(PATTERNS[
-00016f60: 2749 6e70 7574 4c61 6265 6c58 275d 2c20  'InputLabelX'], 
-00016f70: 6669 6c65 6e61 6d65 293a 0a20 2020 2020  filename):.     
-00016f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f90: 2020 2020 2020 2066 6f72 2073 656e 736f         for senso
-00016fa0: 725f 6669 6c65 6e61 6d65 2069 6e20 7365  r_filename in se
-00016fb0: 6e73 6f72 5f66 696c 6573 3a0a 2020 2020  nsor_files:.    
-00016fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016fd0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
-00016fe0: 652e 6d61 7463 6828 5041 5454 4552 4e53  e.match(PATTERNS
-00016ff0: 5b27 496e 7075 744c 6162 656c 5827 5d2c  ['InputLabelX'],
-00017000: 2073 656e 736f 725f 6669 6c65 6e61 6d65   sensor_filename
-00017010: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00017020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017030: 2020 2020 2020 2069 6620 6e6f 7420 4755         if not GU
-00017040: 545f 434f 4e53 542e 6e6f 5f6d 6172 6b75  T_CONST.no_marku
-00017050: 703a 2063 6f6c 6f72 203d 2073 656c 662e  p: color = self.
-00017060: 6d61 726b 5f75 705f 636f 6465 735b 2767  mark_up_codes['g
-00017070: 7265 656e 275d 0a20 2020 2020 2020 2020  reen'].         
-00017080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017090: 2020 2020 2020 2020 2020 2064 6573 6372             descr
-000170a0: 6970 7469 6f6e 203d 2027 496e 7075 742f  iption = 'Input/
-000170b0: 4c61 6265 6c20 5061 6972 270a 2020 2020  Label Pair'.    
-000170c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000170d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000170e0: 7265 7475 726e 2073 656e 736f 725f 6b65  return sensor_ke
-000170f0: 792c 2027 7b7d 7b7d 7b7d 272e 666f 726d  y, '{}{}{}'.form
-00017100: 6174 2863 6f6c 6f72 2c20 6465 7363 7269  at(color, descri
-00017110: 7074 696f 6e2c 2063 6f6c 6f72 5f72 6573  ption, color_res
-00017120: 6574 290a 2020 2020 2020 2020 2020 2020  et).            
-00017130: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00017140: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017150: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00017160: 2066 696c 656e 616d 6520 696e 2073 656e   filename in sen
-00017170: 736f 725f 6669 6c65 733a 0a20 2020 2020  sor_files:.     
-00017180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017190: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-000171a0: 6e73 6f72 5f6b 6579 2069 6e20 7365 6c66  nsor_key in self
-000171b0: 2e5f 4750 555f 5061 7261 6d5f 4c61 6265  ._GPU_Param_Labe
-000171c0: 6c73 3a0a 2020 2020 2020 2020 2020 2020  ls:.            
-000171d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000171e0: 2020 2020 2020 2020 6966 206e 6f74 2047          if not G
-000171f0: 5554 5f43 4f4e 5354 2e6e 6f5f 6d61 726b  UT_CONST.no_mark
-00017200: 7570 3a20 636f 6c6f 7220 3d20 7365 6c66  up: color = self
-00017210: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
-00017220: 6772 6565 6e27 5d0a 2020 2020 2020 2020  green'].        
-00017230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017240: 2020 2020 2020 2020 2020 2020 6465 7363              desc
-00017250: 7269 7074 696f 6e20 3d20 7365 6c66 2e5f  ription = self._
-00017260: 4750 555f 5061 7261 6d5f 4c61 6265 6c73  GPU_Param_Labels
-00017270: 5b73 656e 736f 725f 6b65 795d 0a20 2020  [sensor_key].   
-00017280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000172a0: 2072 6574 7572 6e20 7365 6e73 6f72 5f6b   return sensor_k
-000172b0: 6579 2c20 277b 7d7b 7d7b 7d27 2e66 6f72  ey, '{}{}{}'.for
-000172c0: 6d61 7428 636f 6c6f 722c 2064 6573 6372  mat(color, descr
-000172d0: 6970 7469 6f6e 2e73 7472 6970 2829 2c20  iption.strip(), 
-000172e0: 636f 6c6f 725f 7265 7365 7429 0a20 2020  color_reset).   
-000172f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017300: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00017310: 6e6f 7420 4755 545f 434f 4e53 542e 6e6f  not GUT_CONST.no
-00017320: 5f6d 6172 6b75 703a 2063 6f6c 6f72 203d  _markup: color =
-00017330: 2073 656c 662e 6d61 726b 5f75 705f 636f   self.mark_up_co
-00017340: 6465 735b 2779 656c 6c6f 7727 5d0a 2020  des['yellow'].  
-00017350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017360: 2020 2020 2020 2020 2020 2020 2020 6465                de
-00017370: 7363 7269 7074 696f 6e20 3d20 277b 7d49  scription = '{}I
-00017380: 676e 6f72 6564 2062 7920 6770 752d 7574  gnored by gpu-ut
-00017390: 696c 737b 7d27 2e66 6f72 6d61 7428 636f  ils{}'.format(co
-000173a0: 6c6f 722c 2063 6f6c 6f72 5f72 6573 6574  lor, color_reset
-000173b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000173c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173d0: 2020 7265 7475 726e 2073 656e 736f 725f    return sensor_
-000173e0: 6b65 792c 2064 6573 6372 6970 7469 6f6e  key, description
-000173f0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00017400: 4755 545f 434f 4e53 542e 6e6f 5f6d 6172  GUT_CONST.no_mar
-00017410: 6b75 703a 2063 6f6c 6f72 203d 2073 656c  kup: color = sel
-00017420: 662e 6d61 726b 5f75 705f 636f 6465 735b  f.mark_up_codes[
-00017430: 2779 656c 6c6f 7727 5d0a 2020 2020 2020  'yellow'].      
-00017440: 2020 7265 7475 726e 2027 4e6f 6e65 272c    return 'None',
-00017450: 2027 7b7d 4e6f 7420 6465 6669 6e65 6420   '{}Not defined 
-00017460: 696e 2067 7075 2d75 7469 6c73 7b7d 272e  in gpu-utils{}'.
-00017470: 666f 726d 6174 2863 6f6c 6f72 2c20 636f  format(color, co
-00017480: 6c6f 725f 7265 7365 7429 0a0a 2020 2020  lor_reset)..    
-00017490: 6465 6620 7072 696e 745f 7261 7728 7365  def print_raw(se
-000174a0: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
-000174b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000174c0: 2046 6f72 6d61 7474 6564 2070 7269 6e74   Formatted print
-000174d0: 206f 6620 7261 7720 7265 6164 206f 6620   of raw read of 
-000174e0: 616c 6c20 6176 6169 6c61 626c 6520 4750  all available GP
-000174f0: 5520 6472 6976 6572 2066 696c 6573 2e0a  U driver files..
-00017500: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00017510: 2020 2020 636f 6c6f 7220 3d20 7365 6c66      color = self
-00017520: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
-00017530: 6e6f 6e65 275d 2069 6620 4755 545f 434f  none'] if GUT_CO
-00017540: 4e53 542e 6e6f 5f6d 6172 6b75 7020 656c  NST.no_markup el
-00017550: 7365 2073 656c 662e 6d61 726b 5f75 705f  se self.mark_up_
-00017560: 636f 6465 735b 2764 6174 6127 5d0a 2020  codes['data'].  
-00017570: 2020 2020 2020 6c61 6265 6c5f 636f 6c6f        label_colo
-00017580: 7220 3d20 7365 6c66 2e6d 6172 6b5f 7570  r = self.mark_up
-00017590: 5f63 6f64 6573 5b27 6e6f 6e65 275d 2069  _codes['none'] i
-000175a0: 6620 4755 545f 434f 4e53 542e 6e6f 5f6d  f GUT_CONST.no_m
-000175b0: 6172 6b75 7020 656c 7365 2073 656c 662e  arkup else self.
-000175c0: 6d61 726b 5f75 705f 636f 6465 735b 276c  mark_up_codes['l
-000175d0: 6162 656c 275d 0a20 2020 2020 2020 2063  abel'].        c
-000175e0: 6f6c 6f72 5f72 6573 6574 203d 2073 656c  olor_reset = sel
-000175f0: 662e 6d61 726b 5f75 705f 636f 6465 735b  f.mark_up_codes[
-00017600: 276e 6f6e 6527 5d20 6966 2047 5554 5f43  'none'] if GUT_C
-00017610: 4f4e 5354 2e6e 6f5f 6d61 726b 7570 2065  ONST.no_markup e
-00017620: 6c73 6520 7365 6c66 2e6d 6172 6b5f 7570  lse self.mark_up
-00017630: 5f63 6f64 6573 5b27 7265 7365 7427 5d0a  _codes['reset'].
-00017640: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
-00017650: 6e74 2873 686f 7274 3d54 7275 6529 0a20  nt(short=True). 
-00017660: 2020 2020 2020 2070 7269 6e74 2827 7b7d         print('{}
-00017670: 2052 6177 2044 6976 6572 2046 696c 6520   Raw Diver File 
-00017680: 4461 7461 207b 7d27 2e66 6f72 6d61 7428  Data {}'.format(
-00017690: 2723 272e 6c6a 7573 7428 332c 2027 2327  '#'.ljust(3, '#'
-000176a0: 292c 2027 2327 2e6c 6a75 7374 2832 362c  ), '#'.ljust(26,
-000176b0: 2027 2327 2929 290a 2020 2020 2020 2020   '#'))).        
-000176c0: 666f 7220 7365 6e73 6f72 5f74 7970 652c  for sensor_type,
-000176d0: 2073 656e 736f 7273 2069 6e20 7365 6c66   sensors in self
-000176e0: 2e72 6177 2e69 7465 6d73 2829 3a0a 2020  .raw.items():.  
-000176f0: 2020 2020 2020 2020 2020 6c61 6265 6c5f            label_
-00017700: 6c65 6e67 7468 203d 206c 656e 2873 656e  length = len(sen
-00017710: 736f 725f 7479 7065 2920 2b20 3220 2b20  sor_type) + 2 + 
-00017720: 330a 2020 2020 2020 2020 2020 2020 7072  3.            pr
-00017730: 696e 7428 277b 7d7b 7d20 7b7d 207b 7d7b  int('{}{} {} {}{
-00017740: 7d27 2e66 6f72 6d61 7428 2723 272e 6c6a  }'.format('#'.lj
-00017750: 7573 7428 332c 2027 2327 292c 206c 6162  ust(3, '#'), lab
-00017760: 656c 5f63 6f6c 6f72 2c20 7365 6e73 6f72  el_color, sensor
-00017770: 5f74 7970 652c 2063 6f6c 6f72 5f72 6573  _type, color_res
-00017780: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+00015bb0: 2020 2020 2020 2020 2020 2763 6c69 6e66            'clinf
+00015bc0: 6f27 3a20 7b27 6675 6e63 273a 204e 6f6e  o': {'func': Non
+00015bd0: 652c 2027 6e61 6d65 273a 2027 434c 494e  e, 'name': 'CLIN
+00015be0: 464f 277d 2c0a 2020 2020 2020 2020 2020  FO'},.          
+00015bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015c00: 2020 2020 2020 2020 2027 7073 7461 7465           'pstate
+00015c10: 273a 207b 2766 756e 6327 3a20 4e6f 6e65  ': {'func': None
+00015c20: 2c20 276e 616d 6527 3a20 2750 2d53 7461  , 'name': 'P-Sta
+00015c30: 7465 277d 2c0a 2020 2020 2020 2020 2020  te'},.          
+00015c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015c50: 2020 2020 2020 2020 2027 7070 6d27 3a20           'ppm': 
+00015c60: 7b27 6675 6e63 273a 2073 656c 662e 7265  {'func': self.re
+00015c70: 6164 5f67 7075 5f70 706d 5f74 6162 6c65  ad_gpu_ppm_table
+00015c80: 2c20 276e 616d 6527 3a20 2750 504d 277d  , 'name': 'PPM'}
+00015c90: 7d0a 2020 2020 2020 2020 6966 2070 6172  }.        if par
+00015ca0: 616d 5f6e 616d 6520 6e6f 7420 696e 2070  am_name not in p
+00015cb0: 6172 616d 5f74 6162 6c65 5f64 6566 696e  aram_table_defin
+00015cc0: 6974 696f 6e73 3a20 7265 7475 726e 0a0a  itions: return..
+00015cd0: 2020 2020 2020 2020 7072 6520 3d20 2720          pre = ' 
+00015ce0: 2020 270a 2020 2020 2020 2020 636f 6c6f    '.        colo
+00015cf0: 7220 3d20 7365 6c66 2e6d 6172 6b5f 7570  r = self.mark_up
+00015d00: 5f63 6f64 6573 5b27 6e6f 6e65 275d 2069  _codes['none'] i
+00015d10: 6620 4755 545f 434f 4e53 542e 6e6f 5f6d  f GUT_CONST.no_m
+00015d20: 6172 6b75 7020 656c 7365 2073 656c 662e  arkup else self.
+00015d30: 6d61 726b 5f75 705f 636f 6465 735b 2764  mark_up_codes['d
+00015d40: 6174 6127 5d0a 2020 2020 2020 2020 636f  ata'].        co
+00015d50: 6c6f 725f 7265 7365 7420 3d20 7365 6c66  lor_reset = self
+00015d60: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
+00015d70: 6e6f 6e65 275d 2069 6620 4755 545f 434f  none'] if GUT_CO
+00015d80: 4e53 542e 6e6f 5f6d 6172 6b75 7020 656c  NST.no_markup el
+00015d90: 7365 2073 656c 662e 6d61 726b 5f75 705f  se self.mark_up_
+00015da0: 636f 6465 735b 2772 6573 6574 275d 0a0a  codes['reset']..
+00015db0: 2020 2020 2020 2020 7061 7261 6d5f 6465          param_de
+00015dc0: 7461 696c 7320 3d20 7061 7261 6d5f 7461  tails = param_ta
+00015dd0: 626c 655f 6465 6669 6e69 7469 6f6e 735b  ble_definitions[
+00015de0: 7061 7261 6d5f 6e61 6d65 5d0a 2020 2020  param_name].    
+00015df0: 2020 2020 7265 6164 5f64 6174 6120 3d20      read_data = 
+00015e00: 7061 7261 6d5f 6465 7461 696c 735b 2766  param_details['f
+00015e10: 756e 6327 5d28 7265 7475 726e 5f64 6174  unc'](return_dat
+00015e20: 613d 5472 7565 2920 6966 2070 6172 616d  a=True) if param
+00015e30: 5f64 6574 6169 6c73 5b27 6675 6e63 275d  _details['func']
+00015e40: 2065 6c73 6520 4e6f 6e65 0a0a 2020 2020   else None..    
+00015e50: 2020 2020 6966 2073 686f 7274 3a20 7365      if short: se
+00015e60: 6c66 2e70 7269 6e74 2873 686f 7274 3d54  lf.print(short=T
+00015e70: 7275 652c 206e 6577 6c69 6e65 3d46 616c  rue, newline=Fal
+00015e80: 7365 290a 2020 2020 2020 2020 7469 746c  se).        titl
+00015e90: 655f 7374 7220 3d20 277b 7d20 7b7d 2054  e_str = '{} {} T
+00015ea0: 6162 6c65 2044 6174 6120 272e 666f 726d  able Data '.form
+00015eb0: 6174 2827 2327 2e6c 6a75 7374 2833 2c20  at('#'.ljust(3, 
+00015ec0: 2723 2729 2c20 7061 7261 6d5f 6465 7461  '#'), param_deta
+00015ed0: 696c 735b 276e 616d 6527 5d29 0a20 2020  ils['name']).   
+00015ee0: 2020 2020 2070 7269 6e74 2827 7b7d 7b7d       print('{}{}
+00015ef0: 7b7d 272e 666f 726d 6174 2870 7265 2c20  {}'.format(pre, 
+00015f00: 7469 746c 655f 7374 722c 2027 2327 2e6c  title_str, '#'.l
+00015f10: 6a75 7374 2835 3020 2d20 6c65 6e28 7469  just(50 - len(ti
+00015f20: 746c 655f 7374 7229 2c20 2723 2729 2929  tle_str), '#')))
+00015f30: 0a20 2020 2020 2020 2069 6620 7061 7261  .        if para
+00015f40: 6d5f 6e61 6d65 203d 3d20 2763 6c69 6e66  m_name == 'clinf
+00015f50: 6f27 3a0a 2020 2020 2020 2020 2020 2020  o':.            
+00015f60: 6974 656d 5f63 6f75 6e74 203d 2030 0a20  item_count = 0. 
+00015f70: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00015f80: 6c66 2e70 726d 2e63 6f6d 7075 7465 3a0a  lf.prm.compute:.
+00015f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015fa0: 666f 7220 6f63 6c5f 7061 7261 6d5f 6e61  for ocl_param_na
+00015fb0: 6d65 2c20 6f63 6c5f 7061 7261 6d5f 6c61  me, ocl_param_la
+00015fc0: 6265 6c20 696e 2073 656c 662e 5f47 5055  bel in self._GPU
+00015fd0: 5f43 4c49 4e46 4f5f 4c61 6265 6c73 2e69  _CLINFO_Labels.i
+00015fe0: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
+00015ff0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00016000: 656c 662e 6765 745f 636c 696e 666f 5f76  elf.get_clinfo_v
+00016010: 616c 7565 286f 636c 5f70 6172 616d 5f6e  alue(ocl_param_n
+00016020: 616d 6529 3a0a 2020 2020 2020 2020 2020  ame):.          
+00016030: 2020 2020 2020 2020 2020 2020 2020 6974                it
+00016040: 656d 5f63 6f75 6e74 202b 3d20 310a 2020  em_count += 1.  
+00016050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016060: 2020 2020 2020 7072 696e 7428 277b 7d3a        print('{}:
+00016070: 207b 7d7b 7d7b 7d27 2e66 6f72 6d61 7428   {}{}{}'.format(
+00016080: 6f63 6c5f 7061 7261 6d5f 6c61 6265 6c2c  ocl_param_label,
+00016090: 2063 6f6c 6f72 2c0a 2020 2020 2020 2020   color,.        
+000160a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000160b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000160c0: 2020 2020 2020 2020 2020 7365 6c66 2e67            self.g
+000160d0: 6574 5f63 6c69 6e66 6f5f 7661 6c75 6528  et_clinfo_value(
+000160e0: 6f63 6c5f 7061 7261 6d5f 6e61 6d65 292c  ocl_param_name),
+000160f0: 2063 6f6c 6f72 5f72 6573 6574 2929 0a20   color_reset)). 
+00016100: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00016110: 7420 6974 656d 5f63 6f75 6e74 3a0a 2020  t item_count:.  
+00016120: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00016130: 696e 7428 277b 7d7b 7d4e 6f20 7b7d 2044  int('{}{}No {} D
+00016140: 6174 6120 4176 6169 6c61 626c 657b 7d27  ata Available{}'
+00016150: 2e66 6f72 6d61 7428 7072 652c 2063 6f6c  .format(pre, col
+00016160: 6f72 2c20 7061 7261 6d5f 6465 7461 696c  or, param_detail
+00016170: 735b 276e 616d 6527 5d2c 2063 6f6c 6f72  s['name'], color
+00016180: 5f72 6573 6574 2929 0a20 2020 2020 2020  _reset)).       
+00016190: 2020 2020 2072 6574 7572 6e0a 2020 2020       return.    
+000161a0: 2020 2020 6966 2070 6172 616d 5f6e 616d      if param_nam
+000161b0: 6520 3d3d 2027 7073 7461 7465 273a 0a20  e == 'pstate':. 
+000161c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000161d0: 7265 6164 5f67 7075 5f70 7374 6174 6573  read_gpu_pstates
+000161e0: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+000161f0: 656c 662e 7072 696e 745f 7073 7461 7465  elf.print_pstate
+00016200: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+00016210: 7265 7475 726e 0a20 2020 2020 2020 2069  return.        i
+00016220: 6620 7265 6164 5f64 6174 613a 0a20 2020  f read_data:.   
+00016230: 2020 2020 2020 2020 2066 6f72 206c 696e           for lin
+00016240: 6520 696e 2072 6561 645f 6461 7461 2e73  e in read_data.s
+00016250: 706c 6974 2827 5c6e 2729 3a0a 2020 2020  plit('\n'):.    
+00016260: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00016270: 696e 652e 7374 7269 7028 275c 6e27 293a  ine.strip('\n'):
+00016280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016290: 2020 2020 2070 7269 6e74 2827 7b7d 7b7d       print('{}{}
+000162a0: 7b7d 7b7d 272e 666f 726d 6174 2870 7265  {}{}'.format(pre
+000162b0: 2c20 636f 6c6f 722c 206c 696e 652e 7374  , color, line.st
+000162c0: 7269 7028 275c 6e27 292c 2063 6f6c 6f72  rip('\n'), color
+000162d0: 5f72 6573 6574 2929 0a20 2020 2020 2020  _reset)).       
+000162e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000162f0: 2020 2070 7269 6e74 2827 7b7d 7b7d 4e6f     print('{}{}No
+00016300: 207b 7d20 4461 7461 2041 7661 696c 6162   {} Data Availab
+00016310: 6c65 7b7d 272e 666f 726d 6174 2870 7265  le{}'.format(pre
+00016320: 2c20 636f 6c6f 722c 2070 6172 616d 5f64  , color, param_d
+00016330: 6574 6169 6c73 5b27 6e61 6d65 275d 2c20  etails['name'], 
+00016340: 636f 6c6f 725f 7265 7365 7429 290a 0a20  color_reset)).. 
+00016350: 2020 2064 6566 2070 7269 6e74 5f70 7374     def print_pst
+00016360: 6174 6573 2873 656c 6629 202d 3e20 4e6f  ates(self) -> No
+00016370: 6e65 3a0a 2020 2020 2020 2020 2222 2220  ne:.        """ 
+00016380: 5072 696e 7420 6875 6d61 6e20 6672 6965  Print human frie
+00016390: 6e64 6c79 2074 6162 6c65 206f 6620 702d  ndly table of p-
+000163a0: 7374 6174 6573 2e0a 2020 2020 2020 2020  states..        
+000163b0: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
+000163c0: 6f74 2073 656c 662e 6973 5f61 6d64 5f72  ot self.is_amd_r
+000163d0: 6561 6461 626c 6528 293a 2072 6574 7572  eadable(): retur
+000163e0: 6e0a 0a20 2020 2020 2020 2069 6e66 6f5f  n..        info_
+000163f0: 7072 696e 7465 6420 3d20 4661 6c73 650a  printed = False.
+00016400: 2020 2020 2020 2020 636f 6c6f 7220 3d20          color = 
+00016410: 7365 6c66 2e6d 6172 6b5f 7570 5f63 6f64  self.mark_up_cod
+00016420: 6573 5b27 6e6f 6e65 275d 2069 6620 4755  es['none'] if GU
+00016430: 545f 434f 4e53 542e 6e6f 5f6d 6172 6b75  T_CONST.no_marku
+00016440: 7020 656c 7365 2073 656c 662e 6d61 726b  p else self.mark
+00016450: 5f75 705f 636f 6465 735b 2764 6174 6127  _up_codes['data'
+00016460: 5d0a 2020 2020 2020 2020 6163 7469 7665  ].        active
+00016470: 5f63 6f6c 6f72 203d 2073 656c 662e 6d61  _color = self.ma
+00016480: 726b 5f75 705f 636f 6465 735b 276e 6f6e  rk_up_codes['non
+00016490: 6527 5d20 6966 2047 5554 5f43 4f4e 5354  e'] if GUT_CONST
+000164a0: 2e6e 6f5f 6d61 726b 7570 2065 6c73 6520  .no_markup else 
+000164b0: 7365 6c66 2e6d 6172 6b5f 7570 5f63 6f64  self.mark_up_cod
+000164c0: 6573 5b27 6772 6565 6e27 5d0a 2020 2020  es['green'].    
+000164d0: 2020 2020 636f 6c6f 725f 7265 7365 7420      color_reset 
+000164e0: 3d20 7365 6c66 2e6d 6172 6b5f 7570 5f63  = self.mark_up_c
+000164f0: 6f64 6573 5b27 6e6f 6e65 275d 2069 6620  odes['none'] if 
+00016500: 4755 545f 434f 4e53 542e 6e6f 5f6d 6172  GUT_CONST.no_mar
+00016510: 6b75 7020 656c 7365 2073 656c 662e 6d61  kup else self.ma
+00016520: 726b 5f75 705f 636f 6465 735b 2772 6573  rk_up_codes['res
+00016530: 6574 275d 0a20 2020 2020 2020 2070 7265  et'].        pre
+00016540: 203d 2027 2020 2027 0a20 2020 2020 2020   = '   '.       
+00016550: 2023 2044 504d 2053 7461 7465 730a 2020   # DPM States.  
+00016560: 2020 2020 2020 6966 2073 656c 662e 7061        if self.pa
+00016570: 7261 6d5f 6973 5f61 6374 6976 6528 2770  ram_is_active('p
+00016580: 705f 6f64 5f63 6c6b 5f76 6f6c 7461 6765  p_od_clk_voltage
+00016590: 2729 3a0a 2020 2020 2020 2020 2020 2020  '):.            
+000165a0: 696e 666f 5f70 7269 6e74 6564 203d 2054  info_printed = T
+000165b0: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+000165c0: 6966 2073 656c 662e 7072 6d2e 6770 755f  if self.prm.gpu_
+000165d0: 7479 7065 203d 3d20 4770 7554 7970 652e  type == GpuType.
+000165e0: 4375 7276 6550 7473 3a0a 2020 2020 2020  CurvePts:.      
+000165f0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00016600: 277b 7d7b 7d7b 7d27 2e66 6f72 6d61 7428  '{}{}{}'.format(
+00016610: 7072 652c 2027 272c 2027 2327 2e6c 6a75  pre, '', '#'.lju
+00016620: 7374 2835 302c 2027 2327 2929 290a 2020  st(50, '#'))).  
+00016630: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00016640: 696e 7428 277b 7d44 504d 2053 7461 7465  int('{}DPM State
+00016650: 733a 272e 666f 726d 6174 2870 7265 2929  s:'.format(pre))
+00016660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016670: 2070 7269 6e74 2827 7b7d 5343 4c4b 3a20   print('{}SCLK: 
+00016680: 7b3a 3c31 377d 204d 434c 4b3a 7b7d 272e  {:<17} MCLK:{}'.
+00016690: 666f 726d 6174 2870 7265 2c20 2720 272c  format(pre, ' ',
+000166a0: 2063 6f6c 6f72 2929 0a20 2020 2020 2020   color)).       
+000166b0: 2020 2020 2020 2020 2066 6f72 2070 735f           for ps_
+000166c0: 6e75 6d2c 2070 735f 6672 6571 2069 6e20  num, ps_freq in 
+000166d0: 7365 6c66 2e73 636c 6b5f 6470 6d5f 7374  self.sclk_dpm_st
+000166e0: 6174 652e 6974 656d 7328 293a 0a20 2020  ate.items():.   
+000166f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016700: 2070 7269 6e74 2827 7b7d 207b 3a3e 317d   print('{} {:>1}
+00016710: 3a20 207b 3a3c 387d 2020 2020 2020 2020  :  {:<8}        
+00016720: 2020 2020 272e 666f 726d 6174 2870 7265      '.format(pre
+00016730: 2c20 7073 5f6e 756d 2c20 7073 5f66 7265  , ps_num, ps_fre
+00016740: 7129 2c20 656e 643d 2727 290a 2020 2020  q), end='').    
+00016750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016760: 6966 2070 735f 6e75 6d20 696e 2073 656c  if ps_num in sel
+00016770: 662e 6d63 6c6b 5f64 706d 5f73 7461 7465  f.mclk_dpm_state
+00016780: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00016790: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+000167a0: 277b 3a33 3e7d 3a20 207b 3a3c 387d 272e  '{:3>}:  {:<8}'.
+000167b0: 666f 726d 6174 2870 735f 6e75 6d2c 2073  format(ps_num, s
+000167c0: 656c 662e 6d63 6c6b 5f64 706d 5f73 7461  elf.mclk_dpm_sta
+000167d0: 7465 5b70 735f 6e75 6d5d 2929 0a20 2020  te[ps_num])).   
+000167e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000167f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00016800: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00016810: 7269 6e74 2827 2729 0a0a 2020 2020 2020  rint('')..      
+00016820: 2020 2020 2020 2320 7070 5f6f 645f 636c        # pp_od_cl
+00016830: 6b5f 766f 6c74 6167 6520 7374 6174 6573  k_voltage states
+00016840: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00016850: 6e74 2827 7b7d 7b7d 7b7d 7b7d 272e 666f  nt('{}{}{}{}'.fo
+00016860: 726d 6174 2870 7265 2c20 636f 6c6f 725f  rmat(pre, color_
+00016870: 7265 7365 742c 2027 272c 2027 2327 2e6c  reset, '', '#'.l
+00016880: 6a75 7374 2835 302c 2027 2327 2929 290a  just(50, '#'))).
+00016890: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+000168a0: 7428 277b 7d50 5020 4f44 2053 7461 7465  t('{}PP OD State
+000168b0: 733a 272e 666f 726d 6174 2870 7265 2929  s:'.format(pre))
+000168c0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+000168d0: 6e74 2827 7b7d 5343 4c4b 3a20 7b3a 3c31  nt('{}SCLK: {:<1
+000168e0: 377d 204d 434c 4b3a 7b7d 272e 666f 726d  7} MCLK:{}'.form
+000168f0: 6174 2870 7265 2c20 2720 272c 2063 6f6c  at(pre, ' ', col
+00016900: 6f72 2929 0a20 2020 2020 2020 2020 2020  or)).           
+00016910: 2066 6f72 2070 735f 6e75 6d2c 2070 735f   for ps_num, ps_
+00016920: 7661 6c73 2069 6e20 7365 6c66 2e73 636c  vals in self.scl
+00016930: 6b5f 7374 6174 652e 6974 656d 7328 293a  k_state.items():
+00016940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016950: 2070 7269 6e74 2827 7b7d 207b 3a3e 317d   print('{} {:>1}
+00016960: 3a20 207b 3a3c 387d 2020 7b3a 3c38 7d20  :  {:<8}  {:<8} 
+00016970: 2027 2e66 6f72 6d61 7428 7072 652c 2070   '.format(pre, p
+00016980: 735f 6e75 6d2c 2070 735f 7661 6c73 5b30  s_num, ps_vals[0
+00016990: 5d2c 2070 735f 7661 6c73 5b31 5d29 2c20  ], ps_vals[1]), 
+000169a0: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
+000169b0: 2020 2020 2020 2020 6966 2070 735f 6e75          if ps_nu
+000169c0: 6d20 696e 2073 656c 662e 6d63 6c6b 5f73  m in self.mclk_s
+000169d0: 7461 7465 3a0a 2020 2020 2020 2020 2020  tate:.          
+000169e0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+000169f0: 277b 3a33 3e7d 3a20 207b 3a3c 387d 2020  '{:3>}:  {:<8}  
+00016a00: 7b3a 3c38 7d27 2e66 6f72 6d61 7428 7073  {:<8}'.format(ps
+00016a10: 5f6e 756d 2c20 7365 6c66 2e6d 636c 6b5f  _num, self.mclk_
+00016a20: 7374 6174 655b 7073 5f6e 756d 5d5b 305d  state[ps_num][0]
+00016a30: 2c20 7365 6c66 2e6d 636c 6b5f 7374 6174  , self.mclk_stat
+00016a40: 655b 7073 5f6e 756d 5d5b 315d 2929 0a20  e[ps_num][1])). 
+00016a50: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00016a60: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00016a70: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
+00016a80: 2729 0a20 2020 2020 2020 2020 2020 2069  ').            i
+00016a90: 6620 7365 6c66 2e70 726d 2e67 7075 5f74  f self.prm.gpu_t
+00016aa0: 7970 6520 3d3d 2047 7075 5479 7065 2e43  ype == GpuType.C
+00016ab0: 7572 7665 5074 733a 0a20 2020 2020 2020  urvePts:.       
+00016ac0: 2020 2020 2020 2020 2023 2043 7572 7665           # Curve
+00016ad0: 2070 6f69 6e74 730a 2020 2020 2020 2020   points.        
+00016ae0: 2020 2020 2020 2020 7072 696e 7428 277b          print('{
+00016af0: 7d7b 7d7b 7d7b 7d27 2e66 6f72 6d61 7428  }{}{}{}'.format(
+00016b00: 7072 652c 2063 6f6c 6f72 5f72 6573 6574  pre, color_reset
+00016b10: 2c20 2727 2c20 2723 272e 6c6a 7573 7428  , '', '#'.ljust(
+00016b20: 3530 2c20 2723 2729 2929 0a20 2020 2020  50, '#'))).     
+00016b30: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00016b40: 2827 7b7d 5644 4443 5f43 5552 5645 3a7b  ('{}VDDC_CURVE:{
+00016b50: 7d27 2e66 6f72 6d61 7428 7072 652c 2063  }'.format(pre, c
+00016b60: 6f6c 6f72 2929 0a20 2020 2020 2020 2020  olor)).         
+00016b70: 2020 2020 2020 2066 6f72 2076 635f 696e         for vc_in
+00016b80: 6465 782c 2076 635f 7661 6c73 2069 6e20  dex, vc_vals in 
+00016b90: 7365 6c66 2e76 6464 635f 6375 7276 652e  self.vddc_curve.
+00016ba0: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
+00016bb0: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+00016bc0: 6e74 2827 7b7d 207b 7d3a 207b 7d27 2e66  nt('{} {}: {}'.f
+00016bd0: 6f72 6d61 7428 7072 652c 2076 635f 696e  ormat(pre, vc_in
+00016be0: 6465 782c 2076 635f 7661 6c73 2929 0a20  dex, vc_vals)). 
+00016bf0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00016c00: 2827 7b7d 272e 666f 726d 6174 2863 6f6c  ('{}'.format(col
+00016c10: 6f72 5f72 6573 6574 292c 2065 6e64 3d27  or_reset), end='
+00016c20: 2729 0a20 2020 2020 2020 2069 6620 7365  ').        if se
+00016c30: 6c66 2e61 6c6c 5f70 7374 6174 6573 3a0a  lf.all_pstates:.
+00016c40: 2020 2020 2020 2020 2020 2020 2320 636c              # cl
+00016c50: 6f63 6b5f 6e61 6d65 3a20 7b70 735f 6e75  ock_name: {ps_nu
+00016c60: 6d3a 207b 2776 616c 7565 273a 2070 735f  m: {'value': ps_
+00016c70: 7661 6c2c 2027 7374 6174 6527 3a20 7073  val, 'state': ps
+00016c80: 5f73 7473 7d7d 0a20 2020 2020 2020 2020  _sts}}.         
+00016c90: 2020 2069 6e66 6f5f 7072 696e 7465 6420     info_printed 
+00016ca0: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
+00016cb0: 2020 2070 7269 6e74 2827 7b7d 7b7d 7b7d     print('{}{}{}
+00016cc0: 7b7d 272e 666f 726d 6174 2870 7265 2c20  {}'.format(pre, 
+00016cd0: 636f 6c6f 725f 7265 7365 742c 2027 272c  color_reset, '',
+00016ce0: 2027 2327 2e6c 6a75 7374 2835 302c 2027   '#'.ljust(50, '
+00016cf0: 2327 2929 290a 2020 2020 2020 2020 2020  #'))).          
+00016d00: 2020 7072 696e 7428 277b 7d41 6c6c 2050    print('{}All P
+00016d10: 7374 6174 6573 3a27 2e66 6f72 6d61 7428  states:'.format(
+00016d20: 7072 6529 290a 2020 2020 2020 2020 2020  pre)).          
+00016d30: 2020 666f 7220 636c 6f63 6b5f 6e61 6d65    for clock_name
+00016d40: 2c20 7073 7461 7465 7320 696e 2073 656c  , pstates in sel
+00016d50: 662e 616c 6c5f 7073 7461 7465 732e 6974  f.all_pstates.it
+00016d60: 656d 7328 293a 0a20 2020 2020 2020 2020  ems():.         
+00016d70: 2020 2020 2020 2070 7269 6e74 2827 7b7d         print('{}
+00016d80: 7b7d 3a7b 7d27 2e66 6f72 6d61 7428 7072  {}:{}'.format(pr
+00016d90: 652c 2063 6c6f 636b 5f6e 616d 652c 2063  e, clock_name, c
+00016da0: 6f6c 6f72 2929 0a20 2020 2020 2020 2020  olor)).         
+00016db0: 2020 2020 2020 2066 6f72 2069 2c20 2870         for i, (p
+00016dc0: 732c 2070 735f 6461 7461 2920 696e 2065  s, ps_data) in e
+00016dd0: 6e75 6d65 7261 7465 2870 7374 6174 6573  numerate(pstates
+00016de0: 2e69 7465 6d73 2829 293a 0a20 2020 2020  .items()):.     
+00016df0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00016e00: 7572 5f63 6f6c 6f72 203d 2061 6374 6976  ur_color = activ
+00016e10: 655f 636f 6c6f 7220 6966 2070 735f 6461  e_color if ps_da
+00016e20: 7461 5b27 7374 6174 6527 5d20 656c 7365  ta['state'] else
+00016e30: 2063 6f6c 6f72 0a20 2020 2020 2020 2020   color.         
+00016e40: 2020 2020 2020 2020 2020 2066 7265 7120             freq 
+00016e50: 3d20 272a 2720 2b20 7073 5f64 6174 615b  = '*' + ps_data[
+00016e60: 2776 616c 7565 275d 2069 6620 4755 545f  'value'] if GUT_
+00016e70: 434f 4e53 542e 6e6f 5f6d 6172 6b75 7020  CONST.no_markup 
+00016e80: 616e 6420 7073 5f64 6174 615b 2773 7461  and ps_data['sta
+00016e90: 7465 275d 2065 6c73 6520 7073 5f64 6174  te'] else ps_dat
+00016ea0: 615b 2776 616c 7565 275d 0a20 2020 2020  a['value'].     
+00016eb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00016ec0: 6620 6e6f 7420 693a 2070 7269 6e74 2827  f not i: print('
+00016ed0: 7b7d 7b7d 7b7d 7b7d 3a20 7b7d 7b7d 272e  {}{}{}{}: {}{}'.
+00016ee0: 666f 726d 6174 2870 7265 2c20 7072 652c  format(pre, pre,
+00016ef0: 2063 7572 5f63 6f6c 6f72 2c20 7073 2c20   cur_color, ps, 
+00016f00: 6672 6571 2c20 636f 6c6f 7229 2c20 656e  freq, color), en
+00016f10: 643d 2727 290a 2020 2020 2020 2020 2020  d='').          
+00016f20: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
+00016f30: 7072 696e 7428 272c 207b 7d7b 7d3a 207b  print(', {}{}: {
+00016f40: 7d7b 7d27 2e66 6f72 6d61 7428 6375 725f  }{}'.format(cur_
+00016f50: 636f 6c6f 722c 2070 732c 2066 7265 712c  color, ps, freq,
+00016f60: 2063 6f6c 6f72 292c 2065 6e64 3d27 2729   color), end='')
+00016f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016f80: 2070 7269 6e74 2827 7b7d 272e 666f 726d   print('{}'.form
+00016f90: 6174 2863 6f6c 6f72 5f72 6573 6574 2929  at(color_reset))
+00016fa0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00016fb0: 6e74 2827 7b7d 272e 666f 726d 6174 2863  nt('{}'.format(c
+00016fc0: 6f6c 6f72 5f72 6573 6574 292c 2065 6e64  olor_reset), end
+00016fd0: 3d27 2729 0a20 2020 2020 2020 2069 6620  ='').        if 
+00016fe0: 6e6f 7420 696e 666f 5f70 7269 6e74 6564  not info_printed
+00016ff0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
+00017000: 696e 7428 277b 7d7b 7d4e 6f20 502d 5374  int('{}{}No P-St
+00017010: 6174 6520 4461 7461 2041 7661 696c 6162  ate Data Availab
+00017020: 6c65 7b7d 272e 666f 726d 6174 2870 7265  le{}'.format(pre
+00017030: 2c20 636f 6c6f 722c 2063 6f6c 6f72 5f72  , color, color_r
+00017040: 6573 6574 2929 0a0a 2020 2020 6465 6620  eset))..    def 
+00017050: 6765 745f 6b65 795f 6465 7363 7269 7074  get_key_descript
+00017060: 696f 6e28 7365 6c66 2c20 6669 6c65 6e61  ion(self, filena
+00017070: 6d65 3a20 7374 7229 202d 3e20 5475 706c  me: str) -> Tupl
+00017080: 655b 7374 722c 2073 7472 5d3a 0a20 2020  e[str, str]:.   
+00017090: 2020 2020 2022 2222 2055 7365 6420 696e       """ Used in
+000170a0: 2074 6865 2070 7269 6e74 696e 6720 6f66   the printing of
+000170b0: 2072 6177 2072 6561 6469 6e67 206f 6620   raw reading of 
+000170c0: 4750 552e 2020 4974 2061 6464 7320 6465  GPU.  It adds de
+000170d0: 7461 696c 7320 6162 6f75 7420 6b65 7920  tails about key 
+000170e0: 776f 7264 2061 6e64 2064 6573 6372 6970  word and descrip
+000170f0: 7469 6f6e 730a 2020 2020 2020 2020 2020  tions.          
+00017100: 2020 666f 7220 6669 6c65 2066 6f75 6e64    for file found
+00017110: 2069 6e20 6472 6976 6572 2072 656c 6174   in driver relat
+00017120: 6564 2070 6174 6873 2e0a 0a20 2020 2020  ed paths...     
+00017130: 2020 203a 7061 7261 6d20 6669 6c65 6e61     :param filena
+00017140: 6d65 3a20 4e61 6d65 206f 6620 6472 6976  me: Name of driv
+00017150: 6572 2066 696c 652e 0a20 2020 2020 2020  er file..       
+00017160: 203a 7265 7475 726e 3a20 5475 706c 6520   :return: Tuple 
+00017170: 6f66 2074 6865 206b 6579 2061 6e64 2064  of the key and d
+00017180: 6573 6372 6970 7469 6f6e 2061 7320 636f  escription as co
+00017190: 6c6f 7220 616e 6e6f 7461 7465 6420 7374  lor annotated st
+000171a0: 7269 6e67 732e 0a20 2020 2020 2020 2022  rings..        "
+000171b0: 2222 0a20 2020 2020 2020 2061 6374 6976  "".        activ
+000171c0: 655f 636f 6c6f 7220 3d20 636f 6c6f 7220  e_color = color 
+000171d0: 3d20 7365 6c66 2e6d 6172 6b5f 7570 5f63  = self.mark_up_c
+000171e0: 6f64 6573 5b27 6e6f 6e65 275d 0a20 2020  odes['none'].   
+000171f0: 2020 2020 2063 6f6c 6f72 5f72 6573 6574       color_reset
+00017200: 203d 2073 656c 662e 6d61 726b 5f75 705f   = self.mark_up_
+00017210: 636f 6465 735b 276e 6f6e 6527 5d20 6966  codes['none'] if
+00017220: 2047 5554 5f43 4f4e 5354 2e6e 6f5f 6d61   GUT_CONST.no_ma
+00017230: 726b 7570 2065 6c73 6520 7365 6c66 2e6d  rkup else self.m
+00017240: 6172 6b5f 7570 5f63 6f64 6573 5b27 7265  ark_up_codes['re
+00017250: 7365 7427 5d0a 2020 2020 2020 2020 6966  set'].        if
+00017260: 206e 6f74 2047 5554 5f43 4f4e 5354 2e6e   not GUT_CONST.n
+00017270: 6f5f 6d61 726b 7570 3a20 6163 7469 7665  o_markup: active
+00017280: 5f63 6f6c 6f72 203d 2073 656c 662e 6d61  _color = self.ma
+00017290: 726b 5f75 705f 636f 6465 735b 2767 7265  rk_up_codes['gre
+000172a0: 656e 275d 0a20 2020 2020 2020 2069 6620  en'].        if 
+000172b0: 6669 6c65 6e61 6d65 203d 3d20 2770 705f  filename == 'pp_
+000172c0: 6f64 5f63 6c6b 5f76 6f6c 7461 6765 273a  od_clk_voltage':
+000172d0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000172e0: 7572 6e20 2770 705f 6f64 5f63 6c6b 5f76  urn 'pp_od_clk_v
+000172f0: 6f6c 7461 6765 272c 2027 7b7d 7265 6164  oltage', '{}read
+00017300: 2f77 7269 7465 2064 7269 7665 7220 6669  /write driver fi
+00017310: 6c65 7b7d 272e 666f 726d 6174 2861 6374  le{}'.format(act
+00017320: 6976 655f 636f 6c6f 722c 2063 6f6c 6f72  ive_color, color
+00017330: 5f72 6573 6574 290a 2020 2020 2020 2020  _reset).        
+00017340: 666f 7220 7365 6e73 6f72 5f64 6963 7420  for sensor_dict 
+00017350: 696e 2073 656c 662e 5f73 656e 736f 725f  in self._sensor_
+00017360: 6465 7461 696c 732e 7661 6c75 6573 2829  details.values()
+00017370: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
+00017380: 7220 7365 6e73 6f72 5f74 7970 655f 6469  r sensor_type_di
+00017390: 6374 2069 6e20 7365 6e73 6f72 5f64 6963  ct in sensor_dic
+000173a0: 742e 7661 6c75 6573 2829 3a0a 2020 2020  t.values():.    
+000173b0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+000173c0: 2873 656e 736f 725f 6b65 792c 2073 656e  (sensor_key, sen
+000173d0: 736f 725f 6b65 795f 6469 6374 2920 696e  sor_key_dict) in
+000173e0: 2073 656e 736f 725f 7479 7065 5f64 6963   sensor_type_dic
+000173f0: 742e 6974 656d 7328 293a 0a20 2020 2020  t.items():.     
+00017400: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00017410: 6f72 2073 656e 736f 725f 6669 6c65 7320  or sensor_files 
+00017420: 696e 2073 656e 736f 725f 6b65 795f 6469  in sensor_key_di
+00017430: 6374 5b27 7365 6e73 6f72 275d 3a0a 2020  ct['sensor']:.  
+00017440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017450: 2020 2020 2020 6966 2072 652e 6d61 7463        if re.matc
+00017460: 6828 5041 5454 4552 4e53 5b50 4b2e 496e  h(PATTERNS[PK.In
+00017470: 7075 744c 6162 656c 585d 2c20 6669 6c65  putLabelX], file
+00017480: 6e61 6d65 293a 0a20 2020 2020 2020 2020  name):.         
+00017490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174a0: 2020 2066 6f72 2073 656e 736f 725f 6669     for sensor_fi
+000174b0: 6c65 6e61 6d65 2069 6e20 7365 6e73 6f72  lename in sensor
+000174c0: 5f66 696c 6573 3a0a 2020 2020 2020 2020  _files:.        
+000174d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174e0: 2020 2020 2020 2020 6966 2072 652e 6d61          if re.ma
+000174f0: 7463 6828 5041 5454 4552 4e53 5b50 4b2e  tch(PATTERNS[PK.
+00017500: 496e 7075 744c 6162 656c 585d 2c20 7365  InputLabelX], se
+00017510: 6e73 6f72 5f66 696c 656e 616d 6529 3a0a  nsor_filename):.
+00017520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017540: 2020 2020 6966 206e 6f74 2047 5554 5f43      if not GUT_C
+00017550: 4f4e 5354 2e6e 6f5f 6d61 726b 7570 3a20  ONST.no_markup: 
+00017560: 636f 6c6f 7220 3d20 7365 6c66 2e6d 6172  color = self.mar
+00017570: 6b5f 7570 5f63 6f64 6573 5b27 6772 6565  k_up_codes['gree
+00017580: 6e27 5d0a 2020 2020 2020 2020 2020 2020  n'].            
+00017590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000175a0: 2020 2020 2020 2020 6465 7363 7269 7074          descript
+000175b0: 696f 6e20 3d20 2749 6e70 7574 2f4c 6162  ion = 'Input/Lab
+000175c0: 656c 2050 6169 7227 0a20 2020 2020 2020  el Pair'.       
+000175d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000175e0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+000175f0: 7572 6e20 7365 6e73 6f72 5f6b 6579 2c20  urn sensor_key, 
+00017600: 277b 7d7b 7d7b 7d27 2e66 6f72 6d61 7428  '{}{}{}'.format(
+00017610: 636f 6c6f 722c 2064 6573 6372 6970 7469  color, descripti
+00017620: 6f6e 2c20 636f 6c6f 725f 7265 7365 7429  on, color_reset)
+00017630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017640: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00017650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017660: 2020 2020 2020 2020 2020 2069 6620 6669             if fi
+00017670: 6c65 6e61 6d65 2069 6e20 7365 6e73 6f72  lename in sensor
+00017680: 5f66 696c 6573 3a0a 2020 2020 2020 2020  _files:.        
+00017690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000176a0: 2020 2020 2020 2020 6966 2073 656e 736f          if senso
+000176b0: 725f 6b65 7920 696e 2073 656c 662e 5f47  r_key in self._G
+000176c0: 5055 5f50 6172 616d 5f4c 6162 656c 733a  PU_Param_Labels:
+000176d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000176e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000176f0: 2020 2020 2069 6620 6e6f 7420 4755 545f       if not GUT_
+00017700: 434f 4e53 542e 6e6f 5f6d 6172 6b75 703a  CONST.no_markup:
+00017710: 2063 6f6c 6f72 203d 2073 656c 662e 6d61   color = self.ma
+00017720: 726b 5f75 705f 636f 6465 735b 2767 7265  rk_up_codes['gre
+00017730: 656e 275d 0a20 2020 2020 2020 2020 2020  en'].           
+00017740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017750: 2020 2020 2020 2020 2064 6573 6372 6970           descrip
+00017760: 7469 6f6e 203d 2073 656c 662e 5f47 5055  tion = self._GPU
+00017770: 5f50 6172 616d 5f4c 6162 656c 735b 7365  _Param_Labels[se
+00017780: 6e73 6f72 5f6b 6579 5d0a 2020 2020 2020  nsor_key].      
 00017790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177a0: 2020 2020 2020 2020 2020 2020 2723 272e              '#'.
-000177b0: 6c6a 7573 7428 3530 202d 206c 6162 656c  ljust(50 - label
-000177c0: 5f6c 656e 6774 682c 2027 2327 2929 290a  _length, '#'))).
-000177d0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000177e0: 6e61 6d65 2c20 7661 6c75 6520 696e 2073  name, value in s
-000177f0: 656e 736f 7273 2e69 7465 6d73 2829 3a0a  ensors.items():.
+000177a0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+000177b0: 7475 726e 2073 656e 736f 725f 6b65 792c  turn sensor_key,
+000177c0: 2027 7b7d 7b7d 7b7d 272e 666f 726d 6174   '{}{}{}'.format
+000177d0: 2863 6f6c 6f72 2c20 6465 7363 7269 7074  (color, descript
+000177e0: 696f 6e2e 7374 7269 7028 292c 2063 6f6c  ion.strip(), col
+000177f0: 6f72 5f72 6573 6574 290a 2020 2020 2020  or_reset).      
 00017800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017810: 2873 656e 736f 725f 6b65 792c 2064 6573  (sensor_key, des
-00017820: 6372 6970 7469 6f6e 2920 3d20 7365 6c66  cription) = self
-00017830: 2e67 6574 5f6b 6579 5f64 6573 6372 6970  .get_key_descrip
-00017840: 7469 6f6e 286e 616d 6529 0a20 2020 2020  tion(name).     
-00017850: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00017860: 2827 2323 2320 4669 6c65 3a20 7b7d 2c20  ('### File: {}, 
-00017870: 5365 6e73 6f72 4b65 793a 207b 7d2c 204c  SensorKey: {}, L
-00017880: 6162 656c 3a20 7b7d 272e 666f 726d 6174  abel: {}'.format
-00017890: 286e 616d 652c 2073 656e 736f 725f 6b65  (name, sensor_ke
-000178a0: 792c 2064 6573 6372 6970 7469 6f6e 2929  y, description))
-000178b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000178c0: 2066 6f72 206c 696e 6520 696e 2076 616c   for line in val
-000178d0: 7565 2e73 706c 6974 2827 5c6e 2729 3a0a  ue.split('\n'):.
-000178e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000178f0: 2020 2020 7072 696e 7428 277b 7d20 2020      print('{}   
-00017900: 207b 7d7b 7d27 2e66 6f72 6d61 7428 636f   {}{}'.format(co
-00017910: 6c6f 722c 206c 696e 652c 2063 6f6c 6f72  lor, line, color
-00017920: 5f72 6573 6574 2929 0a20 2020 2020 2020  _reset)).       
-00017930: 2070 7269 6e74 2827 7b7d 5c6e 272e 666f   print('{}\n'.fo
-00017940: 726d 6174 2827 2327 2e6c 6a75 7374 2835  rmat('#'.ljust(5
-00017950: 302c 2027 2327 2929 290a 0a20 2020 2064  0, '#')))..    d
-00017960: 6566 2070 7269 6e74 2873 656c 662c 2073  ef print(self, s
-00017970: 686f 7274 3a20 626f 6f6c 203d 2046 616c  hort: bool = Fal
-00017980: 7365 2c20 6e65 776c 696e 653a 2062 6f6f  se, newline: boo
-00017990: 6c20 3d20 5472 7565 2920 2d3e 204e 6f6e  l = True) -> Non
-000179a0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-000179b0: 2020 2020 2020 2044 6973 706c 6179 206c         Display l
-000179c0: 7320 6c69 6b65 206c 6973 7469 6e67 2066  s like listing f
-000179d0: 756e 6374 696f 6e20 666f 7220 4750 5520  unction for GPU 
-000179e0: 7061 7261 6d65 7465 7273 2e0a 0a20 2020  parameters...   
-000179f0: 2020 2020 203a 7061 7261 6d20 7368 6f72       :param shor
-00017a00: 743a 2020 4469 7370 6c61 7920 7368 6f72  t:  Display shor
-00017a10: 7420 6c69 7374 696e 670a 2020 2020 2020  t listing.      
-00017a20: 2020 3a70 6172 616d 206e 6577 6c69 6e65    :param newline
-00017a30: 3a20 2044 6973 706c 6179 2074 6572 6d69  :  Display termi
-00017a40: 6e61 7469 6e67 206e 6577 6c69 6e65 2069  nating newline i
-00017a50: 6620 5472 7565 0a20 2020 2020 2020 2022  f True.        "
-00017a60: 2222 0a20 2020 2020 2020 2063 6f6c 6f72  "".        color
-00017a70: 5f72 6573 6574 3a20 7374 7220 3d20 2727  _reset: str = ''
-00017a80: 0a20 2020 2020 2020 2066 6f72 2070 6172  .        for par
-00017a90: 616d 5f6e 616d 652c 2070 6172 616d 5f6c  am_name, param_l
-00017aa0: 6162 656c 2069 6e20 7365 6c66 2e5f 4750  abel in self._GP
-00017ab0: 555f 5061 7261 6d5f 4c61 6265 6c73 2e69  U_Param_Labels.i
-00017ac0: 7465 6d73 2829 3a0a 2020 2020 2020 2020  tems():.        
-00017ad0: 2020 2020 6966 2073 686f 7274 2061 6e64      if short and
-00017ae0: 2070 6172 616d 5f6e 616d 6520 6e6f 7420   param_name not 
-00017af0: 696e 2073 656c 662e 7368 6f72 745f 6c69  in self.short_li
-00017b00: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-00017b10: 2020 2020 636f 6e74 696e 7565 0a0a 2020      continue..  
-00017b20: 2020 2020 2020 2020 2020 2320 4861 7264            # Hard
-00017b30: 206c 696d 6974 7320 6f6e 2077 6861 7420   limits on what 
-00017b40: 7479 7065 732f 7665 6e64 6f72 7320 6361  types/vendors ca
-00017b50: 6e20 7072 696e 7420 7768 6174 2070 6172  n print what par
-00017b60: 616d 730a 2020 2020 2020 2020 2020 2020  ams.            
-00017b70: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00017b80: 2020 2020 2069 6620 7061 7261 6d5f 6e61       if param_na
-00017b90: 6d65 2069 6e20 4770 7549 7465 6d2e 7665  me in GpuItem.ve
-00017ba0: 6e64 6f72 5f73 6b69 705f 6c69 7374 735b  ndor_skip_lists[
-00017bb0: 7365 6c66 2e70 726d 2e76 656e 646f 725d  self.prm.vendor]
-00017bc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017bd0: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-00017be0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00017bf0: 7420 4b65 7945 7272 6f72 3a0a 2020 2020  t KeyError:.    
-00017c00: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-00017c10: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00017c20: 7365 6c66 2e70 726d 2e67 7075 5f74 7970  self.prm.gpu_typ
-00017c30: 6520 696e 2028 4770 7554 7970 652e 4c65  e in (GpuType.Le
-00017c40: 6761 6379 4150 552c 2047 7075 5479 7065  gacyAPU, GpuType
-00017c50: 2e41 5055 293a 0a20 2020 2020 2020 2020  .APU):.         
-00017c60: 2020 2020 2020 2069 6620 7061 7261 6d5f         if param_
-00017c70: 6e61 6d65 2069 6e20 7365 6c66 2e5f 6661  name in self._fa
-00017c80: 6e5f 6974 656d 5f6c 6973 743a 0a20 2020  n_item_list:.   
+00017810: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00017820: 2047 5554 5f43 4f4e 5354 2e6e 6f5f 6d61   GUT_CONST.no_ma
+00017830: 726b 7570 3a20 636f 6c6f 7220 3d20 7365  rkup: color = se
+00017840: 6c66 2e6d 6172 6b5f 7570 5f63 6f64 6573  lf.mark_up_codes
+00017850: 5b27 7965 6c6c 6f77 275d 0a20 2020 2020  ['yellow'].     
+00017860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017870: 2020 2020 2020 2020 2020 2064 6573 6372             descr
+00017880: 6970 7469 6f6e 203d 2027 7b7d 4967 6e6f  iption = '{}Igno
+00017890: 7265 6420 6279 2067 7075 2d75 7469 6c73  red by gpu-utils
+000178a0: 7b7d 272e 666f 726d 6174 2863 6f6c 6f72  {}'.format(color
+000178b0: 2c20 636f 6c6f 725f 7265 7365 7429 0a20  , color_reset). 
+000178c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000178d0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000178e0: 6574 7572 6e20 7365 6e73 6f72 5f6b 6579  eturn sensor_key
+000178f0: 2c20 6465 7363 7269 7074 696f 6e0a 2020  , description.  
+00017900: 2020 2020 2020 6966 206e 6f74 2047 5554        if not GUT
+00017910: 5f43 4f4e 5354 2e6e 6f5f 6d61 726b 7570  _CONST.no_markup
+00017920: 3a20 636f 6c6f 7220 3d20 7365 6c66 2e6d  : color = self.m
+00017930: 6172 6b5f 7570 5f63 6f64 6573 5b27 7965  ark_up_codes['ye
+00017940: 6c6c 6f77 275d 0a20 2020 2020 2020 2072  llow'].        r
+00017950: 6574 7572 6e20 274e 6f6e 6527 2c20 277b  eturn 'None', '{
+00017960: 7d4e 6f74 2064 6566 696e 6564 2069 6e20  }Not defined in 
+00017970: 6770 752d 7574 696c 737b 7d27 2e66 6f72  gpu-utils{}'.for
+00017980: 6d61 7428 636f 6c6f 722c 2063 6f6c 6f72  mat(color, color
+00017990: 5f72 6573 6574 290a 0a20 2020 2064 6566  _reset)..    def
+000179a0: 2070 7269 6e74 5f72 6177 2873 656c 6629   print_raw(self)
+000179b0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+000179c0: 2020 2222 2220 466f 726d 6174 7465 6420    """ Formatted 
+000179d0: 7072 696e 7420 6f66 2072 6177 2072 6561  print of raw rea
+000179e0: 6420 6f66 2061 6c6c 2061 7661 696c 6162  d of all availab
+000179f0: 6c65 2047 5055 2064 7269 7665 7220 6669  le GPU driver fi
+00017a00: 6c65 732e 0a20 2020 2020 2020 2022 2222  les..        """
+00017a10: 0a20 2020 2020 2020 2063 6f6c 6f72 203d  .        color =
+00017a20: 2073 656c 662e 6d61 726b 5f75 705f 636f   self.mark_up_co
+00017a30: 6465 735b 276e 6f6e 6527 5d20 6966 2047  des['none'] if G
+00017a40: 5554 5f43 4f4e 5354 2e6e 6f5f 6d61 726b  UT_CONST.no_mark
+00017a50: 7570 2065 6c73 6520 7365 6c66 2e6d 6172  up else self.mar
+00017a60: 6b5f 7570 5f63 6f64 6573 5b27 6461 7461  k_up_codes['data
+00017a70: 275d 0a20 2020 2020 2020 206c 6162 656c  '].        label
+00017a80: 5f63 6f6c 6f72 203d 2073 656c 662e 6d61  _color = self.ma
+00017a90: 726b 5f75 705f 636f 6465 735b 276e 6f6e  rk_up_codes['non
+00017aa0: 6527 5d20 6966 2047 5554 5f43 4f4e 5354  e'] if GUT_CONST
+00017ab0: 2e6e 6f5f 6d61 726b 7570 2065 6c73 6520  .no_markup else 
+00017ac0: 7365 6c66 2e6d 6172 6b5f 7570 5f63 6f64  self.mark_up_cod
+00017ad0: 6573 5b27 6c61 6265 6c27 5d0a 2020 2020  es['label'].    
+00017ae0: 2020 2020 636f 6c6f 725f 7265 7365 7420      color_reset 
+00017af0: 3d20 7365 6c66 2e6d 6172 6b5f 7570 5f63  = self.mark_up_c
+00017b00: 6f64 6573 5b27 6e6f 6e65 275d 2069 6620  odes['none'] if 
+00017b10: 4755 545f 434f 4e53 542e 6e6f 5f6d 6172  GUT_CONST.no_mar
+00017b20: 6b75 7020 656c 7365 2073 656c 662e 6d61  kup else self.ma
+00017b30: 726b 5f75 705f 636f 6465 735b 2772 6573  rk_up_codes['res
+00017b40: 6574 275d 0a20 2020 2020 2020 2073 656c  et'].        sel
+00017b50: 662e 7072 696e 7428 7368 6f72 743d 5472  f.print(short=Tr
+00017b60: 7565 290a 2020 2020 2020 2020 7072 696e  ue).        prin
+00017b70: 7428 277b 7d20 5261 7720 4469 7665 7220  t('{} Raw Diver 
+00017b80: 4669 6c65 2044 6174 6120 7b7d 272e 666f  File Data {}'.fo
+00017b90: 726d 6174 2827 2327 2e6c 6a75 7374 2833  rmat('#'.ljust(3
+00017ba0: 2c20 2723 2729 2c20 2723 272e 6c6a 7573  , '#'), '#'.ljus
+00017bb0: 7428 3236 2c20 2723 2729 2929 0a20 2020  t(26, '#'))).   
+00017bc0: 2020 2020 2066 6f72 2073 656e 736f 725f       for sensor_
+00017bd0: 7479 7065 2c20 7365 6e73 6f72 7320 696e  type, sensors in
+00017be0: 2073 656c 662e 7261 772e 6974 656d 7328   self.raw.items(
+00017bf0: 293a 0a20 2020 2020 2020 2020 2020 206c  ):.            l
+00017c00: 6162 656c 5f6c 656e 6774 6820 3d20 6c65  abel_length = le
+00017c10: 6e28 7365 6e73 6f72 5f74 7970 6529 202b  n(sensor_type) +
+00017c20: 2032 202b 2033 0a20 2020 2020 2020 2020   2 + 3.         
+00017c30: 2020 2070 7269 6e74 2827 7b7d 7b7d 207b     print('{}{} {
+00017c40: 7d20 7b7d 7b7d 272e 666f 726d 6174 2827  } {}{}'.format('
+00017c50: 2327 2e6c 6a75 7374 2833 2c20 2723 2729  #'.ljust(3, '#')
+00017c60: 2c20 6c61 6265 6c5f 636f 6c6f 722c 2073  , label_color, s
+00017c70: 656e 736f 725f 7479 7065 2c20 636f 6c6f  ensor_type, colo
+00017c80: 725f 7265 7365 742c 0a20 2020 2020 2020  r_reset,.       
 00017c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ca0: 2063 6f6e 7469 6e75 650a 0a20 2020 2020   continue..     
-00017cb0: 2020 2020 2020 2023 2053 6974 7561 7469         # Situati
-00017cc0: 6f6e 7320 7768 6572 6520 7061 7261 6d65  ons where parame
-00017cd0: 7465 7220 6c69 6d69 7473 2063 616e 2062  ter limits can b
-00017ce0: 6520 6f76 6572 7269 6464 656e 2062 7920  e overridden by 
-00017cf0: 666f 7263 655f 616c 6c0a 2020 2020 2020  force_all.      
-00017d00: 2020 2020 2020 6966 206e 6f74 2047 5554        if not GUT
-00017d10: 5f43 4f4e 5354 2e66 6f72 6365 5f61 6c6c  _CONST.force_all
-00017d20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017d30: 2020 6966 2070 6172 616d 5f6e 616d 6520    if param_name 
-00017d40: 696e 2047 7075 4974 656d 2e61 6d64 5f74  in GpuItem.amd_t
-00017d50: 7970 655f 736b 6970 5f6c 6973 7473 5b73  ype_skip_lists[s
-00017d60: 656c 662e 7072 6d2e 6770 755f 7479 7065  elf.prm.gpu_type
-00017d70: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00017d80: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-00017d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017da0: 6966 206e 6f74 2073 656c 662e 7072 6d2e  if not self.prm.
-00017db0: 7265 6164 6162 6c65 2061 6e64 2070 6172  readable and par
-00017dc0: 616d 5f6e 616d 6520 6e6f 7420 696e 2073  am_name not in s
-00017dd0: 656c 662e 4750 555f 4e43 5f50 6172 616d  elf.GPU_NC_Param
-00017de0: 5f4c 6973 743a 0a20 2020 2020 2020 2020  _List:.         
-00017df0: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-00017e00: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-00017e10: 2020 2020 6966 206e 6f74 2073 656c 662e      if not self.
-00017e20: 7061 7261 6d5f 6973 5f61 6374 6976 6528  param_is_active(
-00017e30: 7061 7261 6d5f 6e61 6d65 293a 0a20 2020  param_name):.   
-00017e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017e50: 2063 6f6e 7469 6e75 650a 0a20 2020 2020   continue..     
-00017e60: 2020 2020 2020 2063 6f6c 6f72 203d 2073         color = s
-00017e70: 656c 662e 6d61 726b 5f75 705f 636f 6465  elf.mark_up_code
-00017e80: 735b 276e 6f6e 6527 5d0a 2020 2020 2020  s['none'].      
-00017e90: 2020 2020 2020 636f 6c6f 725f 7265 7365        color_rese
-00017ea0: 7420 3d20 7365 6c66 2e6d 6172 6b5f 7570  t = self.mark_up
-00017eb0: 5f63 6f64 6573 5b27 6e6f 6e65 275d 2069  _codes['none'] i
-00017ec0: 6620 4755 545f 434f 4e53 542e 6e6f 5f6d  f GUT_CONST.no_m
-00017ed0: 6172 6b75 7020 656c 7365 2073 656c 662e  arkup else self.
-00017ee0: 6d61 726b 5f75 705f 636f 6465 735b 2772  mark_up_codes['r
-00017ef0: 6573 6574 275d 0a20 2020 2020 2020 2020  eset'].         
-00017f00: 2020 2070 7265 203d 2027 2720 6966 2070     pre = '' if p
-00017f10: 6172 616d 5f6e 616d 6520 3d3d 2027 6361  aram_name == 'ca
-00017f20: 7264 5f6e 756d 2720 656c 7365 2027 2020  rd_num' else '  
-00017f30: 2027 0a20 2020 2020 2020 2020 2020 2069   '.            i
-00017f40: 6620 7265 2e73 6561 7263 6828 7227 7365  f re.search(r'se
-00017f50: 705c 6427 2c20 7061 7261 6d5f 6e61 6d65  p\d', param_name
-00017f60: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00017f70: 2020 2070 7269 6e74 2827 7b7d 7b7d 272e     print('{}{}'.
-00017f80: 666f 726d 6174 2870 7265 2c20 7061 7261  format(pre, para
-00017f90: 6d5f 6c61 6265 6c2e 6c6a 7573 7428 3530  m_label.ljust(50
-00017fa0: 2c20 7061 7261 6d5f 6c61 6265 6c29 2929  , param_label)))
-00017fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017fc0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
-00017fd0: 2020 2020 2020 6966 2070 6172 616d 5f6e        if param_n
-00017fe0: 616d 6520 3d3d 2027 756e 6971 7565 5f69  ame == 'unique_i
-00017ff0: 6427 3a0a 2020 2020 2020 2020 2020 2020  d':.            
-00018000: 2020 2020 6966 2073 656c 662e 7072 6d2e      if self.prm.
-00018010: 756e 6971 7565 5f69 6420 6973 204e 6f6e  unique_id is Non
-00018020: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00018030: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-00018040: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-00018050: 7369 6e73 7461 6e63 6528 7365 6c66 2e67  sinstance(self.g
-00018060: 6574 5f70 6172 616d 735f 7661 6c75 6528  et_params_value(
-00018070: 7061 7261 6d5f 6e61 6d65 292c 2066 6c6f  param_name), flo
-00018080: 6174 293a 0a20 2020 2020 2020 2020 2020  at):.           
-00018090: 2020 2020 2069 6620 6e6f 7420 4755 545f       if not GUT_
-000180a0: 434f 4e53 542e 6e6f 5f6d 6172 6b75 703a  CONST.no_markup:
-000180b0: 2063 6f6c 6f72 203d 2073 656c 662e 6d61   color = self.ma
-000180c0: 726b 5f75 705f 636f 6465 735b 2764 6174  rk_up_codes['dat
-000180d0: 6127 5d0a 2020 2020 2020 2020 2020 2020  a'].            
-000180e0: 2020 2020 7072 696e 7428 277b 7d7b 7d3a      print('{}{}:
-000180f0: 207b 7d7b 3a2e 3366 7d7b 7d27 2e66 6f72   {}{:.3f}{}'.for
-00018100: 6d61 7428 7072 652c 2070 6172 616d 5f6c  mat(pre, param_l
-00018110: 6162 656c 2c20 636f 6c6f 722c 0a20 2020  abel, color,.   
-00018120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018140: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00018150: 662e 6765 745f 7061 7261 6d73 5f76 616c  f.get_params_val
-00018160: 7565 2870 6172 616d 5f6e 616d 6529 2c20  ue(param_name), 
-00018170: 636f 6c6f 725f 7265 7365 7429 290a 2020  color_reset)).  
-00018180: 2020 2020 2020 2020 2020 656c 6966 2069            elif i
-00018190: 7369 6e73 7461 6e63 6528 7365 6c66 2e67  sinstance(self.g
-000181a0: 6574 5f70 6172 616d 735f 7661 6c75 6528  et_params_value(
-000181b0: 7061 7261 6d5f 6e61 6d65 292c 2064 6963  param_name), dic
-000181c0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-000181d0: 2020 2020 6966 206e 6f74 2047 5554 5f43      if not GUT_C
-000181e0: 4f4e 5354 2e6e 6f5f 6d61 726b 7570 3a20  ONST.no_markup: 
-000181f0: 636f 6c6f 7220 3d20 7365 6c66 2e6d 6172  color = self.mar
-00018200: 6b5f 7570 5f63 6f64 6573 5b27 6461 7461  k_up_codes['data
-00018210: 275d 0a20 2020 2020 2020 2020 2020 2020  '].             
-00018220: 2020 2070 6172 616d 5f64 6963 7420 3d20     param_dict = 
-00018230: 7365 6c66 2e67 6574 5f70 6172 616d 735f  self.get_params_
-00018240: 7661 6c75 6528 7061 7261 6d5f 6e61 6d65  value(param_name
-00018250: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00018260: 2020 7072 696e 7428 277b 7d7b 7d3a 207b    print('{}{}: {
-00018270: 7d7b 7d7b 7d27 2e66 6f72 6d61 7428 7072  }{}{}'.format(pr
-00018280: 652c 2070 6172 616d 5f6c 6162 656c 2c20  e, param_label, 
-00018290: 636f 6c6f 722c 0a20 2020 2020 2020 2020  color,.         
-000182a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182c0: 2020 207b 6b65 793a 2070 6172 616d 5f64     {key: param_d
-000182d0: 6963 745b 6b65 795d 2066 6f72 206b 6579  ict[key] for key
-000182e0: 2069 6e20 736f 7274 6564 2870 6172 616d   in sorted(param
-000182f0: 5f64 6963 7429 7d2c 2063 6f6c 6f72 5f72  _dict)}, color_r
-00018300: 6573 6574 2929 0a20 2020 2020 2020 2020  eset)).         
-00018310: 2020 2065 6c69 6620 7061 7261 6d5f 6e61     elif param_na
-00018320: 6d65 203d 3d20 2776 656e 646f 7227 3a0a  me == 'vendor':.
-00018330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018340: 7665 6e64 6f72 203d 2073 656c 662e 6765  vendor = self.ge
-00018350: 745f 7061 7261 6d73 5f76 616c 7565 2870  t_params_value(p
-00018360: 6172 616d 5f6e 616d 6529 0a20 2020 2020  aram_name).     
-00018370: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-00018380: 7420 4755 545f 434f 4e53 542e 6e6f 5f6d  t GUT_CONST.no_m
-00018390: 6172 6b75 703a 0a20 2020 2020 2020 2020  arkup:.         
-000183a0: 2020 2020 2020 2020 2020 2069 6620 7665             if ve
-000183b0: 6e64 6f72 2e6e 616d 6520 3d3d 2027 414d  ndor.name == 'AM
-000183c0: 4427 3a20 636f 6c6f 7220 3d20 7365 6c66  D': color = self
-000183d0: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b27  .mark_up_codes['
-000183e0: 616d 6427 5d0a 2020 2020 2020 2020 2020  amd'].          
-000183f0: 2020 2020 2020 2020 2020 656c 6966 2076            elif v
-00018400: 656e 646f 722e 6e61 6d65 203d 3d20 274e  endor.name == 'N
-00018410: 5649 4449 4127 3a20 636f 6c6f 7220 3d20  VIDIA': color = 
-00018420: 7365 6c66 2e6d 6172 6b5f 7570 5f63 6f64  self.mark_up_cod
-00018430: 6573 5b27 6e76 6964 6961 275d 0a20 2020  es['nvidia'].   
-00018440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018450: 2065 6c69 6620 7665 6e64 6f72 2e6e 616d   elif vendor.nam
-00018460: 6520 3d3d 2027 494e 5445 4c27 3a20 636f  e == 'INTEL': co
-00018470: 6c6f 7220 3d20 7365 6c66 2e6d 6172 6b5f  lor = self.mark_
-00018480: 7570 5f63 6f64 6573 5b27 696e 7465 6c27  up_codes['intel'
-00018490: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-000184a0: 2020 2020 2020 656c 7365 3a20 636f 6c6f        else: colo
-000184b0: 7220 3d20 7365 6c66 2e6d 6172 6b5f 7570  r = self.mark_up
-000184c0: 5f63 6f64 6573 5b27 6f74 6865 7227 5d0a  _codes['other'].
-000184d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000184e0: 7072 696e 7428 277b 7d7b 7d3a 207b 7d20  print('{}{}: {} 
-000184f0: 7b7d 207b 7d27 2e66 6f72 6d61 7428 7072  {} {}'.format(pr
-00018500: 652c 2070 6172 616d 5f6c 6162 656c 2c20  e, param_label, 
-00018510: 636f 6c6f 722c 2076 656e 646f 722c 2063  color, vendor, c
-00018520: 6f6c 6f72 5f72 6573 6574 2929 0a20 2020  olor_reset)).   
-00018530: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
-00018540: 6c66 2e67 6574 5f70 6172 616d 735f 7661  lf.get_params_va
-00018550: 6c75 6528 7061 7261 6d5f 6e61 6d65 2920  lue(param_name) 
-00018560: 3d3d 2027 273a 0a20 2020 2020 2020 2020  == '':.         
-00018570: 2020 2020 2020 2069 6620 6e6f 7420 4755         if not GU
-00018580: 545f 434f 4e53 542e 6e6f 5f6d 6172 6b75  T_CONST.no_marku
-00018590: 703a 2063 6f6c 6f72 203d 2073 656c 662e  p: color = self.
-000185a0: 6d61 726b 5f75 705f 636f 6465 735b 2764  mark_up_codes['d
-000185b0: 6174 6127 5d0a 2020 2020 2020 2020 2020  ata'].          
-000185c0: 2020 2020 2020 7072 696e 7428 277b 7d7b        print('{}{
-000185d0: 7d3a 207b 7d7b 7d7b 7d27 2e66 6f72 6d61  }: {}{}{}'.forma
-000185e0: 7428 7072 652c 2070 6172 616d 5f6c 6162  t(pre, param_lab
-000185f0: 656c 2c20 636f 6c6f 722c 204e 6f6e 652c  el, color, None,
-00018600: 2063 6f6c 6f72 5f72 6573 6574 2929 0a20   color_reset)). 
-00018610: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00018620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018630: 2069 6620 6e6f 7420 4755 545f 434f 4e53   if not GUT_CONS
-00018640: 542e 6e6f 5f6d 6172 6b75 703a 2063 6f6c  T.no_markup: col
-00018650: 6f72 203d 2073 656c 662e 6d61 726b 5f75  or = self.mark_u
-00018660: 705f 636f 6465 735b 2764 6174 6127 5d0a  p_codes['data'].
-00018670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018680: 7072 696e 7428 277b 7d7b 7d3a 207b 7d7b  print('{}{}: {}{
-00018690: 7d7b 7d27 2e66 6f72 6d61 7428 7072 652c  }{}'.format(pre,
-000186a0: 2070 6172 616d 5f6c 6162 656c 2c20 636f   param_label, co
-000186b0: 6c6f 722c 2073 656c 662e 6765 745f 7061  lor, self.get_pa
-000186c0: 7261 6d73 5f76 616c 7565 2870 6172 616d  rams_value(param
-000186d0: 5f6e 616d 6529 2c20 636f 6c6f 725f 7265  _name), color_re
-000186e0: 7365 7429 290a 2020 2020 2020 2020 7365  set)).        se
-000186f0: 6c66 2e70 7269 6e74 5f64 6973 6162 6c65  lf.print_disable
-00018700: 645f 7061 7261 6d73 2829 0a20 2020 2020  d_params().     
-00018710: 2020 2070 7269 6e74 2827 7b7d 272e 666f     print('{}'.fo
-00018720: 726d 6174 2863 6f6c 6f72 5f72 6573 6574  rmat(color_reset
-00018730: 292c 2065 6e64 3d27 2729 0a20 2020 2020  ), end='').     
-00018740: 2020 2069 6620 6e65 776c 696e 653a 2070     if newline: p
-00018750: 7269 6e74 2827 2729 0a0a 2020 2020 6465  rint('')..    de
-00018760: 6620 6765 745f 706c 6f74 5f64 6174 6128  f get_plot_data(
-00018770: 7365 6c66 2920 2d3e 2064 6963 743a 0a20  self) -> dict:. 
-00018780: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00018790: 2020 2052 6574 7572 6e20 6120 6469 6374     Return a dict
-000187a0: 696f 6e61 7279 206f 6620 6479 6e61 6d69  ionary of dynami
-000187b0: 6320 6770 7520 7061 7261 6d65 7465 7273  c gpu parameters
-000187c0: 2075 7365 6420 6279 2067 7075 2d70 6c6f   used by gpu-plo
-000187d0: 7420 746f 2070 6f70 756c 6174 6520 6120  t to populate a 
-000187e0: 6466 2e0a 0a20 2020 2020 2020 203a 7265  df...        :re
-000187f0: 7475 726e 3a20 4469 6374 696f 6e61 7279  turn: Dictionary
-00018800: 206f 6620 4750 5520 7374 6174 6520 696e   of GPU state in
-00018810: 666f 2066 6f72 2070 6c6f 7420 6461 7461  fo for plot data
-00018820: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-00018830: 2020 2020 2020 6770 755f 7374 6174 6520        gpu_state 
-00018840: 3d20 7b27 5469 6d65 273a 2073 7472 2873  = {'Time': str(s
-00018850: 656c 662e 6765 745f 7061 7261 6d73 5f76  elf.get_params_v
-00018860: 616c 7565 2827 7265 6164 5f74 696d 6527  alue('read_time'
-00018870: 292e 7374 7266 7469 6d65 2847 5554 5f43  ).strftime(GUT_C
-00018880: 4f4e 5354 2e54 494d 455f 464f 524d 4154  ONST.TIME_FORMAT
-00018890: 2929 2c0a 2020 2020 2020 2020 2020 2020  )),.            
-000188a0: 2020 2020 2020 2020 2027 4361 7264 2327           'Card#'
-000188b0: 3a20 696e 7428 7365 6c66 2e70 726d 2e63  : int(self.prm.c
-000188c0: 6172 645f 6e75 6d29 7d0a 0a20 2020 2020  ard_num)}..     
-000188d0: 2020 2066 6f72 2074 6162 6c65 5f69 7465     for table_ite
-000188e0: 6d20 696e 2073 656c 662e 7461 626c 655f  m in self.table_
-000188f0: 7061 7261 6d65 7465 7273 3a0a 2020 2020  parameters:.    
-00018900: 2020 2020 2020 2020 6770 755f 7374 6174          gpu_stat
-00018910: 655b 7461 626c 655f 6974 656d 5d20 3d20  e[table_item] = 
-00018920: 666f 726d 6174 5f74 6162 6c65 5f76 616c  format_table_val
-00018930: 7565 2873 656c 662e 6765 745f 7061 7261  ue(self.get_para
-00018940: 6d73 5f76 616c 7565 2874 6162 6c65 5f69  ms_value(table_i
-00018950: 7465 6d29 2c20 7461 626c 655f 6974 656d  tem), table_item
-00018960: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00018970: 2067 7075 5f73 7461 7465 0a0a 0a63 6c61   gpu_state...cla
-00018980: 7373 2047 7075 4c69 7374 3a0a 2020 2020  ss GpuList:.    
-00018990: 2222 220a 2020 2020 4120 6c69 7374 206f  """.    A list o
-000189a0: 6620 4770 7549 7465 6d20 696e 6465 7865  f GpuItem indexe
-000189b0: 6420 7769 7468 2075 7569 642e 2020 4974  d with uuid.  It
-000189c0: 2061 6c73 6f20 636f 6e74 6169 6e73 2061   also contains a
-000189d0: 2074 6162 6c65 206f 6620 7061 7261 6d65   table of parame
-000189e0: 7465 7273 2075 7365 6420 666f 7220 7374  ters used for st
-000189f0: 6174 7573 2072 6570 6f72 7469 6e67 2e0a  atus reporting..
-00018a00: 2020 2020 2222 220a 2020 2020 6465 6620      """.    def 
-00018a10: 5f5f 696e 6974 5f5f 2873 656c 6629 202d  __init__(self) -
-00018a20: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-00018a30: 7365 6c66 2e6c 6973 743a 2044 6963 745b  self.list: Dict[
-00018a40: 7374 722c 2047 7075 4974 656d 5d20 3d20  str, GpuItem] = 
-00018a50: 7b7d 0a20 2020 2020 2020 2073 656c 662e  {}.        self.
-00018a60: 6f70 656e 636c 5f6d 6170 3a20 6469 6374  opencl_map: dict
-00018a70: 203d 207b 7d0a 2020 2020 2020 2020 7365   = {}.        se
-00018a80: 6c66 2e61 6d64 5f66 6561 7475 7265 6d61  lf.amd_featurema
-00018a90: 736b 3a20 4f70 7469 6f6e 616c 5b69 6e74  sk: Optional[int
-00018aa0: 5d20 3d20 4e6f 6e65 0a20 2020 2020 2020  ] = None.       
-00018ab0: 2073 656c 662e 6375 7272 656e 745f 616d   self.current_am
-00018ac0: 645f 6665 6174 7572 656d 6173 6b3a 2055  d_featuremask: U
-00018ad0: 6e69 6f6e 5b73 7472 2c20 696e 742c 204e  nion[str, int, N
-00018ae0: 6f6e 655d 203d 204e 6f6e 650a 2020 2020  one] = None.    
-00018af0: 2020 2020 7365 6c66 2e61 6d64 5f77 6174      self.amd_wat
-00018b00: 746d 616e 3a20 626f 6f6c 203d 2046 616c  tman: bool = Fal
-00018b10: 7365 0a20 2020 2020 2020 2073 656c 662e  se.        self.
-00018b20: 616d 645f 7772 6974 6162 6c65 3a20 626f  amd_writable: bo
-00018b30: 6f6c 203d 2046 616c 7365 0a20 2020 2020  ol = False.     
-00018b40: 2020 2073 656c 662e 6e76 5f72 6561 6477     self.nv_readw
-00018b50: 7269 7461 626c 653a 2062 6f6f 6c20 3d20  ritable: bool = 
-00018b60: 4661 6c73 650a 0a20 2020 2064 6566 205f  False..    def _
-00018b70: 5f72 6570 725f 5f28 7365 6c66 2920 2d3e  _repr__(self) ->
-00018b80: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-00018b90: 7475 726e 2073 7472 2873 656c 662e 6c69  turn str(self.li
-00018ba0: 7374 290a 0a20 2020 2064 6566 205f 5f73  st)..    def __s
-00018bb0: 7472 5f5f 2873 656c 6629 202d 3e20 7374  tr__(self) -> st
-00018bc0: 723a 0a20 2020 2020 2020 206e 756d 5f67  r:.        num_g
-00018bd0: 7075 7320 3d20 7365 6c66 2e6e 756d 5f67  pus = self.num_g
-00018be0: 7075 7328 290a 0a20 2020 2020 2020 2064  pus()..        d
-00018bf0: 6566 206e 756d 5f69 735f 6172 6528 6e75  ef num_is_are(nu
-00018c00: 6d3a 2069 6e74 2c20 7369 6e67 756c 6172  m: int, singular
-00018c10: 3a20 7374 7220 3d20 2769 7327 2c20 706c  : str = 'is', pl
-00018c20: 7572 616c 3a20 7374 7220 3d20 2761 7265  ural: str = 'are
-00018c30: 2729 202d 3e20 5475 706c 655b 696e 742c  ') -> Tuple[int,
-00018c40: 2073 7472 5d3a 0a20 2020 2020 2020 2020   str]:.         
-00018c50: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
-00018c60: 2020 2044 6574 6572 6d69 6e65 2069 6620     Determine if 
-00018c70: 7369 6e67 756c 6172 206f 7220 706c 7572  singular or plur
-00018c80: 616c 2072 6566 6572 656e 6365 7320 6172  al references ar
-00018c90: 6520 6e65 6564 6564 2e20 2052 6574 7572  e needed.  Retur
-00018ca0: 6e20 636f 7272 6563 7420 7665 7273 696f  n correct versio
-00018cb0: 6e2e 0a0a 2020 2020 2020 2020 2020 2020  n...            
-00018cc0: 3a70 6172 616d 206e 756d 3a20 5175 616e  :param num: Quan
-00018cd0: 7469 7479 0a20 2020 2020 2020 2020 2020  tity.           
-00018ce0: 203a 7061 7261 6d20 7369 6e67 756c 6172   :param singular
-00018cf0: 3a20 5369 6e67 756c 6172 2076 6572 7369  : Singular versi
-00018d00: 6f6e 206f 6620 776f 7264 0a20 2020 2020  on of word.     
-00018d10: 2020 2020 2020 203a 7061 7261 6d20 706c         :param pl
-00018d20: 7572 616c 3a20 506c 7572 616c 2076 6572  ural: Plural ver
-00018d30: 7369 6f6e 206f 6620 776f 7264 0a20 2020  sion of word.   
-00018d40: 2020 2020 2020 2020 203a 7265 7475 726e           :return
-00018d50: 3a20 4569 7468 6572 2073 696e 6775 6c61  : Either singula
-00018d60: 7220 6f72 2070 6c75 7261 6c20 7665 7273  r or plural vers
-00018d70: 696f 6e20 6f66 2077 6f72 642e 0a20 2020  ion of word..   
-00018d80: 2020 2020 2020 2020 2022 2222 0a20 2020           """.   
-00018d90: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00018da0: 6e75 6d2c 2070 6c75 7261 6c20 6966 206e  num, plural if n
-00018db0: 756d 2021 3d20 3120 656c 7365 2073 696e  um != 1 else sin
-00018dc0: 6775 6c61 720a 0a20 2020 2020 2020 2072  gular..        r
-00018dd0: 6574 7572 6e20 2754 6f74 616c 206f 6620  eturn 'Total of 
-00018de0: 7b7d 207b 7d3a 207b 7d20 7b7d 2072 772c  {} {}: {} {} rw,
-00018df0: 207b 7d20 7b7d 2072 2d6f 6e6c 792c 2061   {} {} r-only, a
-00018e00: 6e64 207b 7d20 7b7d 2077 2d6f 6e6c 795c  nd {} {} w-only\
-00018e10: 6e27 2e66 6f72 6d61 7428 0a20 2020 2020  n'.format(.     
-00018e20: 2020 2020 2020 202a 6e75 6d5f 6973 5f61         *num_is_a
-00018e30: 7265 286e 756d 5f67 7075 735b 2774 6f74  re(num_gpus['tot
-00018e40: 616c 275d 2c20 2747 5055 272c 2027 4750  al'], 'GPU', 'GP
-00018e50: 5573 2729 2c0a 2020 2020 2020 2020 2020  Us'),.          
-00018e60: 2020 2a6e 756d 5f69 735f 6172 6528 6e75    *num_is_are(nu
-00018e70: 6d5f 6770 7573 5b27 7277 275d 292c 0a20  m_gpus['rw']),. 
-00018e80: 2020 2020 2020 2020 2020 202a 6e75 6d5f             *num_
-00018e90: 6973 5f61 7265 286e 756d 5f67 7075 735b  is_are(num_gpus[
-00018ea0: 2772 2d6f 6e6c 7927 5d29 2c0a 2020 2020  'r-only']),.    
-00018eb0: 2020 2020 2020 2020 2a6e 756d 5f69 735f          *num_is_
-00018ec0: 6172 6528 6e75 6d5f 6770 7573 5b27 772d  are(num_gpus['w-
-00018ed0: 6f6e 6c79 275d 2929 0a0a 2020 2020 6465  only']))..    de
-00018ee0: 6620 5f5f 6765 7469 7465 6d5f 5f28 7365  f __getitem__(se
-00018ef0: 6c66 2c20 7575 6964 3a20 7374 7229 202d  lf, uuid: str) -
-00018f00: 3e20 4770 7549 7465 6d3a 0a20 2020 2020  > GpuItem:.     
-00018f10: 2020 2069 6620 7575 6964 2069 6e20 7365     if uuid in se
-00018f20: 6c66 2e6c 6973 743a 0a20 2020 2020 2020  lf.list:.       
-00018f30: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00018f40: 2e6c 6973 745b 7575 6964 5d0a 2020 2020  .list[uuid].    
-00018f50: 2020 2020 7261 6973 6520 4b65 7945 7272      raise KeyErr
-00018f60: 6f72 2827 4b65 7945 7272 6f72 3a20 696e  or('KeyError: in
-00018f70: 7661 6c69 6420 7575 6964 3a20 7b7d 272e  valid uuid: {}'.
-00018f80: 666f 726d 6174 2875 7569 6429 290a 0a20  format(uuid)).. 
-00018f90: 2020 2064 6566 205f 5f73 6574 6974 656d     def __setitem
-00018fa0: 5f5f 2873 656c 662c 2075 7569 643a 2073  __(self, uuid: s
-00018fb0: 7472 2c20 7661 6c75 653a 2047 7075 4974  tr, value: GpuIt
-00018fc0: 656d 2920 2d3e 204e 6f6e 653a 0a20 2020  em) -> None:.   
-00018fd0: 2020 2020 2073 656c 662e 6c69 7374 5b75       self.list[u
-00018fe0: 7569 645d 203d 2076 616c 7565 0a0a 2020  uid] = value..  
-00018ff0: 2020 6465 6620 5f5f 6974 6572 5f5f 2873    def __iter__(s
-00019000: 656c 6629 202d 3e20 4765 6e65 7261 746f  elf) -> Generato
-00019010: 725b 4770 7549 7465 6d2c 204e 6f6e 652c  r[GpuItem, None,
-00019020: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
-00019030: 666f 7220 7661 6c75 6520 696e 2073 656c  for value in sel
-00019040: 662e 6c69 7374 2e76 616c 7565 7328 293a  f.list.values():
-00019050: 0a20 2020 2020 2020 2020 2020 2079 6965  .            yie
-00019060: 6c64 2076 616c 7565 0a0a 2020 2020 6465  ld value..    de
-00019070: 6620 6974 656d 7328 7365 6c66 2920 2d3e  f items(self) ->
-00019080: 2047 656e 6572 6174 6f72 5b55 6e69 6f6e   Generator[Union
-00019090: 5b73 7472 2c20 4770 7549 7465 6d5d 2c20  [str, GpuItem], 
-000190a0: 4e6f 6e65 2c20 4e6f 6e65 5d3a 0a20 2020  None, None]:.   
-000190b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000190c0: 2047 6574 2075 7569 642c 2067 7075 2070   Get uuid, gpu p
-000190d0: 6169 7273 2066 726f 6d20 6120 4770 754c  airs from a GpuL
-000190e0: 6973 7420 6f62 6a65 6374 2e0a 0a20 2020  ist object...   
-000190f0: 2020 2020 203a 7265 7475 726e 3a20 2075       :return:  u
-00019100: 7569 642c 2067 7075 2070 6169 720a 2020  uid, gpu pair.  
-00019110: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00019120: 2020 666f 7220 6b65 792c 2076 616c 7565    for key, value
-00019130: 2069 6e20 7365 6c66 2e6c 6973 742e 6974   in self.list.it
-00019140: 656d 7328 293a 0a20 2020 2020 2020 2020  ems():.         
-00019150: 2020 2079 6965 6c64 206b 6579 2c20 7661     yield key, va
-00019160: 6c75 650a 0a20 2020 2064 6566 2075 7569  lue..    def uui
-00019170: 6473 2873 656c 6629 202d 3e20 4765 6e65  ds(self) -> Gene
-00019180: 7261 746f 725b 7374 722c 204e 6f6e 652c  rator[str, None,
-00019190: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
-000191a0: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
-000191b0: 7575 6964 7320 6f66 2074 6865 2047 7075  uuids of the Gpu
-000191c0: 4c69 7374 206f 626a 6563 742e 0a0a 2020  List object...  
-000191d0: 2020 2020 2020 3a72 6574 7572 6e3a 2075        :return: u
-000191e0: 7569 6473 2066 726f 6d20 7468 6520 4770  uids from the Gp
-000191f0: 754c 6973 7420 6f62 6a65 6374 2e0a 2020  uList object..  
-00019200: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00019210: 2020 666f 7220 6b65 7920 696e 2073 656c    for key in sel
-00019220: 662e 6c69 7374 3a0a 2020 2020 2020 2020  f.list:.        
-00019230: 2020 2020 7969 656c 6420 6b65 790a 0a20      yield key.. 
-00019240: 2020 2064 6566 2067 7075 7328 7365 6c66     def gpus(self
-00019250: 2920 2d3e 2047 656e 6572 6174 6f72 5b47  ) -> Generator[G
-00019260: 7075 4974 656d 2c20 4e6f 6e65 2c20 4e6f  puItem, None, No
-00019270: 6e65 5d3a 0a20 2020 2020 2020 2022 2222  ne]:.        """
-00019280: 0a20 2020 2020 2020 2047 6574 2047 7075  .        Get Gpu
-00019290: 4974 656d 7320 6672 6f6d 2061 2047 7075  Items from a Gpu
-000192a0: 4c69 7374 206f 626a 6563 742e 0a0a 2020  List object...  
-000192b0: 2020 2020 2020 3a72 6574 7572 6e3a 2047        :return: G
-000192c0: 7075 5549 7465 6d0a 2020 2020 2020 2020  puUItem.        
-000192d0: 2222 220a 2020 2020 2020 2020 7265 7475  """.        retu
-000192e0: 726e 2073 656c 662e 5f5f 6974 6572 5f5f  rn self.__iter__
-000192f0: 2829 0a0a 2020 2020 6465 6620 6164 6428  ()..    def add(
-00019300: 7365 6c66 2c20 6770 755f 6974 656d 3a20  self, gpu_item: 
-00019310: 4770 7549 7465 6d29 202d 3e20 4e6f 6e65  GpuItem) -> None
-00019320: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00019330: 2020 2020 2020 4164 6420 6769 7665 6e20        Add given 
-00019340: 4770 7549 7465 6d20 746f 2074 6865 2047  GpuItem to the G
-00019350: 7075 4c69 7374 2e0a 0a20 2020 2020 2020  puList...       
-00019360: 203a 7061 7261 6d20 6770 755f 6974 656d   :param gpu_item
-00019370: 3a20 2049 7465 6d20 746f 2062 6520 6164  :  Item to be ad
-00019380: 6465 640a 2020 2020 2020 2020 2222 220a  ded.        """.
-00019390: 2020 2020 2020 2020 7365 6c66 5b67 7075          self[gpu
-000193a0: 5f69 7465 6d2e 7072 6d2e 7575 6964 5d20  _item.prm.uuid] 
-000193b0: 3d20 6770 755f 6974 656d 0a20 2020 2020  = gpu_item.     
-000193c0: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
-000193d0: 2741 6464 6564 2047 5055 2049 7465 6d20  'Added GPU Item 
-000193e0: 2573 2074 6f20 4750 5520 4c69 7374 272c  %s to GPU List',
-000193f0: 2067 7075 5f69 7465 6d2e 7072 6d2e 7575   gpu_item.prm.uu
-00019400: 6964 290a 0a20 2020 2064 6566 2067 6574  id)..    def get
-00019410: 5f70 6369 655f 6d61 7028 7365 6c66 2920  _pcie_map(self) 
-00019420: 2d3e 2064 6963 743a 0a20 2020 2020 2020  -> dict:.       
-00019430: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-00019440: 206d 6170 7069 6e67 206f 6620 6361 7264   mapping of card
-00019450: 206e 756d 6265 7220 746f 2070 6369 6520   number to pcie 
-00019460: 6164 6472 6573 7320 6173 2064 6963 742e  address as dict.
-00019470: 0a0a 2020 2020 2020 2020 3a72 6574 7572  ..        :retur
-00019480: 6e3a 2064 6963 7420 6f66 206e 756d 3a20  n: dict of num: 
-00019490: 7063 6965 6964 0a20 2020 2020 2020 2022  pcieid.        "
-000194a0: 2222 0a20 2020 2020 2020 2070 6369 655f  "".        pcie_
-000194b0: 6469 6374 203d 207b 7d0a 2020 2020 2020  dict = {}.      
-000194c0: 2020 666f 7220 6770 7520 696e 2073 656c    for gpu in sel
-000194d0: 662e 6770 7573 2829 3a0a 2020 2020 2020  f.gpus():.      
-000194e0: 2020 2020 2020 7063 6965 5f64 6963 742e        pcie_dict.
-000194f0: 7570 6461 7465 287b 6770 752e 7072 6d2e  update({gpu.prm.
-00019500: 6361 7264 5f6e 756d 3a20 6770 752e 7072  card_num: gpu.pr
-00019510: 6d2e 7063 6965 5f69 647d 290a 2020 2020  m.pcie_id}).    
-00019520: 2020 2020 7265 7475 726e 2070 6369 655f      return pcie_
-00019530: 6469 6374 0a0a 2020 2020 6465 6620 7761  dict..    def wa
-00019540: 7474 6d61 6e5f 7374 6174 7573 2873 656c  ttman_status(sel
-00019550: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-00019560: 2020 2022 2222 0a20 2020 2020 2020 2044     """.        D
-00019570: 6973 706c 6179 2057 6174 746d 616e 2073  isplay Wattman s
-00019580: 7461 7475 732e 0a0a 2020 2020 2020 2020  tatus...        
-00019590: 3a72 6574 7572 6e3a 2020 5374 6174 7573  :return:  Status
-000195a0: 2073 7472 696e 670a 2020 2020 2020 2020   string.        
-000195b0: 2222 220a 2020 2020 2020 2020 4c4f 4747  """.        LOGG
-000195c0: 4552 2e64 6562 7567 2827 414d 4420 6665  ER.debug('AMD fe
-000195d0: 6174 7572 656d 6173 6b3a 2025 7327 2c20  aturemask: %s', 
-000195e0: 6865 7828 7365 6c66 2e61 6d64 5f66 6561  hex(self.amd_fea
-000195f0: 7475 7265 6d61 736b 2929 0a20 2020 2020  turemask)).     
-00019600: 2020 2069 6620 7365 6c66 2e61 6d64 5f77     if self.amd_w
-00019610: 6174 746d 616e 3a0a 2020 2020 2020 2020  attman:.        
-00019620: 2020 2020 7265 7475 726e 2027 5761 7474      return 'Watt
-00019630: 6d61 6e20 6665 6174 7572 6573 2065 6e61  man features ena
-00019640: 626c 6564 3a20 7b7d 272e 666f 726d 6174  bled: {}'.format
-00019650: 2868 6578 2873 656c 662e 616d 645f 6665  (hex(self.amd_fe
-00019660: 6174 7572 656d 6173 6b29 290a 2020 2020  aturemask)).    
-00019670: 2020 2020 7265 7475 726e 2027 5761 7474      return 'Watt
-00019680: 6d61 6e20 6665 6174 7572 6573 206e 6f74  man features not
-00019690: 2065 6e61 626c 6564 3a20 7b7d 2c20 5365   enabled: {}, Se
-000196a0: 6520 5245 4144 4d45 2066 696c 652e 272e  e README file.'.
-000196b0: 666f 726d 6174 2868 6578 2873 656c 662e  format(hex(self.
-000196c0: 616d 645f 6665 6174 7572 656d 6173 6b29  amd_featuremask)
-000196d0: 290a 0a20 2020 2040 7374 6174 6963 6d65  )..    @staticme
-000196e0: 7468 6f64 0a20 2020 2064 6566 2067 6574  thod.    def get
-000196f0: 5f67 7075 5f70 6369 5f6c 6973 7428 2920  _gpu_pci_list() 
-00019700: 2d3e 204f 7074 696f 6e61 6c5b 4c69 7374  -> Optional[List
-00019710: 5b73 7472 5d5d 3a0a 2020 2020 2020 2020  [str]]:.        
-00019720: 2222 220a 2020 2020 2020 2020 5573 6520  """.        Use 
-00019730: 6361 6c6c 2074 6f20 6c73 7063 6920 746f  call to lspci to
-00019740: 2067 6574 2061 206c 6973 7420 6f66 2070   get a list of p
-00019750: 6369 2061 6464 7265 7373 6573 206f 6620  ci addresses of 
-00019760: 616c 6c20 4750 5573 2e0a 0a20 2020 2020  all GPUs...     
-00019770: 2020 203a 7265 7475 726e 3a20 4c69 7374     :return: List
-00019780: 206f 6620 4750 5520 7063 6920 6164 6472   of GPU pci addr
-00019790: 6573 7365 7320 6f72 204e 6f6e 652e 0a20  esses or None.. 
-000197a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000197b0: 2020 2070 6369 5f6c 6973 7420 3d20 5b5d     pci_list = []
-000197c0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-000197d0: 2020 2020 2020 2020 2020 6c73 7063 695f            lspci_
-000197e0: 6f75 7470 7574 203d 2073 7562 7072 6f63  output = subproc
-000197f0: 6573 732e 6368 6563 6b5f 6f75 7470 7574  ess.check_output
-00019800: 2847 5554 5f43 4f4e 5354 2e63 6d64 5f6c  (GUT_CONST.cmd_l
-00019810: 7370 6369 2c20 7368 656c 6c3d 4661 6c73  spci, shell=Fals
-00019820: 6529 2e64 6563 6f64 6528 292e 7370 6c69  e).decode().spli
-00019830: 7428 275c 6e27 290a 2020 2020 2020 2020  t('\n').        
-00019840: 6578 6365 7074 2028 7375 6270 726f 6365  except (subproce
-00019850: 7373 2e43 616c 6c65 6450 726f 6365 7373  ss.CalledProcess
-00019860: 4572 726f 722c 204f 5345 7272 6f72 2920  Error, OSError) 
-00019870: 6173 2065 7863 6570 745f 6572 723a 0a20  as except_err:. 
-00019880: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00019890: 2827 4572 726f 7220 5b7b 7d5d 3a20 6c73  ('Error [{}]: ls
-000198a0: 7063 6920 6661 696c 6564 2074 6f20 6669  pci failed to fi
-000198b0: 6e64 2047 5055 7327 2e66 6f72 6d61 7428  nd GPUs'.format(
-000198c0: 6578 6365 7074 5f65 7272 2929 0a20 2020  except_err)).   
-000198d0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000198e0: 4e6f 6e65 0a0a 2020 2020 2020 2020 666f  None..        fo
-000198f0: 7220 6c73 7063 695f 6c69 6e65 2069 6e20  r lspci_line in 
-00019900: 6c73 7063 695f 6f75 7470 7574 3a0a 2020  lspci_output:.  
-00019910: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
-00019920: 7365 6172 6368 2850 4154 5445 524e 535b  search(PATTERNS[
-00019930: 2750 4349 5f47 5055 275d 2c20 6c73 7063  'PCI_GPU'], lspc
-00019940: 695f 6c69 6e65 293a 0a20 2020 2020 2020  i_line):.       
-00019950: 2020 2020 2020 2020 2069 6620 7265 2e73           if re.s
-00019960: 6561 7263 6828 5041 5454 4552 4e53 5b27  earch(PATTERNS['
-00019970: 4e4f 545f 5043 495f 4750 5527 5d2c 206c  NOT_PCI_GPU'], l
-00019980: 7370 6369 5f6c 696e 6529 3a0a 2020 2020  spci_line):.    
-00019990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000199a0: 4c4f 4747 4552 2e64 6562 7567 2827 4578  LOGGER.debug('Ex
-000199b0: 636c 7564 6564 2070 6f73 7369 626c 6520  cluded possible 
-000199c0: 4750 5520 7063 693a 2025 7327 2c20 6c73  GPU pci: %s', ls
-000199d0: 7063 695f 6c69 6e65 290a 2020 2020 2020  pci_line).      
-000199e0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000199f0: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-00019a00: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-00019a10: 6275 6728 2746 6f75 6e64 2047 5055 2070  bug('Found GPU p
-00019a20: 6369 3a20 2573 272c 206c 7370 6369 5f6c  ci: %s', lspci_l
-00019a30: 696e 6529 0a20 2020 2020 2020 2020 2020  ine).           
-00019a40: 2020 2020 2070 6369 6964 203d 2072 652e       pciid = re.
-00019a50: 7365 6172 6368 2847 5554 5f43 4f4e 5354  search(GUT_CONST
-00019a60: 2e50 4154 5445 524e 535b 2750 4349 5f41  .PATTERNS['PCI_A
-00019a70: 4444 275d 2c20 6c73 7063 695f 6c69 6e65  DD'], lspci_line
-00019a80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00019a90: 2020 6966 2070 6369 6964 3a20 7063 695f    if pciid: pci_
-00019aa0: 6c69 7374 2e61 7070 656e 6428 7063 6969  list.append(pcii
-00019ab0: 642e 6772 6f75 7028 3029 290a 2020 2020  d.group(0)).    
-00019ac0: 2020 2020 7265 7475 726e 2070 6369 5f6c      return pci_l
-00019ad0: 6973 740a 0a20 2020 2064 6566 2073 6574  ist..    def set
-00019ae0: 5f67 7075 5f6c 6973 7428 7365 6c66 2c20  _gpu_list(self, 
-00019af0: 636c 696e 666f 5f66 6c61 673a 2062 6f6f  clinfo_flag: boo
-00019b00: 6c20 3d20 4661 6c73 6529 202d 3e20 626f  l = False) -> bo
-00019b10: 6f6c 3a0a 2020 2020 2020 2020 2222 220a  ol:.        """.
-00019b20: 2020 2020 2020 2020 5573 6520 6c73 7063          Use lspc
-00019b30: 6920 746f 2070 6f70 756c 6174 6520 6c69  i to populate li
-00019b40: 7374 206f 6620 616c 6c20 696e 7374 616c  st of all instal
-00019b50: 6c65 6420 4750 5573 2e0a 0a20 2020 2020  led GPUs...     
-00019b60: 2020 203a 7265 7475 726e 3a20 5472 7565     :return: True
-00019b70: 206f 6e20 7375 6363 6573 730a 2020 2020   on success.    
-00019b80: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00019b90: 6966 206e 6f74 2047 5554 5f43 4f4e 5354  if not GUT_CONST
-00019ba0: 2e63 6d64 5f6c 7370 6369 3a20 7265 7475  .cmd_lspci: retu
-00019bb0: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
-00019bc0: 2069 6620 636c 696e 666f 5f66 6c61 673a   if clinfo_flag:
-00019bd0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00019be0: 662e 7265 6164 5f67 7075 5f6f 7065 6e63  f.read_gpu_openc
-00019bf0: 6c5f 6461 7461 2829 0a20 2020 2020 2020  l_data().       
-00019c00: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-00019c10: 6728 274f 7065 6e43 4c20 6d61 703a 2025  g('OpenCL map: %
-00019c20: 7327 2c20 7365 6c66 2e6f 7065 6e63 6c5f  s', self.opencl_
-00019c30: 6d61 7029 0a0a 2020 2020 2020 2020 2320  map)..        # 
-00019c40: 4368 6563 6b20 414d 4420 7772 6974 6162  Check AMD writab
-00019c50: 696c 6974 790a 2020 2020 2020 2020 7472  ility.        tr
-00019c60: 793a 0a20 2020 2020 2020 2020 2020 2073  y:.            s
-00019c70: 656c 662e 616d 645f 6665 6174 7572 656d  elf.amd_featurem
-00019c80: 6173 6b20 3d20 4755 545f 434f 4e53 542e  ask = GUT_CONST.
-00019c90: 7265 6164 5f61 6d64 6665 6174 7572 656d  read_amdfeaturem
-00019ca0: 6173 6b28 290a 2020 2020 2020 2020 6578  ask().        ex
-00019cb0: 6365 7074 2046 696c 654e 6f74 466f 756e  cept FileNotFoun
-00019cc0: 6445 7272 6f72 3a0a 2020 2020 2020 2020  dError:.        
-00019cd0: 2020 2020 7365 6c66 2e61 6d64 5f77 6174      self.amd_wat
-00019ce0: 746d 616e 203d 2073 656c 662e 616d 645f  tman = self.amd_
-00019cf0: 7772 6974 6162 6c65 203d 2046 616c 7365  writable = False
-00019d00: 0a0a 2020 2020 2020 2020 2320 544f 444f  ..        # TODO
-00019d10: 3a20 4e65 6564 2074 6f20 7265 7365 6172  : Need to resear
-00019d20: 6368 206f 6e20 7370 6563 6966 6963 616c  ch on specifical
-00019d30: 6c79 2077 6869 6368 2062 6974 7320 6172  ly which bits ar
-00019d40: 6520 7265 7175 6972 6564 2074 6f20 7772  e required to wr
-00019d50: 6974 6520 746f 2047 5055 2e0a 2020 2020  ite to GPU..    
-00019d60: 2020 2020 2373 656c 662e 616d 645f 7761      #self.amd_wa
-00019d70: 7474 6d61 6e20 3d20 7365 6c66 2e61 6d64  ttman = self.amd
-00019d80: 5f77 7269 7461 626c 6520 3d20 7365 6c66  _writable = self
-00019d90: 2e61 6d64 5f66 6561 7475 7265 6d61 736b  .amd_featuremask
-00019da0: 2026 2030 7834 3030 300a 2020 2020 2020   & 0x4000.      
-00019db0: 2020 7365 6c66 2e61 6d64 5f77 6174 746d    self.amd_wattm
-00019dc0: 616e 203d 2073 656c 662e 616d 645f 7772  an = self.amd_wr
-00019dd0: 6974 6162 6c65 203d 2028 7365 6c66 2e61  itable = (self.a
-00019de0: 6d64 5f66 6561 7475 7265 6d61 736b 203d  md_featuremask =
-00019df0: 3d20 696e 7428 3078 6666 6666 3766 6666  = int(0xffff7fff
-00019e00: 2920 6f72 0a20 2020 2020 2020 2020 2020  ) or.           
-00019e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e30: 2020 2020 2073 656c 662e 616d 645f 6665       self.amd_fe
-00019e40: 6174 7572 656d 6173 6b20 3d3d 2069 6e74  aturemask == int
-00019e50: 2830 7866 6666 3766 6666 6629 206f 720a  (0xfff7ffff) or.
-00019e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019e90: 7365 6c66 2e61 6d64 5f66 6561 7475 7265  self.amd_feature
-00019ea0: 6d61 736b 203d 3d20 696e 7428 3078 6666  mask == int(0xff
-00019eb0: 6666 6666 6666 2920 6f72 0a20 2020 2020  ffffff) or.     
-00019ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ee0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00019ef0: 616d 645f 6665 6174 7572 656d 6173 6b20  amd_featuremask 
-00019f00: 3d3d 2069 6e74 2830 7866 6666 6437 6666  == int(0xfffd7ff
-00019f10: 6629 290a 0a20 2020 2020 2020 2023 2043  f))..        # C
-00019f20: 6865 636b 204e 5620 7265 6164 2f77 7269  heck NV read/wri
-00019f30: 7461 6269 6c69 7479 0a20 2020 2020 2020  tability.       
-00019f40: 2069 6620 4755 545f 434f 4e53 542e 636d   if GUT_CONST.cm
-00019f50: 645f 6e76 6964 6961 5f73 6d69 3a0a 2020  d_nvidia_smi:.  
-00019f60: 2020 2020 2020 2020 2020 7365 6c66 2e6e            self.n
-00019f70: 765f 7265 6164 7772 6974 6162 6c65 203d  v_readwritable =
-00019f80: 2054 7275 650a 0a20 2020 2020 2020 2070   True..        p
-00019f90: 6369 655f 6964 7320 3d20 7365 6c66 2e67  cie_ids = self.g
-00019fa0: 6574 5f67 7075 5f70 6369 5f6c 6973 7428  et_gpu_pci_list(
-00019fb0: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
-00019fc0: 2070 6369 655f 6964 733a 0a20 2020 2020   pcie_ids:.     
-00019fd0: 2020 2020 2020 2070 7269 6e74 2827 4572         print('Er
-00019fe0: 726f 7220 5b65 6d70 7479 206c 6973 745d  ror [empty list]
-00019ff0: 3a20 6c73 7063 6920 6661 696c 6564 2074  : lspci failed t
-0001a000: 6f20 6669 6e64 2047 5055 7327 290a 2020  o find GPUs').  
-0001a010: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001a020: 2046 616c 7365 0a0a 2020 2020 2020 2020   False..        
-0001a030: 4c4f 4747 4552 2e64 6562 7567 2827 466f  LOGGER.debug('Fo
-0001a040: 756e 6420 2573 2047 5055 7327 2c20 6c65  und %s GPUs', le
-0001a050: 6e28 7063 6965 5f69 6473 2929 0a20 2020  n(pcie_ids)).   
-0001a060: 2020 2020 2066 6f72 2070 6369 655f 6964       for pcie_id
-0001a070: 2069 6e20 7063 6965 5f69 6473 3a0a 2020   in pcie_ids:.  
-0001a080: 2020 2020 2020 2020 2020 2320 496e 6974            # Init
-0001a090: 6961 6c20 4750 5520 4974 656d 0a20 2020  ial GPU Item.   
-0001a0a0: 2020 2020 2020 2020 2067 7075 5f75 7569           gpu_uui
-0001a0b0: 6420 3d20 7575 6964 3428 292e 6865 780a  d = uuid4().hex.
-0001a0c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a0d0: 2e61 6464 2847 7075 4974 656d 2867 7075  .add(GpuItem(gpu
-0001a0e0: 5f75 7569 6429 290a 2020 2020 2020 2020  _uuid)).        
-0001a0f0: 2020 2020 4c4f 4747 4552 2e64 6562 7567      LOGGER.debug
-0001a100: 2827 4750 553a 2025 7327 2c20 7063 6965  ('GPU: %s', pcie
-0001a110: 5f69 6429 0a20 2020 2020 2020 2020 2020  _id).           
-0001a120: 2067 7075 5f6e 616d 6520 3d20 2755 4e4b   gpu_name = 'UNK
-0001a130: 4e4f 574e 270a 2020 2020 2020 2020 2020  NOWN'.          
-0001a140: 2020 6472 6976 6572 5f6d 6f64 756c 6520    driver_module 
-0001a150: 3d20 2755 4e4b 4e4f 574e 270a 2020 2020  = 'UNKNOWN'.    
-0001a160: 2020 2020 2020 2020 6361 7264 5f70 6174          card_pat
-0001a170: 6820 3d20 2727 0a20 2020 2020 2020 2020  h = ''.         
-0001a180: 2020 2073 7973 5f63 6172 645f 7061 7468     sys_card_path
-0001a190: 203d 2027 270a 2020 2020 2020 2020 2020   = ''.          
-0001a1a0: 2020 6877 6d6f 6e5f 7061 7468 203d 2027    hwmon_path = '
-0001a1b0: 270a 2020 2020 2020 2020 2020 2020 7265  '.            re
-0001a1c0: 6164 6162 6c65 203d 2077 7269 7461 626c  adable = writabl
-0001a1d0: 6520 3d20 636f 6d70 7574 6520 3d20 4661  e = compute = Fa
-0001a1e0: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
-0001a1f0: 6770 755f 7479 7065 203d 2047 7075 5479  gpu_type = GpuTy
-0001a200: 7065 2e55 6e64 6566 696e 6564 0a20 2020  pe.Undefined.   
-0001a210: 2020 2020 2020 2020 2076 656e 646f 7220           vendor 
-0001a220: 3d20 4770 7556 656e 646f 722e 556e 6465  = GpuVendor.Unde
-0001a230: 6669 6e65 640a 2020 2020 2020 2020 2020  fined.          
-0001a240: 2020 6f70 656e 636c 5f64 6576 6963 655f    opencl_device_
-0001a250: 7665 7273 696f 6e20 3d20 4e6f 6e65 2069  version = None i
-0001a260: 6620 636c 696e 666f 5f66 6c61 6720 656c  f clinfo_flag el
-0001a270: 7365 2027 554e 4b4e 4f57 4e27 0a0a 2020  se 'UNKNOWN'..  
-0001a280: 2020 2020 2020 2020 2020 2320 4765 7420            # Get 
-0001a290: 6d6f 7265 2047 5055 2064 6574 6169 6c73  more GPU details
-0001a2a0: 2066 726f 6d20 6c73 7063 6920 2d6b 202d   from lspci -k -
-0001a2b0: 730a 2020 2020 2020 2020 2020 2020 636d  s.            cm
-0001a2c0: 645f 7374 7220 3d20 277b 7d20 2d6b 202d  d_str = '{} -k -
-0001a2d0: 7320 7b7d 272e 666f 726d 6174 2847 5554  s {}'.format(GUT
-0001a2e0: 5f43 4f4e 5354 2e63 6d64 5f6c 7370 6369  _CONST.cmd_lspci
-0001a2f0: 2c20 7063 6965 5f69 6429 0a20 2020 2020  , pcie_id).     
-0001a300: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-0001a310: 2020 2020 2020 2020 2020 2020 6c73 7063              lspc
-0001a320: 695f 6974 656d 7320 3d20 7375 6270 726f  i_items = subpro
-0001a330: 6365 7373 2e63 6865 636b 5f6f 7574 7075  cess.check_outpu
-0001a340: 7428 7368 6c65 785f 7370 6c69 7428 636d  t(shlex_split(cm
-0001a350: 645f 7374 7229 2c20 7368 656c 6c3d 4661  d_str), shell=Fa
-0001a360: 6c73 6529 2e64 6563 6f64 6528 292e 7370  lse).decode().sp
-0001a370: 6c69 7428 275c 6e27 290a 2020 2020 2020  lit('\n').      
-0001a380: 2020 2020 2020 6578 6365 7074 2028 7375        except (su
-0001a390: 6270 726f 6365 7373 2e43 616c 6c65 6450  bprocess.CalledP
-0001a3a0: 726f 6365 7373 4572 726f 722c 204f 5345  rocessError, OSE
-0001a3b0: 7272 6f72 2920 6173 2065 7863 6570 745f  rror) as except_
-0001a3c0: 6572 723a 0a20 2020 2020 2020 2020 2020  err:.           
-0001a3d0: 2020 2020 206d 6573 7361 6765 203d 2027       message = '
-0001a3e0: 4661 7461 6c20 4572 726f 7220 5b7b 7d5d  Fatal Error [{}]
-0001a3f0: 3a20 4361 6e20 6e6f 7420 6765 7420 4750  : Can not get GP
-0001a400: 5520 6465 7461 696c 7320 7769 7468 206c  U details with l
-0001a410: 7370 6369 2e27 2e66 6f72 6d61 7428 6578  spci.'.format(ex
-0001a420: 6365 7074 5f65 7272 290a 2020 2020 2020  cept_err).      
-0001a430: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
-0001a440: 2e64 6562 7567 286d 6573 7361 6765 290a  .debug(message).
-0001a450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a460: 7072 696e 7428 6d65 7373 6167 652c 2066  print(message, f
-0001a470: 696c 653d 7379 732e 7374 6465 7272 290a  ile=sys.stderr).
-0001a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a490: 7379 732e 6578 6974 282d 3129 0a20 2020  sys.exit(-1).   
-0001a4a0: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0001a4b0: 6465 6275 6728 276c 7370 6369 206f 7574  debug('lspci out
-0001a4c0: 7075 7420 6974 656d 733a 5c6e 2025 7327  put items:\n %s'
-0001a4d0: 2c20 6c73 7063 695f 6974 656d 7329 0a0a  , lspci_items)..
-0001a4e0: 2020 2020 2020 2020 2020 2020 2320 4765              # Ge
-0001a4f0: 7420 4c6f 6e67 2047 5055 204e 616d 650a  t Long GPU Name.
-0001a500: 2020 2020 2020 2020 2020 2020 6770 755f              gpu_
-0001a510: 6e61 6d65 5f69 7465 6d73 203d 206c 7370  name_items = lsp
-0001a520: 6369 5f69 7465 6d73 5b30 5d2e 7370 6c69  ci_items[0].spli
-0001a530: 7428 273a 2027 2c20 6d61 7873 706c 6974  t(': ', maxsplit
-0001a540: 3d31 290a 2020 2020 2020 2020 2020 2020  =1).            
-0001a550: 6966 206c 656e 2867 7075 5f6e 616d 655f  if len(gpu_name_
-0001a560: 6974 656d 7329 203e 3d20 323a 0a20 2020  items) >= 2:.   
-0001a570: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-0001a580: 5f6e 616d 6520 3d20 6770 755f 6e61 6d65  _name = gpu_name
-0001a590: 5f69 7465 6d73 5b31 5d0a 2020 2020 2020  _items[1].      
-0001a5a0: 2020 2020 2020 2320 4368 6563 6b20 666f        # Check fo
-0001a5b0: 7220 4669 6a69 2050 726f 4475 6f0a 2020  r Fiji ProDuo.  
-0001a5c0: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
-0001a5d0: 7365 6172 6368 2827 4669 6a69 272c 2067  search('Fiji', g
-0001a5e0: 7075 5f6e 616d 6529 3a0a 2020 2020 2020  pu_name):.      
-0001a5f0: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
-0001a600: 7365 6172 6368 2872 2752 6164 656f 6e20  search(r'Radeon 
-0001a610: 5072 6f20 4475 6f27 2c20 6c73 7063 695f  Pro Duo', lspci_
-0001a620: 6974 656d 735b 315d 2e73 706c 6974 2827  items[1].split('
-0001a630: 5b41 4d44 2f41 5449 5d27 295b 315d 293a  [AMD/ATI]')[1]):
-0001a640: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a650: 2020 2020 2067 7075 5f6e 616d 6520 3d20       gpu_name = 
-0001a660: 2752 6164 656f 6e20 4669 6a69 2050 726f  'Radeon Fiji Pro
-0001a670: 2044 756f 270a 2020 2020 2020 2020 2020   Duo'.          
-0001a680: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
-0001a690: 6770 755f 6e61 6d65 3a20 5b25 735d 272c  gpu_name: [%s]',
-0001a6a0: 2067 7075 5f6e 616d 6529 0a0a 2020 2020   gpu_name)..    
-0001a6b0: 2020 2020 2020 2020 2320 4765 7420 4750          # Get GP
-0001a6c0: 5520 6272 616e 643a 2041 4d44 2c20 494e  U brand: AMD, IN
-0001a6d0: 5445 4c2c 204e 5649 4449 412c 2041 5350  TEL, NVIDIA, ASP
-0001a6e0: 4545 440a 2020 2020 2020 2020 2020 2020  EED.            
-0001a6f0: 6966 2072 652e 7365 6172 6368 2850 4154  if re.search(PAT
-0001a700: 5445 524e 535b 2741 4d44 5f47 5055 275d  TERNS['AMD_GPU']
-0001a710: 2c20 6770 755f 6e61 6d65 293a 0a20 2020  , gpu_name):.   
-0001a720: 2020 2020 2020 2020 2020 2020 2076 656e               ven
-0001a730: 646f 7220 3d20 4770 7556 656e 646f 722e  dor = GpuVendor.
-0001a740: 414d 440a 2020 2020 2020 2020 2020 2020  AMD.            
-0001a750: 2020 2020 6770 755f 7479 7065 203d 2047      gpu_type = G
-0001a760: 7075 5479 7065 2e53 7570 706f 7274 6564  puType.Supported
-0001a770: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-0001a780: 6620 7265 2e73 6561 7263 6828 5041 5454  f re.search(PATT
-0001a790: 4552 4e53 5b27 4e56 5f47 5055 275d 2c20  ERNS['NV_GPU'], 
-0001a7a0: 6770 755f 6e61 6d65 293a 0a20 2020 2020  gpu_name):.     
-0001a7b0: 2020 2020 2020 2020 2020 2076 656e 646f             vendo
-0001a7c0: 7220 3d20 4770 7556 656e 646f 722e 4e56  r = GpuVendor.NV
-0001a7d0: 4944 4941 0a20 2020 2020 2020 2020 2020  IDIA.           
-0001a7e0: 2020 2020 2069 6620 4755 545f 434f 4e53       if GUT_CONS
-0001a7f0: 542e 636d 645f 6e76 6964 6961 5f73 6d69  T.cmd_nvidia_smi
-0001a800: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001a810: 2020 2020 2020 7265 6164 6162 6c65 203d        readable =
-0001a820: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-0001a830: 2020 2020 2020 6770 755f 7479 7065 203d        gpu_type =
-0001a840: 2047 7075 5479 7065 2e53 7570 706f 7274   GpuType.Support
-0001a850: 6564 0a20 2020 2020 2020 2020 2020 2065  ed.            e
-0001a860: 6c69 6620 7265 2e73 6561 7263 6828 5041  lif re.search(PA
-0001a870: 5454 4552 4e53 5b27 494e 5443 5f47 5055  TTERNS['INTC_GPU
-0001a880: 275d 2c20 6770 755f 6e61 6d65 293a 0a20  '], gpu_name):. 
-0001a890: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-0001a8a0: 656e 646f 7220 3d20 4770 7556 656e 646f  endor = GpuVendo
-0001a8b0: 722e 494e 5445 4c0a 2020 2020 2020 2020  r.INTEL.        
-0001a8c0: 2020 2020 2020 2020 6770 755f 7479 7065          gpu_type
-0001a8d0: 203d 2047 7075 5479 7065 2e55 6e73 7570   = GpuType.Unsup
-0001a8e0: 706f 7274 6564 0a20 2020 2020 2020 2020  ported.         
-0001a8f0: 2020 2065 6c69 6620 7265 2e73 6561 7263     elif re.searc
-0001a900: 6828 5041 5454 4552 4e53 5b27 4153 5044  h(PATTERNS['ASPD
-0001a910: 5f47 5055 275d 2c20 6770 755f 6e61 6d65  _GPU'], gpu_name
-0001a920: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001a930: 2020 2076 656e 646f 7220 3d20 4770 7556     vendor = GpuV
-0001a940: 656e 646f 722e 4153 5045 4544 0a20 2020  endor.ASPEED.   
-0001a950: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-0001a960: 5f74 7970 6520 3d20 4770 7554 7970 652e  _type = GpuType.
-0001a970: 556e 7375 7070 6f72 7465 640a 2020 2020  Unsupported.    
-0001a980: 2020 2020 2020 2020 2020 2020 7265 6164              read
-0001a990: 6162 6c65 203d 2054 7275 650a 2020 2020  able = True.    
-0001a9a0: 2020 2020 2020 2020 656c 6966 2072 652e          elif re.
-0001a9b0: 7365 6172 6368 2850 4154 5445 524e 535b  search(PATTERNS[
-0001a9c0: 274d 5452 585f 4750 5527 5d2c 2067 7075  'MTRX_GPU'], gpu
-0001a9d0: 5f6e 616d 6529 3a0a 2020 2020 2020 2020  _name):.        
-0001a9e0: 2020 2020 2020 2020 7665 6e64 6f72 203d          vendor =
-0001a9f0: 2047 7075 5665 6e64 6f72 2e4d 4154 524f   GpuVendor.MATRO
-0001aa00: 580a 2020 2020 2020 2020 2020 2020 2020  X.              
-0001aa10: 2020 6770 755f 7479 7065 203d 2047 7075    gpu_type = Gpu
-0001aa20: 5479 7065 2e55 6e73 7570 706f 7274 6564  Type.Unsupported
-0001aa30: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-0001aa40: 5365 7420 636f 6d70 7574 6520 666c 6167  Set compute flag
-0001aa50: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0001aa60: 7365 6c66 2e6f 7065 6e63 6c5f 6d61 703a  self.opencl_map:
-0001aa70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001aa80: 2069 6620 7063 6965 5f69 6420 696e 2073   if pcie_id in s
-0001aa90: 656c 662e 6f70 656e 636c 5f6d 6170 3a0a  elf.opencl_map:.
-0001aaa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aab0: 2020 2020 6966 2027 6465 7669 6365 5f76      if 'device_v
-0001aac0: 6572 7369 6f6e 2720 696e 2073 656c 662e  ersion' in self.
-0001aad0: 6f70 656e 636c 5f6d 6170 5b70 6369 655f  opencl_map[pcie_
-0001aae0: 6964 5d3a 0a20 2020 2020 2020 2020 2020  id]:.           
-0001aaf0: 2020 2020 2020 2020 2020 2020 206f 7065               ope
-0001ab00: 6e63 6c5f 6465 7669 6365 5f76 6572 7369  ncl_device_versi
-0001ab10: 6f6e 203d 2073 656c 662e 6f70 656e 636c  on = self.opencl
-0001ab20: 5f6d 6170 5b70 6369 655f 6964 5d5b 2764  _map[pcie_id]['d
-0001ab30: 6576 6963 655f 7665 7273 696f 6e27 5d0a  evice_version'].
-0001ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab50: 2020 2020 2020 2020 636f 6d70 7574 6520          compute 
-0001ab60: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
-0001ab70: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001ab80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ab90: 2020 2020 2020 2020 2063 6f6d 7075 7465           compute
-0001aba0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-0001abb0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001abc0: 2020 2020 2020 2020 2020 2063 6f6d 7075             compu
-0001abd0: 7465 203d 2027 556e 6b6e 6f77 6e27 2069  te = 'Unknown' i
-0001abe0: 6620 6e6f 7420 4755 545f 434f 4e53 542e  f not GUT_CONST.
-0001abf0: 636d 645f 636c 696e 666f 2065 6c73 6520  cmd_clinfo else 
-0001ac00: 4661 6c73 650a 0a20 2020 2020 2020 2020  False..         
-0001ac10: 2020 2023 2047 6574 2044 7269 7665 7220     # Get Driver 
-0001ac20: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
-0001ac30: 2066 6f72 206c 7370 6369 5f6c 696e 6520   for lspci_line 
-0001ac40: 696e 206c 7370 6369 5f69 7465 6d73 3a0a  in lspci_items:.
-0001ac50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ac60: 6966 2072 652e 7365 6172 6368 2872 2728  if re.search(r'(
-0001ac70: 5b6b 4b5d 6572 6e65 6c29 272c 206c 7370  [kK]ernel)', lsp
-0001ac80: 6369 5f6c 696e 6529 3a0a 2020 2020 2020  ci_line):.      
-0001ac90: 2020 2020 2020 2020 2020 2020 2020 6472                dr
-0001aca0: 6976 6572 5f6d 6f64 756c 655f 6974 656d  iver_module_item
-0001acb0: 7320 3d20 6c73 7063 695f 6c69 6e65 2e73  s = lspci_line.s
-0001acc0: 706c 6974 2827 3a20 2729 0a20 2020 2020  plit(': ').     
-0001acd0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001ace0: 6620 6c65 6e28 6472 6976 6572 5f6d 6f64  f len(driver_mod
-0001acf0: 756c 655f 6974 656d 7329 203e 3d20 323a  ule_items) >= 2:
-0001ad00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ad10: 2020 2020 2020 2020 2064 7269 7665 725f           driver_
-0001ad20: 6d6f 6475 6c65 203d 2064 7269 7665 725f  module = driver_
-0001ad30: 6d6f 6475 6c65 5f69 7465 6d73 5b31 5d2e  module_items[1].
-0001ad40: 7374 7269 7028 290a 0a20 2020 2020 2020  strip()..       
-0001ad50: 2020 2020 2023 2047 6574 2066 756c 6c20       # Get full 
-0001ad60: 6361 7264 2070 6174 680a 2020 2020 2020  card path.      
-0001ad70: 2020 2020 2020 6465 7669 6365 5f64 6972        device_dir
-0001ad80: 7320 3d20 676c 6f62 286f 732e 7061 7468  s = glob(os.path
-0001ad90: 2e6a 6f69 6e28 4755 545f 434f 4e53 542e  .join(GUT_CONST.
-0001ada0: 6361 7264 5f72 6f6f 742c 2027 6361 7264  card_root, 'card
-0001adb0: 3f2f 6465 7669 6365 2729 290a 2020 2020  ?/device')).    
-0001adc0: 2020 2020 2020 2020 2320 4d61 7463 6820          # Match 
-0001add0: 7379 7374 656d 2064 6576 6963 6520 6469  system device di
-0001ade0: 7265 6374 6f72 7920 746f 2070 6369 6520  rectory to pcie 
-0001adf0: 4944 2e0a 2020 2020 2020 2020 2020 2020  ID..            
-0001ae00: 666f 7220 6465 7669 6365 5f64 6972 2069  for device_dir i
-0001ae10: 6e20 6465 7669 6365 5f64 6972 733a 0a20  n device_dirs:. 
-0001ae20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001ae30: 7973 6673 7061 7468 203d 2073 7472 2850  ysfspath = str(P
-0001ae40: 6174 6828 6465 7669 6365 5f64 6972 292e  ath(device_dir).
-0001ae50: 7265 736f 6c76 6528 2929 0a20 2020 2020  resolve()).     
-0001ae60: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
-0001ae70: 522e 6465 6275 6728 2773 7973 6670 6174  R.debug('sysfpat
-0001ae80: 683a 2025 735c 6e64 6576 6963 655f 6469  h: %s\ndevice_di
-0001ae90: 723a 2025 7327 2c20 7379 7366 7370 6174  r: %s', sysfspat
-0001aea0: 682c 2064 6576 6963 655f 6469 7229 0a20  h, device_dir). 
-0001aeb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001aec0: 6620 7063 6965 5f69 6420 696e 2028 7379  f pcie_id in (sy
-0001aed0: 7366 7370 6174 685b 2d37 3a5d 2c20 7379  sfspath[-7:], sy
-0001aee0: 7366 7370 6174 685b 2d31 323a 5d29 3a0a  sfspath[-12:]):.
-0001aef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af00: 2020 2020 6361 7264 5f70 6174 6820 3d20      card_path = 
-0001af10: 6465 7669 6365 5f64 6972 0a20 2020 2020  device_dir.     
-0001af20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001af30: 7973 5f63 6172 645f 7061 7468 203d 2073  ys_card_path = s
-0001af40: 7973 6673 7061 7468 0a20 2020 2020 2020  ysfspath.       
-0001af50: 2020 2020 2020 2020 2020 2020 204c 4f47               LOG
-0001af60: 4745 522e 6465 6275 6728 2763 6172 645f  GER.debug('card_
-0001af70: 7061 7468 2073 6574 2074 6f3a 2025 7327  path set to: %s'
-0001af80: 2c20 6465 7669 6365 5f64 6972 290a 0a20  , device_dir).. 
-0001af90: 2020 2020 2020 2020 2020 2023 204e 6f20             # No 
-0001afa0: 6361 7264 2070 6174 6820 636f 756c 6420  card path could 
-0001afb0: 6265 2066 6f75 6e64 2e20 2053 6574 2072  be found.  Set r
-0001afc0: 6561 6461 626c 652f 7772 6974 6162 6c65  eadable/writable
-0001afd0: 2074 6f20 4661 6c73 6520 616e 6420 7479   to False and ty
-0001afe0: 7065 2074 6f20 556e 7375 7070 6f72 7465  pe to Unsupporte
-0001aff0: 640a 2020 2020 2020 2020 2020 2020 6966  d.            if
-0001b000: 206e 6f74 2063 6172 645f 7061 7468 3a0a   not card_path:.
-0001b010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b020: 4c4f 4747 4552 2e64 6562 7567 2827 6361  LOGGER.debug('ca
-0001b030: 7264 5f70 6174 6820 6e6f 7420 7365 7420  rd_path not set 
-0001b040: 666f 723a 2025 7327 2c20 7063 6965 5f69  for: %s', pcie_i
-0001b050: 6429 0a20 2020 2020 2020 2020 2020 2020  d).             
-0001b060: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
-0001b070: 2747 5055 5b25 735d 2074 7970 6520 7365  'GPU[%s] type se
-0001b080: 7420 746f 2055 6e73 7570 706f 7274 6564  t to Unsupported
-0001b090: 272c 2067 7075 5f75 7569 6429 0a20 2020  ', gpu_uuid).   
-0001b0a0: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
-0001b0b0: 5f74 7970 6520 3d20 4770 7554 7970 652e  _type = GpuType.
-0001b0c0: 556e 7375 7070 6f72 7465 640a 2020 2020  Unsupported.    
-0001b0d0: 2020 2020 2020 2020 2020 2020 7265 6164              read
-0001b0e0: 6162 6c65 203d 2077 7269 7461 626c 6520  able = writable 
-0001b0f0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-0001b100: 2020 2020 2020 2020 7472 795f 7061 7468          try_path
-0001b110: 203d 2027 2f73 7973 2f64 6576 6963 6573   = '/sys/devices
-0001b120: 2f70 6369 2a3a 2a2f 270a 2020 2020 2020  /pci*:*/'.      
-0001b130: 2020 2020 2020 2020 2020 7379 735f 7063            sys_pc
-0001b140: 695f 6469 7273 203d 204e 6f6e 650a 2020  i_dirs = None.  
-0001b150: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-0001b160: 7220 5f20 696e 2072 616e 6765 2836 293a  r _ in range(6):
-0001b170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b180: 2020 2020 2069 6620 7265 2e66 756c 6c6d       if re.fullm
-0001b190: 6174 6368 2847 5554 5f43 4f4e 5354 2e50  atch(GUT_CONST.P
-0001b1a0: 4154 5445 524e 535b 2750 4349 5f41 4444  ATTERNS['PCI_ADD
-0001b1b0: 5f53 4852 5427 5d2c 2070 6369 655f 6964  _SHRT'], pcie_id
-0001b1c0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001b1d0: 2020 2020 2020 2020 2020 2073 6561 7263             searc
-0001b1e0: 685f 7061 7468 203d 206f 732e 7061 7468  h_path = os.path
-0001b1f0: 2e6a 6f69 6e28 7472 795f 7061 7468 2c20  .join(try_path, 
-0001b200: 273f 3f3f 3f3a 7b7d 272e 666f 726d 6174  '????:{}'.format
-0001b210: 2870 6369 655f 6964 2929 0a20 2020 2020  (pcie_id)).     
-0001b220: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0001b230: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001b240: 2020 2020 2020 2020 2020 2020 2073 6561               sea
-0001b250: 7263 685f 7061 7468 203d 206f 732e 7061  rch_path = os.pa
-0001b260: 7468 2e6a 6f69 6e28 7472 795f 7061 7468  th.join(try_path
-0001b270: 2c20 7063 6965 5f69 6429 0a20 2020 2020  , pcie_id).     
-0001b280: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001b290: 7973 5f70 6369 5f64 6972 7320 3d20 676c  ys_pci_dirs = gl
-0001b2a0: 6f62 2873 6561 7263 685f 7061 7468 290a  ob(search_path).
-0001b2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b2c0: 2020 2020 6966 2073 7973 5f70 6369 5f64      if sys_pci_d
-0001b2d0: 6972 733a 0a20 2020 2020 2020 2020 2020  irs:.           
-0001b2e0: 2020 2020 2020 2020 2020 2020 2023 2046               # F
-0001b2f0: 6f75 6e64 2061 206d 6174 6368 0a20 2020  ound a match.   
-0001b300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b310: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
-0001b320: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001b330: 7279 5f70 6174 6820 3d20 6f73 2e70 6174  ry_path = os.pat
-0001b340: 682e 6a6f 696e 2874 7279 5f70 6174 682c  h.join(try_path,
-0001b350: 2027 3f3f 3f3f 3a3f 3f3a 3f3f 2e3f 2729   '????:??:??.?')
-0001b360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b370: 2069 6620 6e6f 7420 7379 735f 7063 695f   if not sys_pci_
-0001b380: 6469 7273 3a0a 2020 2020 2020 2020 2020  dirs:.          
-0001b390: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
-0001b3a0: 2e64 6562 7567 2827 2f73 7973 2f64 6576  .debug('/sys/dev
-0001b3b0: 6963 6520 6669 6c65 2073 6561 7263 6820  ice file search 
-0001b3c0: 666f 756e 6420 6e6f 206d 6174 6368 2074  found no match t
-0001b3d0: 6f20 7063 6965 5f69 643a 2025 7327 2c20  o pcie_id: %s', 
-0001b3e0: 7063 6965 5f69 6429 0a20 2020 2020 2020  pcie_id).       
-0001b3f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0001b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b410: 2020 2069 6620 6c65 6e28 7379 735f 7063     if len(sys_pc
-0001b420: 695f 6469 7273 2920 3e20 313a 0a20 2020  i_dirs) > 1:.   
-0001b430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b440: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-0001b450: 6728 272f 7379 732f 6465 7669 6365 2066  g('/sys/device f
-0001b460: 696c 6520 7365 6172 6368 2066 6f75 6e64  ile search found
-0001b470: 206d 756c 7469 706c 6520 6d61 7463 6865   multiple matche
-0001b480: 7320 746f 2070 6369 655f 6964 2025 733a  s to pcie_id %s:
-0001b490: 5c6e 2573 272c 0a20 2020 2020 2020 2020  \n%s',.         
-0001b4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b4b0: 2020 2020 2020 2020 2020 2020 7063 6965              pcie
-0001b4c0: 5f69 642c 2073 7973 5f70 6369 5f64 6972  _id, sys_pci_dir
-0001b4d0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-0001b4e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001b4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b500: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-0001b510: 6728 272f 7379 732f 6465 7669 6365 2066  g('/sys/device f
-0001b520: 696c 6520 7365 6172 6368 2066 6f75 6e64  ile search found
-0001b530: 206d 6174 6368 2074 6f20 7063 6965 5f69   match to pcie_i
-0001b540: 6420 2573 3a5c 6e25 7327 2c0a 2020 2020  d %s:\n%s',.    
-0001b550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b570: 2070 6369 655f 6964 2c20 7379 735f 7063   pcie_id, sys_pc
-0001b580: 695f 6469 7273 290a 2020 2020 2020 2020  i_dirs).        
-0001b590: 2020 2020 2020 2020 2020 2020 7379 735f              sys_
-0001b5a0: 6361 7264 5f70 6174 6820 3d20 7379 735f  card_path = sys_
-0001b5b0: 7063 695f 6469 7273 5b30 5d0a 0a20 2020  pci_dirs[0]..   
-0001b5c0: 2020 2020 2020 2020 2023 2047 6574 2066           # Get f
-0001b5d0: 756c 6c20 6877 6d6f 6e20 7061 7468 0a20  ull hwmon path. 
-0001b5e0: 2020 2020 2020 2020 2020 2069 6620 6361             if ca
-0001b5f0: 7264 5f70 6174 683a 0a20 2020 2020 2020  rd_path:.       
-0001b600: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0001b610: 6465 6275 6728 2743 6172 6420 6469 7220  debug('Card dir 
-0001b620: 5b25 735d 2063 6f6e 7465 6e74 733a 5c6e  [%s] contents:\n
-0001b630: 2573 272c 2063 6172 645f 7061 7468 2c20  %s', card_path, 
-0001b640: 6c69 7374 286f 732e 6c69 7374 6469 7228  list(os.listdir(
-0001b650: 6361 7264 5f70 6174 6829 2929 0a20 2020  card_path))).   
-0001b660: 2020 2020 2020 2020 2020 2020 2068 775f               hw_
-0001b670: 6669 6c65 5f73 7263 6820 3d20 676c 6f62  file_srch = glob
-0001b680: 286f 732e 7061 7468 2e6a 6f69 6e28 6361  (os.path.join(ca
-0001b690: 7264 5f70 6174 682c 2047 5554 5f43 4f4e  rd_path, GUT_CON
-0001b6a0: 5354 2e68 776d 6f6e 5f73 7562 2920 2b20  ST.hwmon_sub) + 
-0001b6b0: 273f 2729 0a20 2020 2020 2020 2020 2020  '?').           
-0001b6c0: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
-0001b6d0: 6728 2748 5720 6669 6c65 2073 6561 7263  g('HW file searc
-0001b6e0: 683a 2025 7327 2c20 6877 5f66 696c 655f  h: %s', hw_file_
-0001b6f0: 7372 6368 290a 2020 2020 2020 2020 2020  srch).          
-0001b700: 2020 2020 2020 6966 206c 656e 2868 775f        if len(hw_
-0001b710: 6669 6c65 5f73 7263 6829 203e 2031 3a0a  file_srch) > 1:.
-0001b720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b730: 2020 2020 4755 545f 434f 4e53 542e 7072      GUT_CONST.pr
-0001b740: 6f63 6573 735f 6d65 7373 6167 6528 274d  ocess_message('M
-0001b750: 6f72 6520 7468 616e 206f 6e65 2068 776d  ore than one hwm
-0001b760: 6f6e 2066 696c 6520 666f 756e 643a 207b  on file found: {
-0001b770: 7d27 2e66 6f72 6d61 7428 6877 5f66 696c  }'.format(hw_fil
-0001b780: 655f 7372 6368 2929 0a20 2020 2020 2020  e_srch)).       
-0001b790: 2020 2020 2020 2020 2020 2020 204c 4f47               LOG
-0001b7a0: 4745 522e 6465 6275 6728 274d 6f72 6520  GER.debug('More 
-0001b7b0: 7468 616e 206f 6e65 2068 776d 6f6e 2066  than one hwmon f
-0001b7c0: 696c 6520 666f 756e 643a 2025 7327 2c20  ile found: %s', 
-0001b7d0: 6877 5f66 696c 655f 7372 6368 290a 2020  hw_file_srch).  
-0001b7e0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0001b7f0: 6966 206c 656e 2868 775f 6669 6c65 5f73  if len(hw_file_s
-0001b800: 7263 6829 203d 3d20 313a 0a20 2020 2020  rch) == 1:.     
-0001b810: 2020 2020 2020 2020 2020 2020 2020 2068                 h
-0001b820: 776d 6f6e 5f70 6174 6820 3d20 6877 5f66  wmon_path = hw_f
-0001b830: 696c 655f 7372 6368 5b30 5d0a 2020 2020  ile_srch[0].    
-0001b840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b850: 4c4f 4747 4552 2e64 6562 7567 2827 4857  LOGGER.debug('HW
-0001b860: 2064 6972 205b 2573 5d20 636f 6e74 656e   dir [%s] conten
-0001b870: 7473 3a5c 6e25 7327 2c20 6877 6d6f 6e5f  ts:\n%s', hwmon_
-0001b880: 7061 7468 2c20 6c69 7374 286f 732e 6c69  path, list(os.li
-0001b890: 7374 6469 7228 6877 6d6f 6e5f 7061 7468  stdir(hwmon_path
-0001b8a0: 2929 290a 0a20 2020 2020 2020 2020 2020  )))..           
-0001b8b0: 2023 2043 6865 636b 2041 4d44 2077 7269   # Check AMD wri
-0001b8c0: 7465 2063 6170 6162 696c 6974 790a 2020  te capability.  
-0001b8d0: 2020 2020 2020 2020 2020 6966 2076 656e            if ven
-0001b8e0: 646f 7220 3d3d 2047 7075 5665 6e64 6f72  dor == GpuVendor
-0001b8f0: 2e41 4d44 2061 6e64 2063 6172 645f 7061  .AMD and card_pa
-0001b900: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
-0001b910: 2020 2020 7070 5f6f 645f 636c 6b5f 766f      pp_od_clk_vo
-0001b920: 6c74 6167 655f 6669 6c65 203d 206f 732e  ltage_file = os.
-0001b930: 7061 7468 2e6a 6f69 6e28 6361 7264 5f70  path.join(card_p
-0001b940: 6174 682c 2027 7070 5f6f 645f 636c 6b5f  ath, 'pp_od_clk_
-0001b950: 766f 6c74 6167 6527 290a 2020 2020 2020  voltage').      
-0001b960: 2020 2020 2020 2020 2020 6966 206f 732e            if os.
-0001b970: 7061 7468 2e69 7366 696c 6528 7070 5f6f  path.isfile(pp_o
-0001b980: 645f 636c 6b5f 766f 6c74 6167 655f 6669  d_clk_voltage_fi
-0001b990: 6c65 293a 0a20 2020 2020 2020 2020 2020  le):.           
-0001b9a0: 2020 2020 2020 2020 2070 705f 6f64 5f66           pp_od_f
-0001b9b0: 696c 655f 6465 7461 696c 7320 3d20 2745  ile_details = 'E
-0001b9c0: 7869 7374 7327 0a20 2020 2020 2020 2020  xists'.         
-0001b9d0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-0001b9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b9f0: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
-0001ba00: 6e28 7070 5f6f 645f 636c 6b5f 766f 6c74  n(pp_od_clk_volt
-0001ba10: 6167 655f 6669 6c65 2c20 2772 272c 2065  age_file, 'r', e
-0001ba20: 6e63 6f64 696e 673d 2775 7466 2d38 2729  ncoding='utf-8')
-0001ba30: 2061 7320 6669 6c65 5f70 7472 3a0a 2020   as file_ptr:.  
-0001ba40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ba50: 2020 2020 2020 2020 2020 7070 5f6f 645f            pp_od_
-0001ba60: 6669 6c65 5f64 6574 6169 6c73 203d 2066  file_details = f
-0001ba70: 696c 655f 7074 722e 7265 6164 2829 0a20  ile_ptr.read(). 
-0001ba80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ba90: 2020 2065 7863 6570 7420 4f53 4572 726f     except OSErro
-0001baa0: 7220 6173 2065 7863 6570 745f 6572 723a  r as except_err:
-0001bab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001bac0: 2020 2020 2020 2020 2070 705f 6f64 5f66           pp_od_f
-0001bad0: 696c 655f 6465 7461 696c 7320 3d20 277b  ile_details = '{
-0001bae0: 7d20 6e6f 7420 7265 6164 6162 6c65 272e  } not readable'.
-0001baf0: 666f 726d 6174 2870 705f 6f64 5f63 6c6b  format(pp_od_clk
-0001bb00: 5f76 6f6c 7461 6765 5f66 696c 6529 0a20  _voltage_file). 
-0001bb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bb20: 2020 2020 2020 2073 656c 665b 6770 755f         self[gpu_
-0001bb30: 7575 6964 5d2e 6469 7361 626c 655f 7061  uuid].disable_pa
-0001bb40: 7261 6d5f 7265 6164 2828 2770 705f 6f64  ram_read(('pp_od
-0001bb50: 5f63 6c6b 5f76 6f6c 7461 6765 272c 2027  _clk_voltage', '
-0001bb60: 7363 6c6b 5f66 5f72 616e 6765 272c 0a20  sclk_f_range',. 
-0001bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bba0: 2020 2020 2020 2020 2020 276d 636c 6b5f            'mclk_
-0001bbb0: 665f 7261 6e67 6527 2c20 2776 6464 635f  f_range', 'vddc_
-0001bbc0: 7261 6e67 6527 2929 0a20 2020 2020 2020  range')).       
-0001bbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bbe0: 206d 6573 7361 6765 203d 2027 4572 726f   message = 'Erro
-0001bbf0: 723a 2073 7973 7465 6d20 7375 7070 6f72  r: system suppor
-0001bc00: 7420 6973 7375 6520 666f 7220 7b7d 3a20  t issue for {}: 
-0001bc10: 5b7b 7d5d 272e 666f 726d 6174 2870 6369  [{}]'.format(pci
-0001bc20: 655f 6964 2c20 6578 6365 7074 5f65 7272  e_id, except_err
-0001bc30: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001bc40: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
-0001bc50: 2e64 6562 7567 286d 6573 7361 6765 290a  .debug(message).
-0001bc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bc70: 2020 2020 2020 2020 7072 696e 7428 6d65          print(me
-0001bc80: 7373 6167 6529 0a20 2020 2020 2020 2020  ssage).         
-0001bc90: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-0001bca0: 7075 5f74 7970 6520 3d20 4770 7554 7970  pu_type = GpuTyp
-0001bcb0: 652e 556e 7375 7070 6f72 7465 640a 2020  e.Unsupported.  
-0001bcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bcd0: 2020 2020 2020 7772 6974 6162 6c65 203d        writable =
-0001bce0: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-0001bcf0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001bd00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001bd10: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0001bd20: 6465 6275 6728 2725 7320 6578 6973 7473  debug('%s exists
-0001bd30: 2c20 6f70 656e 6564 2c20 616e 6420 7265  , opened, and re
-0001bd40: 6164 2e27 2c20 7070 5f6f 645f 636c 6b5f  ad.', pp_od_clk_
-0001bd50: 766f 6c74 6167 655f 6669 6c65 290a 2020  voltage_file).  
-0001bd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bd70: 2020 2020 2020 6966 206e 6f74 2070 705f        if not pp_
-0001bd80: 6f64 5f66 696c 655f 6465 7461 696c 732e  od_file_details.
-0001bd90: 7374 7269 7028 292e 7374 7269 7028 275c  strip().strip('\
-0001bda0: 6e27 293a 0a20 2020 2020 2020 2020 2020  n'):.           
-0001bdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bdc0: 2073 656c 665b 6770 755f 7575 6964 5d2e   self[gpu_uuid].
-0001bdd0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
-0001bde0: 6164 2828 2770 705f 6f64 5f63 6c6b 5f76  ad(('pp_od_clk_v
-0001bdf0: 6f6c 7461 6765 272c 2027 7363 6c6b 5f66  oltage', 'sclk_f
-0001be00: 5f72 616e 6765 272c 0a20 2020 2020 2020  _range',.       
-0001be10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be40: 2020 2020 2020 2020 276d 636c 6b5f 665f          'mclk_f_
-0001be50: 7261 6e67 6527 2c20 2776 6464 635f 7261  range', 'vddc_ra
-0001be60: 6e67 6527 2929 0a20 2020 2020 2020 2020  nge')).         
-0001be70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001be80: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
-0001be90: 2725 7320 6578 6973 7473 2c20 6275 7420  '%s exists, but 
-0001bea0: 656d 7074 7920 6f6e 2072 6561 642e 272c  empty on read.',
-0001beb0: 2070 705f 6f64 5f63 6c6b 5f76 6f6c 7461   pp_od_clk_volta
-0001bec0: 6765 5f66 696c 6529 0a20 2020 2020 2020  ge_file).       
-0001bed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bee0: 2020 2020 2067 7075 5f74 7970 6520 3d20       gpu_type = 
-0001bef0: 4770 7554 7970 652e 556e 7375 7070 6f72  GpuType.Unsuppor
-0001bf00: 7465 640a 2020 2020 2020 2020 2020 2020  ted.            
-0001bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf20: 7265 6164 6162 6c65 203d 2054 7275 650a  readable = True.
-0001bf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf40: 2020 2020 2020 2020 2020 2020 7772 6974              writ
-0001bf50: 6162 6c65 203d 2046 616c 7365 0a20 2020  able = False.   
-0001bf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf70: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00017ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017cb0: 2027 2327 2e6c 6a75 7374 2835 3020 2d20   '#'.ljust(50 - 
+00017cc0: 6c61 6265 6c5f 6c65 6e67 7468 2c20 2723  label_length, '#
+00017cd0: 2729 2929 0a20 2020 2020 2020 2020 2020  '))).           
+00017ce0: 2066 6f72 206e 616d 652c 2076 616c 7565   for name, value
+00017cf0: 2069 6e20 7365 6e73 6f72 732e 6974 656d   in sensors.item
+00017d00: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+00017d10: 2020 2020 2028 7365 6e73 6f72 5f6b 6579       (sensor_key
+00017d20: 2c20 6465 7363 7269 7074 696f 6e29 203d  , description) =
+00017d30: 2073 656c 662e 6765 745f 6b65 795f 6465   self.get_key_de
+00017d40: 7363 7269 7074 696f 6e28 6e61 6d65 290a  scription(name).
+00017d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d60: 7072 696e 7428 2723 2323 2046 696c 653a  print('### File:
+00017d70: 207b 7d2c 2053 656e 736f 724b 6579 3a20   {}, SensorKey: 
+00017d80: 7b7d 2c20 4c61 6265 6c3a 207b 7d27 2e66  {}, Label: {}'.f
+00017d90: 6f72 6d61 7428 6e61 6d65 2c20 7365 6e73  ormat(name, sens
+00017da0: 6f72 5f6b 6579 2c20 6465 7363 7269 7074  or_key, descript
+00017db0: 696f 6e29 290a 2020 2020 2020 2020 2020  ion)).          
+00017dc0: 2020 2020 2020 666f 7220 6c69 6e65 2069        for line i
+00017dd0: 6e20 7661 6c75 652e 7370 6c69 7428 275c  n value.split('\
+00017de0: 6e27 293a 0a20 2020 2020 2020 2020 2020  n'):.           
+00017df0: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
+00017e00: 7b7d 2020 2020 7b7d 7b7d 272e 666f 726d  {}    {}{}'.form
+00017e10: 6174 2863 6f6c 6f72 2c20 6c69 6e65 2c20  at(color, line, 
+00017e20: 636f 6c6f 725f 7265 7365 7429 290a 2020  color_reset)).  
+00017e30: 2020 2020 2020 7072 696e 7428 277b 7d5c        print('{}\
+00017e40: 6e27 2e66 6f72 6d61 7428 2723 272e 6c6a  n'.format('#'.lj
+00017e50: 7573 7428 3530 2c20 2723 2729 2929 0a0a  ust(50, '#')))..
+00017e60: 2020 2020 6465 6620 7072 696e 7428 7365      def print(se
+00017e70: 6c66 2c20 7368 6f72 743a 2062 6f6f 6c20  lf, short: bool 
+00017e80: 3d20 4661 6c73 652c 206e 6577 6c69 6e65  = False, newline
+00017e90: 3a20 626f 6f6c 203d 2054 7275 6529 202d  : bool = True) -
+00017ea0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+00017eb0: 2222 2220 4469 7370 6c61 7920 6c73 206c  """ Display ls l
+00017ec0: 696b 6520 6c69 7374 696e 6720 6675 6e63  ike listing func
+00017ed0: 7469 6f6e 2066 6f72 2047 5055 2070 6172  tion for GPU par
+00017ee0: 616d 6574 6572 732e 0a0a 2020 2020 2020  ameters...      
+00017ef0: 2020 3a70 6172 616d 2073 686f 7274 3a20    :param short: 
+00017f00: 2044 6973 706c 6179 2073 686f 7274 2076   Display short v
+00017f10: 6572 7369 6f6e 206c 6973 7469 6e67 2e0a  ersion listing..
+00017f20: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
+00017f30: 6577 6c69 6e65 3a20 2044 6973 706c 6179  ewline:  Display
+00017f40: 2074 6572 6d69 6e61 7469 6e67 206e 6577   terminating new
+00017f50: 6c69 6e65 2069 6620 5472 7565 0a20 2020  line if True.   
+00017f60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00017f70: 2063 6f6c 6f72 5f72 6573 6574 3a20 7374   color_reset: st
+00017f80: 7220 3d20 2727 0a20 2020 2020 2020 2066  r = ''.        f
+00017f90: 6f72 2070 6172 616d 5f6e 616d 652c 2070  or param_name, p
+00017fa0: 6172 616d 5f6c 6162 656c 2069 6e20 7365  aram_label in se
+00017fb0: 6c66 2e5f 4750 555f 5061 7261 6d5f 4c61  lf._GPU_Param_La
+00017fc0: 6265 6c73 2e69 7465 6d73 2829 3a0a 2020  bels.items():.  
+00017fd0: 2020 2020 2020 2020 2020 6966 2073 686f            if sho
+00017fe0: 7274 2061 6e64 2070 6172 616d 5f6e 616d  rt and param_nam
+00017ff0: 6520 6e6f 7420 696e 2073 656c 662e 7368  e not in self.sh
+00018000: 6f72 745f 6c69 7374 3a0a 2020 2020 2020  ort_list:.      
+00018010: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+00018020: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
+00018030: 2320 4861 7264 206c 696d 6974 7320 6f6e  # Hard limits on
+00018040: 2077 6861 7420 7479 7065 732f 7665 6e64   what types/vend
+00018050: 6f72 7320 6361 6e20 7072 696e 7420 7768  ors can print wh
+00018060: 6174 2070 6172 616d 730a 2020 2020 2020  at params.      
+00018070: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00018080: 2020 2020 2020 2020 2020 2069 6620 7061             if pa
+00018090: 7261 6d5f 6e61 6d65 2069 6e20 4770 7549  ram_name in GpuI
+000180a0: 7465 6d2e 7665 6e64 6f72 5f73 6b69 705f  tem.vendor_skip_
+000180b0: 6c69 7374 735b 7365 6c66 2e70 726d 2e76  lists[self.prm.v
+000180c0: 656e 646f 725d 3a0a 2020 2020 2020 2020  endor]:.        
+000180d0: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+000180e0: 696e 7565 0a20 2020 2020 2020 2020 2020  inue.           
+000180f0: 2065 7863 6570 7420 4b65 7945 7272 6f72   except KeyError
+00018100: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00018110: 2020 7061 7373 0a20 2020 2020 2020 2020    pass.         
+00018120: 2020 2069 6620 7365 6c66 2e70 726d 2e67     if self.prm.g
+00018130: 7075 5f74 7970 6520 696e 2028 4770 7554  pu_type in (GpuT
+00018140: 7970 652e 4c65 6761 6379 4150 552c 2047  ype.LegacyAPU, G
+00018150: 7075 5479 7065 2e41 5055 293a 0a20 2020  puType.APU):.   
+00018160: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00018170: 7061 7261 6d5f 6e61 6d65 2069 6e20 7365  param_name in se
+00018180: 6c66 2e5f 6661 6e5f 6974 656d 5f6c 6973  lf._fan_item_lis
+00018190: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+000181a0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+000181b0: 0a20 2020 2020 2020 2020 2020 2023 2053  .            # S
+000181c0: 6974 7561 7469 6f6e 7320 7768 6572 6520  ituations where 
+000181d0: 7061 7261 6d65 7465 7220 6c69 6d69 7473  parameter limits
+000181e0: 2063 616e 2062 6520 6f76 6572 7269 6464   can be overridd
+000181f0: 656e 2062 7920 666f 7263 655f 616c 6c0a  en by force_all.
+00018200: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+00018210: 6f74 2047 5554 5f43 4f4e 5354 2e66 6f72  ot GUT_CONST.for
+00018220: 6365 5f61 6c6c 3a0a 2020 2020 2020 2020  ce_all:.        
+00018230: 2020 2020 2020 2020 6966 2070 6172 616d          if param
+00018240: 5f6e 616d 6520 696e 2047 7075 4974 656d  _name in GpuItem
+00018250: 2e61 6d64 5f74 7970 655f 736b 6970 5f6c  .amd_type_skip_l
+00018260: 6973 7473 5b73 656c 662e 7072 6d2e 6770  ists[self.prm.gp
+00018270: 755f 7479 7065 5d3a 0a20 2020 2020 2020  u_type]:.       
+00018280: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018290: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
+000182a0: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+000182b0: 662e 7072 6d2e 7265 6164 6162 6c65 2061  f.prm.readable a
+000182c0: 6e64 2070 6172 616d 5f6e 616d 6520 6e6f  nd param_name no
+000182d0: 7420 696e 2073 656c 662e 4750 555f 4e43  t in self.GPU_NC
+000182e0: 5f50 6172 616d 5f4c 6973 743a 0a20 2020  _Param_List:.   
+000182f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018300: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+00018310: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00018320: 2073 656c 662e 7061 7261 6d5f 6973 5f61   self.param_is_a
+00018330: 6374 6976 6528 7061 7261 6d5f 6e61 6d65  ctive(param_name
+00018340: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00018350: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+00018360: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+00018370: 6f72 203d 2073 656c 662e 6d61 726b 5f75  or = self.mark_u
+00018380: 705f 636f 6465 735b 276e 6f6e 6527 5d0a  p_codes['none'].
+00018390: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
+000183a0: 725f 7265 7365 7420 3d20 7365 6c66 2e6d  r_reset = self.m
+000183b0: 6172 6b5f 7570 5f63 6f64 6573 5b27 6e6f  ark_up_codes['no
+000183c0: 6e65 275d 2069 6620 4755 545f 434f 4e53  ne'] if GUT_CONS
+000183d0: 542e 6e6f 5f6d 6172 6b75 7020 656c 7365  T.no_markup else
+000183e0: 2073 656c 662e 6d61 726b 5f75 705f 636f   self.mark_up_co
+000183f0: 6465 735b 2772 6573 6574 275d 0a20 2020  des['reset'].   
+00018400: 2020 2020 2020 2020 2070 7265 203d 2027           pre = '
+00018410: 2720 6966 2070 6172 616d 5f6e 616d 6520  ' if param_name 
+00018420: 3d3d 2027 6361 7264 5f6e 756d 2720 656c  == 'card_num' el
+00018430: 7365 2027 2020 2027 0a20 2020 2020 2020  se '   '.       
+00018440: 2020 2020 2069 6620 7265 2e73 6561 7263       if re.searc
+00018450: 6828 7227 7365 705c 6427 2c20 7061 7261  h(r'sep\d', para
+00018460: 6d5f 6e61 6d65 293a 0a20 2020 2020 2020  m_name):.       
+00018470: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
+00018480: 7b7d 7b7d 272e 666f 726d 6174 2870 7265  {}{}'.format(pre
+00018490: 2c20 7061 7261 6d5f 6c61 6265 6c2e 6c6a  , param_label.lj
+000184a0: 7573 7428 3530 2c20 7061 7261 6d5f 6c61  ust(50, param_la
+000184b0: 6265 6c29 2929 0a20 2020 2020 2020 2020  bel))).         
+000184c0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+000184d0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+000184e0: 6172 616d 5f6e 616d 6520 3d3d 2027 756e  aram_name == 'un
+000184f0: 6971 7565 5f69 6427 3a0a 2020 2020 2020  ique_id':.      
+00018500: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+00018510: 662e 7072 6d2e 756e 6971 7565 5f69 6420  f.prm.unique_id 
+00018520: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00018530: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00018540: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
+00018550: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00018560: 7365 6c66 2e67 6574 5f70 6172 616d 735f  self.get_params_
+00018570: 7661 6c75 6528 7061 7261 6d5f 6e61 6d65  value(param_name
+00018580: 292c 2066 6c6f 6174 293a 0a20 2020 2020  ), float):.     
+00018590: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+000185a0: 7420 4755 545f 434f 4e53 542e 6e6f 5f6d  t GUT_CONST.no_m
+000185b0: 6172 6b75 703a 2063 6f6c 6f72 203d 2073  arkup: color = s
+000185c0: 656c 662e 6d61 726b 5f75 705f 636f 6465  elf.mark_up_code
+000185d0: 735b 2764 6174 6127 5d0a 2020 2020 2020  s['data'].      
+000185e0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+000185f0: 277b 7d7b 7d3a 207b 7d7b 3a2e 3366 7d7b  '{}{}: {}{:.3f}{
+00018600: 7d27 2e66 6f72 6d61 7428 7072 652c 2070  }'.format(pre, p
+00018610: 6172 616d 5f6c 6162 656c 2c20 636f 6c6f  aram_label, colo
+00018620: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+00018630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018650: 2020 2073 656c 662e 6765 745f 7061 7261     self.get_para
+00018660: 6d73 5f76 616c 7565 2870 6172 616d 5f6e  ms_value(param_n
+00018670: 616d 6529 2c20 636f 6c6f 725f 7265 7365  ame), color_rese
+00018680: 7429 290a 2020 2020 2020 2020 2020 2020  t)).            
+00018690: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
+000186a0: 7365 6c66 2e67 6574 5f70 6172 616d 735f  self.get_params_
+000186b0: 7661 6c75 6528 7061 7261 6d5f 6e61 6d65  value(param_name
+000186c0: 292c 2064 6963 7429 3a0a 2020 2020 2020  ), dict):.      
+000186d0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+000186e0: 2047 5554 5f43 4f4e 5354 2e6e 6f5f 6d61   GUT_CONST.no_ma
+000186f0: 726b 7570 3a20 636f 6c6f 7220 3d20 7365  rkup: color = se
+00018700: 6c66 2e6d 6172 6b5f 7570 5f63 6f64 6573  lf.mark_up_codes
+00018710: 5b27 6461 7461 275d 0a20 2020 2020 2020  ['data'].       
+00018720: 2020 2020 2020 2020 2070 6172 616d 5f64           param_d
+00018730: 6963 743a 2044 6963 7420 3d20 7365 6c66  ict: Dict = self
+00018740: 2e67 6574 5f70 6172 616d 735f 7661 6c75  .get_params_valu
+00018750: 6528 7061 7261 6d5f 6e61 6d65 290a 2020  e(param_name).  
+00018760: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00018770: 696e 7428 277b 7d7b 7d3a 207b 7d7b 7d7b  int('{}{}: {}{}{
+00018780: 7d27 2e66 6f72 6d61 7428 7072 652c 2070  }'.format(pre, p
+00018790: 6172 616d 5f6c 6162 656c 2c20 636f 6c6f  aram_label, colo
+000187a0: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+000187b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000187c0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000187d0: 6b65 793a 2070 6172 616d 5f64 6963 745b  key: param_dict[
+000187e0: 6b65 795d 2066 6f72 206b 6579 2069 6e20  key] for key in 
+000187f0: 736f 7274 6564 2870 6172 616d 5f64 6963  sorted(param_dic
+00018800: 7429 7d2c 2063 6f6c 6f72 5f72 6573 6574  t)}, color_reset
+00018810: 2929 0a20 2020 2020 2020 2020 2020 2065  )).            e
+00018820: 6c69 6620 7061 7261 6d5f 6e61 6d65 203d  lif param_name =
+00018830: 3d20 2776 656e 646f 7227 3a0a 2020 2020  = 'vendor':.    
+00018840: 2020 2020 2020 2020 2020 2020 7665 6e64              vend
+00018850: 6f72 203d 2073 656c 662e 6765 745f 7061  or = self.get_pa
+00018860: 7261 6d73 5f76 616c 7565 2870 6172 616d  rams_value(param
+00018870: 5f6e 616d 6529 0a20 2020 2020 2020 2020  _name).         
+00018880: 2020 2020 2020 2069 6620 6e6f 7420 4755         if not GU
+00018890: 545f 434f 4e53 542e 6e6f 5f6d 6172 6b75  T_CONST.no_marku
+000188a0: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
+000188b0: 2020 2020 2020 2069 6620 7665 6e64 6f72         if vendor
+000188c0: 2e6e 616d 6520 696e 2028 4770 7556 656e  .name in (GpuVen
+000188d0: 646f 722e 414d 442e 6e61 6d65 2c20 4770  dor.AMD.name, Gp
+000188e0: 7556 656e 646f 722e 4e56 4944 4941 2e6e  uVendor.NVIDIA.n
+000188f0: 616d 652c 2047 7075 5665 6e64 6f72 2e49  ame, GpuVendor.I
+00018900: 4e54 454c 2e6e 616d 6529 3a0a 2020 2020  NTEL.name):.    
+00018910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018920: 2020 2020 636f 6c6f 7220 3d20 7365 6c66      color = self
+00018930: 2e6d 6172 6b5f 7570 5f63 6f64 6573 5b76  .mark_up_codes[v
+00018940: 656e 646f 722e 6e61 6d65 5d0a 2020 2020  endor.name].    
+00018950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018960: 656c 7365 3a20 636f 6c6f 7220 3d20 7365  else: color = se
+00018970: 6c66 2e6d 6172 6b5f 7570 5f63 6f64 6573  lf.mark_up_codes
+00018980: 5b27 6f74 6865 7227 5d0a 2020 2020 2020  ['other'].      
+00018990: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+000189a0: 277b 7d7b 7d3a 207b 7d20 7b7d 207b 7d27  '{}{}: {} {} {}'
+000189b0: 2e66 6f72 6d61 7428 7072 652c 2070 6172  .format(pre, par
+000189c0: 616d 5f6c 6162 656c 2c20 636f 6c6f 722c  am_label, color,
+000189d0: 2076 656e 646f 722c 2063 6f6c 6f72 5f72   vendor, color_r
+000189e0: 6573 6574 2929 0a20 2020 2020 2020 2020  eset)).         
+000189f0: 2020 2065 6c69 6620 7365 6c66 2e67 6574     elif self.get
+00018a00: 5f70 6172 616d 735f 7661 6c75 6528 7061  _params_value(pa
+00018a10: 7261 6d5f 6e61 6d65 2920 3d3d 2027 273a  ram_name) == '':
+00018a20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018a30: 2069 6620 6e6f 7420 4755 545f 434f 4e53   if not GUT_CONS
+00018a40: 542e 6e6f 5f6d 6172 6b75 703a 2063 6f6c  T.no_markup: col
+00018a50: 6f72 203d 2073 656c 662e 6d61 726b 5f75  or = self.mark_u
+00018a60: 705f 636f 6465 735b 2764 6174 6127 5d0a  p_codes['data'].
+00018a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a80: 7072 696e 7428 277b 7d7b 7d3a 207b 7d7b  print('{}{}: {}{
+00018a90: 7d7b 7d27 2e66 6f72 6d61 7428 7072 652c  }{}'.format(pre,
+00018aa0: 2070 6172 616d 5f6c 6162 656c 2c20 636f   param_label, co
+00018ab0: 6c6f 722c 204e 6f6e 652c 2063 6f6c 6f72  lor, None, color
+00018ac0: 5f72 6573 6574 2929 0a20 2020 2020 2020  _reset)).       
+00018ad0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00018ae0: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00018af0: 7420 4755 545f 434f 4e53 542e 6e6f 5f6d  t GUT_CONST.no_m
+00018b00: 6172 6b75 703a 2063 6f6c 6f72 203d 2073  arkup: color = s
+00018b10: 656c 662e 6d61 726b 5f75 705f 636f 6465  elf.mark_up_code
+00018b20: 735b 2764 6174 6127 5d0a 2020 2020 2020  s['data'].      
+00018b30: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00018b40: 277b 7d7b 7d3a 207b 7d7b 7d7b 7d27 2e66  '{}{}: {}{}{}'.f
+00018b50: 6f72 6d61 7428 7072 652c 2070 6172 616d  ormat(pre, param
+00018b60: 5f6c 6162 656c 2c20 636f 6c6f 722c 2073  _label, color, s
+00018b70: 656c 662e 6765 745f 7061 7261 6d73 5f76  elf.get_params_v
+00018b80: 616c 7565 2870 6172 616d 5f6e 616d 6529  alue(param_name)
+00018b90: 2c20 636f 6c6f 725f 7265 7365 7429 290a  , color_reset)).
+00018ba0: 2020 2020 2020 2020 7365 6c66 2e70 7269          self.pri
+00018bb0: 6e74 5f64 6973 6162 6c65 645f 7061 7261  nt_disabled_para
+00018bc0: 6d73 2829 0a20 2020 2020 2020 2070 7269  ms().        pri
+00018bd0: 6e74 2827 7b7d 272e 666f 726d 6174 2863  nt('{}'.format(c
+00018be0: 6f6c 6f72 5f72 6573 6574 292c 2065 6e64  olor_reset), end
+00018bf0: 3d27 2729 0a20 2020 2020 2020 2069 6620  ='').        if 
+00018c00: 6e65 776c 696e 653a 2070 7269 6e74 2827  newline: print('
+00018c10: 2729 0a0a 2020 2020 6465 6620 6765 745f  ')..    def get_
+00018c20: 706c 6f74 5f64 6174 6128 7365 6c66 2920  plot_data(self) 
+00018c30: 2d3e 2064 6963 743a 0a20 2020 2020 2020  -> dict:.       
+00018c40: 2022 2222 2052 6574 7572 6e20 6120 6469   """ Return a di
+00018c50: 6374 696f 6e61 7279 206f 6620 6479 6e61  ctionary of dyna
+00018c60: 6d69 6320 6770 7520 7061 7261 6d65 7465  mic gpu paramete
+00018c70: 7273 2075 7365 6420 6279 2067 7075 2d70  rs used by gpu-p
+00018c80: 6c6f 7420 746f 2070 6f70 756c 6174 6520  lot to populate 
+00018c90: 6120 6466 2e0a 0a20 2020 2020 2020 203a  a df...        :
+00018ca0: 7265 7475 726e 3a20 4469 6374 696f 6e61  return: Dictiona
+00018cb0: 7279 206f 6620 4750 5520 7374 6174 6520  ry of GPU state 
+00018cc0: 696e 666f 2066 6f72 2070 6c6f 7420 6461  info for plot da
+00018cd0: 7461 2e0a 2020 2020 2020 2020 2222 220a  ta..        """.
+00018ce0: 2020 2020 2020 2020 6770 755f 7374 6174          gpu_stat
+00018cf0: 6520 3d20 7b27 5469 6d65 273a 2073 7472  e = {'Time': str
+00018d00: 2873 656c 662e 6765 745f 7061 7261 6d73  (self.get_params
+00018d10: 5f76 616c 7565 2827 7265 6164 5f74 696d  _value('read_tim
+00018d20: 6527 292e 7374 7266 7469 6d65 2847 5554  e').strftime(GUT
+00018d30: 5f43 4f4e 5354 2e54 494d 455f 464f 524d  _CONST.TIME_FORM
+00018d40: 4154 2929 2c0a 2020 2020 2020 2020 2020  AT)),.          
+00018d50: 2020 2020 2020 2020 2020 2027 4361 7264             'Card
+00018d60: 2327 3a20 696e 7428 7365 6c66 2e70 726d  #': int(self.prm
+00018d70: 2e63 6172 645f 6e75 6d29 7d0a 0a20 2020  .card_num)}..   
+00018d80: 2020 2020 2066 6f72 2074 6162 6c65 5f69       for table_i
+00018d90: 7465 6d20 696e 2073 656c 662e 7461 626c  tem in self.tabl
+00018da0: 655f 7061 7261 6d65 7465 7273 3a0a 2020  e_parameters:.  
+00018db0: 2020 2020 2020 2020 2020 6770 755f 7374            gpu_st
+00018dc0: 6174 655b 7461 626c 655f 6974 656d 5d20  ate[table_item] 
+00018dd0: 3d20 666f 726d 6174 5f74 6162 6c65 5f76  = format_table_v
+00018de0: 616c 7565 2873 656c 662e 6765 745f 7061  alue(self.get_pa
+00018df0: 7261 6d73 5f76 616c 7565 2874 6162 6c65  rams_value(table
+00018e00: 5f69 7465 6d29 2c20 7461 626c 655f 6974  _item), table_it
+00018e10: 656d 290a 2020 2020 2020 2020 7265 7475  em).        retu
+00018e20: 726e 2067 7075 5f73 7461 7465 0a0a 0a63  rn gpu_state...c
+00018e30: 6c61 7373 2047 7075 4c69 7374 3a0a 2020  lass GpuList:.  
+00018e40: 2020 2222 2220 4120 6c69 7374 206f 6620    """ A list of 
+00018e50: 4770 7549 7465 6d20 696e 6465 7865 6420  GpuItem indexed 
+00018e60: 7769 7468 2075 7569 642e 2020 4974 2061  with uuid.  It a
+00018e70: 6c73 6f20 636f 6e74 6169 6e73 2061 2074  lso contains a t
+00018e80: 6162 6c65 206f 6620 7061 7261 6d65 7465  able of paramete
+00018e90: 7273 2075 7365 6420 666f 7220 7374 6174  rs used for stat
+00018ea0: 7573 2072 6570 6f72 7469 6e67 2e0a 2020  us reporting..  
+00018eb0: 2020 2222 220a 2020 2020 6465 6620 5f5f    """.    def __
+00018ec0: 696e 6974 5f5f 2873 656c 6629 202d 3e20  init__(self) -> 
+00018ed0: 4e6f 6e65 3a0a 2020 2020 2020 2020 7365  None:.        se
+00018ee0: 6c66 2e6c 6973 743a 2044 6963 745b 7374  lf.list: Dict[st
+00018ef0: 722c 2047 7075 4974 656d 5d20 3d20 7b7d  r, GpuItem] = {}
+00018f00: 0a20 2020 2020 2020 2073 656c 662e 6f70  .        self.op
+00018f10: 656e 636c 5f6d 6170 3a20 6469 6374 203d  encl_map: dict =
+00018f20: 207b 7d0a 2020 2020 2020 2020 7365 6c66   {}.        self
+00018f30: 2e61 6d64 5f66 6561 7475 7265 6d61 736b  .amd_featuremask
+00018f40: 3a20 4f70 7469 6f6e 616c 5b69 6e74 5d20  : Optional[int] 
+00018f50: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
+00018f60: 656c 662e 6375 7272 656e 745f 616d 645f  elf.current_amd_
+00018f70: 6665 6174 7572 656d 6173 6b3a 2055 6e69  featuremask: Uni
+00018f80: 6f6e 5b73 7472 2c20 696e 742c 204e 6f6e  on[str, int, Non
+00018f90: 655d 203d 204e 6f6e 650a 2020 2020 2020  e] = None.      
+00018fa0: 2020 7365 6c66 2e61 6d64 5f77 6174 746d    self.amd_wattm
+00018fb0: 616e 3a20 626f 6f6c 203d 2046 616c 7365  an: bool = False
+00018fc0: 0a20 2020 2020 2020 2073 656c 662e 616d  .        self.am
+00018fd0: 645f 7772 6974 6162 6c65 3a20 626f 6f6c  d_writable: bool
+00018fe0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+00018ff0: 2073 656c 662e 6e76 5f72 6561 6477 7269   self.nv_readwri
+00019000: 7461 626c 653a 2062 6f6f 6c20 3d20 4661  table: bool = Fa
+00019010: 6c73 650a 0a20 2020 2064 6566 205f 5f72  lse..    def __r
+00019020: 6570 725f 5f28 7365 6c66 2920 2d3e 2073  epr__(self) -> s
+00019030: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00019040: 726e 2073 7472 2873 656c 662e 6c69 7374  rn str(self.list
+00019050: 290a 0a20 2020 2064 6566 205f 5f73 7472  )..    def __str
+00019060: 5f5f 2873 656c 6629 202d 3e20 7374 723a  __(self) -> str:
+00019070: 0a20 2020 2020 2020 206e 756d 5f67 7075  .        num_gpu
+00019080: 7320 3d20 7365 6c66 2e6e 756d 5f67 7075  s = self.num_gpu
+00019090: 7328 290a 0a20 2020 2020 2020 2064 6566  s()..        def
+000190a0: 206e 756d 5f69 735f 6172 6528 6e75 6d3a   num_is_are(num:
+000190b0: 2069 6e74 2c20 7369 6e67 756c 6172 3a20   int, singular: 
+000190c0: 7374 7220 3d20 2769 7327 2c20 706c 7572  str = 'is', plur
+000190d0: 616c 3a20 7374 7220 3d20 2761 7265 2729  al: str = 'are')
+000190e0: 202d 3e20 5475 706c 655b 696e 742c 2073   -> Tuple[int, s
+000190f0: 7472 5d3a 0a20 2020 2020 2020 2020 2020  tr]:.           
+00019100: 2022 2222 2044 6574 6572 6d69 6e65 2069   """ Determine i
+00019110: 6620 7369 6e67 756c 6172 206f 7220 706c  f singular or pl
+00019120: 7572 616c 2072 6566 6572 656e 6365 7320  ural references 
+00019130: 6172 6520 6e65 6564 6564 2e20 2052 6574  are needed.  Ret
+00019140: 7572 6e20 636f 7272 6563 7420 7665 7273  urn correct vers
+00019150: 696f 6e2e 0a0a 2020 2020 2020 2020 2020  ion...          
+00019160: 2020 3a70 6172 616d 206e 756d 3a20 5175    :param num: Qu
+00019170: 616e 7469 7479 0a20 2020 2020 2020 2020  antity.         
+00019180: 2020 203a 7061 7261 6d20 7369 6e67 756c     :param singul
+00019190: 6172 3a20 5369 6e67 756c 6172 2076 6572  ar: Singular ver
+000191a0: 7369 6f6e 206f 6620 776f 7264 0a20 2020  sion of word.   
+000191b0: 2020 2020 2020 2020 203a 7061 7261 6d20           :param 
+000191c0: 706c 7572 616c 3a20 506c 7572 616c 2076  plural: Plural v
+000191d0: 6572 7369 6f6e 206f 6620 776f 7264 0a20  ersion of word. 
+000191e0: 2020 2020 2020 2020 2020 203a 7265 7475             :retu
+000191f0: 726e 3a20 4569 7468 6572 2073 696e 6775  rn: Either singu
+00019200: 6c61 7220 6f72 2070 6c75 7261 6c20 7665  lar or plural ve
+00019210: 7273 696f 6e20 6f66 2077 6f72 642e 0a20  rsion of word.. 
+00019220: 2020 2020 2020 2020 2020 2022 2222 0a20             """. 
+00019230: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00019240: 6e20 6e75 6d2c 2070 6c75 7261 6c20 6966  n num, plural if
+00019250: 206e 756d 2021 3d20 3120 656c 7365 2073   num != 1 else s
+00019260: 696e 6775 6c61 720a 0a20 2020 2020 2020  ingular..       
+00019270: 2072 6574 7572 6e20 2754 6f74 616c 206f   return 'Total o
+00019280: 6620 7b7d 207b 7d3a 207b 7d20 7b7d 2072  f {} {}: {} {} r
+00019290: 772c 207b 7d20 7b7d 2072 2d6f 6e6c 792c  w, {} {} r-only,
+000192a0: 2061 6e64 207b 7d20 7b7d 2077 2d6f 6e6c   and {} {} w-onl
+000192b0: 795c 6e27 2e66 6f72 6d61 7428 0a20 2020  y\n'.format(.   
+000192c0: 2020 2020 2020 2020 202a 6e75 6d5f 6973           *num_is
+000192d0: 5f61 7265 286e 756d 5f67 7075 735b 2774  _are(num_gpus['t
+000192e0: 6f74 616c 275d 2c20 2747 5055 272c 2027  otal'], 'GPU', '
+000192f0: 4750 5573 2729 2c0a 2020 2020 2020 2020  GPUs'),.        
+00019300: 2020 2020 2a6e 756d 5f69 735f 6172 6528      *num_is_are(
+00019310: 6e75 6d5f 6770 7573 5b27 7277 275d 292c  num_gpus['rw']),
+00019320: 0a20 2020 2020 2020 2020 2020 202a 6e75  .            *nu
+00019330: 6d5f 6973 5f61 7265 286e 756d 5f67 7075  m_is_are(num_gpu
+00019340: 735b 2772 2d6f 6e6c 7927 5d29 2c0a 2020  s['r-only']),.  
+00019350: 2020 2020 2020 2020 2020 2a6e 756d 5f69            *num_i
+00019360: 735f 6172 6528 6e75 6d5f 6770 7573 5b27  s_are(num_gpus['
+00019370: 772d 6f6e 6c79 275d 2929 0a0a 2020 2020  w-only']))..    
+00019380: 6465 6620 5f5f 6765 7469 7465 6d5f 5f28  def __getitem__(
+00019390: 7365 6c66 2c20 7575 6964 3a20 7374 7229  self, uuid: str)
+000193a0: 202d 3e20 4770 7549 7465 6d3a 0a20 2020   -> GpuItem:.   
+000193b0: 2020 2020 2069 6620 7575 6964 2069 6e20       if uuid in 
+000193c0: 7365 6c66 2e6c 6973 743a 0a20 2020 2020  self.list:.     
+000193d0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+000193e0: 6c66 2e6c 6973 745b 7575 6964 5d0a 2020  lf.list[uuid].  
+000193f0: 2020 2020 2020 7261 6973 6520 4b65 7945        raise KeyE
+00019400: 7272 6f72 2827 4b65 7945 7272 6f72 3a20  rror('KeyError: 
+00019410: 696e 7661 6c69 6420 7575 6964 3a20 7b7d  invalid uuid: {}
+00019420: 272e 666f 726d 6174 2875 7569 6429 290a  '.format(uuid)).
+00019430: 0a20 2020 2064 6566 205f 5f73 6574 6974  .    def __setit
+00019440: 656d 5f5f 2873 656c 662c 2075 7569 643a  em__(self, uuid:
+00019450: 2073 7472 2c20 7661 6c75 653a 2047 7075   str, value: Gpu
+00019460: 4974 656d 2920 2d3e 204e 6f6e 653a 0a20  Item) -> None:. 
+00019470: 2020 2020 2020 2073 656c 662e 6c69 7374         self.list
+00019480: 5b75 7569 645d 203d 2076 616c 7565 0a0a  [uuid] = value..
+00019490: 2020 2020 6465 6620 5f5f 6974 6572 5f5f      def __iter__
+000194a0: 2873 656c 6629 202d 3e20 4765 6e65 7261  (self) -> Genera
+000194b0: 746f 725b 4770 7549 7465 6d2c 204e 6f6e  tor[GpuItem, Non
+000194c0: 652c 204e 6f6e 655d 3a0a 2020 2020 2020  e, None]:.      
+000194d0: 2020 666f 7220 7661 6c75 6520 696e 2073    for value in s
+000194e0: 656c 662e 6c69 7374 2e76 616c 7565 7328  elf.list.values(
+000194f0: 293a 0a20 2020 2020 2020 2020 2020 2079  ):.            y
+00019500: 6965 6c64 2076 616c 7565 0a0a 2020 2020  ield value..    
+00019510: 6465 6620 6974 656d 7328 7365 6c66 2920  def items(self) 
+00019520: 2d3e 2047 656e 6572 6174 6f72 5b55 6e69  -> Generator[Uni
+00019530: 6f6e 5b73 7472 2c20 4770 7549 7465 6d5d  on[str, GpuItem]
+00019540: 2c20 4e6f 6e65 2c20 4e6f 6e65 5d3a 0a20  , None, None]:. 
+00019550: 2020 2020 2020 2022 2222 2047 6574 2075         """ Get u
+00019560: 7569 642c 2067 7075 2070 6169 7273 2066  uid, gpu pairs f
+00019570: 726f 6d20 6120 4770 754c 6973 7420 6f62  rom a GpuList ob
+00019580: 6a65 6374 2e0a 0a20 2020 2020 2020 203a  ject...        :
+00019590: 7265 7475 726e 3a20 2075 7569 642c 2067  return:  uuid, g
+000195a0: 7075 2070 6169 720a 2020 2020 2020 2020  pu pair.        
+000195b0: 2222 220a 2020 2020 2020 2020 666f 7220  """.        for 
+000195c0: 6b65 792c 2076 616c 7565 2069 6e20 7365  key, value in se
+000195d0: 6c66 2e6c 6973 742e 6974 656d 7328 293a  lf.list.items():
+000195e0: 0a20 2020 2020 2020 2020 2020 2079 6965  .            yie
+000195f0: 6c64 206b 6579 2c20 7661 6c75 650a 0a20  ld key, value.. 
+00019600: 2020 2064 6566 2075 7569 6473 2873 656c     def uuids(sel
+00019610: 6629 202d 3e20 4765 6e65 7261 746f 725b  f) -> Generator[
+00019620: 7374 722c 204e 6f6e 652c 204e 6f6e 655d  str, None, None]
+00019630: 3a0a 2020 2020 2020 2020 2222 2220 4765  :.        """ Ge
+00019640: 7420 7575 6964 7320 6f66 2074 6865 2047  t uuids of the G
+00019650: 7075 4c69 7374 206f 626a 6563 742e 0a0a  puList object...
+00019660: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00019670: 2075 7569 6473 2066 726f 6d20 7468 6520   uuids from the 
+00019680: 4770 754c 6973 7420 6f62 6a65 6374 2e0a  GpuList object..
+00019690: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000196a0: 2020 2020 666f 7220 6b65 7920 696e 2073      for key in s
+000196b0: 656c 662e 6c69 7374 3a0a 2020 2020 2020  elf.list:.      
+000196c0: 2020 2020 2020 7969 656c 6420 6b65 790a        yield key.
+000196d0: 0a20 2020 2064 6566 2067 7075 7328 7365  .    def gpus(se
+000196e0: 6c66 2920 2d3e 2047 656e 6572 6174 6f72  lf) -> Generator
+000196f0: 5b47 7075 4974 656d 2c20 4e6f 6e65 2c20  [GpuItem, None, 
+00019700: 4e6f 6e65 5d3a 0a20 2020 2020 2020 2022  None]:.        "
+00019710: 2222 2047 6574 2047 7075 4974 656d 7320  "" Get GpuItems 
+00019720: 6672 6f6d 2061 2047 7075 4c69 7374 206f  from a GpuList o
+00019730: 626a 6563 742e 0a0a 2020 2020 2020 2020  bject...        
+00019740: 3a72 6574 7572 6e3a 2047 7075 5549 7465  :return: GpuUIte
+00019750: 6d0a 2020 2020 2020 2020 2222 220a 2020  m.        """.  
+00019760: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00019770: 662e 5f5f 6974 6572 5f5f 2829 0a0a 2020  f.__iter__()..  
+00019780: 2020 6465 6620 6164 6428 7365 6c66 2c20    def add(self, 
+00019790: 6770 755f 6974 656d 3a20 4770 7549 7465  gpu_item: GpuIte
+000197a0: 6d29 202d 3e20 4e6f 6e65 3a0a 2020 2020  m) -> None:.    
+000197b0: 2020 2020 2222 2220 4164 6420 6769 7665      """ Add give
+000197c0: 6e20 4770 7549 7465 6d20 746f 2074 6865  n GpuItem to the
+000197d0: 2047 7075 4c69 7374 2e0a 0a20 2020 2020   GpuList...     
+000197e0: 2020 203a 7061 7261 6d20 6770 755f 6974     :param gpu_it
+000197f0: 656d 3a20 2049 7465 6d20 746f 2062 6520  em:  Item to be 
+00019800: 6164 6465 640a 2020 2020 2020 2020 2222  added.        ""
+00019810: 220a 2020 2020 2020 2020 7365 6c66 5b67  ".        self[g
+00019820: 7075 5f69 7465 6d2e 7072 6d2e 7575 6964  pu_item.prm.uuid
+00019830: 5d20 3d20 6770 755f 6974 656d 0a20 2020  ] = gpu_item.   
+00019840: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
+00019850: 6728 2741 6464 6564 2047 5055 2049 7465  g('Added GPU Ite
+00019860: 6d20 2573 2074 6f20 4750 5520 4c69 7374  m %s to GPU List
+00019870: 272c 2067 7075 5f69 7465 6d2e 7072 6d2e  ', gpu_item.prm.
+00019880: 7575 6964 290a 0a20 2020 2064 6566 2067  uuid)..    def g
+00019890: 6574 5f70 6369 655f 6d61 7028 7365 6c66  et_pcie_map(self
+000198a0: 2920 2d3e 2064 6963 743a 0a20 2020 2020  ) -> dict:.     
+000198b0: 2020 2022 2222 2047 6574 206d 6170 7069     """ Get mappi
+000198c0: 6e67 206f 6620 6361 7264 206e 756d 6265  ng of card numbe
+000198d0: 7220 746f 2070 6369 6520 6164 6472 6573  r to pcie addres
+000198e0: 7320 6173 2064 6963 742e 0a0a 2020 2020  s as dict...    
+000198f0: 2020 2020 3a72 6574 7572 6e3a 2064 6963      :return: dic
+00019900: 7420 6f66 206e 756d 3a20 7063 6965 6964  t of num: pcieid
+00019910: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00019920: 2020 2020 2070 6369 655f 6469 6374 203d       pcie_dict =
+00019930: 207b 7d0a 2020 2020 2020 2020 666f 7220   {}.        for 
+00019940: 6770 7520 696e 2073 656c 662e 6770 7573  gpu in self.gpus
+00019950: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+00019960: 7063 6965 5f64 6963 742e 7570 6461 7465  pcie_dict.update
+00019970: 287b 6770 752e 7072 6d2e 6361 7264 5f6e  ({gpu.prm.card_n
+00019980: 756d 3a20 6770 752e 7072 6d2e 7063 6965  um: gpu.prm.pcie
+00019990: 5f69 647d 290a 2020 2020 2020 2020 7265  _id}).        re
+000199a0: 7475 726e 2070 6369 655f 6469 6374 0a0a  turn pcie_dict..
+000199b0: 2020 2020 6465 6620 7761 7474 6d61 6e5f      def wattman_
+000199c0: 7374 6174 7573 2873 656c 6629 202d 3e20  status(self) -> 
+000199d0: 7374 723a 0a20 2020 2020 2020 2022 2222  str:.        """
+000199e0: 2044 6973 706c 6179 2057 6174 746d 616e   Display Wattman
+000199f0: 2073 7461 7475 732e 0a0a 2020 2020 2020   status...      
+00019a00: 2020 3a72 6574 7572 6e3a 2020 5374 6174    :return:  Stat
+00019a10: 7573 2073 7472 696e 670a 2020 2020 2020  us string.      
+00019a20: 2020 2222 220a 2020 2020 2020 2020 4c4f    """.        LO
+00019a30: 4747 4552 2e64 6562 7567 2827 414d 4420  GGER.debug('AMD 
+00019a40: 6665 6174 7572 656d 6173 6b3a 2025 7327  featuremask: %s'
+00019a50: 2c20 6865 7828 7365 6c66 2e61 6d64 5f66  , hex(self.amd_f
+00019a60: 6561 7475 7265 6d61 736b 2929 0a20 2020  eaturemask)).   
+00019a70: 2020 2020 2069 6620 7365 6c66 2e61 6d64       if self.amd
+00019a80: 5f77 6174 746d 616e 3a0a 2020 2020 2020  _wattman:.      
+00019a90: 2020 2020 2020 7265 7475 726e 2027 5761        return 'Wa
+00019aa0: 7474 6d61 6e20 6665 6174 7572 6573 2065  ttman features e
+00019ab0: 6e61 626c 6564 3a20 7b7d 272e 666f 726d  nabled: {}'.form
+00019ac0: 6174 2868 6578 2873 656c 662e 616d 645f  at(hex(self.amd_
+00019ad0: 6665 6174 7572 656d 6173 6b29 290a 2020  featuremask)).  
+00019ae0: 2020 2020 2020 7265 7475 726e 2027 5761        return 'Wa
+00019af0: 7474 6d61 6e20 6665 6174 7572 6573 206e  ttman features n
+00019b00: 6f74 2065 6e61 626c 6564 3a20 7b7d 2c20  ot enabled: {}, 
+00019b10: 5365 6520 5245 4144 4d45 2066 696c 652e  See README file.
+00019b20: 272e 666f 726d 6174 2868 6578 2873 656c  '.format(hex(sel
+00019b30: 662e 616d 645f 6665 6174 7572 656d 6173  f.amd_featuremas
+00019b40: 6b29 290a 0a20 2020 2040 7374 6174 6963  k))..    @static
+00019b50: 6d65 7468 6f64 0a20 2020 2064 6566 2067  method.    def g
+00019b60: 6574 5f67 7075 5f70 6369 5f6c 6973 7428  et_gpu_pci_list(
+00019b70: 2920 2d3e 204f 7074 696f 6e61 6c5b 4c69  ) -> Optional[Li
+00019b80: 7374 5b73 7472 5d5d 3a0a 2020 2020 2020  st[str]]:.      
+00019b90: 2020 2222 2220 5573 6520 6361 6c6c 2074    """ Use call t
+00019ba0: 6f20 6c73 7063 6920 746f 2067 6574 2061  o lspci to get a
+00019bb0: 206c 6973 7420 6f66 2070 6369 2061 6464   list of pci add
+00019bc0: 7265 7373 6573 206f 6620 616c 6c20 4750  resses of all GP
+00019bd0: 5573 2e0a 0a20 2020 2020 2020 203a 7265  Us...        :re
+00019be0: 7475 726e 3a20 4c69 7374 206f 6620 4750  turn: List of GP
+00019bf0: 5520 7063 6920 6164 6472 6573 7365 7320  U pci addresses 
+00019c00: 6f72 204e 6f6e 652e 0a20 2020 2020 2020  or None..       
+00019c10: 2022 2222 0a20 2020 2020 2020 2070 6369   """.        pci
+00019c20: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+00019c30: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00019c40: 2020 2020 6c73 7063 695f 6f75 7470 7574      lspci_output
+00019c50: 203d 2073 7562 7072 6f63 6573 732e 6368   = subprocess.ch
+00019c60: 6563 6b5f 6f75 7470 7574 2847 5554 5f43  eck_output(GUT_C
+00019c70: 4f4e 5354 2e63 6d64 5f6c 7370 6369 2c20  ONST.cmd_lspci, 
+00019c80: 7368 656c 6c3d 4661 6c73 6529 2e64 6563  shell=False).dec
+00019c90: 6f64 6528 292e 7370 6c69 7428 275c 6e27  ode().split('\n'
+00019ca0: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
+00019cb0: 2028 7375 6270 726f 6365 7373 2e43 616c   (subprocess.Cal
+00019cc0: 6c65 6450 726f 6365 7373 4572 726f 722c  ledProcessError,
+00019cd0: 204f 5345 7272 6f72 2920 6173 2065 7863   OSError) as exc
+00019ce0: 6570 745f 6572 723a 0a20 2020 2020 2020  ept_err:.       
+00019cf0: 2020 2020 2070 7269 6e74 2827 4572 726f       print('Erro
+00019d00: 7220 5b7b 7d5d 3a20 6c73 7063 6920 6661  r [{}]: lspci fa
+00019d10: 696c 6564 2074 6f20 6669 6e64 2047 5055  iled to find GPU
+00019d20: 7327 2e66 6f72 6d61 7428 6578 6365 7074  s'.format(except
+00019d30: 5f65 7272 2929 0a20 2020 2020 2020 2020  _err)).         
+00019d40: 2020 2072 6574 7572 6e20 4e6f 6e65 0a0a     return None..
+00019d50: 2020 2020 2020 2020 666f 7220 6c73 7063          for lspc
+00019d60: 695f 6c69 6e65 2069 6e20 6c73 7063 695f  i_line in lspci_
+00019d70: 6f75 7470 7574 3a0a 2020 2020 2020 2020  output:.        
+00019d80: 2020 2020 6966 2072 652e 7365 6172 6368      if re.search
+00019d90: 2850 4154 5445 524e 535b 504b 2e50 4349  (PATTERNS[PK.PCI
+00019da0: 5f47 5055 5d2c 206c 7370 6369 5f6c 696e  _GPU], lspci_lin
+00019db0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00019dc0: 2020 2020 6966 2072 652e 7365 6172 6368      if re.search
+00019dd0: 2850 4154 5445 524e 535b 504b 2e4e 4f54  (PATTERNS[PK.NOT
+00019de0: 5f50 4349 5f47 5055 5d2c 206c 7370 6369  _PCI_GPU], lspci
+00019df0: 5f6c 696e 6529 3a0a 2020 2020 2020 2020  _line):.        
+00019e00: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+00019e10: 4552 2e64 6562 7567 2827 4578 636c 7564  ER.debug('Exclud
+00019e20: 6564 2070 6f73 7369 626c 6520 4750 5520  ed possible GPU 
+00019e30: 7063 693a 2025 7327 2c20 6c73 7063 695f  pci: %s', lspci_
+00019e40: 6c69 6e65 290a 2020 2020 2020 2020 2020  line).          
+00019e50: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+00019e60: 7565 0a20 2020 2020 2020 2020 2020 2020  ue.             
+00019e70: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
+00019e80: 2746 6f75 6e64 2047 5055 2070 6369 3a20  'Found GPU pci: 
+00019e90: 2573 272c 206c 7370 6369 5f6c 696e 6529  %s', lspci_line)
+00019ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019eb0: 2070 6369 6964 203d 2072 652e 7365 6172   pciid = re.sear
+00019ec0: 6368 2847 5554 5f43 4f4e 5354 2e50 4154  ch(GUT_CONST.PAT
+00019ed0: 5445 524e 535b 504b 2e50 4349 5f41 4444  TERNS[PK.PCI_ADD
+00019ee0: 5d2c 206c 7370 6369 5f6c 696e 6529 0a20  ], lspci_line). 
+00019ef0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00019f00: 6620 7063 6969 643a 2070 6369 5f6c 6973  f pciid: pci_lis
+00019f10: 742e 6170 7065 6e64 2870 6369 6964 2e67  t.append(pciid.g
+00019f20: 726f 7570 2830 2929 0a20 2020 2020 2020  roup(0)).       
+00019f30: 2072 6574 7572 6e20 7063 695f 6c69 7374   return pci_list
+00019f40: 0a0a 2020 2020 6465 6620 7365 745f 6770  ..    def set_gp
+00019f50: 755f 6c69 7374 2873 656c 662c 2063 6c69  u_list(self, cli
+00019f60: 6e66 6f5f 666c 6167 3a20 626f 6f6c 203d  nfo_flag: bool =
+00019f70: 2046 616c 7365 2920 2d3e 2062 6f6f 6c3a   False) -> bool:
+00019f80: 0a20 2020 2020 2020 2022 2222 2055 7365  .        """ Use
+00019f90: 206c 7370 6369 2074 6f20 706f 7075 6c61   lspci to popula
+00019fa0: 7465 206c 6973 7420 6f66 2061 6c6c 2069  te list of all i
+00019fb0: 6e73 7461 6c6c 6564 2047 5055 732e 0a0a  nstalled GPUs...
+00019fc0: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00019fd0: 2054 7275 6520 6f6e 2073 7563 6365 7373   True on success
+00019fe0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00019ff0: 2020 2020 2069 6620 6e6f 7420 4755 545f       if not GUT_
+0001a000: 434f 4e53 542e 636d 645f 6c73 7063 693a  CONST.cmd_lspci:
+0001a010: 2072 6574 7572 6e20 4661 6c73 650a 2020   return False.  
+0001a020: 2020 2020 2020 6966 2063 6c69 6e66 6f5f        if clinfo_
+0001a030: 666c 6167 3a0a 2020 2020 2020 2020 2020  flag:.          
+0001a040: 2020 7365 6c66 2e72 6561 645f 6770 755f    self.read_gpu_
+0001a050: 6f70 656e 636c 5f64 6174 6128 290a 2020  opencl_data().  
+0001a060: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+0001a070: 2e64 6562 7567 2827 4f70 656e 434c 206d  .debug('OpenCL m
+0001a080: 6170 3a20 2573 272c 2073 656c 662e 6f70  ap: %s', self.op
+0001a090: 656e 636c 5f6d 6170 290a 0a20 2020 2020  encl_map)..     
+0001a0a0: 2020 2023 2043 6865 636b 2041 4d44 2077     # Check AMD w
+0001a0b0: 7269 7461 6269 6c69 7479 0a20 2020 2020  ritability.     
+0001a0c0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+0001a0d0: 2020 2020 7365 6c66 2e61 6d64 5f66 6561      self.amd_fea
+0001a0e0: 7475 7265 6d61 736b 203d 2047 5554 5f43  turemask = GUT_C
+0001a0f0: 4f4e 5354 2e72 6561 645f 616d 6466 6561  ONST.read_amdfea
+0001a100: 7475 7265 6d61 736b 2829 0a20 2020 2020  turemask().     
+0001a110: 2020 2065 7863 6570 7420 4669 6c65 4e6f     except FileNo
+0001a120: 7446 6f75 6e64 4572 726f 723a 0a20 2020  tFoundError:.   
+0001a130: 2020 2020 2020 2020 2073 656c 662e 616d           self.am
+0001a140: 645f 7761 7474 6d61 6e20 3d20 7365 6c66  d_wattman = self
+0001a150: 2e61 6d64 5f77 7269 7461 626c 6520 3d20  .amd_writable = 
+0001a160: 4661 6c73 650a 0a20 2020 2020 2020 2023  False..        #
+0001a170: 2054 4f44 4f3a 204e 6565 6420 746f 2072   TODO: Need to r
+0001a180: 6573 6561 7263 6820 6f6e 2073 7065 6369  esearch on speci
+0001a190: 6669 6361 6c6c 7920 7768 6963 6820 6269  fically which bi
+0001a1a0: 7473 2061 7265 2072 6571 7569 7265 6420  ts are required 
+0001a1b0: 746f 2077 7269 7465 2074 6f20 4750 552e  to write to GPU.
+0001a1c0: 0a20 2020 2020 2020 2023 7365 6c66 2e61  .        #self.a
+0001a1d0: 6d64 5f77 6174 746d 616e 203d 2073 656c  md_wattman = sel
+0001a1e0: 662e 616d 645f 7772 6974 6162 6c65 203d  f.amd_writable =
+0001a1f0: 2073 656c 662e 616d 645f 6665 6174 7572   self.amd_featur
+0001a200: 656d 6173 6b20 2620 3078 3430 3030 0a20  emask & 0x4000. 
+0001a210: 2020 2020 2020 2073 656c 662e 616d 645f         self.amd_
+0001a220: 7761 7474 6d61 6e20 3d20 7365 6c66 2e61  wattman = self.a
+0001a230: 6d64 5f77 7269 7461 626c 6520 3d20 2873  md_writable = (s
+0001a240: 656c 662e 616d 645f 6665 6174 7572 656d  elf.amd_featurem
+0001a250: 6173 6b20 3d3d 2069 6e74 2830 7866 6666  ask == int(0xfff
+0001a260: 6637 6666 6629 206f 720a 2020 2020 2020  f7fff) or.      
+0001a270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a290: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
+0001a2a0: 6d64 5f66 6561 7475 7265 6d61 736b 203d  md_featuremask =
+0001a2b0: 3d20 696e 7428 3078 6666 6637 6666 6666  = int(0xfff7ffff
+0001a2c0: 2920 6f72 0a20 2020 2020 2020 2020 2020  ) or.           
+0001a2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a2f0: 2020 2020 2073 656c 662e 616d 645f 6665       self.amd_fe
+0001a300: 6174 7572 656d 6173 6b20 3d3d 2069 6e74  aturemask == int
+0001a310: 2830 7866 6666 6666 6666 6629 206f 720a  (0xffffffff) or.
+0001a320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a350: 7365 6c66 2e61 6d64 5f66 6561 7475 7265  self.amd_feature
+0001a360: 6d61 736b 203d 3d20 696e 7428 3078 6666  mask == int(0xff
+0001a370: 6664 3766 6666 2929 0a0a 2020 2020 2020  fd7fff))..      
+0001a380: 2020 2320 4368 6563 6b20 4e56 2072 6561    # Check NV rea
+0001a390: 642f 7772 6974 6162 696c 6974 790a 2020  d/writability.  
+0001a3a0: 2020 2020 2020 6966 2047 5554 5f43 4f4e        if GUT_CON
+0001a3b0: 5354 2e63 6d64 5f6e 7669 6469 615f 736d  ST.cmd_nvidia_sm
+0001a3c0: 693a 0a20 2020 2020 2020 2020 2020 2073  i:.            s
+0001a3d0: 656c 662e 6e76 5f72 6561 6477 7269 7461  elf.nv_readwrita
+0001a3e0: 626c 6520 3d20 5472 7565 0a0a 2020 2020  ble = True..    
+0001a3f0: 2020 2020 7063 6965 5f69 6473 203d 2073      pcie_ids = s
+0001a400: 656c 662e 6765 745f 6770 755f 7063 695f  elf.get_gpu_pci_
+0001a410: 6c69 7374 2829 0a20 2020 2020 2020 2069  list().        i
+0001a420: 6620 6e6f 7420 7063 6965 5f69 6473 3a0a  f not pcie_ids:.
+0001a430: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+0001a440: 7428 2745 7272 6f72 205b 656d 7074 7920  t('Error [empty 
+0001a450: 6c69 7374 5d3a 206c 7370 6369 2066 6169  list]: lspci fai
+0001a460: 6c65 6420 746f 2066 696e 6420 4750 5573  led to find GPUs
+0001a470: 2729 0a20 2020 2020 2020 2020 2020 2072  ').            r
+0001a480: 6574 7572 6e20 4661 6c73 650a 0a20 2020  eturn False..   
+0001a490: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
+0001a4a0: 6728 2746 6f75 6e64 2025 7320 4750 5573  g('Found %s GPUs
+0001a4b0: 272c 206c 656e 2870 6369 655f 6964 7329  ', len(pcie_ids)
+0001a4c0: 290a 2020 2020 2020 2020 666f 7220 7063  ).        for pc
+0001a4d0: 6965 5f69 6420 696e 2070 6369 655f 6964  ie_id in pcie_id
+0001a4e0: 733a 0a20 2020 2020 2020 2020 2020 2023  s:.            #
+0001a4f0: 2049 6e69 7469 616c 2047 5055 2049 7465   Initial GPU Ite
+0001a500: 6d0a 2020 2020 2020 2020 2020 2020 6770  m.            gp
+0001a510: 755f 7575 6964 203d 2075 7569 6434 2829  u_uuid = uuid4()
+0001a520: 2e68 6578 0a20 2020 2020 2020 2020 2020  .hex.           
+0001a530: 2073 656c 662e 6164 6428 4770 7549 7465   self.add(GpuIte
+0001a540: 6d28 6770 755f 7575 6964 2929 0a20 2020  m(gpu_uuid)).   
+0001a550: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
+0001a560: 6465 6275 6728 2747 5055 3a20 2573 272c  debug('GPU: %s',
+0001a570: 2070 6369 655f 6964 290a 2020 2020 2020   pcie_id).      
+0001a580: 2020 2020 2020 6770 755f 6e61 6d65 203d        gpu_name =
+0001a590: 2027 554e 4b4e 4f57 4e27 0a20 2020 2020   'UNKNOWN'.     
+0001a5a0: 2020 2020 2020 2064 7269 7665 725f 6d6f         driver_mo
+0001a5b0: 6475 6c65 203d 2027 554e 4b4e 4f57 4e27  dule = 'UNKNOWN'
+0001a5c0: 0a20 2020 2020 2020 2020 2020 2063 6172  .            car
+0001a5d0: 645f 7061 7468 203d 2027 270a 2020 2020  d_path = ''.    
+0001a5e0: 2020 2020 2020 2020 7379 735f 6361 7264          sys_card
+0001a5f0: 5f70 6174 6820 3d20 2727 0a20 2020 2020  _path = ''.     
+0001a600: 2020 2020 2020 2068 776d 6f6e 5f70 6174         hwmon_pat
+0001a610: 6820 3d20 2727 0a20 2020 2020 2020 2020  h = ''.         
+0001a620: 2020 2072 6561 6461 626c 6520 3d20 7772     readable = wr
+0001a630: 6974 6162 6c65 203d 2063 6f6d 7075 7465  itable = compute
+0001a640: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+0001a650: 2020 2020 2067 7075 5f74 7970 6520 3d20       gpu_type = 
+0001a660: 4770 7554 7970 652e 556e 6465 6669 6e65  GpuType.Undefine
+0001a670: 640a 2020 2020 2020 2020 2020 2020 7665  d.            ve
+0001a680: 6e64 6f72 203d 2047 7075 5665 6e64 6f72  ndor = GpuVendor
+0001a690: 2e55 6e64 6566 696e 6564 0a20 2020 2020  .Undefined.     
+0001a6a0: 2020 2020 2020 206f 7065 6e63 6c5f 6465         opencl_de
+0001a6b0: 7669 6365 5f76 6572 7369 6f6e 203d 204e  vice_version = N
+0001a6c0: 6f6e 6520 6966 2063 6c69 6e66 6f5f 666c  one if clinfo_fl
+0001a6d0: 6167 2065 6c73 6520 2755 4e4b 4e4f 574e  ag else 'UNKNOWN
+0001a6e0: 270a 0a20 2020 2020 2020 2020 2020 2023  '..            #
+0001a6f0: 2047 6574 206d 6f72 6520 4750 5520 6465   Get more GPU de
+0001a700: 7461 696c 7320 6672 6f6d 206c 7370 6369  tails from lspci
+0001a710: 202d 6b20 2d73 0a20 2020 2020 2020 2020   -k -s.         
+0001a720: 2020 2063 6d64 5f73 7472 203d 2027 7b7d     cmd_str = '{}
+0001a730: 202d 6b20 2d73 207b 7d27 2e66 6f72 6d61   -k -s {}'.forma
+0001a740: 7428 4755 545f 434f 4e53 542e 636d 645f  t(GUT_CONST.cmd_
+0001a750: 6c73 7063 692c 2070 6369 655f 6964 290a  lspci, pcie_id).
+0001a760: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0001a770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a780: 206c 7370 6369 5f69 7465 6d73 203d 2073   lspci_items = s
+0001a790: 7562 7072 6f63 6573 732e 6368 6563 6b5f  ubprocess.check_
+0001a7a0: 6f75 7470 7574 2873 686c 6578 5f73 706c  output(shlex_spl
+0001a7b0: 6974 2863 6d64 5f73 7472 292c 2073 6865  it(cmd_str), she
+0001a7c0: 6c6c 3d46 616c 7365 292e 6465 636f 6465  ll=False).decode
+0001a7d0: 2829 2e73 706c 6974 2827 5c6e 2729 0a20  ().split('\n'). 
+0001a7e0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001a7f0: 7420 2873 7562 7072 6f63 6573 732e 4361  t (subprocess.Ca
+0001a800: 6c6c 6564 5072 6f63 6573 7345 7272 6f72  lledProcessError
+0001a810: 2c20 4f53 4572 726f 7229 2061 7320 6578  , OSError) as ex
+0001a820: 6365 7074 5f65 7272 3a0a 2020 2020 2020  cept_err:.      
+0001a830: 2020 2020 2020 2020 2020 6d65 7373 6167            messag
+0001a840: 6520 3d20 2746 6174 616c 2045 7272 6f72  e = 'Fatal Error
+0001a850: 205b 7b7d 5d3a 2043 616e 206e 6f74 2067   [{}]: Can not g
+0001a860: 6574 2047 5055 2064 6574 6169 6c73 2077  et GPU details w
+0001a870: 6974 6820 6c73 7063 692e 272e 666f 726d  ith lspci.'.form
+0001a880: 6174 2865 7863 6570 745f 6572 7229 0a20  at(except_err). 
+0001a890: 2020 2020 2020 2020 2020 2020 2020 204c                 L
+0001a8a0: 4f47 4745 522e 6465 6275 6728 6d65 7373  OGGER.debug(mess
+0001a8b0: 6167 6529 0a20 2020 2020 2020 2020 2020  age).           
+0001a8c0: 2020 2020 2070 7269 6e74 286d 6573 7361       print(messa
+0001a8d0: 6765 2c20 6669 6c65 3d73 7973 2e73 7464  ge, file=sys.std
+0001a8e0: 6572 7229 0a20 2020 2020 2020 2020 2020  err).           
+0001a8f0: 2020 2020 2073 7973 2e65 7869 7428 2d31       sys.exit(-1
+0001a900: 290a 2020 2020 2020 2020 2020 2020 4c4f  ).            LO
+0001a910: 4747 4552 2e64 6562 7567 2827 6c73 7063  GGER.debug('lspc
+0001a920: 6920 6f75 7470 7574 2069 7465 6d73 3a5c  i output items:\
+0001a930: 6e20 2573 272c 206c 7370 6369 5f69 7465  n %s', lspci_ite
+0001a940: 6d73 290a 0a20 2020 2020 2020 2020 2020  ms)..           
+0001a950: 2023 2047 6574 204c 6f6e 6720 4750 5520   # Get Long GPU 
+0001a960: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
+0001a970: 2067 7075 5f6e 616d 655f 6974 656d 7320   gpu_name_items 
+0001a980: 3d20 6c73 7063 695f 6974 656d 735b 305d  = lspci_items[0]
+0001a990: 2e73 706c 6974 2827 3a20 272c 206d 6178  .split(': ', max
+0001a9a0: 7370 6c69 743d 3129 0a20 2020 2020 2020  split=1).       
+0001a9b0: 2020 2020 2069 6620 6c65 6e28 6770 755f       if len(gpu_
+0001a9c0: 6e61 6d65 5f69 7465 6d73 2920 3e3d 2032  name_items) >= 2
+0001a9d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001a9e0: 2020 6770 755f 6e61 6d65 203d 2067 7075    gpu_name = gpu
+0001a9f0: 5f6e 616d 655f 6974 656d 735b 315d 0a20  _name_items[1]. 
+0001aa00: 2020 2020 2020 2020 2020 2023 2043 6865             # Che
+0001aa10: 636b 2066 6f72 2046 696a 6920 5072 6f44  ck for Fiji ProD
+0001aa20: 756f 0a20 2020 2020 2020 2020 2020 2069  uo.            i
+0001aa30: 6620 7265 2e73 6561 7263 6828 2746 696a  f re.search('Fij
+0001aa40: 6927 2c20 6770 755f 6e61 6d65 293a 0a20  i', gpu_name):. 
+0001aa50: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001aa60: 6620 7265 2e73 6561 7263 6828 7227 5261  f re.search(r'Ra
+0001aa70: 6465 6f6e 2050 726f 2044 756f 272c 206c  deon Pro Duo', l
+0001aa80: 7370 6369 5f69 7465 6d73 5b31 5d2e 7370  spci_items[1].sp
+0001aa90: 6c69 7428 275b 414d 442f 4154 495d 2729  lit('[AMD/ATI]')
+0001aaa0: 5b31 5d29 3a0a 2020 2020 2020 2020 2020  [1]):.          
+0001aab0: 2020 2020 2020 2020 2020 6770 755f 6e61            gpu_na
+0001aac0: 6d65 203d 2027 5261 6465 6f6e 2046 696a  me = 'Radeon Fij
+0001aad0: 6920 5072 6f20 4475 6f27 0a20 2020 2020  i Pro Duo'.     
+0001aae0: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
+0001aaf0: 6275 6728 2767 7075 5f6e 616d 653a 205b  bug('gpu_name: [
+0001ab00: 2573 5d27 2c20 6770 755f 6e61 6d65 290a  %s]', gpu_name).
+0001ab10: 0a20 2020 2020 2020 2020 2020 2023 2047  .            # G
+0001ab20: 6574 2047 5055 2062 7261 6e64 3a20 414d  et GPU brand: AM
+0001ab30: 442c 2049 4e54 454c 2c20 4e56 4944 4941  D, INTEL, NVIDIA
+0001ab40: 2c20 4153 5045 4544 0a20 2020 2020 2020  , ASPEED.       
+0001ab50: 2020 2020 2069 6620 7265 2e73 6561 7263       if re.searc
+0001ab60: 6828 5041 5454 4552 4e53 5b50 4b2e 414d  h(PATTERNS[PK.AM
+0001ab70: 445f 4750 555d 2c20 6770 755f 6e61 6d65  D_GPU], gpu_name
+0001ab80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0001ab90: 2020 2076 656e 646f 7220 3d20 4770 7556     vendor = GpuV
+0001aba0: 656e 646f 722e 414d 440a 2020 2020 2020  endor.AMD.      
+0001abb0: 2020 2020 2020 2020 2020 6770 755f 7479            gpu_ty
+0001abc0: 7065 203d 2047 7075 5479 7065 2e53 7570  pe = GpuType.Sup
+0001abd0: 706f 7274 6564 0a20 2020 2020 2020 2020  ported.         
+0001abe0: 2020 2065 6c69 6620 7265 2e73 6561 7263     elif re.searc
+0001abf0: 6828 5041 5454 4552 4e53 5b50 4b2e 4e56  h(PATTERNS[PK.NV
+0001ac00: 5f47 5055 5d2c 2067 7075 5f6e 616d 6529  _GPU], gpu_name)
+0001ac10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ac20: 2020 7665 6e64 6f72 203d 2047 7075 5665    vendor = GpuVe
+0001ac30: 6e64 6f72 2e4e 5649 4449 410a 2020 2020  ndor.NVIDIA.    
+0001ac40: 2020 2020 2020 2020 2020 2020 6966 2047              if G
+0001ac50: 5554 5f43 4f4e 5354 2e63 6d64 5f6e 7669  UT_CONST.cmd_nvi
+0001ac60: 6469 615f 736d 693a 0a20 2020 2020 2020  dia_smi:.       
+0001ac70: 2020 2020 2020 2020 2020 2020 2072 6561               rea
+0001ac80: 6461 626c 6520 3d20 5472 7565 0a20 2020  dable = True.   
+0001ac90: 2020 2020 2020 2020 2020 2020 2067 7075               gpu
+0001aca0: 5f74 7970 6520 3d20 4770 7554 7970 652e  _type = GpuType.
+0001acb0: 5375 7070 6f72 7465 640a 2020 2020 2020  Supported.      
+0001acc0: 2020 2020 2020 656c 6966 2072 652e 7365        elif re.se
+0001acd0: 6172 6368 2850 4154 5445 524e 535b 504b  arch(PATTERNS[PK
+0001ace0: 2e49 4e54 435f 4750 555d 2c20 6770 755f  .INTC_GPU], gpu_
+0001acf0: 6e61 6d65 293a 0a20 2020 2020 2020 2020  name):.         
+0001ad00: 2020 2020 2020 2076 656e 646f 7220 3d20         vendor = 
+0001ad10: 4770 7556 656e 646f 722e 494e 5445 4c0a  GpuVendor.INTEL.
+0001ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad30: 6770 755f 7479 7065 203d 2047 7075 5479  gpu_type = GpuTy
+0001ad40: 7065 2e55 6e73 7570 706f 7274 6564 0a20  pe.Unsupported. 
+0001ad50: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0001ad60: 7265 2e73 6561 7263 6828 5041 5454 4552  re.search(PATTER
+0001ad70: 4e53 5b50 4b2e 4153 5044 5f47 5055 5d2c  NS[PK.ASPD_GPU],
+0001ad80: 2067 7075 5f6e 616d 6529 3a0a 2020 2020   gpu_name):.    
+0001ad90: 2020 2020 2020 2020 2020 2020 7665 6e64              vend
+0001ada0: 6f72 203d 2047 7075 5665 6e64 6f72 2e41  or = GpuVendor.A
+0001adb0: 5350 4545 440a 2020 2020 2020 2020 2020  SPEED.          
+0001adc0: 2020 2020 2020 6770 755f 7479 7065 203d        gpu_type =
+0001add0: 2047 7075 5479 7065 2e55 6e73 7570 706f   GpuType.Unsuppo
+0001ade0: 7274 6564 0a20 2020 2020 2020 2020 2020  rted.           
+0001adf0: 2020 2020 2072 6561 6461 626c 6520 3d20       readable = 
+0001ae00: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
+0001ae10: 2065 6c69 6620 7265 2e73 6561 7263 6828   elif re.search(
+0001ae20: 5041 5454 4552 4e53 5b50 4b2e 4d54 5258  PATTERNS[PK.MTRX
+0001ae30: 5f47 5055 5d2c 2067 7075 5f6e 616d 6529  _GPU], gpu_name)
+0001ae40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ae50: 2020 7665 6e64 6f72 203d 2047 7075 5665    vendor = GpuVe
+0001ae60: 6e64 6f72 2e4d 4154 524f 580a 2020 2020  ndor.MATROX.    
+0001ae70: 2020 2020 2020 2020 2020 2020 6770 755f              gpu_
+0001ae80: 7479 7065 203d 2047 7075 5479 7065 2e55  type = GpuType.U
+0001ae90: 6e73 7570 706f 7274 6564 0a0a 2020 2020  nsupported..    
+0001aea0: 2020 2020 2020 2020 2320 5365 7420 636f          # Set co
+0001aeb0: 6d70 7574 6520 666c 6167 0a20 2020 2020  mpute flag.     
+0001aec0: 2020 2020 2020 2069 6620 7365 6c66 2e6f         if self.o
+0001aed0: 7065 6e63 6c5f 6d61 703a 0a20 2020 2020  pencl_map:.     
+0001aee0: 2020 2020 2020 2020 2020 2069 6620 7063             if pc
+0001aef0: 6965 5f69 6420 696e 2073 656c 662e 6f70  ie_id in self.op
+0001af00: 656e 636c 5f6d 6170 3a0a 2020 2020 2020  encl_map:.      
+0001af10: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001af20: 2027 6465 7669 6365 5f76 6572 7369 6f6e   'device_version
+0001af30: 2720 696e 2073 656c 662e 6f70 656e 636c  ' in self.opencl
+0001af40: 5f6d 6170 5b70 6369 655f 6964 5d3a 0a20  _map[pcie_id]:. 
+0001af50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001af60: 2020 2020 2020 206f 7065 6e63 6c5f 6465         opencl_de
+0001af70: 7669 6365 5f76 6572 7369 6f6e 203d 2073  vice_version = s
+0001af80: 656c 662e 6f70 656e 636c 5f6d 6170 5b70  elf.opencl_map[p
+0001af90: 6369 655f 6964 5d5b 2764 6576 6963 655f  cie_id]['device_
+0001afa0: 7665 7273 696f 6e27 5d0a 2020 2020 2020  version'].      
+0001afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001afc0: 2020 636f 6d70 7574 6520 3d20 5472 7565    compute = True
+0001afd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001afe0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001aff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b000: 2020 2063 6f6d 7075 7465 203d 2046 616c     compute = Fal
+0001b010: 7365 0a20 2020 2020 2020 2020 2020 2065  se.            e
+0001b020: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001b030: 2020 2020 2063 6f6d 7075 7465 203d 2027       compute = '
+0001b040: 556e 6b6e 6f77 6e27 2069 6620 6e6f 7420  Unknown' if not 
+0001b050: 4755 545f 434f 4e53 542e 636d 645f 636c  GUT_CONST.cmd_cl
+0001b060: 696e 666f 2065 6c73 6520 4661 6c73 650a  info else False.
+0001b070: 0a20 2020 2020 2020 2020 2020 2023 2047  .            # G
+0001b080: 6574 2044 7269 7665 7220 4e61 6d65 0a20  et Driver Name. 
+0001b090: 2020 2020 2020 2020 2020 2066 6f72 206c             for l
+0001b0a0: 7370 6369 5f6c 696e 6520 696e 206c 7370  spci_line in lsp
+0001b0b0: 6369 5f69 7465 6d73 3a0a 2020 2020 2020  ci_items:.      
+0001b0c0: 2020 2020 2020 2020 2020 6966 2072 652e            if re.
+0001b0d0: 7365 6172 6368 2872 2728 5b6b 4b5d 6572  search(r'([kK]er
+0001b0e0: 6e65 6c29 272c 206c 7370 6369 5f6c 696e  nel)', lspci_lin
+0001b0f0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+0001b100: 2020 2020 2020 2020 6472 6976 6572 5f6d          driver_m
+0001b110: 6f64 756c 655f 6974 656d 7320 3d20 6c73  odule_items = ls
+0001b120: 7063 695f 6c69 6e65 2e73 706c 6974 2827  pci_line.split('
+0001b130: 3a20 2729 0a20 2020 2020 2020 2020 2020  : ').           
+0001b140: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+0001b150: 6472 6976 6572 5f6d 6f64 756c 655f 6974  driver_module_it
+0001b160: 656d 7329 203e 3d20 323a 0a20 2020 2020  ems) >= 2:.     
+0001b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b180: 2020 2064 7269 7665 725f 6d6f 6475 6c65     driver_module
+0001b190: 203d 2064 7269 7665 725f 6d6f 6475 6c65   = driver_module
+0001b1a0: 5f69 7465 6d73 5b31 5d2e 7374 7269 7028  _items[1].strip(
+0001b1b0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+0001b1c0: 2047 6574 2066 756c 6c20 6361 7264 2070   Get full card p
+0001b1d0: 6174 680a 2020 2020 2020 2020 2020 2020  ath.            
+0001b1e0: 6465 7669 6365 5f64 6972 7320 3d20 676c  device_dirs = gl
+0001b1f0: 6f62 286f 732e 7061 7468 2e6a 6f69 6e28  ob(os.path.join(
+0001b200: 4755 545f 434f 4e53 542e 6361 7264 5f72  GUT_CONST.card_r
+0001b210: 6f6f 742c 2027 6361 7264 3f2f 6465 7669  oot, 'card?/devi
+0001b220: 6365 2729 290a 2020 2020 2020 2020 2020  ce')).          
+0001b230: 2020 2320 4d61 7463 6820 7379 7374 656d    # Match system
+0001b240: 2064 6576 6963 6520 6469 7265 6374 6f72   device director
+0001b250: 7920 746f 2070 6369 6520 4944 2e0a 2020  y to pcie ID..  
+0001b260: 2020 2020 2020 2020 2020 666f 7220 6465            for de
+0001b270: 7669 6365 5f64 6972 2069 6e20 6465 7669  vice_dir in devi
+0001b280: 6365 5f64 6972 733a 0a20 2020 2020 2020  ce_dirs:.       
+0001b290: 2020 2020 2020 2020 2073 7973 6673 7061           sysfspa
+0001b2a0: 7468 203d 2073 7472 2850 6174 6828 6465  th = str(Path(de
+0001b2b0: 7669 6365 5f64 6972 292e 7265 736f 6c76  vice_dir).resolv
+0001b2c0: 6528 2929 0a20 2020 2020 2020 2020 2020  e()).           
+0001b2d0: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
+0001b2e0: 6728 2773 7973 6670 6174 683a 2025 735c  g('sysfpath: %s\
+0001b2f0: 6e64 6576 6963 655f 6469 723a 2025 7327  ndevice_dir: %s'
+0001b300: 2c20 7379 7366 7370 6174 682c 2064 6576  , sysfspath, dev
+0001b310: 6963 655f 6469 7229 0a20 2020 2020 2020  ice_dir).       
+0001b320: 2020 2020 2020 2020 2069 6620 7063 6965           if pcie
+0001b330: 5f69 6420 696e 2028 7379 7366 7370 6174  _id in (sysfspat
+0001b340: 685b 2d37 3a5d 2c20 7379 7366 7370 6174  h[-7:], sysfspat
+0001b350: 685b 2d31 323a 5d29 3a0a 2020 2020 2020  h[-12:]):.      
+0001b360: 2020 2020 2020 2020 2020 2020 2020 6361                ca
+0001b370: 7264 5f70 6174 6820 3d20 6465 7669 6365  rd_path = device
+0001b380: 5f64 6972 0a20 2020 2020 2020 2020 2020  _dir.           
+0001b390: 2020 2020 2020 2020 2073 7973 5f63 6172           sys_car
+0001b3a0: 645f 7061 7468 203d 2073 7973 6673 7061  d_path = sysfspa
+0001b3b0: 7468 0a20 2020 2020 2020 2020 2020 2020  th.             
+0001b3c0: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
+0001b3d0: 6275 6728 2763 6172 645f 7061 7468 2073  bug('card_path s
+0001b3e0: 6574 2074 6f3a 2025 7327 2c20 6465 7669  et to: %s', devi
+0001b3f0: 6365 5f64 6972 290a 0a20 2020 2020 2020  ce_dir)..       
+0001b400: 2020 2020 2023 204e 6f20 6361 7264 2070       # No card p
+0001b410: 6174 6820 636f 756c 6420 6265 2066 6f75  ath could be fou
+0001b420: 6e64 2e20 2053 6574 2072 6561 6461 626c  nd.  Set readabl
+0001b430: 652f 7772 6974 6162 6c65 2074 6f20 4661  e/writable to Fa
+0001b440: 6c73 6520 616e 6420 7479 7065 2074 6f20  lse and type to 
+0001b450: 556e 7375 7070 6f72 7465 640a 2020 2020  Unsupported.    
+0001b460: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+0001b470: 6172 645f 7061 7468 3a0a 2020 2020 2020  ard_path:.      
+0001b480: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+0001b490: 2e64 6562 7567 2827 6361 7264 5f70 6174  .debug('card_pat
+0001b4a0: 6820 6e6f 7420 7365 7420 666f 723a 2025  h not set for: %
+0001b4b0: 7327 2c20 7063 6965 5f69 6429 0a20 2020  s', pcie_id).   
+0001b4c0: 2020 2020 2020 2020 2020 2020 204c 4f47               LOG
+0001b4d0: 4745 522e 6465 6275 6728 2747 5055 5b25  GER.debug('GPU[%
+0001b4e0: 735d 2074 7970 6520 7365 7420 746f 2055  s] type set to U
+0001b4f0: 6e73 7570 706f 7274 6564 272c 2067 7075  nsupported', gpu
+0001b500: 5f75 7569 6429 0a20 2020 2020 2020 2020  _uuid).         
+0001b510: 2020 2020 2020 2067 7075 5f74 7970 6520         gpu_type 
+0001b520: 3d20 4770 7554 7970 652e 556e 7375 7070  = GpuType.Unsupp
+0001b530: 6f72 7465 640a 2020 2020 2020 2020 2020  orted.          
+0001b540: 2020 2020 2020 7265 6164 6162 6c65 203d        readable =
+0001b550: 2077 7269 7461 626c 6520 3d20 4661 6c73   writable = Fals
+0001b560: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0001b570: 2020 7472 795f 7061 7468 203d 2027 2f73    try_path = '/s
+0001b580: 7973 2f64 6576 6963 6573 2f70 6369 2a3a  ys/devices/pci*:
+0001b590: 2a2f 270a 2020 2020 2020 2020 2020 2020  */'.            
+0001b5a0: 2020 2020 7379 735f 7063 695f 6469 7273      sys_pci_dirs
+0001b5b0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+0001b5c0: 2020 2020 2020 2020 666f 7220 5f20 696e          for _ in
+0001b5d0: 2072 616e 6765 2836 293a 0a20 2020 2020   range(6):.     
+0001b5e0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001b5f0: 6620 7265 2e66 756c 6c6d 6174 6368 2847  f re.fullmatch(G
+0001b600: 5554 5f43 4f4e 5354 2e50 4154 5445 524e  UT_CONST.PATTERN
+0001b610: 535b 504b 2e50 4349 5f41 4444 5f53 4852  S[PK.PCI_ADD_SHR
+0001b620: 545d 2c20 7063 6965 5f69 6429 3a0a 2020  T], pcie_id):.  
+0001b630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b640: 2020 2020 2020 7365 6172 6368 5f70 6174        search_pat
+0001b650: 6820 3d20 6f73 2e70 6174 682e 6a6f 696e  h = os.path.join
+0001b660: 2874 7279 5f70 6174 682c 2027 3f3f 3f3f  (try_path, '????
+0001b670: 3a7b 7d27 2e66 6f72 6d61 7428 7063 6965  :{}'.format(pcie
+0001b680: 5f69 6429 290a 2020 2020 2020 2020 2020  _id)).          
+0001b690: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b6b0: 2020 2020 2020 2020 7365 6172 6368 5f70          search_p
+0001b6c0: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+0001b6d0: 696e 2874 7279 5f70 6174 682c 2070 6369  in(try_path, pci
+0001b6e0: 655f 6964 290a 2020 2020 2020 2020 2020  e_id).          
+0001b6f0: 2020 2020 2020 2020 2020 7379 735f 7063            sys_pc
+0001b700: 695f 6469 7273 203d 2067 6c6f 6228 7365  i_dirs = glob(se
+0001b710: 6172 6368 5f70 6174 6829 0a20 2020 2020  arch_path).     
+0001b720: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001b730: 6620 7379 735f 7063 695f 6469 7273 3a0a  f sys_pci_dirs:.
+0001b740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b750: 2020 2020 2020 2020 2320 466f 756e 6420          # Found 
+0001b760: 6120 6d61 7463 680a 2020 2020 2020 2020  a match.        
+0001b770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b780: 6272 6561 6b0a 2020 2020 2020 2020 2020  break.          
+0001b790: 2020 2020 2020 2020 2020 7472 795f 7061            try_pa
+0001b7a0: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+0001b7b0: 6e28 7472 795f 7061 7468 2c20 273f 3f3f  n(try_path, '???
+0001b7c0: 3f3a 3f3f 3a3f 3f2e 3f27 290a 2020 2020  ?:??:??.?').    
+0001b7d0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0001b7e0: 6f74 2073 7973 5f70 6369 5f64 6972 733a  ot sys_pci_dirs:
+0001b7f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b800: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
+0001b810: 6728 272f 7379 732f 6465 7669 6365 2066  g('/sys/device f
+0001b820: 696c 6520 7365 6172 6368 2066 6f75 6e64  ile search found
+0001b830: 206e 6f20 6d61 7463 6820 746f 2070 6369   no match to pci
+0001b840: 655f 6964 3a20 2573 272c 2070 6369 655f  e_id: %s', pcie_
+0001b850: 6964 290a 2020 2020 2020 2020 2020 2020  id).            
+0001b860: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001b870: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001b880: 206c 656e 2873 7973 5f70 6369 5f64 6972   len(sys_pci_dir
+0001b890: 7329 203e 2031 3a0a 2020 2020 2020 2020  s) > 1:.        
+0001b8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b8b0: 4c4f 4747 4552 2e64 6562 7567 2827 2f73  LOGGER.debug('/s
+0001b8c0: 7973 2f64 6576 6963 6520 6669 6c65 2073  ys/device file s
+0001b8d0: 6561 7263 6820 666f 756e 6420 6d75 6c74  earch found mult
+0001b8e0: 6970 6c65 206d 6174 6368 6573 2074 6f20  iple matches to 
+0001b8f0: 7063 6965 5f69 6420 2573 3a5c 6e25 7327  pcie_id %s:\n%s'
+0001b900: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001b910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b920: 2020 2020 2020 2070 6369 655f 6964 2c20         pcie_id, 
+0001b930: 7379 735f 7063 695f 6469 7273 290a 2020  sys_pci_dirs).  
+0001b940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b950: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001b960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b970: 4c4f 4747 4552 2e64 6562 7567 2827 2f73  LOGGER.debug('/s
+0001b980: 7973 2f64 6576 6963 6520 6669 6c65 2073  ys/device file s
+0001b990: 6561 7263 6820 666f 756e 6420 6d61 7463  earch found matc
+0001b9a0: 6820 746f 2070 6369 655f 6964 2025 733a  h to pcie_id %s:
+0001b9b0: 5c6e 2573 272c 0a20 2020 2020 2020 2020  \n%s',.         
+0001b9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b9d0: 2020 2020 2020 2020 2020 2020 7063 6965              pcie
+0001b9e0: 5f69 642c 2073 7973 5f70 6369 5f64 6972  _id, sys_pci_dir
+0001b9f0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+0001ba00: 2020 2020 2020 2073 7973 5f63 6172 645f         sys_card_
+0001ba10: 7061 7468 203d 2073 7973 5f70 6369 5f64  path = sys_pci_d
+0001ba20: 6972 735b 305d 0a0a 2020 2020 2020 2020  irs[0]..        
+0001ba30: 2020 2020 2320 4765 7420 6675 6c6c 2068      # Get full h
+0001ba40: 776d 6f6e 2070 6174 680a 2020 2020 2020  wmon path.      
+0001ba50: 2020 2020 2020 6966 2063 6172 645f 7061        if card_pa
+0001ba60: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
+0001ba70: 2020 2020 4c4f 4747 4552 2e64 6562 7567      LOGGER.debug
+0001ba80: 2827 4361 7264 2064 6972 205b 2573 5d20  ('Card dir [%s] 
+0001ba90: 636f 6e74 656e 7473 3a5c 6e25 7327 2c20  contents:\n%s', 
+0001baa0: 6361 7264 5f70 6174 682c 206c 6973 7428  card_path, list(
+0001bab0: 6f73 2e6c 6973 7464 6972 2863 6172 645f  os.listdir(card_
+0001bac0: 7061 7468 2929 290a 2020 2020 2020 2020  path))).        
+0001bad0: 2020 2020 2020 2020 6877 5f66 696c 655f          hw_file_
+0001bae0: 7372 6368 203d 2067 6c6f 6228 6f73 2e70  srch = glob(os.p
+0001baf0: 6174 682e 6a6f 696e 2863 6172 645f 7061  ath.join(card_pa
+0001bb00: 7468 2c20 4755 545f 434f 4e53 542e 6877  th, GUT_CONST.hw
+0001bb10: 6d6f 6e5f 7375 6229 202b 2027 3f27 290a  mon_sub) + '?').
+0001bb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bb30: 4c4f 4747 4552 2e64 6562 7567 2827 4857  LOGGER.debug('HW
+0001bb40: 2066 696c 6520 7365 6172 6368 3a20 2573   file search: %s
+0001bb50: 272c 2068 775f 6669 6c65 5f73 7263 6829  ', hw_file_srch)
+0001bb60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001bb70: 2069 6620 6c65 6e28 6877 5f66 696c 655f   if len(hw_file_
+0001bb80: 7372 6368 2920 3e20 313a 0a20 2020 2020  srch) > 1:.     
+0001bb90: 2020 2020 2020 2020 2020 2020 2020 2047                 G
+0001bba0: 5554 5f43 4f4e 5354 2e70 726f 6365 7373  UT_CONST.process
+0001bbb0: 5f6d 6573 7361 6765 2827 4d6f 7265 2074  _message('More t
+0001bbc0: 6861 6e20 6f6e 6520 6877 6d6f 6e20 6669  han one hwmon fi
+0001bbd0: 6c65 2066 6f75 6e64 3a20 7b7d 272e 666f  le found: {}'.fo
+0001bbe0: 726d 6174 2868 775f 6669 6c65 5f73 7263  rmat(hw_file_src
+0001bbf0: 6829 290a 2020 2020 2020 2020 2020 2020  h)).            
+0001bc00: 2020 2020 2020 2020 4c4f 4747 4552 2e64          LOGGER.d
+0001bc10: 6562 7567 2827 4d6f 7265 2074 6861 6e20  ebug('More than 
+0001bc20: 6f6e 6520 6877 6d6f 6e20 6669 6c65 2066  one hwmon file f
+0001bc30: 6f75 6e64 3a20 2573 272c 2068 775f 6669  ound: %s', hw_fi
+0001bc40: 6c65 5f73 7263 6829 0a20 2020 2020 2020  le_srch).       
+0001bc50: 2020 2020 2020 2020 2065 6c69 6620 6c65           elif le
+0001bc60: 6e28 6877 5f66 696c 655f 7372 6368 2920  n(hw_file_srch) 
+0001bc70: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
+0001bc80: 2020 2020 2020 2020 2020 6877 6d6f 6e5f            hwmon_
+0001bc90: 7061 7468 203d 2068 775f 6669 6c65 5f73  path = hw_file_s
+0001bca0: 7263 685b 305d 0a20 2020 2020 2020 2020  rch[0].         
+0001bcb0: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
+0001bcc0: 522e 6465 6275 6728 2748 5720 6469 7220  R.debug('HW dir 
+0001bcd0: 5b25 735d 2063 6f6e 7465 6e74 733a 5c6e  [%s] contents:\n
+0001bce0: 2573 272c 2068 776d 6f6e 5f70 6174 682c  %s', hwmon_path,
+0001bcf0: 206c 6973 7428 6f73 2e6c 6973 7464 6972   list(os.listdir
+0001bd00: 2868 776d 6f6e 5f70 6174 6829 2929 0a0a  (hwmon_path)))..
+0001bd10: 2020 2020 2020 2020 2020 2020 2320 4368              # Ch
+0001bd20: 6563 6b20 414d 4420 7772 6974 6520 6361  eck AMD write ca
+0001bd30: 7061 6269 6c69 7479 0a20 2020 2020 2020  pability.       
+0001bd40: 2020 2020 2069 6620 7665 6e64 6f72 203d       if vendor =
+0001bd50: 3d20 4770 7556 656e 646f 722e 414d 4420  = GpuVendor.AMD 
+0001bd60: 616e 6420 6361 7264 5f70 6174 683a 0a20  and card_path:. 
+0001bd70: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0001bd80: 705f 6f64 5f63 6c6b 5f76 6f6c 7461 6765  p_od_clk_voltage
+0001bd90: 5f66 696c 6520 3d20 6f73 2e70 6174 682e  _file = os.path.
+0001bda0: 6a6f 696e 2863 6172 645f 7061 7468 2c20  join(card_path, 
+0001bdb0: 2770 705f 6f64 5f63 6c6b 5f76 6f6c 7461  'pp_od_clk_volta
+0001bdc0: 6765 2729 0a20 2020 2020 2020 2020 2020  ge').           
+0001bdd0: 2020 2020 2069 6620 6f73 2e70 6174 682e       if os.path.
+0001bde0: 6973 6669 6c65 2870 705f 6f64 5f63 6c6b  isfile(pp_od_clk
+0001bdf0: 5f76 6f6c 7461 6765 5f66 696c 6529 3a0a  _voltage_file):.
+0001be00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001be10: 2020 2020 7070 5f6f 645f 6669 6c65 5f64      pp_od_file_d
+0001be20: 6574 6169 6c73 203d 2027 4578 6973 7473  etails = 'Exists
+0001be30: 270a 2020 2020 2020 2020 2020 2020 2020  '.              
+0001be40: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0001be50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001be60: 2020 2077 6974 6820 6f70 656e 2870 705f     with open(pp_
+0001be70: 6f64 5f63 6c6b 5f76 6f6c 7461 6765 5f66  od_clk_voltage_f
+0001be80: 696c 652c 2027 7227 2c20 656e 636f 6469  ile, 'r', encodi
+0001be90: 6e67 3d27 7574 662d 3827 2920 6173 2066  ng='utf-8') as f
+0001bea0: 696c 655f 7074 723a 0a20 2020 2020 2020  ile_ptr:.       
+0001beb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bec0: 2020 2020 2070 705f 6f64 5f66 696c 655f       pp_od_file_
+0001bed0: 6465 7461 696c 7320 3d20 6669 6c65 5f70  details = file_p
+0001bee0: 7472 2e72 6561 6428 290a 2020 2020 2020  tr.read().      
+0001bef0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+0001bf00: 6365 7074 204f 5345 7272 6f72 2061 7320  cept OSError as 
+0001bf10: 6578 6365 7074 5f65 7272 3a0a 2020 2020  except_err:.    
+0001bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bf30: 2020 2020 7070 5f6f 645f 6669 6c65 5f64      pp_od_file_d
+0001bf40: 6574 6169 6c73 203d 2027 7b7d 206e 6f74  etails = '{} not
+0001bf50: 2072 6561 6461 626c 6527 2e66 6f72 6d61   readable'.forma
+0001bf60: 7428 7070 5f6f 645f 636c 6b5f 766f 6c74  t(pp_od_clk_volt
+0001bf70: 6167 655f 6669 6c65 290a 2020 2020 2020  age_file).      
 0001bf80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bf90: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-0001bfa0: 6275 6728 2725 7320 6578 6973 7473 2c20  bug('%s exists, 
-0001bfb0: 616e 6420 6973 2072 6561 6461 626c 652e  and is readable.
-0001bfc0: 272c 2070 705f 6f64 5f63 6c6b 5f76 6f6c  ', pp_od_clk_vol
-0001bfd0: 7461 6765 5f66 696c 6529 0a20 2020 2020  tage_file).     
+0001bf90: 2020 7365 6c66 5b67 7075 5f75 7569 645d    self[gpu_uuid]
+0001bfa0: 2e64 6973 6162 6c65 5f70 6172 616d 5f72  .disable_param_r
+0001bfb0: 6561 6428 2827 7070 5f6f 645f 636c 6b5f  ead(('pp_od_clk_
+0001bfc0: 766f 6c74 6167 6527 2c20 2773 636c 6b5f  voltage', 'sclk_
+0001bfd0: 665f 7261 6e67 6527 2c0a 2020 2020 2020  f_range',.      
 0001bfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bff0: 2020 2020 2020 2067 7075 5f74 7970 6520         gpu_type 
-0001c000: 3d20 4770 7554 7970 652e 5375 7070 6f72  = GpuType.Suppor
-0001c010: 7465 640a 2020 2020 2020 2020 2020 2020  ted.            
-0001c020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c030: 7265 6164 6162 6c65 203d 2054 7275 650a  readable = True.
-0001c040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c050: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0001c060: 656c 662e 616d 645f 7772 6974 6162 6c65  elf.amd_writable
-0001c070: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001c080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c090: 2020 7772 6974 6162 6c65 203d 2054 7275    writable = Tru
-0001c0a0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0001c0b0: 2020 2020 2020 6669 6e61 6c6c 793a 0a20        finally:. 
-0001c0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c0d0: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-0001c0e0: 6275 6728 2725 7320 636f 6e74 656e 7473  bug('%s contents
-0001c0f0: 3a5c 6e25 7327 2c20 7070 5f6f 645f 636c  :\n%s', pp_od_cl
-0001c100: 6b5f 766f 6c74 6167 655f 6669 6c65 2c20  k_voltage_file, 
-0001c110: 7070 5f6f 645f 6669 6c65 5f64 6574 6169  pp_od_file_detai
-0001c120: 6c73 290a 2020 2020 2020 2020 2020 2020  ls).            
-0001c130: 2020 2020 6966 2047 7075 4974 656d 2e69      if GpuItem.i
-0001c140: 735f 6170 7528 6770 755f 6e61 6d65 293a  s_apu(gpu_name):
-0001c150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c160: 2020 2020 2072 6561 6461 626c 6520 3d20       readable = 
-0001c170: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
-0001c180: 2020 2020 2020 2020 2067 7075 5f74 7970           gpu_typ
-0001c190: 6520 3d20 4770 7554 7970 652e 4c65 6761  e = GpuType.Lega
-0001c1a0: 6379 4150 550a 2020 2020 2020 2020 2020  cyAPU.          
-0001c1b0: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
-0001c1c0: 2e69 7366 696c 6528 6f73 2e70 6174 682e  .isfile(os.path.
-0001c1d0: 6a6f 696e 2863 6172 645f 7061 7468 2c20  join(card_path, 
-0001c1e0: 2770 6f77 6572 5f64 706d 5f73 7461 7465  'power_dpm_state
-0001c1f0: 2729 293a 0a20 2020 2020 2020 2020 2020  ')):.           
-0001c200: 2020 2020 2020 2020 2069 6620 6f73 2e70           if os.p
-0001c210: 6174 682e 6973 6669 6c65 286f 732e 7061  ath.isfile(os.pa
-0001c220: 7468 2e6a 6f69 6e28 6361 7264 5f70 6174  th.join(card_pat
-0001c230: 682c 2027 7070 5f64 706d 5f73 636c 6b27  h, 'pp_dpm_sclk'
-0001c240: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-0001c250: 2020 2020 2020 2020 2020 2020 2320 6966              # if
-0001c260: 206e 6f20 7070 5f6f 645f 636c 6b5f 766f   no pp_od_clk_vo
-0001c270: 6c74 6167 6520 6275 7420 6861 7320 7070  ltage but has pp
-0001c280: 5f64 706d 5f73 636c 6b2c 2061 7373 756d  _dpm_sclk, assum
-0001c290: 6520 6d6f 6465 726e 0a20 2020 2020 2020  e modern.       
+0001bff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c010: 2020 2020 2027 6d63 6c6b 5f66 5f72 616e       'mclk_f_ran
+0001c020: 6765 272c 2027 7664 6463 5f72 616e 6765  ge', 'vddc_range
+0001c030: 2729 290a 2020 2020 2020 2020 2020 2020  ')).            
+0001c040: 2020 2020 2020 2020 2020 2020 6d65 7373              mess
+0001c050: 6167 6520 3d20 2745 7272 6f72 3a20 7379  age = 'Error: sy
+0001c060: 7374 656d 2073 7570 706f 7274 2069 7373  stem support iss
+0001c070: 7565 2066 6f72 207b 7d3a 205b 7b7d 5d27  ue for {}: [{}]'
+0001c080: 2e66 6f72 6d61 7428 7063 6965 5f69 642c  .format(pcie_id,
+0001c090: 2065 7863 6570 745f 6572 7229 0a20 2020   except_err).   
+0001c0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c0b0: 2020 2020 204c 4f47 4745 522e 6465 6275       LOGGER.debu
+0001c0c0: 6728 6d65 7373 6167 6529 0a20 2020 2020  g(message).     
+0001c0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c0e0: 2020 2070 7269 6e74 286d 6573 7361 6765     print(message
+0001c0f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001c100: 2020 2020 2020 2020 2020 6770 755f 7479            gpu_ty
+0001c110: 7065 203d 2047 7075 5479 7065 2e55 6e73  pe = GpuType.Uns
+0001c120: 7570 706f 7274 6564 0a20 2020 2020 2020  upported.       
+0001c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c140: 2077 7269 7461 626c 6520 3d20 4661 6c73   writable = Fals
+0001c150: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0001c160: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001c170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c180: 2020 2020 4c4f 4747 4552 2e64 6562 7567      LOGGER.debug
+0001c190: 2827 2573 2065 7869 7374 732c 206f 7065  ('%s exists, ope
+0001c1a0: 6e65 642c 2061 6e64 2072 6561 642e 272c  ned, and read.',
+0001c1b0: 2070 705f 6f64 5f63 6c6b 5f76 6f6c 7461   pp_od_clk_volta
+0001c1c0: 6765 5f66 696c 6529 0a20 2020 2020 2020  ge_file).       
+0001c1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c1e0: 2069 6620 6e6f 7420 7070 5f6f 645f 6669   if not pp_od_fi
+0001c1f0: 6c65 5f64 6574 6169 6c73 2e73 7472 6970  le_details.strip
+0001c200: 2829 2e73 7472 6970 2827 5c6e 2729 3a0a  ().strip('\n'):.
+0001c210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c220: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c230: 5b67 7075 5f75 7569 645d 2e64 6973 6162  [gpu_uuid].disab
+0001c240: 6c65 5f70 6172 616d 5f72 6561 6428 2827  le_param_read(('
+0001c250: 7070 5f6f 645f 636c 6b5f 766f 6c74 6167  pp_od_clk_voltag
+0001c260: 6527 2c20 2773 636c 6b5f 665f 7261 6e67  e', 'sclk_f_rang
+0001c270: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
+0001c280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c290: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001c2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c2b0: 2072 6561 6461 626c 6520 3d20 5472 7565   readable = True
-0001c2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c2d0: 2020 2020 2020 2020 2067 7075 5f74 7970           gpu_typ
-0001c2e0: 6520 3d20 4770 7554 7970 652e 4150 5520  e = GpuType.APU 
-0001c2f0: 6966 2047 7075 4974 656d 2e69 735f 6170  if GpuItem.is_ap
-0001c300: 7528 6770 755f 6e61 6d65 2920 656c 7365  u(gpu_name) else
-0001c310: 2047 7075 5479 7065 2e4d 6f64 6572 6e0a   GpuType.Modern.
-0001c320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c330: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001c2b0: 2020 2027 6d63 6c6b 5f66 5f72 616e 6765     'mclk_f_range
+0001c2c0: 272c 2027 7664 6463 5f72 616e 6765 2729  ', 'vddc_range')
+0001c2d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001c2e0: 2020 2020 2020 2020 2020 2020 2020 4c4f                LO
+0001c2f0: 4747 4552 2e64 6562 7567 2827 2573 2065  GGER.debug('%s e
+0001c300: 7869 7374 732c 2062 7574 2065 6d70 7479  xists, but empty
+0001c310: 206f 6e20 7265 6164 2e27 2c20 7070 5f6f   on read.', pp_o
+0001c320: 645f 636c 6b5f 766f 6c74 6167 655f 6669  d_clk_voltage_fi
+0001c330: 6c65 290a 2020 2020 2020 2020 2020 2020  le).            
 0001c340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c350: 2020 2320 6966 206e 6f20 7070 5f6f 645f    # if no pp_od_
-0001c360: 636c 6b5f 766f 6c74 6167 6520 6f72 2070  clk_voltage or p
-0001c370: 705f 6470 6d5f 7363 6c6b 2062 7574 2068  p_dpm_sclk but h
-0001c380: 6173 2070 6f77 6572 5f64 706d 5f73 7461  as power_dpm_sta
-0001c390: 7465 2c20 6173 7375 6d65 206c 6567 6163  te, assume legac
-0001c3a0: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
-0001c3b0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-0001c3c0: 2047 7075 4974 656d 2e69 735f 6170 7528   GpuItem.is_apu(
-0001c3d0: 6770 755f 6e61 6d65 293a 0a20 2020 2020  gpu_name):.     
-0001c3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c3f0: 2020 2020 2020 2072 6561 6461 626c 6520         readable 
-0001c400: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
-0001c410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c420: 2020 2067 7075 5f74 7970 6520 3d20 4770     gpu_type = Gp
-0001c430: 7554 7970 652e 4c65 6761 6379 0a0a 2020  uType.Legacy..  
-0001c440: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001c450: 206e 6f74 206f 732e 7061 7468 2e69 7366   not os.path.isf
-0001c460: 696c 6528 7070 5f6f 645f 636c 6b5f 766f  ile(pp_od_clk_vo
-0001c470: 6c74 6167 655f 6669 6c65 293a 0a20 2020  ltage_file):.   
+0001c350: 6770 755f 7479 7065 203d 2047 7075 5479  gpu_type = GpuTy
+0001c360: 7065 2e55 6e73 7570 706f 7274 6564 0a20  pe.Unsupported. 
+0001c370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c380: 2020 2020 2020 2020 2020 2072 6561 6461             reada
+0001c390: 626c 6520 3d20 5472 7565 0a20 2020 2020  ble = True.     
+0001c3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c3b0: 2020 2020 2020 2077 7269 7461 626c 6520         writable 
+0001c3c0: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+0001c3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c3e0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001c3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c400: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
+0001c410: 2573 2065 7869 7374 732c 2061 6e64 2069  %s exists, and i
+0001c420: 7320 7265 6164 6162 6c65 2e27 2c20 7070  s readable.', pp
+0001c430: 5f6f 645f 636c 6b5f 766f 6c74 6167 655f  _od_clk_voltage_
+0001c440: 6669 6c65 290a 2020 2020 2020 2020 2020  file).          
+0001c450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c460: 2020 6770 755f 7479 7065 203d 2047 7075    gpu_type = Gpu
+0001c470: 5479 7065 2e53 7570 706f 7274 6564 0a20  Type.Supported. 
 0001c480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c490: 2073 656c 665b 6770 755f 7575 6964 5d2e   self[gpu_uuid].
-0001c4a0: 6469 7361 626c 655f 7061 7261 6d5f 7265  disable_param_re
-0001c4b0: 6164 2828 2770 705f 6f64 5f63 6c6b 5f76  ad(('pp_od_clk_v
-0001c4c0: 6f6c 7461 6765 272c 2027 7363 6c6b 5f66  oltage', 'sclk_f
-0001c4d0: 5f72 616e 6765 272c 0a20 2020 2020 2020  _range',.       
+0001c490: 2020 2020 2020 2020 2020 2072 6561 6461             reada
+0001c4a0: 626c 6520 3d20 5472 7565 0a20 2020 2020  ble = True.     
+0001c4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c4c0: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
+0001c4d0: 6d64 5f77 7269 7461 626c 653a 0a20 2020  md_writable:.   
 0001c4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c510: 276d 636c 6b5f 665f 7261 6e67 6527 2c20  'mclk_f_range', 
-0001c520: 2776 6464 635f 7261 6e67 6527 2929 0a20  'vddc_range')). 
+0001c4f0: 2020 2020 2020 2020 2020 2020 2077 7269               wri
+0001c500: 7461 626c 6520 3d20 5472 7565 0a20 2020  table = True.   
+0001c510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c520: 2066 696e 616c 6c79 3a0a 2020 2020 2020   finally:.      
 0001c530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c540: 2020 204c 4f47 4745 522e 6465 6275 6728     LOGGER.debug(
-0001c550: 2725 7320 6669 6c65 2064 6f65 7320 6e6f  '%s file does no
-0001c560: 7420 6578 6973 7427 2c20 7070 5f6f 645f  t exist', pp_od_
-0001c570: 636c 6b5f 766f 6c74 6167 655f 6669 6c65  clk_voltage_file
-0001c580: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-0001c590: 2053 6574 2047 5055 2070 6172 616d 6574   Set GPU paramet
-0001c5a0: 6572 730a 2020 2020 2020 2020 2020 2020  ers.            
-0001c5b0: 7365 6c66 5b67 7075 5f75 7569 645d 2e70  self[gpu_uuid].p
-0001c5c0: 6f70 756c 6174 655f 7072 6d5f 6672 6f6d  opulate_prm_from
-0001c5d0: 5f64 6963 7428 7b27 7063 6965 5f69 6427  _dict({'pcie_id'
-0001c5e0: 3a20 7063 6965 5f69 642c 2027 6d6f 6465  : pcie_id, 'mode
-0001c5f0: 6c27 3a20 6770 755f 6e61 6d65 2c0a 2020  l': gpu_name,.  
-0001c600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c630: 2027 7665 6e64 6f72 273a 2076 656e 646f   'vendor': vendo
-0001c640: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
-0001c650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c540: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
+0001c550: 2573 2063 6f6e 7465 6e74 733a 5c6e 2573  %s contents:\n%s
+0001c560: 272c 2070 705f 6f64 5f63 6c6b 5f76 6f6c  ', pp_od_clk_vol
+0001c570: 7461 6765 5f66 696c 652c 2070 705f 6f64  tage_file, pp_od
+0001c580: 5f66 696c 655f 6465 7461 696c 7329 0a20  _file_details). 
+0001c590: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001c5a0: 6620 4770 7549 7465 6d2e 6973 5f61 7075  f GpuItem.is_apu
+0001c5b0: 2867 7075 5f6e 616d 6529 3a0a 2020 2020  (gpu_name):.    
+0001c5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c5d0: 7265 6164 6162 6c65 203d 2054 7275 650a  readable = True.
+0001c5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c5f0: 2020 2020 6770 755f 7479 7065 203d 2047      gpu_type = G
+0001c600: 7075 5479 7065 2e4c 6567 6163 7941 5055  puType.LegacyAPU
+0001c610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c620: 2069 6620 6f73 2e70 6174 682e 6973 6669   if os.path.isfi
+0001c630: 6c65 286f 732e 7061 7468 2e6a 6f69 6e28  le(os.path.join(
+0001c640: 6361 7264 5f70 6174 682c 2027 706f 7765  card_path, 'powe
+0001c650: 725f 6470 6d5f 7374 6174 6527 2929 3a0a  r_dpm_state')):.
 0001c660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c670: 2020 2020 2020 2764 7269 7665 7227 3a20        'driver': 
-0001c680: 6472 6976 6572 5f6d 6f64 756c 652c 2027  driver_module, '
-0001c690: 6361 7264 5f70 6174 6827 3a20 6361 7264  card_path': card
-0001c6a0: 5f70 6174 682c 0a20 2020 2020 2020 2020  _path,.         
+0001c670: 2020 2020 6966 206f 732e 7061 7468 2e69      if os.path.i
+0001c680: 7366 696c 6528 6f73 2e70 6174 682e 6a6f  sfile(os.path.jo
+0001c690: 696e 2863 6172 645f 7061 7468 2c20 2770  in(card_path, 'p
+0001c6a0: 705f 6470 6d5f 7363 6c6b 2729 293a 0a20  p_dpm_sclk')):. 
 0001c6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c6d0: 2020 2020 2020 2020 2020 2773 7973 5f63            'sys_c
-0001c6e0: 6172 645f 7061 7468 273a 2073 7973 5f63  ard_path': sys_c
-0001c6f0: 6172 645f 7061 7468 2c20 2767 7075 5f74  ard_path, 'gpu_t
-0001c700: 7970 6527 3a20 6770 755f 7479 7065 2c0a  ype': gpu_type,.
-0001c710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c6c0: 2020 2020 2020 2023 2069 6620 6e6f 2070         # if no p
+0001c6d0: 705f 6f64 5f63 6c6b 5f76 6f6c 7461 6765  p_od_clk_voltage
+0001c6e0: 2062 7574 2068 6173 2070 705f 6470 6d5f   but has pp_dpm_
+0001c6f0: 7363 6c6b 2c20 6173 7375 6d65 206d 6f64  sclk, assume mod
+0001c700: 6572 6e0a 2020 2020 2020 2020 2020 2020  ern.            
+0001c710: 2020 2020 2020 2020 2020 2020 7265 6164              read
+0001c720: 6162 6c65 203d 2054 7275 650a 2020 2020  able = True.    
 0001c730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c740: 2020 2027 6877 6d6f 6e5f 7061 7468 273a     'hwmon_path':
-0001c750: 2068 776d 6f6e 5f70 6174 682c 2027 7265   hwmon_path, 're
-0001c760: 6164 6162 6c65 273a 2072 6561 6461 626c  adable': readabl
-0001c770: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0001c780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c7a0: 2020 2020 2020 2777 7269 7461 626c 6527        'writable'
-0001c7b0: 3a20 7772 6974 6162 6c65 2c20 2763 6f6d  : writable, 'com
-0001c7c0: 7075 7465 273a 2063 6f6d 7075 7465 2c0a  pute': compute,.
-0001c7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c800: 2020 2027 636f 6d70 7574 655f 706c 6174     'compute_plat
-0001c810: 666f 726d 273a 206f 7065 6e63 6c5f 6465  form': opencl_de
-0001c820: 7669 6365 5f76 6572 7369 6f6e 7d29 0a20  vice_version}). 
-0001c830: 2020 2020 2020 2020 2020 204c 4f47 4745             LOGGE
-0001c840: 522e 6465 6275 6728 2743 6172 6420 666c  R.debug('Card fl
-0001c850: 6167 733a 2072 6561 6461 626c 653a 2025  ags: readable: %
-0001c860: 732c 2077 7269 7461 626c 653a 2025 732c  s, writable: %s,
-0001c870: 2074 7970 653a 2025 7327 2c0a 2020 2020   type: %s',.    
-0001c880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c890: 2020 2020 2072 6561 6461 626c 652c 2077       readable, w
-0001c8a0: 7269 7461 626c 652c 2073 656c 665b 6770  ritable, self[gp
-0001c8b0: 755f 7575 6964 5d2e 7072 6d2e 6770 755f  u_uuid].prm.gpu_
-0001c8c0: 7479 7065 290a 0a20 2020 2020 2020 2020  type)..         
-0001c8d0: 2020 2073 656c 665b 6770 755f 7575 6964     self[gpu_uuid
-0001c8e0: 5d2e 7265 6164 5f67 7075 5f70 705f 6665  ].read_gpu_pp_fe
-0001c8f0: 6174 7572 6573 2829 0a20 2020 2020 2020  atures().       
-0001c900: 2020 2020 2023 2052 6561 6420 4750 5520       # Read GPU 
-0001c910: 4944 0a20 2020 2020 2020 2020 2020 2072  ID.            r
-0001c920: 6461 7461 203d 2073 656c 665b 6770 755f  data = self[gpu_
-0001c930: 7575 6964 5d2e 7265 6164 5f67 7075 5f73  uuid].read_gpu_s
-0001c940: 656e 736f 7228 2769 6427 2c20 7665 6e64  ensor('id', vend
-0001c950: 6f72 3d47 7075 5665 6e64 6f72 2e50 4349  or=GpuVendor.PCI
-0001c960: 452c 2073 656e 736f 725f 7479 7065 3d27  E, sensor_type='
-0001c970: 4445 5649 4345 2729 0a20 2020 2020 2020  DEVICE').       
-0001c980: 2020 2020 2069 6620 7264 6174 613a 0a20       if rdata:. 
-0001c990: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0001c9a0: 656c 665b 6770 755f 7575 6964 5d2e 7365  elf[gpu_uuid].se
-0001c9b0: 745f 7061 7261 6d73 5f76 616c 7565 2827  t_params_value('
-0001c9c0: 6964 272c 2072 6461 7461 290a 2020 2020  id', rdata).    
-0001c9d0: 2020 2020 2020 2020 6966 2063 6c69 6e66          if clinf
-0001c9e0: 6f5f 666c 6167 3a0a 2020 2020 2020 2020  o_flag:.        
-0001c9f0: 2020 2020 2020 2020 6966 2070 6369 655f          if pcie_
-0001ca00: 6964 2069 6e20 7365 6c66 2e6f 7065 6e63  id in self.openc
-0001ca10: 6c5f 6d61 703a 0a20 2020 2020 2020 2020  l_map:.         
-0001ca20: 2020 2020 2020 2020 2020 2073 656c 665b             self[
-0001ca30: 6770 755f 7575 6964 5d2e 7365 745f 636c  gpu_uuid].set_cl
-0001ca40: 696e 666f 5f76 616c 7565 7328 7365 6c66  info_values(self
-0001ca50: 2e6f 7065 6e63 6c5f 6d61 705b 7063 6965  .opencl_map[pcie
-0001ca60: 5f69 645d 290a 2020 2020 2020 2020 7265  _id]).        re
-0001ca70: 7475 726e 2054 7275 650a 0a20 2020 2064  turn True..    d
-0001ca80: 6566 2072 6561 645f 6770 755f 6f70 656e  ef read_gpu_open
-0001ca90: 636c 5f64 6174 6128 7365 6c66 2920 2d3e  cl_data(self) ->
-0001caa0: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
-0001cab0: 2222 0a20 2020 2020 2020 2055 7365 2063  "".        Use c
-0001cac0: 6c69 6e66 6f20 7379 7374 656d 2063 616c  linfo system cal
-0001cad0: 6c20 746f 2067 6574 206f 7065 6e43 4c20  l to get openCL 
-0001cae0: 6465 7461 696c 7320 666f 7220 7265 6c65  details for rele
-0001caf0: 7661 6e74 2047 5055 732e 0a0a 2020 2020  vant GPUs...    
-0001cb00: 2020 2020 3a72 6574 7572 6e3a 2020 5265      :return:  Re
-0001cb10: 7475 726e 7320 5472 7565 2069 6620 7375  turns True if su
-0001cb20: 6363 6573 7366 756c 0a20 2020 2020 2020  ccessful.       
-0001cb30: 2022 2222 0a20 2020 2020 2020 2023 2043   """.        # C
-0001cb40: 6865 636b 2061 6363 6573 7320 746f 2063  heck access to c
-0001cb50: 6c69 6e66 6f20 636f 6d6d 616e 640a 2020  linfo command.  
-0001cb60: 2020 2020 2020 6966 206e 6f74 2047 5554        if not GUT
-0001cb70: 5f43 4f4e 5354 2e63 6d64 5f63 6c69 6e66  _CONST.cmd_clinf
-0001cb80: 6f3a 2072 6574 7572 6e20 4661 6c73 650a  o: return False.
-0001cb90: 0a20 2020 2020 2020 2023 2052 756e 2074  .        # Run t
-0001cba0: 6865 2063 6c69 6e66 6f20 636f 6d6d 616e  he clinfo comman
-0001cbb0: 640a 2020 2020 2020 2020 7769 7468 2073  d.        with s
-0001cbc0: 7562 7072 6f63 6573 732e 506f 7065 6e28  ubprocess.Popen(
-0001cbd0: 7368 6c65 785f 7370 6c69 7428 277b 7d20  shlex_split('{} 
-0001cbe0: 2d2d 7261 7727 2e66 6f72 6d61 7428 4755  --raw'.format(GU
-0001cbf0: 545f 434f 4e53 542e 636d 645f 636c 696e  T_CONST.cmd_clin
-0001cc00: 666f 2929 2c0a 2020 2020 2020 2020 2020  fo)),.          
-0001cc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cc20: 2020 2020 7368 656c 6c3d 4661 6c73 652c      shell=False,
-0001cc30: 2073 7464 6f75 743d 7375 6270 726f 6365   stdout=subproce
-0001cc40: 7373 2e50 4950 4529 2061 7320 636d 643a  ss.PIPE) as cmd:
-0001cc50: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-0001cc60: 436c 696e 666f 204b 6579 776f 7264 7320  Clinfo Keywords 
-0001cc70: 616e 6420 7265 6c61 7465 6420 6f70 656e  and related open
-0001cc80: 636c 5f6d 6170 206b 6579 2e0a 2020 2020  cl_map key..    
-0001cc90: 2020 2020 2020 2020 6f63 6c5f 6b65 7977          ocl_keyw
-0001cca0: 6f72 6473 203d 207b 2743 4c5f 4b45 524e  ords = {'CL_KERN
-0001ccb0: 454c 5f50 5245 4645 5252 4544 5f57 4f52  EL_PREFERRED_WOR
-0001ccc0: 4b5f 4752 4f55 505f 5349 5a45 5f4d 554c  K_GROUP_SIZE_MUL
-0001ccd0: 5449 504c 4527 3a20 2770 7266 5f77 675f  TIPLE': 'prf_wg_
-0001cce0: 6d75 6c74 6970 6c65 272c 0a20 2020 2020  multiple',.     
+0001c740: 2020 2020 6770 755f 7479 7065 203d 2047      gpu_type = G
+0001c750: 7075 5479 7065 2e41 5055 2069 6620 4770  puType.APU if Gp
+0001c760: 7549 7465 6d2e 6973 5f61 7075 2867 7075  uItem.is_apu(gpu
+0001c770: 5f6e 616d 6529 2065 6c73 6520 4770 7554  _name) else GpuT
+0001c780: 7970 652e 4d6f 6465 726e 0a20 2020 2020  ype.Modern.     
+0001c790: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001c7a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001c7b0: 2020 2020 2020 2020 2020 2020 2023 2069               # i
+0001c7c0: 6620 6e6f 2070 705f 6f64 5f63 6c6b 5f76  f no pp_od_clk_v
+0001c7d0: 6f6c 7461 6765 206f 7220 7070 5f64 706d  oltage or pp_dpm
+0001c7e0: 5f73 636c 6b20 6275 7420 6861 7320 706f  _sclk but has po
+0001c7f0: 7765 725f 6470 6d5f 7374 6174 652c 2061  wer_dpm_state, a
+0001c800: 7373 756d 6520 6c65 6761 6379 0a20 2020  ssume legacy.   
+0001c810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c820: 2020 2020 2069 6620 6e6f 7420 4770 7549       if not GpuI
+0001c830: 7465 6d2e 6973 5f61 7075 2867 7075 5f6e  tem.is_apu(gpu_n
+0001c840: 616d 6529 3a0a 2020 2020 2020 2020 2020  ame):.          
+0001c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c860: 2020 7265 6164 6162 6c65 203d 2054 7275    readable = Tru
+0001c870: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0001c880: 2020 2020 2020 2020 2020 2020 2020 6770                gp
+0001c890: 755f 7479 7065 203d 2047 7075 5479 7065  u_type = GpuType
+0001c8a0: 2e4c 6567 6163 790a 0a20 2020 2020 2020  .Legacy..       
+0001c8b0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+0001c8c0: 6f73 2e70 6174 682e 6973 6669 6c65 2870  os.path.isfile(p
+0001c8d0: 705f 6f64 5f63 6c6b 5f76 6f6c 7461 6765  p_od_clk_voltage
+0001c8e0: 5f66 696c 6529 3a0a 2020 2020 2020 2020  _file):.        
+0001c8f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c900: 5b67 7075 5f75 7569 645d 2e64 6973 6162  [gpu_uuid].disab
+0001c910: 6c65 5f70 6172 616d 5f72 6561 6428 2827  le_param_read(('
+0001c920: 7070 5f6f 645f 636c 6b5f 766f 6c74 6167  pp_od_clk_voltag
+0001c930: 6527 2c20 2773 636c 6b5f 665f 7261 6e67  e', 'sclk_f_rang
+0001c940: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
+0001c950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c970: 2020 2020 2020 2020 2020 2027 6d63 6c6b             'mclk
+0001c980: 5f66 5f72 616e 6765 272c 2027 7664 6463  _f_range', 'vddc
+0001c990: 5f72 616e 6765 2729 290a 2020 2020 2020  _range')).      
+0001c9a0: 2020 2020 2020 2020 2020 2020 2020 4c4f                LO
+0001c9b0: 4747 4552 2e64 6562 7567 2827 2573 2066  GGER.debug('%s f
+0001c9c0: 696c 6520 646f 6573 206e 6f74 2065 7869  ile does not exi
+0001c9d0: 7374 272c 2070 705f 6f64 5f63 6c6b 5f76  st', pp_od_clk_v
+0001c9e0: 6f6c 7461 6765 5f66 696c 6529 0a0a 2020  oltage_file)..  
+0001c9f0: 2020 2020 2020 2020 2020 2320 5365 7420            # Set 
+0001ca00: 4750 5520 7061 7261 6d65 7465 7273 0a20  GPU parameters. 
+0001ca10: 2020 2020 2020 2020 2020 2073 656c 665b             self[
+0001ca20: 6770 755f 7575 6964 5d2e 706f 7075 6c61  gpu_uuid].popula
+0001ca30: 7465 5f70 726d 5f66 726f 6d5f 6469 6374  te_prm_from_dict
+0001ca40: 287b 2770 6369 655f 6964 273a 2070 6369  ({'pcie_id': pci
+0001ca50: 655f 6964 2c20 276d 6f64 656c 273a 2067  e_id, 'model': g
+0001ca60: 7075 5f6e 616d 652c 0a20 2020 2020 2020  pu_name,.       
+0001ca70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ca80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ca90: 2020 2020 2020 2020 2020 2020 2776 656e              'ven
+0001caa0: 646f 7227 3a20 7665 6e64 6f72 2c0a 2020  dor': vendor,.  
+0001cab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cae0: 2027 6472 6976 6572 273a 2064 7269 7665   'driver': drive
+0001caf0: 725f 6d6f 6475 6c65 2c20 2763 6172 645f  r_module, 'card_
+0001cb00: 7061 7468 273a 2063 6172 645f 7061 7468  path': card_path
+0001cb10: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001cb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cb40: 2020 2020 2027 7379 735f 6361 7264 5f70       'sys_card_p
+0001cb50: 6174 6827 3a20 7379 735f 6361 7264 5f70  ath': sys_card_p
+0001cb60: 6174 682c 2027 6770 755f 7479 7065 273a  ath, 'gpu_type':
+0001cb70: 2067 7075 5f74 7970 652c 0a20 2020 2020   gpu_type,.     
+0001cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cba0: 2020 2020 2020 2020 2020 2020 2020 2768                'h
+0001cbb0: 776d 6f6e 5f70 6174 6827 3a20 6877 6d6f  wmon_path': hwmo
+0001cbc0: 6e5f 7061 7468 2c20 2772 6561 6461 626c  n_path, 'readabl
+0001cbd0: 6527 3a20 7265 6164 6162 6c65 2c0a 2020  e': readable,.  
+0001cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cc10: 2027 7772 6974 6162 6c65 273a 2077 7269   'writable': wri
+0001cc20: 7461 626c 652c 2027 636f 6d70 7574 6527  table, 'compute'
+0001cc30: 3a20 636f 6d70 7574 652c 0a20 2020 2020  : compute,.     
+0001cc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cc50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cc60: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+0001cc70: 6f6d 7075 7465 5f70 6c61 7466 6f72 6d27  ompute_platform'
+0001cc80: 3a20 6f70 656e 636c 5f64 6576 6963 655f  : opencl_device_
+0001cc90: 7665 7273 696f 6e7d 290a 2020 2020 2020  version}).      
+0001cca0: 2020 2020 2020 4c4f 4747 4552 2e64 6562        LOGGER.deb
+0001ccb0: 7567 2827 4361 7264 2066 6c61 6773 3a20  ug('Card flags: 
+0001ccc0: 7265 6164 6162 6c65 3a20 2573 2c20 7772  readable: %s, wr
+0001ccd0: 6974 6162 6c65 3a20 2573 2c20 7479 7065  itable: %s, type
+0001cce0: 3a20 2573 272c 0a20 2020 2020 2020 2020  : %s',.         
 0001ccf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cd00: 2020 2020 2020 2027 434c 5f44 4556 4943         'CL_DEVIC
-0001cd10: 455f 4d41 585f 574f 524b 5f47 524f 5550  E_MAX_WORK_GROUP
-0001cd20: 5f53 495a 4527 3a20 2020 2020 2020 2020  _SIZE':         
-0001cd30: 2020 2020 2020 2027 6d61 785f 7767 5f73         'max_wg_s
-0001cd40: 697a 6527 2c0a 2020 2020 2020 2020 2020  ize',.          
-0001cd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cd60: 2020 2743 4c5f 4445 5649 4345 5f50 5245    'CL_DEVICE_PRE
-0001cd70: 4645 5252 4544 5f57 4f52 4b5f 4752 4f55  FERRED_WORK_GROU
-0001cd80: 505f 5349 5a45 273a 2020 2020 2020 2020  P_SIZE':        
-0001cd90: 2020 2770 7266 5f77 675f 7369 7a65 272c    'prf_wg_size',
-0001cda0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001cdb0: 2020 2020 2020 2020 2020 2020 2027 434c               'CL
-0001cdc0: 5f44 4556 4943 455f 4d41 585f 574f 524b  _DEVICE_MAX_WORK
-0001cdd0: 5f49 5445 4d5f 5349 5a45 5327 3a20 2020  _ITEM_SIZES':   
-0001cde0: 2020 2020 2020 2020 2020 2020 2027 6d61               'ma
-0001cdf0: 785f 7769 5f73 697a 6573 272c 0a20 2020  x_wi_sizes',.   
-0001ce00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ce10: 2020 2020 2020 2020 2027 434c 5f44 4556           'CL_DEV
-0001ce20: 4943 455f 4d41 585f 574f 524b 5f49 5445  ICE_MAX_WORK_ITE
-0001ce30: 4d5f 4449 4d45 4e53 494f 4e53 273a 2020  M_DIMENSIONS':  
-0001ce40: 2020 2020 2020 2020 2027 6d61 785f 7769           'max_wi
-0001ce50: 5f64 696d 272c 0a20 2020 2020 2020 2020  _dim',.         
-0001ce60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ce70: 2020 2027 434c 5f44 4556 4943 455f 4d41     'CL_DEVICE_MA
-0001ce80: 585f 4d45 4d5f 414c 4c4f 435f 5349 5a45  X_MEM_ALLOC_SIZE
-0001ce90: 273a 2020 2020 2020 2020 2020 2020 2020  ':              
-0001cea0: 2020 2027 6d61 785f 6d65 6d5f 616c 6c6f     'max_mem_allo
-0001ceb0: 6361 7469 6f6e 272c 0a20 2020 2020 2020  cation',.       
-0001cec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ced0: 2020 2020 2027 434c 5f44 4556 4943 455f       'CL_DEVICE_
-0001cee0: 5349 4d44 5f49 4e53 5452 5543 5449 4f4e  SIMD_INSTRUCTION
-0001cef0: 5f57 4944 5448 273a 2020 2020 2020 2020  _WIDTH':        
-0001cf00: 2020 2020 2027 7369 6d64 5f69 6e73 5f77       'simd_ins_w
-0001cf10: 6964 7468 272c 0a20 2020 2020 2020 2020  idth',.         
-0001cf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cf30: 2020 2027 434c 5f44 4556 4943 455f 5349     'CL_DEVICE_SI
-0001cf40: 4d44 5f57 4944 5448 273a 2020 2020 2020  MD_WIDTH':      
-0001cf50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cf60: 2020 2027 7369 6d64 5f77 6964 7468 272c     'simd_width',
-0001cf70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001cf80: 2020 2020 2020 2020 2020 2020 2027 434c               'CL
-0001cf90: 5f44 4556 4943 455f 5349 4d44 5f50 4552  _DEVICE_SIMD_PER
-0001cfa0: 5f43 4f4d 5055 5445 5f55 4e49 5427 3a20  _COMPUTE_UNIT': 
-0001cfb0: 2020 2020 2020 2020 2020 2020 2027 7369               'si
-0001cfc0: 6d64 5f70 6572 5f63 7527 2c0a 2020 2020  md_per_cu',.    
-0001cfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cfe0: 2020 2020 2020 2020 2743 4c5f 4445 5649          'CL_DEVI
-0001cff0: 4345 5f4d 4158 5f43 4f4d 5055 5445 5f55  CE_MAX_COMPUTE_U
-0001d000: 4e49 5453 273a 2020 2020 2020 2020 2020  NITS':          
-0001d010: 2020 2020 2020 2020 276d 6178 5f63 7527          'max_cu'
-0001d020: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001d030: 2020 2020 2020 2020 2020 2020 2020 2743                'C
-0001d040: 4c5f 4445 5649 4345 5f4e 414d 4527 3a20  L_DEVICE_NAME': 
-0001d050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d060: 2020 2020 2020 2020 2020 2020 2020 2764                'd
-0001d070: 6576 6963 655f 6e61 6d65 272c 0a20 2020  evice_name',.   
-0001d080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d090: 2020 2020 2020 2020 2027 434c 5f44 4556           'CL_DEV
-0001d0a0: 4943 455f 4f50 454e 434c 5f43 5f56 4552  ICE_OPENCL_C_VER
-0001d0b0: 5349 4f4e 273a 2020 2020 2020 2020 2020  SION':          
-0001d0c0: 2020 2020 2020 2020 2027 6f70 656e 636c           'opencl
-0001d0d0: 5f76 6572 7369 6f6e 272c 0a20 2020 2020  _version',.     
-0001d0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d0f0: 2020 2020 2020 2027 434c 5f44 5249 5645         'CL_DRIVE
-0001d100: 525f 5645 5253 494f 4e27 3a20 2020 2020  R_VERSION':     
-0001d110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d120: 2020 2020 2020 2027 6472 6976 6572 5f76         'driver_v
-0001d130: 6572 7369 6f6e 272c 0a20 2020 2020 2020  ersion',.       
-0001d140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d150: 2020 2020 2027 434c 5f44 4556 4943 455f       'CL_DEVICE_
-0001d160: 5645 5253 494f 4e27 3a20 2020 2020 2020  VERSION':       
-0001d170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d180: 2020 2020 2027 6465 7669 6365 5f76 6572       'device_ver
-0001d190: 7369 6f6e 277d 0a0a 2020 2020 2020 2020  sion'}..        
-0001d1a0: 2020 2020 6465 6620 696e 6974 5f74 656d      def init_tem
-0001d1b0: 705f 6d61 7028 2920 2d3e 2064 6963 743a  p_map() -> dict:
-0001d1c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d1d0: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-0001d1e0: 2020 2020 2052 6574 7572 6e20 616e 2069       Return an i
-0001d1f0: 6e69 7469 616c 697a 6564 2063 6c69 6e66  nitialized clinf
-0001d200: 6f20 6469 6374 2e0a 0a20 2020 2020 2020  o dict...       
-0001d210: 2020 2020 2020 2020 203a 7265 7475 726e           :return
-0001d220: 3a20 2049 6e69 7469 616c 697a 6564 2063  :  Initialized c
-0001d230: 6c69 6e66 6f20 6469 6374 0a20 2020 2020  linfo dict.     
-0001d240: 2020 2020 2020 2020 2020 2022 2222 0a20             """. 
-0001d250: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001d260: 5f64 6963 7420 3d20 7b7d 0a20 2020 2020  _dict = {}.     
-0001d270: 2020 2020 2020 2020 2020 2066 6f72 2074             for t
-0001d280: 656d 705f 6b65 7973 2069 6e20 6f63 6c5f  emp_keys in ocl_
-0001d290: 6b65 7977 6f72 6473 2e76 616c 7565 7328  keywords.values(
-0001d2a0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001d2b0: 2020 2020 2020 2074 5f64 6963 745b 7465         t_dict[te
-0001d2c0: 6d70 5f6b 6579 735d 203d 204e 6f6e 650a  mp_keys] = None.
-0001d2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d2e0: 7265 7475 726e 2074 5f64 6963 740a 0a20  return t_dict.. 
-0001d2f0: 2020 2020 2020 2020 2020 2023 2049 6e69             # Ini
-0001d300: 7469 616c 697a 6520 6469 6374 2076 6172  tialize dict var
-0001d310: 6961 626c 6573 0a20 2020 2020 2020 2020  iables.         
-0001d320: 2020 206f 636c 5f70 6369 655f 6964 3a20     ocl_pcie_id: 
-0001d330: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0001d340: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
-0001d350: 206f 636c 5f69 6e64 6578 3a20 4f70 7469   ocl_index: Opti
-0001d360: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d370: 0a20 2020 2020 2020 2020 2020 206f 636c  .            ocl
-0001d380: 5f76 656e 646f 723a 204f 7074 696f 6e61  _vendor: Optiona
-0001d390: 6c5b 7374 725d 203d 204e 6f6e 650a 2020  l[str] = None.  
-0001d3a0: 2020 2020 2020 2020 2020 6f63 6c5f 7063            ocl_pc
-0001d3b0: 6965 5f73 6c6f 745f 6964 3a20 4f70 7469  ie_slot_id: Opti
-0001d3c0: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d3d0: 0a20 2020 2020 2020 2020 2020 206f 636c  .            ocl
-0001d3e0: 5f70 6369 655f 6275 735f 6964 3a20 4f70  _pcie_bus_id: Op
-0001d3f0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-0001d400: 6e65 0a20 2020 2020 2020 2020 2020 2074  ne.            t
-0001d410: 656d 705f 6d61 7020 3d20 696e 6974 5f74  emp_map = init_t
-0001d420: 656d 705f 6d61 7028 290a 0a20 2020 2020  emp_map()..     
-0001d430: 2020 2020 2020 2023 2052 6561 6420 6561         # Read ea
-0001d440: 6368 206c 696e 6520 6672 6f6d 2063 6c69  ch line from cli
-0001d450: 6e66 6f20 2d2d 7261 770a 2020 2020 2020  nfo --raw.      
-0001d460: 2020 2020 2020 666f 7220 6c69 6e65 2069        for line i
-0001d470: 6e20 636d 642e 7374 646f 7574 3a0a 2020  n cmd.stdout:.  
-0001d480: 2020 2020 2020 2020 2020 2020 2020 6c69                li
-0001d490: 6e65 7374 7220 3d20 6c69 6e65 2e64 6563  nestr = line.dec
-0001d4a0: 6f64 6528 2775 7466 2d38 2729 2e73 7472  ode('utf-8').str
-0001d4b0: 6970 2829 0a20 2020 2020 2020 2020 2020  ip().           
-0001d4c0: 2020 2020 2069 6620 6e6f 7420 6c69 6e65       if not line
-0001d4d0: 7374 723a 2063 6f6e 7469 6e75 650a 2020  str: continue.  
-0001d4e0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001d4f0: 206c 696e 6573 7472 5b30 5d20 213d 2027   linestr[0] != '
-0001d500: 5b27 3a20 636f 6e74 696e 7565 0a20 2020  [': continue.   
-0001d510: 2020 2020 2020 2020 2020 2020 206c 696e               lin
-0001d520: 655f 6974 656d 7320 3d20 6c69 6e65 7374  e_items = linest
-0001d530: 722e 7370 6c69 7428 6d61 7873 706c 6974  r.split(maxsplit
-0001d540: 3d32 290a 2020 2020 2020 2020 2020 2020  =2).            
-0001d550: 2020 2020 6966 206c 656e 286c 696e 655f      if len(line_
-0001d560: 6974 656d 7329 2021 3d20 333a 2063 6f6e  items) != 3: con
-0001d570: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
-0001d580: 2020 2020 2020 636c 5f76 656e 646f 722c        cl_vendor,
-0001d590: 2063 6c5f 696e 6465 7820 3d20 7475 706c   cl_index = tupl
-0001d5a0: 6528 7265 2e73 7562 2872 275b 5c5b 5c5d  e(re.sub(r'[\[\]
-0001d5b0: 5d27 2c20 2727 2c20 6c69 6e65 5f69 7465  ]', '', line_ite
-0001d5c0: 6d73 5b30 5d29 2e73 706c 6974 2827 2f27  ms[0]).split('/'
-0001d5d0: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-0001d5e0: 2020 2069 6620 636c 5f69 6e64 6578 203d     if cl_index =
-0001d5f0: 3d20 272a 273a 2063 6f6e 7469 6e75 650a  = '*': continue.
-0001d600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d610: 6966 206e 6f74 206f 636c 5f69 6e64 6578  if not ocl_index
-0001d620: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001d630: 2020 2020 2020 6f63 6c5f 696e 6465 7820        ocl_index 
-0001d640: 3d20 636c 5f69 6e64 6578 0a20 2020 2020  = cl_index.     
-0001d650: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0001d660: 636c 5f76 656e 646f 7220 3d20 636c 5f76  cl_vendor = cl_v
-0001d670: 656e 646f 720a 2020 2020 2020 2020 2020  endor.          
-0001d680: 2020 2020 2020 2020 2020 6f63 6c5f 7063            ocl_pc
-0001d690: 6965 5f73 6c6f 745f 6964 203d 206f 636c  ie_slot_id = ocl
-0001d6a0: 5f70 6369 655f 6275 735f 6964 203d 204e  _pcie_bus_id = N
-0001d6b0: 6f6e 650a 0a20 2020 2020 2020 2020 2020  one..           
-0001d6c0: 2020 2020 2023 2049 6620 6e65 7720 636c       # If new cl
-0001d6d0: 5f69 6e64 6578 2c20 7468 656e 2075 7064  _index, then upd
-0001d6e0: 6174 6520 6f70 656e 636c 5f6d 6170 0a20  ate opencl_map. 
-0001d6f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001d700: 6620 636c 5f76 656e 646f 7220 213d 206f  f cl_vendor != o
-0001d710: 636c 5f76 656e 646f 7220 6f72 2063 6c5f  cl_vendor or cl_
-0001d720: 696e 6465 7820 213d 206f 636c 5f69 6e64  index != ocl_ind
-0001d730: 6578 3a0a 2020 2020 2020 2020 2020 2020  ex:.            
-0001d740: 2020 2020 2020 2020 2320 5570 6461 7465          # Update
-0001d750: 206f 7065 6e63 6c5f 6d61 7020 7769 7468   opencl_map with
-0001d760: 2064 6963 7420 7661 7269 6162 6c65 7320   dict variables 
-0001d770: 7768 656e 206e 6577 2069 6e64 6578 2069  when new index i
-0001d780: 7320 656e 636f 756e 7465 7265 642e 0a20  s encountered.. 
-0001d790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d7a0: 2020 2073 656c 662e 6f70 656e 636c 5f6d     self.opencl_m
-0001d7b0: 6170 2e75 7064 6174 6528 7b6f 636c 5f70  ap.update({ocl_p
-0001d7c0: 6369 655f 6964 3a20 7465 6d70 5f6d 6170  cie_id: temp_map
-0001d7d0: 7d29 0a20 2020 2020 2020 2020 2020 2020  }).             
-0001d7e0: 2020 2020 2020 204c 4f47 4745 522e 6465         LOGGER.de
-0001d7f0: 6275 6728 2763 6c5f 7665 6e64 6f72 3a20  bug('cl_vendor: 
-0001d800: 2573 2c20 636c 5f69 6e64 6578 3a20 2573  %s, cl_index: %s
-0001d810: 2c20 7063 6965 5f69 643a 2025 7327 2c0a  , pcie_id: %s',.
-0001d820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d840: 206f 636c 5f76 656e 646f 722c 206f 636c   ocl_vendor, ocl
-0001d850: 5f69 6e64 6578 2c20 7365 6c66 2e6f 7065  _index, self.ope
-0001d860: 6e63 6c5f 6d61 705b 6f63 6c5f 7063 6965  ncl_map[ocl_pcie
-0001d870: 5f69 645d 290a 0a20 2020 2020 2020 2020  _id])..         
-0001d880: 2020 2020 2020 2020 2020 2023 2049 6e69             # Ini
-0001d890: 7469 616c 697a 6520 6469 6374 2076 6172  tialize dict var
-0001d8a0: 6961 626c 6573 0a20 2020 2020 2020 2020  iables.         
-0001d8b0: 2020 2020 2020 2020 2020 206f 636c 5f69             ocl_i
-0001d8c0: 6e64 6578 203d 2063 6c5f 696e 6465 780a  ndex = cl_index.
-0001d8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d8e0: 2020 2020 6f63 6c5f 7665 6e64 6f72 203d      ocl_vendor =
-0001d8f0: 2063 6c5f 7665 6e64 6f72 0a20 2020 2020   cl_vendor.     
-0001d900: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0001d910: 636c 5f70 6369 655f 6964 203d 206f 636c  cl_pcie_id = ocl
-0001d920: 5f70 6369 655f 6275 735f 6964 203d 206f  _pcie_bus_id = o
-0001d930: 636c 5f70 6369 655f 736c 6f74 5f69 6420  cl_pcie_slot_id 
-0001d940: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
-0001d950: 2020 2020 2020 2020 2020 2074 656d 705f             temp_
-0001d960: 6d61 7020 3d20 696e 6974 5f74 656d 705f  map = init_temp_
-0001d970: 6d61 7028 290a 0a20 2020 2020 2020 2020  map()..         
-0001d980: 2020 2020 2020 2070 6172 616d 5f73 7472         param_str
-0001d990: 203d 206c 696e 655f 6974 656d 735b 315d   = line_items[1]
-0001d9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d9b0: 2023 2043 6865 636b 2069 7465 6d20 696e   # Check item in
-0001d9c0: 2063 6c69 6e66 6f5f 6b65 7977 6f72 6473   clinfo_keywords
-0001d9d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d9e0: 2066 6f72 2063 6c69 6e66 6f5f 6b65 7977   for clinfo_keyw
-0001d9f0: 6f72 642c 206f 7065 6e63 6c5f 6d61 705f  ord, opencl_map_
-0001da00: 6b65 7977 6f72 6420 696e 206f 636c 5f6b  keyword in ocl_k
-0001da10: 6579 776f 7264 732e 6974 656d 7328 293a  eywords.items():
-0001da20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001da30: 2020 2020 2069 6620 636c 696e 666f 5f6b       if clinfo_k
-0001da40: 6579 776f 7264 2069 6e20 7061 7261 6d5f  eyword in param_
-0001da50: 7374 723a 0a20 2020 2020 2020 2020 2020  str:.           
-0001da60: 2020 2020 2020 2020 2020 2020 2074 656d               tem
-0001da70: 705f 6d61 705b 6f70 656e 636c 5f6d 6170  p_map[opencl_map
-0001da80: 5f6b 6579 776f 7264 5d20 3d20 6c69 6e65  _keyword] = line
-0001da90: 5f69 7465 6d73 5b32 5d2e 7374 7269 7028  _items[2].strip(
-0001daa0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001dab0: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
-0001dac0: 2e64 6562 7567 2827 6f70 656e 434c 206d  .debug('openCL m
-0001dad0: 6170 2025 733a 205b 2573 5d27 2c20 636c  ap %s: [%s]', cl
-0001dae0: 696e 666f 5f6b 6579 776f 7264 2c20 7465  info_keyword, te
-0001daf0: 6d70 5f6d 6170 5b6f 7065 6e63 6c5f 6d61  mp_map[opencl_ma
-0001db00: 705f 6b65 7977 6f72 645d 290a 2020 2020  p_keyword]).    
-0001db10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001db20: 2020 2020 636f 6e74 696e 7565 0a0a 2020      continue..  
-0001db30: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0001db40: 5043 4965 2049 4420 7265 6c61 7465 6420  PCIe ID related 
-0001db50: 636c 696e 666f 5f6b 6579 776f 7264 730a  clinfo_keywords.
-0001db60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001db70: 2320 4368 6563 6b20 666f 7220 414d 4420  # Check for AMD 
-0001db80: 7063 6965 5f69 6420 6465 7461 696c 730a  pcie_id details.
-0001db90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dba0: 6966 2027 434c 5f44 4556 4943 455f 544f  if 'CL_DEVICE_TO
-0001dbb0: 504f 4c4f 4759 2720 696e 2070 6172 616d  POLOGY' in param
-0001dbc0: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
-0001dbd0: 2020 2020 2020 2020 2020 6f63 6c5f 7063            ocl_pc
-0001dbe0: 6965 5f69 6420 3d20 286c 696e 655f 6974  ie_id = (line_it
-0001dbf0: 656d 735b 325d 2e73 706c 6974 2829 5b31  ems[2].split()[1
-0001dc00: 5d29 2e73 7472 6970 2829 0a20 2020 2020  ]).strip().     
-0001dc10: 2020 2020 2020 2020 2020 2020 2020 204c                 L
-0001dc20: 4f47 4745 522e 6465 6275 6728 2741 4d44  OGGER.debug('AMD
-0001dc30: 206f 636c 5f70 6369 655f 6964 205b 2573   ocl_pcie_id [%s
-0001dc40: 5d27 2c20 6f63 6c5f 7063 6965 5f69 6429  ]', ocl_pcie_id)
-0001dc50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001dc60: 2020 2020 2063 6f6e 7469 6e75 650a 0a20       continue.. 
-0001dc70: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0001dc80: 2043 6865 636b 2066 6f72 204e 5620 7063   Check for NV pc
-0001dc90: 6965 5f69 6420 6465 7461 696c 730a 2020  ie_id details.  
-0001dca0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001dcb0: 2027 434c 5f44 4556 4943 455f 5043 495f   'CL_DEVICE_PCI_
-0001dcc0: 4255 535f 4944 5f4e 5627 2069 6e20 7061  BUS_ID_NV' in pa
-0001dcd0: 7261 6d5f 7374 723a 0a20 2020 2020 2020  ram_str:.       
-0001dce0: 2020 2020 2020 2020 2020 2020 206f 636c               ocl
-0001dcf0: 5f70 6369 655f 6275 735f 6964 3a20 4f70  _pcie_bus_id: Op
-0001dd00: 7469 6f6e 616c 5b73 7472 5d20 3d20 7374  tional[str] = st
-0001dd10: 7228 6865 7828 696e 7428 6c69 6e65 5f69  r(hex(int(line_i
-0001dd20: 7465 6d73 5b32 5d2e 7374 7269 7028 2929  tems[2].strip())
-0001dd30: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-0001dd40: 2020 2020 2020 2069 6620 6f63 6c5f 7063         if ocl_pc
-0001dd50: 6965 5f73 6c6f 745f 6964 2069 7320 6e6f  ie_slot_id is no
-0001dd60: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0001dd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dd80: 6f63 6c5f 7063 6965 5f69 6420 3d20 277b  ocl_pcie_id = '{
-0001dd90: 7d3a 7b7d 2e30 272e 666f 726d 6174 286f  }:{}.0'.format(o
-0001dda0: 636c 5f70 6369 655f 6275 735f 6964 5b32  cl_pcie_bus_id[2
-0001ddb0: 3a5d 2e7a 6669 6c6c 2832 292c 206f 636c  :].zfill(2), ocl
-0001ddc0: 5f70 6369 655f 736c 6f74 5f69 645b 323a  _pcie_slot_id[2:
-0001ddd0: 5d2e 7a66 696c 6c28 3229 290a 2020 2020  ].zfill(2)).    
-0001dde0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ddf0: 2020 2020 6f63 6c5f 7063 6965 5f73 6c6f      ocl_pcie_slo
-0001de00: 745f 6964 203d 206f 636c 5f70 6369 655f  t_id = ocl_pcie_
-0001de10: 6275 735f 6964 203d 204e 6f6e 650a 2020  bus_id = None.  
-0001de20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001de30: 2020 2020 2020 4c4f 4747 4552 2e64 6562        LOGGER.deb
-0001de40: 7567 2827 4e56 206f 636c 5f70 6369 655f  ug('NV ocl_pcie_
-0001de50: 6964 205b 2573 5d27 2c20 6f63 6c5f 7063  id [%s]', ocl_pc
-0001de60: 6965 5f69 6429 0a20 2020 2020 2020 2020  ie_id).         
-0001de70: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-0001de80: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-0001de90: 2020 2020 6966 2027 434c 5f44 4556 4943      if 'CL_DEVIC
-0001dea0: 455f 5043 495f 534c 4f54 5f49 445f 4e56  E_PCI_SLOT_ID_NV
-0001deb0: 2720 696e 2070 6172 616d 5f73 7472 3a0a  ' in param_str:.
-0001dec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ded0: 2020 2020 6f63 6c5f 7063 6965 5f73 6c6f      ocl_pcie_slo
-0001dee0: 745f 6964 203d 2068 6578 2869 6e74 286c  t_id = hex(int(l
-0001def0: 696e 655f 6974 656d 735b 325d 2e73 7472  ine_items[2].str
-0001df00: 6970 2829 2929 0a20 2020 2020 2020 2020  ip())).         
-0001df10: 2020 2020 2020 2020 2020 2069 6620 6f63             if oc
-0001df20: 6c5f 7063 6965 5f62 7573 5f69 6420 6973  l_pcie_bus_id is
-0001df30: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0001df40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001df50: 2020 206f 636c 5f70 6369 655f 6964 203d     ocl_pcie_id =
-0001df60: 2027 7b7d 3a7b 7d2e 3027 2e66 6f72 6d61   '{}:{}.0'.forma
-0001df70: 7428 6f63 6c5f 7063 6965 5f62 7573 5f69  t(ocl_pcie_bus_i
-0001df80: 645b 323a 5d2e 7a66 696c 6c28 3229 2c20  d[2:].zfill(2), 
-0001df90: 6f63 6c5f 7063 6965 5f73 6c6f 745f 6964  ocl_pcie_slot_id
-0001dfa0: 5b32 3a5d 2e7a 6669 6c6c 2832 2929 0a20  [2:].zfill(2)). 
-0001dfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dfc0: 2020 2020 2020 206f 636c 5f70 6369 655f         ocl_pcie_
-0001dfd0: 736c 6f74 5f69 6420 3d20 6f63 6c5f 7063  slot_id = ocl_pc
-0001dfe0: 6965 5f62 7573 5f69 6420 3d20 4e6f 6e65  ie_bus_id = None
-0001dff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e000: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
-0001e010: 6465 6275 6728 274e 5620 6f63 6c5f 7063  debug('NV ocl_pc
-0001e020: 6965 5f69 6420 5b25 735d 272c 206f 636c  ie_id [%s]', ocl
-0001e030: 5f70 6369 655f 6964 290a 2020 2020 2020  _pcie_id).      
-0001e040: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0001e050: 6e74 696e 7565 0a0a 2020 2020 2020 2020  ntinue..        
-0001e060: 2020 2020 2020 2020 2320 4368 6563 6b20          # Check 
-0001e070: 666f 7220 494e 5445 4c20 7063 6965 5f69  for INTEL pcie_i
-0001e080: 6420 6465 7461 696c 730a 2020 2020 2020  d details.      
-0001e090: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
-0001e0a0: 3a20 446f 6e27 7420 6b6e 6f77 2068 6f77  : Don't know how
-0001e0b0: 2065 7874 7261 6374 2049 6e74 656c 2070   extract Intel p
-0001e0c0: 6369 655f 6964 2064 6574 6169 6c73 2e0a  cie_id details..
-0001e0d0: 0a20 2020 2020 2020 2073 656c 662e 6f70  .        self.op
-0001e0e0: 656e 636c 5f6d 6170 2e75 7064 6174 6528  encl_map.update(
-0001e0f0: 7b6f 636c 5f70 6369 655f 6964 3a20 7465  {ocl_pcie_id: te
-0001e100: 6d70 5f6d 6170 7d29 0a20 2020 2020 2020  mp_map}).       
-0001e110: 2072 6574 7572 6e20 5472 7565 0a0a 2020   return True..  
-0001e120: 2020 6465 6620 6e75 6d5f 7665 6e64 6f72    def num_vendor
-0001e130: 5f67 7075 7328 7365 6c66 2c20 636f 6d70  _gpus(self, comp
-0001e140: 6174 6962 696c 6974 793a 2047 7075 436f  atibility: GpuCo
-0001e150: 6d70 6174 6962 696c 6974 7920 3d20 4770  mpatibility = Gp
-0001e160: 7543 6f6d 7061 7469 6269 6c69 7479 2e41  uCompatibility.A
-0001e170: 4c4c 2920 2d3e 2044 6963 745b 7374 722c  LL) -> Dict[str,
-0001e180: 2069 6e74 5d3a 0a20 2020 2020 2020 2022   int]:.        "
-0001e190: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-0001e1a0: 6e20 7468 6520 636f 756e 7420 6f66 2047  n the count of G
-0001e1b0: 5055 7320 6279 2076 656e 646f 722e 2020  PUs by vendor.  
-0001e1c0: 436f 756e 7473 2074 6f74 616c 2062 7920  Counts total by 
-0001e1d0: 6465 6661 756c 742c 2062 7574 2063 616e  default, but can
-0001e1e0: 2061 6c73 6f20 6279 2072 772c 2072 6f6e   also by rw, ron
-0001e1f0: 6c79 2c20 6f72 2077 6f6e 6c79 2e0a 0a20  ly, or wonly... 
-0001e200: 2020 2020 2020 203a 7061 7261 6d20 636f         :param co
-0001e210: 6d70 6174 6962 696c 6974 793a 204f 6e6c  mpatibility: Onl
-0001e220: 7920 636f 756e 7420 7665 6e64 6f72 2047  y count vendor G
-0001e230: 5055 7320 6966 2054 7275 652e 0a20 2020  PUs if True..   
-0001e240: 2020 2020 203a 7265 7475 726e 3a20 4469       :return: Di
-0001e250: 6374 696f 6e61 7279 206f 6620 4750 5520  ctionary of GPU 
-0001e260: 636f 756e 7473 0a20 2020 2020 2020 2022  counts.        "
-0001e270: 2222 0a20 2020 2020 2020 2074 7279 3a0a  "".        try:.
-0001e280: 2020 2020 2020 2020 2020 2020 5f20 3d20              _ = 
-0001e290: 636f 6d70 6174 6962 696c 6974 792e 6e61  compatibility.na
-0001e2a0: 6d65 0a20 2020 2020 2020 2065 7863 6570  me.        excep
-0001e2b0: 7420 4174 7472 6962 7574 6545 7272 6f72  t AttributeError
-0001e2c0: 2061 7320 6572 726f 723a 0a20 2020 2020   as error:.     
-0001e2d0: 2020 2020 2020 2072 6169 7365 2041 7474         raise Att
-0001e2e0: 7269 6275 7465 4572 726f 7228 2745 7272  ributeError('Err
-0001e2f0: 6f72 3a20 7b7d 206e 6f74 2061 2076 616c  or: {} not a val
-0001e300: 6964 2063 6f6d 7061 7469 6269 6c69 7479  id compatibility
-0001e310: 206e 616d 653a 205b 7b7d 5d27 2e66 6f72   name: [{}]'.for
-0001e320: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
-0001e330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e340: 2020 2020 2020 636f 6d70 6174 6962 696c        compatibil
-0001e350: 6974 792c 2047 7075 436f 6d70 6174 6962  ity, GpuCompatib
-0001e360: 696c 6974 7929 2920 6672 6f6d 2065 7272  ility)) from err
-0001e370: 6f72 0a20 2020 2020 2020 2072 6573 756c  or.        resul
-0001e380: 7473 5f64 6963 7420 3d20 7b7d 0a20 2020  ts_dict = {}.   
-0001e390: 2020 2020 2066 6f72 2067 7075 2069 6e20       for gpu in 
-0001e3a0: 7365 6c66 2e67 7075 7328 293a 0a20 2020  self.gpus():.   
-0001e3b0: 2020 2020 2020 2020 2069 6620 636f 6d70           if comp
-0001e3c0: 6174 6962 696c 6974 7920 3d3d 2047 7075  atibility == Gpu
-0001e3d0: 436f 6d70 6174 6962 696c 6974 792e 5265  Compatibility.Re
-0001e3e0: 6164 5772 6974 653a 0a20 2020 2020 2020  adWrite:.       
-0001e3f0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-0001e400: 6770 752e 7072 6d2e 7265 6164 6162 6c65  gpu.prm.readable
-0001e410: 206f 7220 6e6f 7420 6770 752e 7072 6d2e   or not gpu.prm.
-0001e420: 7772 6974 6162 6c65 3a0a 2020 2020 2020  writable:.      
-0001e430: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0001e440: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-0001e450: 2020 2069 6620 636f 6d70 6174 6962 696c     if compatibil
-0001e460: 6974 7920 3d3d 2047 7075 436f 6d70 6174  ity == GpuCompat
-0001e470: 6962 696c 6974 792e 5265 6164 4f6e 6c79  ibility.ReadOnly
-0001e480: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001e490: 2020 6966 206e 6f74 2067 7075 2e70 726d    if not gpu.prm
-0001e4a0: 2e72 6561 6461 626c 653a 0a20 2020 2020  .readable:.     
-0001e4b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0001e4c0: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
-0001e4d0: 2020 2020 6966 2063 6f6d 7061 7469 6269      if compatibi
-0001e4e0: 6c69 7479 203d 3d20 4770 7543 6f6d 7061  lity == GpuCompa
-0001e4f0: 7469 6269 6c69 7479 2e57 7269 7465 4f6e  tibility.WriteOn
-0001e500: 6c79 3a0a 2020 2020 2020 2020 2020 2020  ly:.            
-0001e510: 2020 2020 6966 206e 6f74 2067 7075 2e70      if not gpu.p
-0001e520: 726d 2e77 7269 7461 626c 653a 0a20 2020  rm.writable:.   
-0001e530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e540: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
-0001e550: 2020 2020 2020 6966 2067 7075 2e70 726d        if gpu.prm
-0001e560: 2e76 656e 646f 722e 6e61 6d65 206e 6f74  .vendor.name not
-0001e570: 2069 6e20 7265 7375 6c74 735f 6469 6374   in results_dict
-0001e580: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001e590: 2020 7265 7375 6c74 735f 6469 6374 2e75    results_dict.u
-0001e5a0: 7064 6174 6528 7b67 7075 2e70 726d 2e76  pdate({gpu.prm.v
-0001e5b0: 656e 646f 722e 6e61 6d65 3a20 317d 290a  endor.name: 1}).
-0001e5c0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001e5d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001e5e0: 2020 7265 7375 6c74 735f 6469 6374 5b67    results_dict[g
-0001e5f0: 7075 2e70 726d 2e76 656e 646f 722e 6e61  pu.prm.vendor.na
-0001e600: 6d65 5d20 2b3d 2031 0a20 2020 2020 2020  me] += 1.       
-0001e610: 2072 6574 7572 6e20 7265 7375 6c74 735f   return results_
-0001e620: 6469 6374 0a0a 2020 2020 6465 6620 6e75  dict..    def nu
-0001e630: 6d5f 6770 7573 2873 656c 662c 2076 656e  m_gpus(self, ven
-0001e640: 646f 723a 2047 7075 5665 6e64 6f72 203d  dor: GpuVendor =
-0001e650: 2047 7075 5665 6e64 6f72 2e41 4c4c 2920   GpuVendor.ALL) 
-0001e660: 2d3e 2044 6963 745b 7374 722c 2069 6e74  -> Dict[str, int
-0001e670: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
-0001e680: 2020 2020 2020 2052 6574 7572 6e20 7468         Return th
-0001e690: 6520 636f 756e 7420 6f66 2047 5055 7320  e count of GPUs 
-0001e6a0: 6279 2074 6f74 616c 2c20 7277 2c20 722d  by total, rw, r-
-0001e6b0: 6f6e 6c79 206f 7220 772d 6f6e 6c79 2e0a  only or w-only..
-0001e6c0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001e6d0: 7665 6e64 6f72 3a20 4f6e 6c79 2063 6f75  vendor: Only cou
-0001e6e0: 6e74 2076 656e 646f 7220 4750 5573 206f  nt vendor GPUs o
-0001e6f0: 6620 7370 6563 6966 6963 2076 656e 646f  f specific vendo
-0001e700: 7220 6f72 2061 6c6c 2076 656e 646f 7273  r or all vendors
-0001e710: 2062 7920 6465 6661 756c 742e 0a20 2020   by default..   
-0001e720: 2020 2020 203a 7265 7475 726e 3a20 4469       :return: Di
-0001e730: 6374 696f 6e61 7279 206f 6620 4750 5520  ctionary of GPU 
-0001e740: 636f 756e 7473 0a20 2020 2020 2020 2022  counts.        "
-0001e750: 2222 0a20 2020 2020 2020 2074 7279 3a0a  "".        try:.
-0001e760: 2020 2020 2020 2020 2020 2020 7665 6e64              vend
-0001e770: 6f72 5f6e 616d 6520 3d20 7665 6e64 6f72  or_name = vendor
-0001e780: 2e6e 616d 650a 2020 2020 2020 2020 6578  .name.        ex
-0001e790: 6365 7074 2041 7474 7269 6275 7465 4572  cept AttributeEr
-0001e7a0: 726f 7220 6173 2065 7272 6f72 3a0a 2020  ror as error:.  
-0001e7b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001e7c0: 4174 7472 6962 7574 6545 7272 6f72 2827  AttributeError('
-0001e7d0: 4572 726f 723a 207b 7d20 6e6f 7420 6120  Error: {} not a 
-0001e7e0: 7661 6c69 6420 7665 6e64 6f72 206e 616d  valid vendor nam
-0001e7f0: 653a 205b 7b7d 5d27 2e66 6f72 6d61 7428  e: [{}]'.format(
-0001e800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e810: 2076 656e 646f 722c 2047 7075 5665 6e64   vendor, GpuVend
-0001e820: 6f72 2e6c 6973 7428 2929 2920 6672 6f6d  or.list())) from
-0001e830: 2065 7272 6f72 0a20 2020 2020 2020 2072   error.        r
-0001e840: 6573 756c 7473 5f64 6963 7420 3d20 7b27  esults_dict = {'
-0001e850: 7665 6e64 6f72 273a 2076 656e 646f 725f  vendor': vendor_
-0001e860: 6e61 6d65 2c20 2774 6f74 616c 273a 2030  name, 'total': 0
-0001e870: 2c20 2772 7727 3a20 302c 2027 722d 6f6e  , 'rw': 0, 'r-on
-0001e880: 6c79 273a 2030 2c20 2777 2d6f 6e6c 7927  ly': 0, 'w-only'
-0001e890: 3a20 307d 0a20 2020 2020 2020 2066 6f72  : 0}.        for
-0001e8a0: 2067 7075 2069 6e20 7365 6c66 2e67 7075   gpu in self.gpu
-0001e8b0: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
-0001e8c0: 2069 6620 7665 6e64 6f72 2021 3d20 4770   if vendor != Gp
-0001e8d0: 7556 656e 646f 722e 414c 4c3a 0a20 2020  uVendor.ALL:.   
-0001e8e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001e8f0: 7665 6e64 6f72 2021 3d20 6770 752e 7072  vendor != gpu.pr
-0001e900: 6d2e 7665 6e64 6f72 3a0a 2020 2020 2020  m.vendor:.      
-0001e910: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0001e920: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-0001e930: 2020 2069 6620 6770 752e 7072 6d2e 7265     if gpu.prm.re
-0001e940: 6164 6162 6c65 2061 6e64 2067 7075 2e70  adable and gpu.p
-0001e950: 726d 2e77 7269 7461 626c 653a 0a20 2020  rm.writable:.   
-0001e960: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0001e970: 756c 7473 5f64 6963 745b 2772 7727 5d20  ults_dict['rw'] 
-0001e980: 2b3d 2031 0a20 2020 2020 2020 2020 2020  += 1.           
-0001e990: 2065 6c69 6620 6770 752e 7072 6d2e 7265   elif gpu.prm.re
-0001e9a0: 6164 6162 6c65 3a0a 2020 2020 2020 2020  adable:.        
-0001e9b0: 2020 2020 2020 2020 7265 7375 6c74 735f          results_
-0001e9c0: 6469 6374 5b27 722d 6f6e 6c79 275d 202b  dict['r-only'] +
-0001e9d0: 3d20 310a 2020 2020 2020 2020 2020 2020  = 1.            
-0001e9e0: 656c 6966 2067 7075 2e70 726d 2e77 7269  elif gpu.prm.wri
-0001e9f0: 7461 626c 653a 0a20 2020 2020 2020 2020  table:.         
-0001ea00: 2020 2020 2020 2072 6573 756c 7473 5f64         results_d
-0001ea10: 6963 745b 2777 2d6f 6e6c 7927 5d20 2b3d  ict['w-only'] +=
-0001ea20: 2031 0a20 2020 2020 2020 2020 2020 2072   1.            r
-0001ea30: 6573 756c 7473 5f64 6963 745b 2774 6f74  esults_dict['tot
-0001ea40: 616c 275d 202b 3d20 310a 2020 2020 2020  al'] += 1.      
-0001ea50: 2020 7265 7475 726e 2072 6573 756c 7473    return results
-0001ea60: 5f64 6963 740a 0a20 2020 2064 6566 206c  _dict..    def l
-0001ea70: 6973 745f 6770 7573 2873 656c 662c 2072  ist_gpus(self, r
-0001ea80: 6576 6572 7365 3a20 626f 6f6c 203d 2046  everse: bool = F
-0001ea90: 616c 7365 2c20 7665 6e64 6f72 3a20 4770  alse, vendor: Gp
-0001eaa0: 7556 656e 646f 7220 3d20 4770 7556 656e  uVendor = GpuVen
-0001eab0: 646f 722e 414c 4c2c 2067 7075 5f74 7970  dor.ALL, gpu_typ
-0001eac0: 653a 2047 7075 5479 7065 203d 2047 7075  e: GpuType = Gpu
-0001ead0: 5479 7065 2e41 4c4c 2c0a 2020 2020 2020  Type.ALL,.      
-0001eae0: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
-0001eaf0: 6174 6962 696c 6974 793a 2047 7075 436f  atibility: GpuCo
-0001eb00: 6d70 6174 6962 696c 6974 7920 3d20 4770  mpatibility = Gp
-0001eb10: 7543 6f6d 7061 7469 6269 6c69 7479 2e41  uCompatibility.A
-0001eb20: 4c4c 2920 2d3e 2027 636c 6173 7320 4770  LL) -> 'class Gp
-0001eb30: 754c 6973 7427 3a0a 2020 2020 2020 2020  uList':.        
-0001eb40: 2222 220a 2020 2020 2020 2020 5265 7475  """.        Retu
-0001eb50: 726e 2047 5055 5f49 7465 6d20 6f66 2047  rn GPU_Item of G
-0001eb60: 5055 732e 2020 436f 6e74 6169 6e73 2061  PUs.  Contains a
-0001eb70: 6c6c 2062 7920 6465 6661 756c 742c 2062  ll by default, b
-0001eb80: 7574 2063 616e 2062 6520 6120 7375 6273  ut can be a subs
-0001eb90: 6574 2077 6974 6820 7665 6e64 6f72 2061  et with vendor a
-0001eba0: 6e64 2063 6f6d 7061 7469 6269 6c69 7479  nd compatibility
-0001ebb0: 2061 7267 732e 0a20 2020 2020 2020 204f   args..        O
-0001ebc0: 6e6c 7920 6f6e 6520 666c 6167 2073 686f  nly one flag sho
-0001ebd0: 756c 6420 6265 2073 6574 2e0a 0a20 2020  uld be set...   
-0001ebe0: 2020 2020 203a 7061 7261 6d20 7265 7665       :param reve
-0001ebf0: 7273 653a 2072 6574 7572 6e20 6974 656d  rse: return item
-0001ec00: 7320 6e6f 7420 6d61 7463 6869 6e67 2063  s not matching c
-0001ec10: 6f6e 6469 7469 6f6e 732e 0a20 2020 2020  onditions..     
-0001ec20: 2020 203a 7061 7261 6d20 7665 6e64 6f72     :param vendor
-0001ec30: 3a20 4f6e 6c79 2063 6f75 6e74 2076 656e  : Only count ven
-0001ec40: 646f 7220 4750 5573 206f 7220 414c 4c20  dor GPUs or ALL 
-0001ec50: 6279 2064 6566 6175 6c74 2e0a 2020 2020  by default..    
-0001ec60: 2020 2020 3a70 6172 616d 2067 7075 5f74      :param gpu_t
-0001ec70: 7970 653a 204f 6e6c 7920 636f 756e 7420  ype: Only count 
-0001ec80: 7479 7065 2047 5055 7320 6f72 2041 4c4c  type GPUs or ALL
-0001ec90: 2062 7920 6465 6661 756c 742e 0a20 2020   by default..   
-0001eca0: 2020 2020 203a 7061 7261 6d20 636f 6d70       :param comp
-0001ecb0: 6174 6962 696c 6974 793a 204f 6e6c 7920  atibility: Only 
-0001ecc0: 636f 756e 7420 4750 5573 2077 6974 6820  count GPUs with 
-0001ecd0: 7370 6563 6966 6965 6420 636f 6d70 6174  specified compat
-0001ece0: 6962 696c 6974 7920 2861 6c6c 2c20 7265  ibility (all, re
-0001ecf0: 6164 6162 6c65 2c20 7772 6974 6162 6c65  adable, writable
-0001ed00: 290a 2020 2020 2020 2020 3a72 6574 7572  ).        :retur
-0001ed10: 6e3a 2047 7075 4c69 7374 206f 6620 636f  n: GpuList of co
-0001ed20: 6d70 6174 6962 6c65 2047 5055 730a 2020  mpatible GPUs.  
-0001ed30: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001ed40: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0001ed50: 2020 205f 203d 2063 6f6d 7061 7469 6269     _ = compatibi
-0001ed60: 6c69 7479 2e6e 616d 650a 2020 2020 2020  lity.name.      
-0001ed70: 2020 6578 6365 7074 2041 7474 7269 6275    except Attribu
-0001ed80: 7465 4572 726f 7220 6173 2065 7272 6f72  teError as error
-0001ed90: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001eda0: 6973 6520 4174 7472 6962 7574 6545 7272  ise AttributeErr
-0001edb0: 6f72 2827 4572 726f 723a 207b 7d20 6e6f  or('Error: {} no
-0001edc0: 7420 6120 7661 6c69 6420 636f 6d70 6174  t a valid compat
-0001edd0: 6962 696c 6974 7920 6e61 6d65 3a20 7b7d  ibility name: {}
-0001ede0: 272e 666f 726d 6174 280a 2020 2020 2020  '.format(.      
-0001edf0: 2020 2020 2020 2020 2020 636f 6d70 6174            compat
-0001ee00: 6962 696c 6974 792c 2047 7075 436f 6d70  ibility, GpuComp
-0001ee10: 6174 6962 696c 6974 792e 6c69 7374 2829  atibility.list()
-0001ee20: 2929 2066 726f 6d20 6572 726f 720a 2020  )) from error.  
-0001ee30: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001ee40: 2020 2020 2020 205f 203d 2067 7075 5f74         _ = gpu_t
-0001ee50: 7970 652e 6e61 6d65 0a20 2020 2020 2020  ype.name.       
-0001ee60: 2065 7863 6570 7420 4174 7472 6962 7574   except Attribut
-0001ee70: 6545 7272 6f72 2061 7320 6572 726f 723a  eError as error:
-0001ee80: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001ee90: 7365 2041 7474 7269 6275 7465 4572 726f  se AttributeErro
-0001eea0: 7228 2745 7272 6f72 3a20 7b7d 206e 6f74  r('Error: {} not
-0001eeb0: 2061 2076 616c 6964 2074 7970 6520 6e61   a valid type na
-0001eec0: 6d65 3a20 5b7b 7d5d 272e 666f 726d 6174  me: [{}]'.format
-0001eed0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001eee0: 2020 6770 755f 7479 7065 2c20 4770 7554    gpu_type, GpuT
-0001eef0: 7970 652e 6c69 7374 2829 2929 2066 726f  ype.list())) fro
-0001ef00: 6d20 6572 726f 720a 2020 2020 2020 2020  m error.        
-0001ef10: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0001ef20: 205f 203d 2076 656e 646f 722e 6e61 6d65   _ = vendor.name
-0001ef30: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
-0001ef40: 4174 7472 6962 7574 6545 7272 6f72 2061  AttributeError a
-0001ef50: 7320 6572 726f 723a 0a20 2020 2020 2020  s error:.       
-0001ef60: 2020 2020 2072 6169 7365 2041 7474 7269       raise Attri
-0001ef70: 6275 7465 4572 726f 7228 2745 7272 6f72  buteError('Error
-0001ef80: 3a20 7b7d 206e 6f74 2061 2076 616c 6964  : {} not a valid
-0001ef90: 2076 656e 646f 7220 6e61 6d65 3a20 5b7b   vendor name: [{
-0001efa0: 7d5d 272e 666f 726d 6174 280a 2020 2020  }]'.format(.    
-0001efb0: 2020 2020 2020 2020 2020 2020 7665 6e64              vend
-0001efc0: 6f72 2c20 4770 7556 656e 646f 722e 6c69  or, GpuVendor.li
-0001efd0: 7374 2829 2929 2066 726f 6d20 6572 726f  st())) from erro
-0001efe0: 720a 0a20 2020 2020 2020 2072 6573 756c  r..        resul
-0001eff0: 745f 6c69 7374 203d 2047 7075 4c69 7374  t_list = GpuList
-0001f000: 2829 0a20 2020 2020 2020 2066 6f72 2075  ().        for u
-0001f010: 7569 642c 2067 7075 2069 6e20 7365 6c66  uid, gpu in self
-0001f020: 2e69 7465 6d73 2829 3a0a 2020 2020 2020  .items():.      
-0001f030: 2020 2020 2020 6966 2076 656e 646f 7220        if vendor 
-0001f040: 213d 2047 7075 5665 6e64 6f72 2e41 4c4c  != GpuVendor.ALL
-0001f050: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001f060: 2020 6966 2028 2872 6576 6572 7365 2061    if ((reverse a
-0001f070: 6e64 2028 7665 6e64 6f72 203d 3d20 6770  nd (vendor == gp
-0001f080: 752e 7072 6d2e 7665 6e64 6f72 2929 206f  u.prm.vendor)) o
-0001f090: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
-0001f0a0: 2020 2020 2028 6e6f 7420 7265 7665 7273       (not revers
-0001f0b0: 6520 616e 6420 2876 656e 646f 7220 213d  e and (vendor !=
-0001f0c0: 2067 7075 2e70 726d 2e76 656e 646f 7229   gpu.prm.vendor)
-0001f0d0: 2929 3a20 636f 6e74 696e 7565 0a20 2020  )): continue.   
-0001f0e0: 2020 2020 2020 2020 2069 6620 6770 755f           if gpu_
-0001f0f0: 7479 7065 2021 3d20 4770 7554 7970 652e  type != GpuType.
-0001f100: 414c 4c3a 0a20 2020 2020 2020 2020 2020  ALL:.           
-0001f110: 2020 2020 2069 6620 2828 7265 7665 7273       if ((revers
-0001f120: 6520 616e 6420 2867 7075 5f74 7970 6520  e and (gpu_type 
-0001f130: 3d3d 2067 7075 2e70 726d 2e67 7075 5f74  == gpu.prm.gpu_t
-0001f140: 7970 6529 2920 6f72 0a20 2020 2020 2020  ype)) or.       
-0001f150: 2020 2020 2020 2020 2020 2020 286e 6f74              (not
-0001f160: 2072 6576 6572 7365 2061 6e64 2028 6770   reverse and (gp
-0001f170: 755f 7479 7065 2021 3d20 6770 752e 7072  u_type != gpu.pr
-0001f180: 6d2e 6770 755f 7479 7065 2929 293a 2063  m.gpu_type))): c
-0001f190: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
-0001f1a0: 2020 2020 6966 2063 6f6d 7061 7469 6269      if compatibi
-0001f1b0: 6c69 7479 2021 3d20 4770 7543 6f6d 7061  lity != GpuCompa
-0001f1c0: 7469 6269 6c69 7479 2e41 4c4c 3a0a 2020  tibility.ALL:.  
-0001f1d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001f1e0: 2063 6f6d 7061 7469 6269 6c69 7479 203d   compatibility =
-0001f1f0: 3d20 4770 7543 6f6d 7061 7469 6269 6c69  = GpuCompatibili
-0001f200: 7479 2e52 6561 6461 626c 653a 0a20 2020  ty.Readable:.   
-0001f210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f220: 2069 6620 2828 7265 7665 7273 6520 616e   if ((reverse an
-0001f230: 6420 6770 752e 7072 6d2e 7265 6164 6162  d gpu.prm.readab
-0001f240: 6c65 2920 6f72 0a20 2020 2020 2020 2020  le) or.         
-0001f250: 2020 2020 2020 2020 2020 2020 2020 286e                (n
-0001f260: 6f74 2072 6576 6572 7365 2061 6e64 206e  ot reverse and n
-0001f270: 6f74 2067 7075 2e70 726d 2e72 6561 6461  ot gpu.prm.reada
-0001f280: 626c 6529 293a 2063 6f6e 7469 6e75 650a  ble)): continue.
-0001f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2a0: 656c 6966 2063 6f6d 7061 7469 6269 6c69  elif compatibili
-0001f2b0: 7479 203d 3d20 4770 7543 6f6d 7061 7469  ty == GpuCompati
-0001f2c0: 6269 6c69 7479 2e57 7269 7461 626c 653a  bility.Writable:
-0001f2d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f2e0: 2020 2020 2069 6620 2828 7265 7665 7273       if ((revers
-0001f2f0: 6520 616e 6420 6770 752e 7072 6d2e 7772  e and gpu.prm.wr
-0001f300: 6974 6162 6c65 2920 6f72 0a20 2020 2020  itable) or.     
-0001f310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f320: 2020 286e 6f74 2072 6576 6572 7365 2061    (not reverse a
-0001f330: 6e64 206e 6f74 2067 7075 2e70 726d 2e77  nd not gpu.prm.w
-0001f340: 7269 7461 626c 6529 293a 2063 6f6e 7469  ritable)): conti
-0001f350: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-0001f360: 7265 7375 6c74 5f6c 6973 745b 7575 6964  result_list[uuid
-0001f370: 5d20 3d20 6770 750a 0a20 2020 2020 2020  ] = gpu..       
-0001f380: 2072 6574 7572 6e20 7265 7375 6c74 5f6c   return result_l
-0001f390: 6973 740a 0a20 2020 2064 6566 2072 6561  ist..    def rea
-0001f3a0: 645f 7261 775f 7365 6e73 6f72 7328 7365  d_raw_sensors(se
-0001f3b0: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
-0001f3c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001f3d0: 2052 6177 2072 6561 6420 6f66 2061 6c6c   Raw read of all
-0001f3e0: 2064 7269 7665 7220 6669 6c65 7320 666f   driver files fo
-0001f3f0: 7220 616c 6c20 4750 5573 2e0a 2020 2020  r all GPUs..    
-0001f400: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001f410: 666f 7220 6770 7520 696e 2073 656c 662e  for gpu in self.
-0001f420: 6770 7573 2829 3a0a 2020 2020 2020 2020  gpus():.        
-0001f430: 2020 2020 6770 752e 7265 6164 5f72 6177      gpu.read_raw
-0001f440: 5f73 656e 736f 7273 2829 0a0a 2020 2020  _sensors()..    
-0001f450: 6465 6620 7265 6164 5f67 7075 5f70 706d  def read_gpu_ppm
-0001f460: 5f74 6162 6c65 2873 656c 6629 202d 3e20  _table(self) -> 
-0001f470: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-0001f480: 220a 2020 2020 2020 2020 5265 6164 2047  ".        Read G
-0001f490: 5055 2070 706d 2064 6174 6120 616e 6420  PU ppm data and 
-0001f4a0: 706f 7075 6c61 7465 2047 7075 4974 656d  populate GpuItem
-0001f4b0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-0001f4c0: 2020 2020 2020 666f 7220 6770 7520 696e        for gpu in
-0001f4d0: 2073 656c 662e 6770 7573 2829 3a0a 2020   self.gpus():.  
-0001f4e0: 2020 2020 2020 2020 2020 6966 2067 7075            if gpu
-0001f4f0: 2e70 726d 2e72 6561 6461 626c 653a 0a20  .prm.readable:. 
-0001f500: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-0001f510: 7075 2e72 6561 645f 6770 755f 7070 6d5f  pu.read_gpu_ppm_
-0001f520: 7461 626c 6528 290a 0a20 2020 2064 6566  table()..    def
-0001f530: 2070 7269 6e74 5f70 6172 616d 5f74 6162   print_param_tab
-0001f540: 6c65 2873 656c 662c 2070 6172 616d 5f6e  le(self, param_n
-0001f550: 616d 6529 202d 3e20 4e6f 6e65 3a0a 2020  ame) -> None:.  
-0001f560: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001f570: 2020 5072 696e 7420 7468 6520 4770 7549    Print the GpuI
-0001f580: 7465 6d20 7070 6d20 6461 7461 2e0a 2020  tem ppm data..  
-0001f590: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001f5a0: 2020 666f 7220 6770 7520 696e 2073 656c    for gpu in sel
-0001f5b0: 662e 6770 7573 2829 3a0a 2020 2020 2020  f.gpus():.      
-0001f5c0: 2020 2020 2020 6770 752e 7072 696e 745f        gpu.print_
-0001f5d0: 7061 7261 6d5f 7461 626c 6528 7061 7261  param_table(para
-0001f5e0: 6d5f 6e61 6d65 3d70 6172 616d 5f6e 616d  m_name=param_nam
-0001f5f0: 6529 0a0a 2020 2020 6465 6620 7072 696e  e)..    def prin
-0001f600: 745f 7073 7461 7465 7328 7365 6c66 2920  t_pstates(self) 
-0001f610: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
-0001f620: 2022 2222 0a20 2020 2020 2020 2050 7269   """.        Pri
-0001f630: 6e74 2074 6865 2047 7075 4974 656d 2070  nt the GpuItem p
-0001f640: 7374 6174 6573 2064 6174 612e 0a20 2020  states data..   
-0001f650: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001f660: 2066 6f72 2067 7075 2069 6e20 7365 6c66   for gpu in self
-0001f670: 2e67 7075 7328 293a 0a20 2020 2020 2020  .gpus():.       
-0001f680: 2020 2020 2067 7075 2e70 7269 6e74 5f70       gpu.print_p
-0001f690: 7374 6174 6573 2829 0a0a 2020 2020 6465  states()..    de
-0001f6a0: 6620 7265 6164 5f67 7075 5f70 7374 6174  f read_gpu_pstat
-0001f6b0: 6573 2873 656c 6629 202d 3e20 4e6f 6e65  es(self) -> None
-0001f6c0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001f6d0: 2020 2020 2020 5265 6164 2047 5055 2070        Read GPU p
-0001f6e0: 2d73 7461 7465 2064 6174 6120 616e 6420  -state data and 
-0001f6f0: 706f 7075 6c61 7465 2047 7075 4974 656d  populate GpuItem
-0001f700: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-0001f710: 2020 2020 2020 666f 7220 6770 7520 696e        for gpu in
-0001f720: 2073 656c 662e 6770 7573 2829 3a0a 2020   self.gpus():.  
-0001f730: 2020 2020 2020 2020 2020 6966 2067 7075            if gpu
-0001f740: 2e70 726d 2e72 6561 6461 626c 653a 0a20  .prm.readable:. 
-0001f750: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-0001f760: 7075 2e72 6561 645f 6770 755f 7073 7461  pu.read_gpu_psta
-0001f770: 7465 7328 290a 0a20 2020 2064 6566 2072  tes()..    def r
-0001f780: 6561 645f 6770 755f 7365 6e73 6f72 5f73  ead_gpu_sensor_s
-0001f790: 6574 2873 656c 662c 2064 6174 615f 7479  et(self, data_ty
-0001f7a0: 7065 3a20 5365 6e73 6f72 5365 7420 3d20  pe: SensorSet = 
-0001f7b0: 5365 6e73 6f72 5365 742e 416c 6c29 202d  SensorSet.All) -
-0001f7c0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-0001f7d0: 2222 220a 2020 2020 2020 2020 5265 6164  """.        Read
-0001f7e0: 2073 656e 736f 7220 6461 7461 2066 726f   sensor data fro
-0001f7f0: 6d20 616c 6c20 4750 5573 2069 6e20 7365  m all GPUs in se
-0001f800: 6c66 2e6c 6973 742e 0a0a 2020 2020 2020  lf.list...      
-0001f810: 2020 3a70 6172 616d 2064 6174 615f 7479    :param data_ty
-0001f820: 7065 3a20 5370 6563 6966 6965 7320 7468  pe: Specifies th
-0001f830: 6520 7365 6e73 6f72 2073 6574 2074 6f20  e sensor set to 
-0001f840: 7573 6520 696e 2074 6865 2072 6561 642e  use in the read.
-0001f850: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001f860: 2020 2020 2066 6f72 2067 7075 2069 6e20       for gpu in 
-0001f870: 7365 6c66 2e67 7075 7328 293a 0a20 2020  self.gpus():.   
-0001f880: 2020 2020 2020 2020 2069 6620 6770 752e           if gpu.
-0001f890: 7072 6d2e 7265 6164 6162 6c65 206f 7220  prm.readable or 
-0001f8a0: 4755 545f 434f 4e53 542e 666f 7263 655f  GUT_CONST.force_
-0001f8b0: 616c 6c3a 0a20 2020 2020 2020 2020 2020  all:.           
-0001f8c0: 2020 2020 2067 7075 2e72 6561 645f 6770       gpu.read_gp
-0001f8d0: 755f 7365 6e73 6f72 5f73 6574 2864 6174  u_sensor_set(dat
-0001f8e0: 615f 7479 7065 290a 0a20 2020 2023 2050  a_type)..    # P
-0001f8f0: 7269 6e74 696e 6720 4d65 7468 6f64 7320  rinting Methods 
-0001f900: 666f 6c6c 6f77 2e0a 2020 2020 6465 6620  follow..    def 
-0001f910: 7072 696e 745f 7261 7728 7365 6c66 2920  print_raw(self) 
-0001f920: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
-0001f930: 2022 2222 0a20 2020 2020 2020 2050 7269   """.        Pri
-0001f940: 6e74 2072 6177 2072 6561 6420 6461 7461  nt raw read data
-0001f950: 2066 6f72 2061 6c6c 2047 5055 732e 0a20   for all GPUs.. 
-0001f960: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001f970: 2020 2066 6f72 2067 7075 2069 6e20 7365     for gpu in se
-0001f980: 6c66 2e67 7075 7328 293a 0a20 2020 2020  lf.gpus():.     
-0001f990: 2020 2020 2020 2067 7075 2e70 7269 6e74         gpu.print
-0001f9a0: 5f72 6177 2829 0a0a 2020 2020 6465 6620  _raw()..    def 
-0001f9b0: 7072 696e 7428 7365 6c66 2c20 7368 6f72  print(self, shor
-0001f9c0: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
-0001f9d0: 206c 6f6e 673a 2062 6f6f 6c20 3d20 4661   long: bool = Fa
-0001f9e0: 6c73 6529 202d 3e20 4e6f 6e65 3a0a 2020  lse) -> None:.  
-0001f9f0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001fa00: 2020 5072 696e 7420 616c 6c20 4770 7549    Print all GpuI
-0001fa10: 7465 6d2e 0a0a 2020 2020 2020 2020 3a70  tem...        :p
-0001fa20: 6172 616d 2073 686f 7274 3a20 4966 2074  aram short: If t
-0001fa30: 7275 652c 2070 7269 6e74 2073 686f 7274  rue, print short
-0001fa40: 2072 6570 6f72 740a 2020 2020 2020 2020   report.        
-0001fa50: 3a70 6172 616d 206c 6f6e 673a 2049 6620  :param long: If 
-0001fa60: 7472 7565 2c20 7072 696e 7420 6c6f 6e67  true, print long
-0001fa70: 2072 6570 6f72 740a 2020 2020 2020 2020   report.        
-0001fa80: 2222 220a 2020 2020 2020 2020 666f 7220  """.        for 
-0001fa90: 6770 7520 696e 2073 656c 662e 6770 7573  gpu in self.gpus
-0001faa0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-0001fab0: 6966 2073 686f 7274 3a20 6770 752e 7072  if short: gpu.pr
-0001fac0: 696e 7428 7368 6f72 743d 7368 6f72 7429  int(short=short)
-0001fad0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-0001fae0: 6620 6c6f 6e67 3a0a 2020 2020 2020 2020  f long:.        
-0001faf0: 2020 2020 2020 2020 6770 752e 7072 696e          gpu.prin
-0001fb00: 7428 6e65 776c 696e 653d 4661 6c73 6529  t(newline=False)
-0001fb10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001fb20: 2066 6f72 2072 6570 6f72 745f 6e61 6d65   for report_name
-0001fb30: 2069 6e20 2827 7070 5f66 6561 7475 7265   in ('pp_feature
-0001fb40: 7327 2c20 2770 706d 272c 2027 7073 7461  s', 'ppm', 'psta
-0001fb50: 7465 272c 2027 636c 696e 666f 2729 3a0a  te', 'clinfo'):.
-0001fb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb70: 2020 2020 6770 752e 7072 696e 745f 7061      gpu.print_pa
-0001fb80: 7261 6d5f 7461 626c 6528 7265 706f 7274  ram_table(report
-0001fb90: 5f6e 616d 652c 2073 686f 7274 3d46 616c  _name, short=Fal
-0001fba0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-0001fbb0: 2020 2020 7072 696e 7428 2727 290a 2020      print('').  
-0001fbc0: 2020 2020 2020 2020 2020 656c 7365 3a20            else: 
-0001fbd0: 6770 752e 7072 696e 7428 290a 0a20 2020  gpu.print()..   
-0001fbe0: 2064 6566 2070 7269 6e74 5f74 6162 6c65   def print_table
-0001fbf0: 2873 656c 662c 2074 6974 6c65 3a20 4f70  (self, title: Op
-0001fc00: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-0001fc10: 6e65 2920 2d3e 2062 6f6f 6c3a 0a20 2020  ne) -> bool:.   
-0001fc20: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001fc30: 2050 7269 6e74 2074 6162 6c65 206f 6620   Print table of 
-0001fc40: 7061 7261 6d65 7465 7273 2e0a 0a20 2020  parameters...   
-0001fc50: 2020 2020 203a 7265 7475 726e 3a20 5472       :return: Tr
-0001fc60: 7565 2069 6620 7375 6363 6573 730a 2020  ue if success.  
-0001fc70: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001fc80: 2020 636f 6c6f 7220 3d20 4770 7549 7465    color = GpuIte
-0001fc90: 6d2e 6d61 726b 5f75 705f 636f 6465 735b  m.mark_up_codes[
-0001fca0: 2762 6f6c 6427 5d20 2b20 4770 7549 7465  'bold'] + GpuIte
-0001fcb0: 6d2e 6d61 726b 5f75 705f 636f 6465 735b  m.mark_up_codes[
-0001fcc0: 2763 7961 6e27 5d0a 2020 2020 2020 2020  'cyan'].        
-0001fcd0: 636f 6c6f 725f 7265 7365 7420 3d20 4770  color_reset = Gp
-0001fce0: 7549 7465 6d2e 6d61 726b 5f75 705f 636f  uItem.mark_up_co
-0001fcf0: 6465 735b 2772 6573 6574 275d 0a20 2020  des['reset'].   
-0001fd00: 2020 2020 2074 6162 6c65 5f77 6964 7468       table_width
-0001fd10: 3a20 696e 7420 3d20 3230 0a20 2020 2020  : int = 20.     
-0001fd20: 2020 2069 6620 7365 6c66 2e6e 756d 5f67     if self.num_g
-0001fd30: 7075 7328 295b 2774 6f74 616c 275d 203c  pus()['total'] <
-0001fd40: 2031 3a20 7265 7475 726e 2046 616c 7365   1: return False
-0001fd50: 0a0a 2020 2020 2020 2020 6966 2074 6974  ..        if tit
-0001fd60: 6c65 3a20 7072 696e 7428 277b 7d7b 7d7b  le: print('{}{}{
-0001fd70: 7d27 2e66 6f72 6d61 7428 636f 6c6f 722c  }'.format(color,
-0001fd80: 2074 6974 6c65 2c20 636f 6c6f 725f 7265   title, color_re
-0001fd90: 7365 7429 290a 0a20 2020 2020 2020 2070  set))..        p
-0001fda0: 7269 6e74 2827 e294 8c27 2c20 27e2 9480  rint('...', '...
-0001fdb0: 272e 6c6a 7573 7428 3133 2c20 27e2 9480  '.ljust(13, '...
-0001fdc0: 2729 2c20 7365 703d 2727 2c20 656e 643d  '), sep='', end=
-0001fdd0: 2727 290a 2020 2020 2020 2020 666f 7220  '').        for 
-0001fde0: 5f20 696e 2073 656c 662e 6770 7573 2829  _ in self.gpus()
-0001fdf0: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-0001fe00: 696e 7428 27e2 94ac 272c 2027 e294 8027  int('...', '...'
-0001fe10: 2e6c 6a75 7374 2874 6162 6c65 5f77 6964  .ljust(table_wid
-0001fe20: 7468 2c20 27e2 9480 2729 2c20 7365 703d  th, '...'), sep=
-0001fe30: 2727 2c20 656e 643d 2727 290a 2020 2020  '', end='').    
-0001fe40: 2020 2020 7072 696e 7428 27e2 9490 2729      print('...')
-0001fe50: 0a0a 2020 2020 2020 2020 7072 696e 7428  ..        print(
-0001fe60: 27e2 9482 7b7d 7b7d 7b7d 272e 666f 726d  '...{}{}{}'.form
-0001fe70: 6174 2863 6f6c 6f72 2c20 2743 6172 6420  at(color, 'Card 
-0001fe80: 2327 2e6c 6a75 7374 2831 332c 2027 2027  #'.ljust(13, ' '
-0001fe90: 292c 2063 6f6c 6f72 5f72 6573 6574 292c  ), color_reset),
-0001fea0: 2073 6570 3d27 272c 2065 6e64 3d27 2729   sep='', end='')
-0001feb0: 0a20 2020 2020 2020 2066 6f72 2067 7075  .        for gpu
-0001fec0: 2069 6e20 7365 6c66 2e67 7075 7328 293a   in self.gpus():
-0001fed0: 0a20 2020 2020 2020 2020 2020 2063 6172  .            car
-0001fee0: 645f 7374 7220 3d20 2763 6172 647b 7d27  d_str = 'card{}'
-0001fef0: 2e66 6f72 6d61 7428 6770 752e 7072 6d2e  .format(gpu.prm.
-0001ff00: 6361 7264 5f6e 756d 292e 6365 6e74 6572  card_num).center
-0001ff10: 2874 6162 6c65 5f77 6964 7468 290a 2020  (table_width).  
-0001ff20: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0001ff30: 27e2 9482 7b7d 7b3a 3c32 307d 7b7d 272e  '...{}{:<20}{}'.
-0001ff40: 666f 726d 6174 2863 6f6c 6f72 2c20 6361  format(color, ca
-0001ff50: 7264 5f73 7472 2c20 636f 6c6f 725f 7265  rd_str, color_re
-0001ff60: 7365 7429 2c20 656e 643d 2727 290a 2020  set), end='').  
-0001ff70: 2020 2020 2020 7072 696e 7428 27e2 9482        print('...
-0001ff80: 2729 0a0a 2020 2020 2020 2020 7072 696e  ')..        prin
-0001ff90: 7428 27e2 949c 272c 2027 e294 8027 2e6c  t('...', '...'.l
-0001ffa0: 6a75 7374 2831 332c 2027 e294 8027 292c  just(13, '...'),
-0001ffb0: 2073 6570 3d27 272c 2065 6e64 3d27 2729   sep='', end='')
-0001ffc0: 0a20 2020 2020 2020 2066 6f72 205f 2069  .        for _ i
-0001ffd0: 6e20 7365 6c66 2e67 7075 7328 293a 0a20  n self.gpus():. 
-0001ffe0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0001fff0: 2827 e294 bc27 2c20 27e2 9480 272e 6c6a  ('...', '...'.lj
-00020000: 7573 7428 7461 626c 655f 7769 6474 682c  ust(table_width,
-00020010: 2027 e294 8027 292c 2073 6570 3d27 272c   '...'), sep='',
-00020020: 2065 6e64 3d27 2729 0a20 2020 2020 2020   end='').       
-00020030: 2070 7269 6e74 2827 e294 a427 290a 0a20   print('...').. 
-00020040: 2020 2020 2020 2066 6f72 2074 6162 6c65         for table
-00020050: 5f69 7465 6d20 696e 2047 7075 4974 656d  _item in GpuItem
-00020060: 2e74 6162 6c65 5f70 6172 616d 6574 6572  .table_parameter
-00020070: 733a 0a20 2020 2020 2020 2020 2020 2070  s:.            p
-00020080: 7269 6e74 2827 e294 827b 7d7b 3a3c 3133  rint('...{}{:<13
-00020090: 7d7b 7d27 2e66 6f72 6d61 7428 636f 6c6f  }{}'.format(colo
-000200a0: 722c 2073 7472 2847 7075 4974 656d 2e74  r, str(GpuItem.t
-000200b0: 6162 6c65 5f70 6172 616d 5f6c 6162 656c  able_param_label
-000200c0: 735b 7461 626c 655f 6974 656d 5d29 5b3a  s[table_item])[:
-000200d0: 3133 5d2c 2063 6f6c 6f72 5f72 6573 6574  13], color_reset
-000200e0: 292c 2065 6e64 3d27 2729 0a20 2020 2020  ), end='').     
-000200f0: 2020 2020 2020 2066 6f72 2067 7075 2069         for gpu i
-00020100: 6e20 7365 6c66 2e67 7075 7328 293a 0a20  n self.gpus():. 
-00020110: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00020120: 6174 615f 7661 6c75 655f 7261 7720 3d20  ata_value_raw = 
-00020130: 6770 752e 6765 745f 7061 7261 6d73 5f76  gpu.get_params_v
-00020140: 616c 7565 2874 6162 6c65 5f69 7465 6d29  alue(table_item)
-00020150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00020160: 2064 6174 615f 7661 6c75 655f 7261 7720   data_value_raw 
-00020170: 3d20 666f 726d 6174 5f74 6162 6c65 5f76  = format_table_v
-00020180: 616c 7565 2864 6174 615f 7661 6c75 655f  alue(data_value_
-00020190: 7261 772c 2074 6162 6c65 5f69 7465 6d29  raw, table_item)
-000201a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000201b0: 2070 7269 6e74 2827 e294 827b 3a3c 3230   print('...{:<20
-000201c0: 7d27 2e66 6f72 6d61 7428 7374 7228 6461  }'.format(str(da
-000201d0: 7461 5f76 616c 7565 5f72 6177 295b 3a74  ta_value_raw)[:t
-000201e0: 6162 6c65 5f77 6964 7468 5d2e 6365 6e74  able_width].cent
-000201f0: 6572 2874 6162 6c65 5f77 6964 7468 2929  er(table_width))
-00020200: 2c20 656e 643d 2727 290a 2020 2020 2020  , end='').      
-00020210: 2020 2020 2020 7072 696e 7428 27e2 9482        print('...
-00020220: 2729 0a0a 2020 2020 2020 2020 7072 696e  ')..        prin
-00020230: 7428 27e2 9494 272c 2027 e294 8027 2e6c  t('...', '...'.l
-00020240: 6a75 7374 2831 332c 2027 e294 8027 292c  just(13, '...'),
-00020250: 2073 6570 3d27 272c 2065 6e64 3d27 2729   sep='', end='')
-00020260: 0a20 2020 2020 2020 2066 6f72 205f 2069  .        for _ i
-00020270: 6e20 7365 6c66 2e67 7075 7328 293a 0a20  n self.gpus():. 
-00020280: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00020290: 2827 e294 b427 2c20 27e2 9480 272e 6c6a  ('...', '...'.lj
-000202a0: 7573 7428 7461 626c 655f 7769 6474 682c  ust(table_width,
-000202b0: 2027 e294 8027 292c 2073 6570 3d27 272c   '...'), sep='',
-000202c0: 2065 6e64 3d27 2729 0a20 2020 2020 2020   end='').       
-000202d0: 2070 7269 6e74 2827 e294 9827 290a 2020   print('...').  
-000202e0: 2020 2020 2020 7265 7475 726e 2054 7275        return Tru
-000202f0: 650a 0a20 2020 2064 6566 2070 7269 6e74  e..    def print
-00020300: 5f6c 6f67 5f68 6561 6465 7228 7365 6c66  _log_header(self
-00020310: 2c20 6c6f 675f 6669 6c65 5f70 7472 3a20  , log_file_ptr: 
-00020320: 5465 7874 494f 2920 2d3e 2062 6f6f 6c3a  TextIO) -> bool:
-00020330: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00020340: 2020 2020 2050 7269 6e74 2074 6865 206c       Print the l
-00020350: 6f67 2068 6561 6465 722e 0a0a 2020 2020  og header...    
-00020360: 2020 2020 3a70 6172 616d 206c 6f67 5f66      :param log_f
-00020370: 696c 655f 7074 723a 2046 696c 6520 706f  ile_ptr: File po
-00020380: 696e 7465 7220 666f 7220 7461 7267 6574  inter for target
-00020390: 206f 7574 7075 742e 0a20 2020 2020 2020   output..       
-000203a0: 203a 7265 7475 726e 3a20 5472 7565 2069   :return: True i
-000203b0: 6620 7375 6363 6573 730a 2020 2020 2020  f success.      
-000203c0: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-000203d0: 2073 656c 662e 6e75 6d5f 6770 7573 2829   self.num_gpus()
-000203e0: 5b27 746f 7461 6c27 5d20 3c20 313a 2072  ['total'] < 1: r
-000203f0: 6574 7572 6e20 4661 6c73 650a 0a20 2020  eturn False..   
-00020400: 2020 2020 2023 2050 7269 6e74 2048 6561       # Print Hea
-00020410: 6465 720a 2020 2020 2020 2020 7072 696e  der.        prin
-00020420: 7428 2754 696d 657c 4361 7264 2327 2c20  t('Time|Card#', 
-00020430: 656e 643d 2727 2c20 6669 6c65 3d6c 6f67  end='', file=log
-00020440: 5f66 696c 655f 7074 7229 0a20 2020 2020  _file_ptr).     
-00020450: 2020 2066 6f72 2074 6162 6c65 5f69 7465     for table_ite
-00020460: 6d20 696e 2047 7075 4974 656d 2e74 6162  m in GpuItem.tab
-00020470: 6c65 5f70 6172 616d 6574 6572 733a 0a20  le_parameters:. 
-00020480: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00020490: 2827 7c7b 7d27 2e66 6f72 6d61 7428 7461  ('|{}'.format(ta
-000204a0: 626c 655f 6974 656d 292c 2065 6e64 3d27  ble_item), end='
-000204b0: 272c 2066 696c 653d 6c6f 675f 6669 6c65  ', file=log_file
-000204c0: 5f70 7472 290a 2020 2020 2020 2020 7072  _ptr).        pr
-000204d0: 696e 7428 2727 2c20 6669 6c65 3d6c 6f67  int('', file=log
-000204e0: 5f66 696c 655f 7074 7229 0a20 2020 2020  _file_ptr).     
-000204f0: 2020 2072 6574 7572 6e20 5472 7565 0a0a     return True..
-00020500: 2020 2020 6465 6620 7072 696e 745f 6c6f      def print_lo
-00020510: 6728 7365 6c66 2c20 6c6f 675f 6669 6c65  g(self, log_file
-00020520: 5f70 7472 3a20 5465 7874 494f 2920 2d3e  _ptr: TextIO) ->
-00020530: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
-00020540: 2222 0a20 2020 2020 2020 2050 7269 6e74  "".        Print
-00020550: 2074 6865 206c 6f67 2064 6174 612e 0a0a   the log data...
-00020560: 2020 2020 2020 2020 3a70 6172 616d 206c          :param l
-00020570: 6f67 5f66 696c 655f 7074 723a 2046 696c  og_file_ptr: Fil
-00020580: 6520 706f 696e 7465 7220 666f 7220 7461  e pointer for ta
-00020590: 7267 6574 206f 7574 7075 742e 0a20 2020  rget output..   
-000205a0: 2020 2020 203a 7265 7475 726e 3a20 5472       :return: Tr
-000205b0: 7565 2069 6620 7375 6363 6573 730a 2020  ue if success.  
-000205c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000205d0: 2020 6966 2073 656c 662e 6e75 6d5f 6770    if self.num_gp
-000205e0: 7573 2829 5b27 746f 7461 6c27 5d20 3c20  us()['total'] < 
-000205f0: 313a 2072 6574 7572 6e20 4661 6c73 650a  1: return False.
-00020600: 0a20 2020 2020 2020 2023 2050 7269 6e74  .        # Print
-00020610: 2044 6174 610a 2020 2020 2020 2020 666f   Data.        fo
-00020620: 7220 6770 7520 696e 2073 656c 662e 6770  r gpu in self.gp
-00020630: 7573 2829 3a0a 2020 2020 2020 2020 2020  us():.          
-00020640: 2020 7072 696e 7428 277b 7d7c 7b7d 272e    print('{}|{}'.
-00020650: 666f 726d 6174 2867 7075 2e67 6574 5f70  format(gpu.get_p
-00020660: 6172 616d 735f 7661 6c75 6528 2772 6561  arams_value('rea
-00020670: 645f 7469 6d65 2729 2e73 7472 6674 696d  d_time').strftim
-00020680: 6528 4755 545f 434f 4e53 542e 5449 4d45  e(GUT_CONST.TIME
-00020690: 5f46 4f52 4d41 5429 2c20 6770 752e 7072  _FORMAT), gpu.pr
-000206a0: 6d2e 6361 7264 5f6e 756d 292c 0a20 2020  m.card_num),.   
-000206b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000206c0: 6570 3d27 272c 2065 6e64 3d27 272c 2066  ep='', end='', f
-000206d0: 696c 653d 6c6f 675f 6669 6c65 5f70 7472  ile=log_file_ptr
-000206e0: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
-000206f0: 7220 7461 626c 655f 6974 656d 2069 6e20  r table_item in 
-00020700: 4770 7549 7465 6d2e 7461 626c 655f 7061  GpuItem.table_pa
-00020710: 7261 6d65 7465 7273 3a0a 2020 2020 2020  rameters:.      
-00020720: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-00020730: 277c 7b7d 272e 666f 726d 6174 2872 652e  '|{}'.format(re.
-00020740: 7375 6228 5041 5454 4552 4e53 5b27 4d48  sub(PATTERNS['MH
-00020750: 7a27 5d2c 2027 272c 2073 7472 2867 7075  z'], '', str(gpu
-00020760: 2e67 6574 5f70 6172 616d 735f 7661 6c75  .get_params_valu
-00020770: 6528 7461 626c 655f 6974 656d 2929 2e73  e(table_item)).s
-00020780: 7472 6970 2829 2929 2c0a 2020 2020 2020  trip())),.      
-00020790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000207a0: 7365 703d 2727 2c20 656e 643d 2727 2c20  sep='', end='', 
-000207b0: 6669 6c65 3d6c 6f67 5f66 696c 655f 7074  file=log_file_pt
-000207c0: 7229 0a20 2020 2020 2020 2020 2020 2070  r).            p
-000207d0: 7269 6e74 2827 272c 2066 696c 653d 6c6f  rint('', file=lo
-000207e0: 675f 6669 6c65 5f70 7472 290a 2020 2020  g_file_ptr).    
-000207f0: 2020 2020 7265 7475 726e 2054 7275 650a      return True.
-00020800: 0a20 2020 2064 6566 2070 7269 6e74 5f70  .    def print_p
-00020810: 6c6f 745f 6865 6164 6572 2873 656c 662c  lot_header(self,
-00020820: 206c 6f67 5f66 696c 655f 7074 723a 2049   log_file_ptr: I
-00020830: 4f5b 556e 696f 6e5b 7374 722c 2062 7974  O[Union[str, byt
-00020840: 6573 5d5d 2920 2d3e 2062 6f6f 6c3a 0a20  es]]) -> bool:. 
-00020850: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00020860: 2020 2050 7269 6e74 2074 6865 2070 6c6f     Print the plo
-00020870: 7420 6865 6164 6572 2e0a 0a20 2020 2020  t header...     
-00020880: 2020 203a 7061 7261 6d20 6c6f 675f 6669     :param log_fi
-00020890: 6c65 5f70 7472 3a20 4669 6c65 2070 6f69  le_ptr: File poi
-000208a0: 6e74 6572 2066 6f72 2074 6172 6765 7420  nter for target 
-000208b0: 6f75 7470 7574 2e0a 2020 2020 2020 2020  output..        
-000208c0: 3a72 6574 7572 6e3a 2054 7275 6520 6966  :return: True if
-000208d0: 2073 7563 6365 7373 0a20 2020 2020 2020   success.       
-000208e0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-000208f0: 7365 6c66 2e6e 756d 5f67 7075 7328 295b  self.num_gpus()[
-00020900: 2774 6f74 616c 275d 203c 2031 3a20 7265  'total'] < 1: re
-00020910: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
-00020920: 2020 2020 2320 5072 696e 7420 4865 6164      # Print Head
-00020930: 6572 0a20 2020 2020 2020 206c 696e 655f  er.        line_
-00020940: 7374 725f 6974 656d 203d 205b 2754 696d  str_item = ['Tim
-00020950: 657c 4361 7264 2327 5d0a 2020 2020 2020  e|Card#'].      
-00020960: 2020 666f 7220 7461 626c 655f 6974 656d    for table_item
-00020970: 2069 6e20 4770 7549 7465 6d2e 7461 626c   in GpuItem.tabl
-00020980: 655f 7061 7261 6d65 7465 7273 3a0a 2020  e_parameters:.  
-00020990: 2020 2020 2020 2020 2020 6c69 6e65 5f73            line_s
-000209a0: 7472 5f69 7465 6d2e 6170 7065 6e64 2827  tr_item.append('
-000209b0: 7c27 202b 2074 6162 6c65 5f69 7465 6d29  |' + table_item)
-000209c0: 0a20 2020 2020 2020 206c 696e 655f 7374  .        line_st
-000209d0: 725f 6974 656d 2e61 7070 656e 6428 275c  r_item.append('\
-000209e0: 6e27 290a 2020 2020 2020 2020 6c69 6e65  n').        line
-000209f0: 5f73 7472 203d 2027 272e 6a6f 696e 286c  _str = ''.join(l
-00020a00: 696e 655f 7374 725f 6974 656d 290a 2020  ine_str_item).  
-00020a10: 2020 2020 2020 6c6f 675f 6669 6c65 5f70        log_file_p
-00020a20: 7472 2e77 7269 7465 286c 696e 655f 7374  tr.write(line_st
-00020a30: 722e 656e 636f 6465 2827 7574 662d 3827  r.encode('utf-8'
-00020a40: 2929 0a20 2020 2020 2020 206c 6f67 5f66  )).        log_f
-00020a50: 696c 655f 7074 722e 666c 7573 6828 290a  ile_ptr.flush().
-00020a60: 2020 2020 2020 2020 7265 7475 726e 2054          return T
-00020a70: 7275 650a 0a20 2020 2064 6566 2070 7269  rue..    def pri
-00020a80: 6e74 5f70 6c6f 7428 7365 6c66 2c20 6c6f  nt_plot(self, lo
-00020a90: 675f 6669 6c65 5f70 7472 3a20 494f 5b55  g_file_ptr: IO[U
-00020aa0: 6e69 6f6e 5b73 7472 2c20 6279 7465 735d  nion[str, bytes]
-00020ab0: 5d29 202d 3e20 626f 6f6c 3a0a 2020 2020  ]) -> bool:.    
-00020ac0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00020ad0: 5072 696e 7420 7468 6520 706c 6f74 2064  Print the plot d
-00020ae0: 6174 612e 0a0a 2020 2020 2020 2020 3a70  ata...        :p
-00020af0: 6172 616d 206c 6f67 5f66 696c 655f 7074  aram log_file_pt
-00020b00: 723a 2046 696c 6520 706f 696e 7465 7220  r: File pointer 
-00020b10: 666f 7220 7461 7267 6574 206f 7574 7075  for target outpu
-00020b20: 742e 0a20 2020 2020 2020 203a 7265 7475  t..        :retu
-00020b30: 726e 3a20 5472 7565 206f 6e20 7375 6363  rn: True on succ
-00020b40: 6573 730a 2020 2020 2020 2020 2222 220a  ess.        """.
-00020b50: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00020b60: 6e75 6d5f 6770 7573 2829 5b27 746f 7461  num_gpus()['tota
-00020b70: 6c27 5d20 3c20 313a 2072 6574 7572 6e20  l'] < 1: return 
-00020b80: 4661 6c73 650a 0a20 2020 2020 2020 2023  False..        #
-00020b90: 2050 7269 6e74 2044 6174 610a 2020 2020   Print Data.    
-00020ba0: 2020 2020 666f 7220 6770 7520 696e 2073      for gpu in s
-00020bb0: 656c 662e 6770 7573 2829 3a0a 2020 2020  elf.gpus():.    
-00020bc0: 2020 2020 2020 2020 6c69 6e65 5f73 7472          line_str
-00020bd0: 5f69 7465 6d20 3d20 5b27 7b7d 7c7b 7d27  _item = ['{}|{}'
-00020be0: 2e66 6f72 6d61 7428 7374 7228 6770 752e  .format(str(gpu.
-00020bf0: 6765 745f 7061 7261 6d73 5f76 616c 7565  get_params_value
-00020c00: 2827 7265 6164 5f74 696d 6527 292e 7374  ('read_time').st
-00020c10: 7266 7469 6d65 2847 5554 5f43 4f4e 5354  rftime(GUT_CONST
-00020c20: 2e54 494d 455f 464f 524d 4154 2929 2c0a  .TIME_FORMAT)),.
-00020c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020c50: 2020 2020 2020 2020 2020 2020 6770 752e              gpu.
-00020c60: 7072 6d2e 6361 7264 5f6e 756d 295d 0a20  prm.card_num)]. 
-00020c70: 2020 2020 2020 2020 2020 2066 6f72 2074             for t
-00020c80: 6162 6c65 5f69 7465 6d20 696e 2047 7075  able_item in Gpu
-00020c90: 4974 656d 2e74 6162 6c65 5f70 6172 616d  Item.table_param
-00020ca0: 6574 6572 733a 0a20 2020 2020 2020 2020  eters:.         
-00020cb0: 2020 2020 2020 206c 696e 655f 7374 725f         line_str_
-00020cc0: 6974 656d 2e61 7070 656e 6428 277c 2720  item.append('|' 
-00020cd0: 2b20 7265 2e73 7562 2850 4154 5445 524e  + re.sub(PATTERN
-00020ce0: 535b 274d 487a 275d 2c20 2727 2c20 7374  S['MHz'], '', st
-00020cf0: 7228 6770 752e 6765 745f 7061 7261 6d73  r(gpu.get_params
-00020d00: 5f76 616c 7565 2874 6162 6c65 5f69 7465  _value(table_ite
-00020d10: 6d29 2929 2e73 7472 6970 2829 290a 2020  m))).strip()).  
-00020d20: 2020 2020 2020 2020 2020 6c69 6e65 5f73            line_s
-00020d30: 7472 5f69 7465 6d2e 6170 7065 6e64 2827  tr_item.append('
-00020d40: 5c6e 2729 0a20 2020 2020 2020 2020 2020  \n').           
-00020d50: 206c 696e 655f 7374 7220 3d20 2727 2e6a   line_str = ''.j
-00020d60: 6f69 6e28 6c69 6e65 5f73 7472 5f69 7465  oin(line_str_ite
-00020d70: 6d29 0a20 2020 2020 2020 2020 2020 206c  m).            l
-00020d80: 6f67 5f66 696c 655f 7074 722e 7772 6974  og_file_ptr.writ
-00020d90: 6528 6c69 6e65 5f73 7472 2e65 6e63 6f64  e(line_str.encod
-00020da0: 6528 2775 7466 2d38 2729 290a 2020 2020  e('utf-8')).    
-00020db0: 2020 2020 6c6f 675f 6669 6c65 5f70 7472      log_file_ptr
-00020dc0: 2e66 6c75 7368 2829 0a20 2020 2020 2020  .flush().       
-00020dd0: 2072 6574 7572 6e20 5472 7565 0a0a 2020   return True..  
-00020de0: 2020 6465 6620 7365 6c65 6374 5f67 7075    def select_gpu
-00020df0: 2873 656c 662c 2063 6172 645f 6e75 6d62  (self, card_numb
-00020e00: 6572 3a20 696e 7429 202d 3e20 4f70 7469  er: int) -> Opti
-00020e10: 6f6e 616c 5b47 7075 4974 656d 5d3a 0a20  onal[GpuItem]:. 
-00020e20: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00020e30: 2020 2053 656c 6563 7420 4750 5520 7468     Select GPU th
-00020e40: 6174 206d 6174 6368 6573 2074 6865 2067  at matches the g
-00020e50: 6976 656e 2063 6172 6420 6e75 6d62 6572  iven card number
-00020e60: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-00020e70: 6d20 6361 7264 5f6e 756d 6265 723a 2020  m card_number:  
-00020e80: 5468 6520 696e 7465 6765 7220 7468 6174  The integer that
-00020e90: 2069 6465 6e74 6966 6965 7320 7468 6520   identifies the 
-00020ea0: 4750 552e 0a20 2020 2020 2020 203a 7265  GPU..        :re
-00020eb0: 7475 726e 3a20 4770 7549 7465 6d20 6f66  turn: GpuItem of
-00020ec0: 2074 6865 206d 6174 6368 696e 6720 4750   the matching GP
-00020ed0: 5520 6f72 204e 6f6e 6520 6966 206e 6f20  U or None if no 
-00020ee0: 6d61 7463 682e 0a20 2020 2020 2020 2022  match..        "
-00020ef0: 2222 0a20 2020 2020 2020 2066 6f72 2067  "".        for g
-00020f00: 7075 2069 6e20 7365 6c66 2e67 7075 7328  pu in self.gpus(
-00020f10: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-00020f20: 6620 6770 752e 7072 6d2e 6361 7264 5f6e  f gpu.prm.card_n
-00020f30: 756d 203d 3d20 6361 7264 5f6e 756d 6265  um == card_numbe
-00020f40: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00020f50: 2020 2072 6574 7572 6e20 6770 750a 2020     return gpu.  
-00020f60: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00020f70: 650a 0a0a 2320 5574 696c 6974 7920 4865  e...# Utility He
-00020f80: 6c70 6572 2046 756e 6374 696f 6e73 0a64  lper Functions.d
-00020f90: 6566 2070 7269 6e74 5f64 7269 7665 725f  ef print_driver_
-00020fa0: 7665 6e64 6f72 5f73 756d 6d61 7279 2867  vendor_summary(g
-00020fb0: 7075 5f6c 6973 743a 2047 7075 4c69 7374  pu_list: GpuList
-00020fc0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2022  ) -> None:.    "
-00020fd0: 2222 0a20 2020 2044 6973 706c 6179 2076  "".    Display v
-00020fe0: 656e 646f 7220 616e 6420 6472 6976 6572  endor and driver
-00020ff0: 2064 6574 6169 6c73 2e0a 0a20 2020 203a   details...    :
-00021000: 7061 7261 6d20 6770 755f 6c69 7374 3a20  param gpu_list: 
-00021010: 5461 7267 6574 206c 6973 7420 6f66 2047  Target list of G
-00021020: 5055 7320 666f 7220 7468 6520 7375 6d6d  PUs for the summ
-00021030: 6172 792e 0a20 2020 2022 2222 0a20 2020  ary..    """.   
-00021040: 206e 756d 5f67 7075 7320 3d20 6770 755f   num_gpus = gpu_
-00021050: 6c69 7374 2e6e 756d 5f76 656e 646f 725f  list.num_vendor_
-00021060: 6770 7573 2829 0a20 2020 2070 7269 6e74  gpus().    print
-00021070: 2827 4465 7465 6374 6564 2047 5055 733a  ('Detected GPUs:
-00021080: 2027 2c20 656e 643d 2727 290a 2020 2020   ', end='').    
-00021090: 666f 7220 692c 2028 7479 7065 5f6e 616d  for i, (type_nam
-000210a0: 652c 2074 7970 655f 7661 6c75 6529 2069  e, type_value) i
-000210b0: 6e20 656e 756d 6572 6174 6528 6e75 6d5f  n enumerate(num_
-000210c0: 6770 7573 2e69 7465 6d73 2829 293a 0a20  gpus.items()):. 
-000210d0: 2020 2020 2020 2069 6620 693a 0a20 2020         if i:.   
-000210e0: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
-000210f0: 2c20 7b7d 3a20 7b7d 272e 666f 726d 6174  , {}: {}'.format
-00021100: 2874 7970 655f 6e61 6d65 2c20 7479 7065  (type_name, type
-00021110: 5f76 616c 7565 292c 2065 6e64 3d27 2729  _value), end='')
-00021120: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00021130: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00021140: 2827 7b7d 3a20 7b7d 272e 666f 726d 6174  ('{}: {}'.format
-00021150: 2874 7970 655f 6e61 6d65 2c20 7479 7065  (type_name, type
-00021160: 5f76 616c 7565 292c 2065 6e64 3d27 2729  _value), end='')
-00021170: 0a20 2020 2070 7269 6e74 2827 2729 0a20  .    print(''). 
-00021180: 2020 2069 6620 2741 4d44 2720 696e 206e     if 'AMD' in n
-00021190: 756d 5f67 7075 733a 0a20 2020 2020 2020  um_gpus:.       
-000211a0: 2047 5554 5f43 4f4e 5354 2e72 6561 645f   GUT_CONST.read_
-000211b0: 616d 645f 6472 6976 6572 5f76 6572 7369  amd_driver_versi
-000211c0: 6f6e 2829 0a20 2020 2020 2020 2070 7269  on().        pri
-000211d0: 6e74 2827 414d 443a 207b 7d27 2e66 6f72  nt('AMD: {}'.for
-000211e0: 6d61 7428 6770 755f 6c69 7374 2e77 6174  mat(gpu_list.wat
-000211f0: 746d 616e 5f73 7461 7475 7328 2929 290a  tman_status())).
-00021200: 2020 2020 6966 2027 4e56 2720 696e 206e      if 'NV' in n
-00021210: 756d 5f67 7075 733a 0a20 2020 2020 2020  um_gpus:.       
-00021220: 2069 6620 4755 545f 434f 4e53 542e 636d   if GUT_CONST.cm
-00021230: 645f 6e76 6964 6961 5f73 6d69 3a0a 2020  d_nvidia_smi:.  
-00021240: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-00021250: 274e 563a 206e 7669 6469 6120 736d 693a  'NV: nvidia smi:
-00021260: 205b 7b7d 5d27 2e66 6f72 6d61 7428 4755   [{}]'.format(GU
-00021270: 545f 434f 4e53 542e 636d 645f 6e76 6964  T_CONST.cmd_nvid
-00021280: 6961 5f73 6d69 2929 0a20 2020 2020 2020  ia_smi)).       
-00021290: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000212a0: 2020 2070 7269 6e74 2827 4e56 3a20 4164     print('NV: Ad
-000212b0: 646f 6e20 7061 636b 6167 6520 5b6e 7669  don package [nvi
-000212c0: 6469 612d 736d 695d 2065 7865 6375 7461  dia-smi] executa
-000212d0: 626c 6520 6e6f 7420 666f 756e 642e 2729  ble not found.')
-000212e0: 0a0a 0a64 6566 2073 6574 5f6d 6f6e 5f70  ...def set_mon_p
-000212f0: 6c6f 745f 636f 6d70 6174 6962 6c65 5f67  lot_compatible_g
-00021300: 7075 5f6c 6973 7428 6770 755f 6c69 7374  pu_list(gpu_list
-00021310: 3a20 4770 754c 6973 7429 202d 3e20 4770  : GpuList) -> Gp
-00021320: 754c 6973 743a 0a20 2020 2022 2222 0a20  uList:.    """. 
-00021330: 2020 2046 756e 6374 696f 6e20 746f 2073     Function to s
-00021340: 656c 6563 7420 6f6e 6c79 204d 6f6e 6974  elect only Monit
-00021350: 6f72 2f50 6c6f 7420 636f 6d70 6174 6962  or/Plot compatib
-00021360: 6c65 2047 5055 732e 0a0a 2020 2020 3a72  le GPUs...    :r
-00021370: 6574 7572 6e3a 2054 6865 2072 6573 756c  eturn: The resul
-00021380: 7461 6e74 206c 6973 7420 6f66 2047 5055  tant list of GPU
-00021390: 730a 2020 2020 2222 220a 2020 2020 636f  s.    """.    co
-000213a0: 6d5f 6770 755f 6c69 7374 203d 2067 7075  m_gpu_list = gpu
-000213b0: 5f6c 6973 742e 6c69 7374 5f67 7075 7328  _list.list_gpus(
-000213c0: 636f 6d70 6174 6962 696c 6974 793d 4770  compatibility=Gp
-000213d0: 7543 6f6d 7061 7469 6269 6c69 7479 2e52  uCompatibility.R
-000213e0: 6561 6461 626c 6529 0a20 2020 2063 6f6d  eadable).    com
-000213f0: 5f67 7075 5f6c 6973 7420 3d20 636f 6d5f  _gpu_list = com_
-00021400: 6770 755f 6c69 7374 2e6c 6973 745f 6770  gpu_list.list_gp
-00021410: 7573 2867 7075 5f74 7970 653d 4770 7554  us(gpu_type=GpuT
-00021420: 7970 652e 556e 7375 7070 6f72 7465 642c  ype.Unsupported,
-00021430: 2072 6576 6572 7365 3d54 7275 6529 0a20   reverse=True). 
-00021440: 2020 2063 6f6d 5f67 7075 5f6c 6973 7420     com_gpu_list 
-00021450: 3d20 636f 6d5f 6770 755f 6c69 7374 2e6c  = com_gpu_list.l
-00021460: 6973 745f 6770 7573 2867 7075 5f74 7970  ist_gpus(gpu_typ
-00021470: 653d 4770 7554 7970 652e 556e 6465 6669  e=GpuType.Undefi
-00021480: 6e65 642c 2072 6576 6572 7365 3d54 7275  ned, reverse=Tru
-00021490: 6529 0a0a 2020 2020 7265 7475 726e 2063  e)..    return c
-000214a0: 6f6d 5f67 7075 5f6c 6973 740a 0a0a 6465  om_gpu_list...de
-000214b0: 6620 666f 726d 6174 5f74 6162 6c65 5f76  f format_table_v
-000214c0: 616c 7565 2864 6174 615f 7661 6c75 655f  alue(data_value_
-000214d0: 7261 773a 2041 6e79 2c20 6461 7461 5f6e  raw: Any, data_n
-000214e0: 616d 653a 2073 7472 2920 2d3e 2055 6e69  ame: str) -> Uni
-000214f0: 6f6e 5b73 7472 2c20 696e 742c 2066 6c6f  on[str, int, flo
-00021500: 6174 5d3a 0a20 2020 2022 2222 0a20 2020  at]:.    """.   
-00021510: 2046 6f72 6d61 7420 6669 656c 6473 2066   Format fields f
-00021520: 6f72 206d 6f6e 6974 6f72 2074 6162 6c65  or monitor table
-00021530: 2e0a 0a20 2020 203a 7061 7261 6d20 6461  ...    :param da
-00021540: 7461 5f76 616c 7565 5f72 6177 3a0a 2020  ta_value_raw:.  
-00021550: 2020 3a70 6172 616d 2064 6174 615f 6e61    :param data_na
-00021560: 6d65 3a0a 2020 2020 3a72 6574 7572 6e3a  me:.    :return:
-00021570: 2046 6f72 6d61 7474 6564 2064 6174 6120   Formatted data 
-00021580: 7661 6c75 650a 2020 2020 2222 220a 2020  value.    """.  
-00021590: 2020 6966 2064 6174 615f 7661 6c75 655f    if data_value_
-000215a0: 7261 7720 3d3d 2027 6e61 6e27 3a0a 2020  raw == 'nan':.  
-000215b0: 2020 2020 2020 7265 7475 726e 206e 705f        return np_
-000215c0: 6e61 6e0a 2020 2020 6966 2069 7369 6e73  nan.    if isins
-000215d0: 7461 6e63 6528 6461 7461 5f76 616c 7565  tance(data_value
-000215e0: 5f72 6177 2c20 666c 6f61 7429 3a0a 2020  _raw, float):.  
-000215f0: 2020 2020 2020 6966 2064 6174 615f 6e61        if data_na
-00021600: 6d65 203d 3d20 2765 6e65 7267 7927 3a20  me == 'energy': 
-00021610: 7265 7475 726e 2027 7b3a 2e33 657d 272e  return '{:.3e}'.
-00021620: 666f 726d 6174 2864 6174 615f 7661 6c75  format(data_valu
-00021630: 655f 7261 7729 2069 6620 6461 7461 5f76  e_raw) if data_v
-00021640: 616c 7565 5f72 6177 203e 2030 2e30 3030  alue_raw > 0.000
-00021650: 3030 3031 2065 6c73 6520 272d 2d2d 270a  0001 else '---'.
-00021660: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-00021670: 6f75 6e64 2864 6174 615f 7661 6c75 655f  ound(data_value_
-00021680: 7261 772c 2033 290a 2020 2020 6966 2069  raw, 3).    if i
-00021690: 7369 6e73 7461 6e63 6528 6461 7461 5f76  sinstance(data_v
-000216a0: 616c 7565 5f72 6177 2c20 696e 7429 3a0a  alue_raw, int):.
-000216b0: 2020 2020 2020 2020 7265 7475 726e 2064          return d
-000216c0: 6174 615f 7661 6c75 655f 7261 770a 2020  ata_value_raw.  
-000216d0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-000216e0: 6461 7461 5f76 616c 7565 5f72 6177 2c20  data_value_raw, 
-000216f0: 7374 7229 3a0a 2020 2020 2020 2020 6461  str):.        da
-00021700: 7461 5f76 616c 7565 5f72 6177 203d 2072  ta_value_raw = r
-00021710: 652e 7375 6228 5041 5454 4552 4e53 5b27  e.sub(PATTERNS['
-00021720: 4d48 7a27 5d2c 2027 272c 2064 6174 615f  MHz'], '', data_
-00021730: 7661 6c75 655f 7261 7729 2e73 7472 6970  value_raw).strip
-00021740: 2829 0a20 2020 2020 2020 2069 6620 6461  ().        if da
-00021750: 7461 5f76 616c 7565 5f72 6177 2e69 736e  ta_value_raw.isn
-00021760: 756d 6572 6963 2829 3a0a 2020 2020 2020  umeric():.      
-00021770: 2020 2020 2020 7265 7475 726e 2069 6e74        return int
-00021780: 2864 6174 615f 7661 6c75 655f 7261 7729  (data_value_raw)
-00021790: 0a20 2020 2069 6620 6461 7461 5f76 616c  .    if data_val
-000217a0: 7565 5f72 6177 2069 6e20 7b27 272c 204e  ue_raw in {'', N
-000217b0: 6f6e 652c 2027 2d31 272c 2027 4e41 277d  one, '-1', 'NA'}
-000217c0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-000217d0: 2027 2d2d 2d27 0a20 2020 2072 6574 7572   '---'.    retur
-000217e0: 6e20 7374 7228 6461 7461 5f76 616c 7565  n str(data_value
-000217f0: 5f72 6177 290a                           _raw).
+0001cd00: 7265 6164 6162 6c65 2c20 7772 6974 6162  readable, writab
+0001cd10: 6c65 2c20 7365 6c66 5b67 7075 5f75 7569  le, self[gpu_uui
+0001cd20: 645d 2e70 726d 2e67 7075 5f74 7970 6529  d].prm.gpu_type)
+0001cd30: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+0001cd40: 6c66 5b67 7075 5f75 7569 645d 2e72 6561  lf[gpu_uuid].rea
+0001cd50: 645f 6770 755f 7070 5f66 6561 7475 7265  d_gpu_pp_feature
+0001cd60: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
+0001cd70: 2320 5265 6164 2047 5055 2049 440a 2020  # Read GPU ID.  
+0001cd80: 2020 2020 2020 2020 2020 7264 6174 6120            rdata 
+0001cd90: 3d20 7365 6c66 5b67 7075 5f75 7569 645d  = self[gpu_uuid]
+0001cda0: 2e72 6561 645f 6770 755f 7365 6e73 6f72  .read_gpu_sensor
+0001cdb0: 2827 6964 272c 2076 656e 646f 723d 4770  ('id', vendor=Gp
+0001cdc0: 7556 656e 646f 722e 5043 4945 2c20 7365  uVendor.PCIE, se
+0001cdd0: 6e73 6f72 5f74 7970 653d 2744 4556 4943  nsor_type='DEVIC
+0001cde0: 4527 290a 2020 2020 2020 2020 2020 2020  E').            
+0001cdf0: 6966 2072 6461 7461 3a0a 2020 2020 2020  if rdata:.      
+0001ce00: 2020 2020 2020 2020 2020 7365 6c66 5b67            self[g
+0001ce10: 7075 5f75 7569 645d 2e73 6574 5f70 6172  pu_uuid].set_par
+0001ce20: 616d 735f 7661 6c75 6528 2769 6427 2c20  ams_value('id', 
+0001ce30: 7264 6174 6129 0a20 2020 2020 2020 2020  rdata).         
+0001ce40: 2020 2069 6620 636c 696e 666f 5f66 6c61     if clinfo_fla
+0001ce50: 673a 0a20 2020 2020 2020 2020 2020 2020  g:.             
+0001ce60: 2020 2069 6620 7063 6965 5f69 6420 696e     if pcie_id in
+0001ce70: 2073 656c 662e 6f70 656e 636c 5f6d 6170   self.opencl_map
+0001ce80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001ce90: 2020 2020 2020 7365 6c66 5b67 7075 5f75        self[gpu_u
+0001cea0: 7569 645d 2e73 6574 5f63 6c69 6e66 6f5f  uid].set_clinfo_
+0001ceb0: 7661 6c75 6573 2873 656c 662e 6f70 656e  values(self.open
+0001cec0: 636c 5f6d 6170 5b70 6369 655f 6964 5d29  cl_map[pcie_id])
+0001ced0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001cee0: 5472 7565 0a0a 2020 2020 6465 6620 7265  True..    def re
+0001cef0: 6164 5f67 7075 5f6f 7065 6e63 6c5f 6461  ad_gpu_opencl_da
+0001cf00: 7461 2873 656c 6629 202d 3e20 626f 6f6c  ta(self) -> bool
+0001cf10: 3a0a 2020 2020 2020 2020 2222 2220 5573  :.        """ Us
+0001cf20: 6520 636c 696e 666f 2073 7973 7465 6d20  e clinfo system 
+0001cf30: 6361 6c6c 2074 6f20 6765 7420 6f70 656e  call to get open
+0001cf40: 434c 2064 6574 6169 6c73 2066 6f72 2072  CL details for r
+0001cf50: 656c 6576 616e 7420 4750 5573 2e0a 0a20  elevant GPUs... 
+0001cf60: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
+0001cf70: 2052 6574 7572 6e73 2054 7275 6520 6966   Returns True if
+0001cf80: 2073 7563 6365 7373 6675 6c0a 2020 2020   successful.    
+0001cf90: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001cfa0: 2320 4368 6563 6b20 6163 6365 7373 2074  # Check access t
+0001cfb0: 6f20 636c 696e 666f 2063 6f6d 6d61 6e64  o clinfo command
+0001cfc0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0001cfd0: 4755 545f 434f 4e53 542e 636d 645f 636c  GUT_CONST.cmd_cl
+0001cfe0: 696e 666f 3a20 7265 7475 726e 2046 616c  info: return Fal
+0001cff0: 7365 0a0a 2020 2020 2020 2020 2320 5275  se..        # Ru
+0001d000: 6e20 7468 6520 636c 696e 666f 2063 6f6d  n the clinfo com
+0001d010: 6d61 6e64 0a20 2020 2020 2020 2077 6974  mand.        wit
+0001d020: 6820 7375 6270 726f 6365 7373 2e50 6f70  h subprocess.Pop
+0001d030: 656e 2873 686c 6578 5f73 706c 6974 2827  en(shlex_split('
+0001d040: 7b7d 202d 2d72 6177 272e 666f 726d 6174  {} --raw'.format
+0001d050: 2847 5554 5f43 4f4e 5354 2e63 6d64 5f63  (GUT_CONST.cmd_c
+0001d060: 6c69 6e66 6f29 292c 0a20 2020 2020 2020  linfo)),.       
+0001d070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d080: 2020 2020 2020 2073 6865 6c6c 3d46 616c         shell=Fal
+0001d090: 7365 2c20 7374 646f 7574 3d73 7562 7072  se, stdout=subpr
+0001d0a0: 6f63 6573 732e 5049 5045 2920 6173 2063  ocess.PIPE) as c
+0001d0b0: 6d64 3a0a 0a20 2020 2020 2020 2020 2020  md:..           
+0001d0c0: 2023 2043 6c69 6e66 6f20 4b65 7977 6f72   # Clinfo Keywor
+0001d0d0: 6473 2061 6e64 2072 656c 6174 6564 206f  ds and related o
+0001d0e0: 7065 6e63 6c5f 6d61 7020 6b65 792e 0a20  pencl_map key.. 
+0001d0f0: 2020 2020 2020 2020 2020 206f 636c 5f6b             ocl_k
+0001d100: 6579 776f 7264 7320 3d20 7b27 434c 5f4b  eywords = {'CL_K
+0001d110: 4552 4e45 4c5f 5052 4546 4552 5245 445f  ERNEL_PREFERRED_
+0001d120: 574f 524b 5f47 524f 5550 5f53 495a 455f  WORK_GROUP_SIZE_
+0001d130: 4d55 4c54 4950 4c45 273a 2027 7072 665f  MULTIPLE': 'prf_
+0001d140: 7767 5f6d 756c 7469 706c 6527 2c0a 2020  wg_multiple',.  
+0001d150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d160: 2020 2020 2020 2020 2020 2743 4c5f 4445            'CL_DE
+0001d170: 5649 4345 5f4d 4158 5f57 4f52 4b5f 4752  VICE_MAX_WORK_GR
+0001d180: 4f55 505f 5349 5a45 273a 2020 2020 2020  OUP_SIZE':      
+0001d190: 2020 2020 2020 2020 2020 276d 6178 5f77            'max_w
+0001d1a0: 675f 7369 7a65 272c 0a20 2020 2020 2020  g_size',.       
+0001d1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d1c0: 2020 2020 2027 434c 5f44 4556 4943 455f       'CL_DEVICE_
+0001d1d0: 5052 4546 4552 5245 445f 574f 524b 5f47  PREFERRED_WORK_G
+0001d1e0: 524f 5550 5f53 495a 4527 3a20 2020 2020  ROUP_SIZE':     
+0001d1f0: 2020 2020 2027 7072 665f 7767 5f73 697a       'prf_wg_siz
+0001d200: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
+0001d210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d220: 2743 4c5f 4445 5649 4345 5f4d 4158 5f57  'CL_DEVICE_MAX_W
+0001d230: 4f52 4b5f 4954 454d 5f53 495a 4553 273a  ORK_ITEM_SIZES':
+0001d240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d250: 276d 6178 5f77 695f 7369 7a65 7327 2c0a  'max_wi_sizes',.
+0001d260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d270: 2020 2020 2020 2020 2020 2020 2743 4c5f              'CL_
+0001d280: 4445 5649 4345 5f4d 4158 5f57 4f52 4b5f  DEVICE_MAX_WORK_
+0001d290: 4954 454d 5f44 494d 454e 5349 4f4e 5327  ITEM_DIMENSIONS'
+0001d2a0: 3a20 2020 2020 2020 2020 2020 276d 6178  :           'max
+0001d2b0: 5f77 695f 6469 6d27 2c0a 2020 2020 2020  _wi_dim',.      
+0001d2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d2d0: 2020 2020 2020 2743 4c5f 4445 5649 4345        'CL_DEVICE
+0001d2e0: 5f4d 4158 5f4d 454d 5f41 4c4c 4f43 5f53  _MAX_MEM_ALLOC_S
+0001d2f0: 495a 4527 3a20 2020 2020 2020 2020 2020  IZE':           
+0001d300: 2020 2020 2020 276d 6178 5f6d 656d 5f61        'max_mem_a
+0001d310: 6c6c 6f63 6174 696f 6e27 2c0a 2020 2020  llocation',.    
+0001d320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d330: 2020 2020 2020 2020 2743 4c5f 4445 5649          'CL_DEVI
+0001d340: 4345 5f53 494d 445f 494e 5354 5255 4354  CE_SIMD_INSTRUCT
+0001d350: 494f 4e5f 5749 4454 4827 3a20 2020 2020  ION_WIDTH':     
+0001d360: 2020 2020 2020 2020 2773 696d 645f 696e          'simd_in
+0001d370: 735f 7769 6474 6827 2c0a 2020 2020 2020  s_width',.      
+0001d380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d390: 2020 2020 2020 2743 4c5f 4445 5649 4345        'CL_DEVICE
+0001d3a0: 5f53 494d 445f 5749 4454 4827 3a20 2020  _SIMD_WIDTH':   
+0001d3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d3c0: 2020 2020 2020 2773 696d 645f 7769 6474        'simd_widt
+0001d3d0: 6827 2c0a 2020 2020 2020 2020 2020 2020  h',.            
+0001d3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d3f0: 2743 4c5f 4445 5649 4345 5f53 494d 445f  'CL_DEVICE_SIMD_
+0001d400: 5045 525f 434f 4d50 5554 455f 554e 4954  PER_COMPUTE_UNIT
+0001d410: 273a 2020 2020 2020 2020 2020 2020 2020  ':              
+0001d420: 2773 696d 645f 7065 725f 6375 272c 0a20  'simd_per_cu',. 
+0001d430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d440: 2020 2020 2020 2020 2020 2027 434c 5f44             'CL_D
+0001d450: 4556 4943 455f 4d41 585f 434f 4d50 5554  EVICE_MAX_COMPUT
+0001d460: 455f 554e 4954 5327 3a20 2020 2020 2020  E_UNITS':       
+0001d470: 2020 2020 2020 2020 2020 2027 6d61 785f             'max_
+0001d480: 6375 272c 0a20 2020 2020 2020 2020 2020  cu',.           
+0001d490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d4a0: 2027 434c 5f44 4556 4943 455f 4e41 4d45   'CL_DEVICE_NAME
+0001d4b0: 273a 2020 2020 2020 2020 2020 2020 2020  ':              
+0001d4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d4d0: 2027 6465 7669 6365 5f6e 616d 6527 2c0a   'device_name',.
+0001d4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d4f0: 2020 2020 2020 2020 2020 2020 2743 4c5f              'CL_
+0001d500: 4445 5649 4345 5f4f 5045 4e43 4c5f 435f  DEVICE_OPENCL_C_
+0001d510: 5645 5253 494f 4e27 3a20 2020 2020 2020  VERSION':       
+0001d520: 2020 2020 2020 2020 2020 2020 276f 7065              'ope
+0001d530: 6e63 6c5f 7665 7273 696f 6e27 2c0a 2020  ncl_version',.  
+0001d540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d550: 2020 2020 2020 2020 2020 2743 4c5f 4452            'CL_DR
+0001d560: 4956 4552 5f56 4552 5349 4f4e 273a 2020  IVER_VERSION':  
+0001d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d580: 2020 2020 2020 2020 2020 2764 7269 7665            'drive
+0001d590: 725f 7665 7273 696f 6e27 2c0a 2020 2020  r_version',.    
+0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5b0: 2020 2020 2020 2020 2743 4c5f 4445 5649          'CL_DEVI
+0001d5c0: 4345 5f56 4552 5349 4f4e 273a 2020 2020  CE_VERSION':    
+0001d5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d5e0: 2020 2020 2020 2020 2764 6576 6963 655f          'device_
+0001d5f0: 7665 7273 696f 6e27 7d0a 0a20 2020 2020  version'}..     
+0001d600: 2020 2020 2020 2064 6566 2069 6e69 745f         def init_
+0001d610: 7465 6d70 5f6d 6170 2829 202d 3e20 6469  temp_map() -> di
+0001d620: 6374 3a0a 2020 2020 2020 2020 2020 2020  ct:.            
+0001d630: 2020 2020 2222 2220 5265 7475 726e 2061      """ Return a
+0001d640: 6e20 696e 6974 6961 6c69 7a65 6420 636c  n initialized cl
+0001d650: 696e 666f 2064 6963 742e 0a0a 2020 2020  info dict...    
+0001d660: 2020 2020 2020 2020 2020 2020 3a72 6574              :ret
+0001d670: 7572 6e3a 2020 496e 6974 6961 6c69 7a65  urn:  Initialize
+0001d680: 6420 636c 696e 666f 2064 6963 740a 2020  d clinfo dict.  
+0001d690: 2020 2020 2020 2020 2020 2020 2020 2222                ""
+0001d6a0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001d6b0: 2020 745f 6469 6374 203d 207b 7d0a 2020    t_dict = {}.  
+0001d6c0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0001d6d0: 7220 7465 6d70 5f6b 6579 7320 696e 206f  r temp_keys in o
+0001d6e0: 636c 5f6b 6579 776f 7264 732e 7661 6c75  cl_keywords.valu
+0001d6f0: 6573 2829 3a0a 2020 2020 2020 2020 2020  es():.          
+0001d700: 2020 2020 2020 2020 2020 745f 6469 6374            t_dict
+0001d710: 5b74 656d 705f 6b65 7973 5d20 3d20 4e6f  [temp_keys] = No
+0001d720: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
+0001d730: 2020 2072 6574 7572 6e20 745f 6469 6374     return t_dict
+0001d740: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0001d750: 496e 6974 6961 6c69 7a65 2064 6963 7420  Initialize dict 
+0001d760: 7661 7269 6162 6c65 730a 2020 2020 2020  variables.      
+0001d770: 2020 2020 2020 6f63 6c5f 7063 6965 5f69        ocl_pcie_i
+0001d780: 643a 204f 7074 696f 6e61 6c5b 7374 725d  d: Optional[str]
+0001d790: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+0001d7a0: 2020 2020 6f63 6c5f 696e 6465 783a 204f      ocl_index: O
+0001d7b0: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
+0001d7c0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+0001d7d0: 6f63 6c5f 7665 6e64 6f72 3a20 4f70 7469  ocl_vendor: Opti
+0001d7e0: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001d7f0: 0a20 2020 2020 2020 2020 2020 206f 636c  .            ocl
+0001d800: 5f70 6369 655f 736c 6f74 5f69 643a 204f  _pcie_slot_id: O
+0001d810: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
+0001d820: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+0001d830: 6f63 6c5f 7063 6965 5f62 7573 5f69 643a  ocl_pcie_bus_id:
+0001d840: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0001d850: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+0001d860: 2020 7465 6d70 5f6d 6170 203d 2069 6e69    temp_map = ini
+0001d870: 745f 7465 6d70 5f6d 6170 2829 0a0a 2020  t_temp_map()..  
+0001d880: 2020 2020 2020 2020 2020 2320 5265 6164            # Read
+0001d890: 2065 6163 6820 6c69 6e65 2066 726f 6d20   each line from 
+0001d8a0: 636c 696e 666f 202d 2d72 6177 0a20 2020  clinfo --raw.   
+0001d8b0: 2020 2020 2020 2020 2066 6f72 206c 696e           for lin
+0001d8c0: 6520 696e 2063 6d64 2e73 7464 6f75 743a  e in cmd.stdout:
+0001d8d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d8e0: 206c 696e 6573 7472 203d 206c 696e 652e   linestr = line.
+0001d8f0: 6465 636f 6465 2827 7574 662d 3827 292e  decode('utf-8').
+0001d900: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
+0001d910: 2020 2020 2020 2020 6966 206e 6f74 206c          if not l
+0001d920: 696e 6573 7472 3a20 636f 6e74 696e 7565  inestr: continue
+0001d930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d940: 2069 6620 6c69 6e65 7374 725b 305d 2021   if linestr[0] !
+0001d950: 3d20 275b 273a 2063 6f6e 7469 6e75 650a  = '[': continue.
+0001d960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d970: 6c69 6e65 5f69 7465 6d73 203d 206c 696e  line_items = lin
+0001d980: 6573 7472 2e73 706c 6974 286d 6178 7370  estr.split(maxsp
+0001d990: 6c69 743d 3229 0a20 2020 2020 2020 2020  lit=2).         
+0001d9a0: 2020 2020 2020 2069 6620 6c65 6e28 6c69         if len(li
+0001d9b0: 6e65 5f69 7465 6d73 2920 213d 2033 3a20  ne_items) != 3: 
+0001d9c0: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+0001d9d0: 2020 2020 2020 2020 2063 6c5f 7665 6e64           cl_vend
+0001d9e0: 6f72 2c20 636c 5f69 6e64 6578 203d 2074  or, cl_index = t
+0001d9f0: 7570 6c65 2872 652e 7375 6228 7227 5b5c  uple(re.sub(r'[\
+0001da00: 5b5c 5d5d 272c 2027 272c 206c 696e 655f  [\]]', '', line_
+0001da10: 6974 656d 735b 305d 292e 7370 6c69 7428  items[0]).split(
+0001da20: 272f 2729 290a 2020 2020 2020 2020 2020  '/')).          
+0001da30: 2020 2020 2020 6966 2063 6c5f 696e 6465        if cl_inde
+0001da40: 7820 3d3d 2027 2a27 3a20 636f 6e74 696e  x == '*': contin
+0001da50: 7565 0a20 2020 2020 2020 2020 2020 2020  ue.             
+0001da60: 2020 2069 6620 6e6f 7420 6f63 6c5f 696e     if not ocl_in
+0001da70: 6465 783a 0a20 2020 2020 2020 2020 2020  dex:.           
+0001da80: 2020 2020 2020 2020 206f 636c 5f69 6e64           ocl_ind
+0001da90: 6578 203d 2063 6c5f 696e 6465 780a 2020  ex = cl_index.  
+0001daa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dab0: 2020 6f63 6c5f 7665 6e64 6f72 203d 2063    ocl_vendor = c
+0001dac0: 6c5f 7665 6e64 6f72 0a20 2020 2020 2020  l_vendor.       
+0001dad0: 2020 2020 2020 2020 2020 2020 206f 636c               ocl
+0001dae0: 5f70 6369 655f 736c 6f74 5f69 6420 3d20  _pcie_slot_id = 
+0001daf0: 6f63 6c5f 7063 6965 5f62 7573 5f69 6420  ocl_pcie_bus_id 
+0001db00: 3d20 4e6f 6e65 0a0a 2020 2020 2020 2020  = None..        
+0001db10: 2020 2020 2020 2020 2320 4966 206e 6577          # If new
+0001db20: 2063 6c5f 696e 6465 782c 2074 6865 6e20   cl_index, then 
+0001db30: 7570 6461 7465 206f 7065 6e63 6c5f 6d61  update opencl_ma
+0001db40: 700a 2020 2020 2020 2020 2020 2020 2020  p.              
+0001db50: 2020 6966 2063 6c5f 7665 6e64 6f72 2021    if cl_vendor !
+0001db60: 3d20 6f63 6c5f 7665 6e64 6f72 206f 7220  = ocl_vendor or 
+0001db70: 636c 5f69 6e64 6578 2021 3d20 6f63 6c5f  cl_index != ocl_
+0001db80: 696e 6465 783a 0a20 2020 2020 2020 2020  index:.         
+0001db90: 2020 2020 2020 2020 2020 2023 2055 7064             # Upd
+0001dba0: 6174 6520 6f70 656e 636c 5f6d 6170 2077  ate opencl_map w
+0001dbb0: 6974 6820 6469 6374 2076 6172 6961 626c  ith dict variabl
+0001dbc0: 6573 2077 6865 6e20 6e65 7720 696e 6465  es when new inde
+0001dbd0: 7820 6973 2065 6e63 6f75 6e74 6572 6564  x is encountered
+0001dbe0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001dbf0: 2020 2020 2020 7365 6c66 2e6f 7065 6e63        self.openc
+0001dc00: 6c5f 6d61 702e 7570 6461 7465 287b 6f63  l_map.update({oc
+0001dc10: 6c5f 7063 6965 5f69 643a 2074 656d 705f  l_pcie_id: temp_
+0001dc20: 6d61 707d 290a 2020 2020 2020 2020 2020  map}).          
+0001dc30: 2020 2020 2020 2020 2020 4c4f 4747 4552            LOGGER
+0001dc40: 2e64 6562 7567 2827 636c 5f76 656e 646f  .debug('cl_vendo
+0001dc50: 723a 2025 732c 2063 6c5f 696e 6465 783a  r: %s, cl_index:
+0001dc60: 2025 732c 2070 6369 655f 6964 3a20 2573   %s, pcie_id: %s
+0001dc70: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+0001dc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dc90: 2020 2020 6f63 6c5f 7665 6e64 6f72 2c20      ocl_vendor, 
+0001dca0: 6f63 6c5f 696e 6465 782c 2073 656c 662e  ocl_index, self.
+0001dcb0: 6f70 656e 636c 5f6d 6170 5b6f 636c 5f70  opencl_map[ocl_p
+0001dcc0: 6369 655f 6964 5d29 0a0a 2020 2020 2020  cie_id])..      
+0001dcd0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001dce0: 496e 6974 6961 6c69 7a65 2064 6963 7420  Initialize dict 
+0001dcf0: 7661 7269 6162 6c65 730a 2020 2020 2020  variables.      
+0001dd00: 2020 2020 2020 2020 2020 2020 2020 6f63                oc
+0001dd10: 6c5f 696e 6465 7820 3d20 636c 5f69 6e64  l_index = cl_ind
+0001dd20: 6578 0a20 2020 2020 2020 2020 2020 2020  ex.             
+0001dd30: 2020 2020 2020 206f 636c 5f76 656e 646f         ocl_vendo
+0001dd40: 7220 3d20 636c 5f76 656e 646f 720a 2020  r = cl_vendor.  
+0001dd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dd60: 2020 6f63 6c5f 7063 6965 5f69 6420 3d20    ocl_pcie_id = 
+0001dd70: 6f63 6c5f 7063 6965 5f62 7573 5f69 6420  ocl_pcie_bus_id 
+0001dd80: 3d20 6f63 6c5f 7063 6965 5f73 6c6f 745f  = ocl_pcie_slot_
+0001dd90: 6964 203d 204e 6f6e 650a 2020 2020 2020  id = None.      
+0001dda0: 2020 2020 2020 2020 2020 2020 2020 7465                te
+0001ddb0: 6d70 5f6d 6170 203d 2069 6e69 745f 7465  mp_map = init_te
+0001ddc0: 6d70 5f6d 6170 2829 0a0a 2020 2020 2020  mp_map()..      
+0001ddd0: 2020 2020 2020 2020 2020 7061 7261 6d5f            param_
+0001dde0: 7374 7220 3d20 6c69 6e65 5f69 7465 6d73  str = line_items
+0001ddf0: 5b31 5d0a 2020 2020 2020 2020 2020 2020  [1].            
+0001de00: 2020 2020 2320 4368 6563 6b20 6974 656d      # Check item
+0001de10: 2069 6e20 636c 696e 666f 5f6b 6579 776f   in clinfo_keywo
+0001de20: 7264 730a 2020 2020 2020 2020 2020 2020  rds.            
+0001de30: 2020 2020 666f 7220 636c 696e 666f 5f6b      for clinfo_k
+0001de40: 6579 776f 7264 2c20 6f70 656e 636c 5f6d  eyword, opencl_m
+0001de50: 6170 5f6b 6579 776f 7264 2069 6e20 6f63  ap_keyword in oc
+0001de60: 6c5f 6b65 7977 6f72 6473 2e69 7465 6d73  l_keywords.items
+0001de70: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+0001de80: 2020 2020 2020 2020 6966 2063 6c69 6e66          if clinf
+0001de90: 6f5f 6b65 7977 6f72 6420 696e 2070 6172  o_keyword in par
+0001dea0: 616d 5f73 7472 3a0a 2020 2020 2020 2020  am_str:.        
+0001deb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dec0: 7465 6d70 5f6d 6170 5b6f 7065 6e63 6c5f  temp_map[opencl_
+0001ded0: 6d61 705f 6b65 7977 6f72 645d 203d 206c  map_keyword] = l
+0001dee0: 696e 655f 6974 656d 735b 325d 2e73 7472  ine_items[2].str
+0001def0: 6970 2829 0a20 2020 2020 2020 2020 2020  ip().           
+0001df00: 2020 2020 2020 2020 2020 2020 204c 4f47               LOG
+0001df10: 4745 522e 6465 6275 6728 276f 7065 6e43  GER.debug('openC
+0001df20: 4c20 6d61 7020 2573 3a20 5b25 735d 272c  L map %s: [%s]',
+0001df30: 2063 6c69 6e66 6f5f 6b65 7977 6f72 642c   clinfo_keyword,
+0001df40: 2074 656d 705f 6d61 705b 6f70 656e 636c   temp_map[opencl
+0001df50: 5f6d 6170 5f6b 6579 776f 7264 5d29 0a20  _map_keyword]). 
+0001df60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001df70: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
+0001df80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001df90: 2023 2050 4349 6520 4944 2072 656c 6174   # PCIe ID relat
+0001dfa0: 6564 2063 6c69 6e66 6f5f 6b65 7977 6f72  ed clinfo_keywor
+0001dfb0: 6473 0a20 2020 2020 2020 2020 2020 2020  ds.             
+0001dfc0: 2020 2023 2043 6865 636b 2066 6f72 2041     # Check for A
+0001dfd0: 4d44 2070 6369 655f 6964 2064 6574 6169  MD pcie_id detai
+0001dfe0: 6c73 0a20 2020 2020 2020 2020 2020 2020  ls.             
+0001dff0: 2020 2069 6620 2743 4c5f 4445 5649 4345     if 'CL_DEVICE
+0001e000: 5f54 4f50 4f4c 4f47 5927 2069 6e20 7061  _TOPOLOGY' in pa
+0001e010: 7261 6d5f 7374 723a 0a20 2020 2020 2020  ram_str:.       
+0001e020: 2020 2020 2020 2020 2020 2020 206f 636c               ocl
+0001e030: 5f70 6369 655f 6964 203d 2028 6c69 6e65  _pcie_id = (line
+0001e040: 5f69 7465 6d73 5b32 5d2e 7370 6c69 7428  _items[2].split(
+0001e050: 295b 315d 292e 7374 7269 7028 290a 2020  )[1]).strip().  
+0001e060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e070: 2020 4c4f 4747 4552 2e64 6562 7567 2827    LOGGER.debug('
+0001e080: 414d 4420 6f63 6c5f 7063 6965 5f69 6420  AMD ocl_pcie_id 
+0001e090: 5b25 735d 272c 206f 636c 5f70 6369 655f  [%s]', ocl_pcie_
+0001e0a0: 6964 290a 2020 2020 2020 2020 2020 2020  id).            
+0001e0b0: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+0001e0c0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001e0d0: 2020 2320 4368 6563 6b20 666f 7220 4e56    # Check for NV
+0001e0e0: 2070 6369 655f 6964 2064 6574 6169 6c73   pcie_id details
+0001e0f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e100: 2069 6620 2743 4c5f 4445 5649 4345 5f50   if 'CL_DEVICE_P
+0001e110: 4349 5f42 5553 5f49 445f 4e56 2720 696e  CI_BUS_ID_NV' in
+0001e120: 2070 6172 616d 5f73 7472 3a0a 2020 2020   param_str:.    
+0001e130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e140: 6f63 6c5f 7063 6965 5f62 7573 5f69 643a  ocl_pcie_bus_id:
+0001e150: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0001e160: 2073 7472 2868 6578 2869 6e74 286c 696e   str(hex(int(lin
+0001e170: 655f 6974 656d 735b 325d 2e73 7472 6970  e_items[2].strip
+0001e180: 2829 2929 290a 2020 2020 2020 2020 2020  ()))).          
+0001e190: 2020 2020 2020 2020 2020 6966 206f 636c            if ocl
+0001e1a0: 5f70 6369 655f 736c 6f74 5f69 6420 6973  _pcie_slot_id is
+0001e1b0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0001e1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e1d0: 2020 206f 636c 5f70 6369 655f 6964 203d     ocl_pcie_id =
+0001e1e0: 2027 7b7d 3a7b 7d2e 3027 2e66 6f72 6d61   '{}:{}.0'.forma
+0001e1f0: 7428 6f63 6c5f 7063 6965 5f62 7573 5f69  t(ocl_pcie_bus_i
+0001e200: 645b 323a 5d2e 7a66 696c 6c28 3229 2c20  d[2:].zfill(2), 
+0001e210: 6f63 6c5f 7063 6965 5f73 6c6f 745f 6964  ocl_pcie_slot_id
+0001e220: 5b32 3a5d 2e7a 6669 6c6c 2832 2929 0a20  [2:].zfill(2)). 
+0001e230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e240: 2020 2020 2020 206f 636c 5f70 6369 655f         ocl_pcie_
+0001e250: 736c 6f74 5f69 6420 3d20 6f63 6c5f 7063  slot_id = ocl_pc
+0001e260: 6965 5f62 7573 5f69 6420 3d20 4e6f 6e65  ie_bus_id = None
+0001e270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e280: 2020 2020 2020 2020 204c 4f47 4745 522e           LOGGER.
+0001e290: 6465 6275 6728 274e 5620 6f63 6c5f 7063  debug('NV ocl_pc
+0001e2a0: 6965 5f69 6420 5b25 735d 272c 206f 636c  ie_id [%s]', ocl
+0001e2b0: 5f70 6369 655f 6964 290a 2020 2020 2020  _pcie_id).      
+0001e2c0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0001e2d0: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
+0001e2e0: 2020 2020 2020 2069 6620 2743 4c5f 4445         if 'CL_DE
+0001e2f0: 5649 4345 5f50 4349 5f53 4c4f 545f 4944  VICE_PCI_SLOT_ID
+0001e300: 5f4e 5627 2069 6e20 7061 7261 6d5f 7374  _NV' in param_st
+0001e310: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0001e320: 2020 2020 2020 206f 636c 5f70 6369 655f         ocl_pcie_
+0001e330: 736c 6f74 5f69 6420 3d20 6865 7828 696e  slot_id = hex(in
+0001e340: 7428 6c69 6e65 5f69 7465 6d73 5b32 5d2e  t(line_items[2].
+0001e350: 7374 7269 7028 2929 290a 2020 2020 2020  strip())).      
+0001e360: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001e370: 206f 636c 5f70 6369 655f 6275 735f 6964   ocl_pcie_bus_id
+0001e380: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0001e390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e3a0: 2020 2020 2020 6f63 6c5f 7063 6965 5f69        ocl_pcie_i
+0001e3b0: 6420 3d20 277b 7d3a 7b7d 2e30 272e 666f  d = '{}:{}.0'.fo
+0001e3c0: 726d 6174 286f 636c 5f70 6369 655f 6275  rmat(ocl_pcie_bu
+0001e3d0: 735f 6964 5b32 3a5d 2e7a 6669 6c6c 2832  s_id[2:].zfill(2
+0001e3e0: 292c 206f 636c 5f70 6369 655f 736c 6f74  ), ocl_pcie_slot
+0001e3f0: 5f69 645b 323a 5d2e 7a66 696c 6c28 3229  _id[2:].zfill(2)
+0001e400: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001e410: 2020 2020 2020 2020 2020 6f63 6c5f 7063            ocl_pc
+0001e420: 6965 5f73 6c6f 745f 6964 203d 206f 636c  ie_slot_id = ocl
+0001e430: 5f70 6369 655f 6275 735f 6964 203d 204e  _pcie_bus_id = N
+0001e440: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+0001e450: 2020 2020 2020 2020 2020 2020 4c4f 4747              LOGG
+0001e460: 4552 2e64 6562 7567 2827 4e56 206f 636c  ER.debug('NV ocl
+0001e470: 5f70 6369 655f 6964 205b 2573 5d27 2c20  _pcie_id [%s]', 
+0001e480: 6f63 6c5f 7063 6965 5f69 6429 0a20 2020  ocl_pcie_id).   
+0001e490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e4a0: 2063 6f6e 7469 6e75 650a 0a20 2020 2020   continue..     
+0001e4b0: 2020 2020 2020 2020 2020 2023 2043 6865             # Che
+0001e4c0: 636b 2066 6f72 2049 4e54 454c 2070 6369  ck for INTEL pci
+0001e4d0: 655f 6964 2064 6574 6169 6c73 0a20 2020  e_id details.   
+0001e4e0: 2020 2020 2020 2020 2020 2020 2023 2054               # T
+0001e4f0: 4f44 4f3a 2044 6f6e 2774 206b 6e6f 7720  ODO: Don't know 
+0001e500: 686f 7720 6578 7472 6163 7420 496e 7465  how extract Inte
+0001e510: 6c20 7063 6965 5f69 6420 6465 7461 696c  l pcie_id detail
+0001e520: 732e 0a0a 2020 2020 2020 2020 7365 6c66  s...        self
+0001e530: 2e6f 7065 6e63 6c5f 6d61 702e 7570 6461  .opencl_map.upda
+0001e540: 7465 287b 6f63 6c5f 7063 6965 5f69 643a  te({ocl_pcie_id:
+0001e550: 2074 656d 705f 6d61 707d 290a 2020 2020   temp_map}).    
+0001e560: 2020 2020 7265 7475 726e 2054 7275 650a      return True.
+0001e570: 0a20 2020 2064 6566 206e 756d 5f76 656e  .    def num_ven
+0001e580: 646f 725f 6770 7573 2873 656c 662c 2063  dor_gpus(self, c
+0001e590: 6f6d 7061 7469 6269 6c69 7479 3a20 4770  ompatibility: Gp
+0001e5a0: 7543 6f6d 7061 7469 6269 6c69 7479 203d  uCompatibility =
+0001e5b0: 2047 7075 436f 6d70 6174 6962 696c 6974   GpuCompatibilit
+0001e5c0: 792e 414c 4c29 202d 3e20 4469 6374 5b73  y.ALL) -> Dict[s
+0001e5d0: 7472 2c20 696e 745d 3a0a 2020 2020 2020  tr, int]:.      
+0001e5e0: 2020 2222 2220 5265 7475 726e 2074 6865    """ Return the
+0001e5f0: 2063 6f75 6e74 206f 6620 4750 5573 2062   count of GPUs b
+0001e600: 7920 7665 6e64 6f72 2e20 2043 6f75 6e74  y vendor.  Count
+0001e610: 7320 746f 7461 6c20 6279 2064 6566 6175  s total by defau
+0001e620: 6c74 2c20 6275 7420 6361 6e20 616c 736f  lt, but can also
+0001e630: 2062 7920 7277 2c20 726f 6e6c 792c 206f   by rw, ronly, o
+0001e640: 7220 776f 6e6c 792e 0a0a 2020 2020 2020  r wonly...      
+0001e650: 2020 3a70 6172 616d 2063 6f6d 7061 7469    :param compati
+0001e660: 6269 6c69 7479 3a20 4f6e 6c79 2063 6f75  bility: Only cou
+0001e670: 6e74 2076 656e 646f 7220 4750 5573 2069  nt vendor GPUs i
+0001e680: 6620 5472 7565 2e0a 2020 2020 2020 2020  f True..        
+0001e690: 3a72 6574 7572 6e3a 2044 6963 7469 6f6e  :return: Diction
+0001e6a0: 6172 7920 6f66 2047 5055 2063 6f75 6e74  ary of GPU count
+0001e6b0: 730a 2020 2020 2020 2020 2222 220a 2020  s.        """.  
+0001e6c0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0001e6d0: 2020 2020 2020 205f 203d 2063 6f6d 7061         _ = compa
+0001e6e0: 7469 6269 6c69 7479 2e6e 616d 650a 2020  tibility.name.  
+0001e6f0: 2020 2020 2020 6578 6365 7074 2041 7474        except Att
+0001e700: 7269 6275 7465 4572 726f 7220 6173 2065  ributeError as e
+0001e710: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
+0001e720: 2020 7261 6973 6520 4174 7472 6962 7574    raise Attribut
+0001e730: 6545 7272 6f72 2827 4572 726f 723a 207b  eError('Error: {
+0001e740: 7d20 6e6f 7420 6120 7661 6c69 6420 636f  } not a valid co
+0001e750: 6d70 6174 6962 696c 6974 7920 6e61 6d65  mpatibility name
+0001e760: 3a20 5b7b 7d5d 272e 666f 726d 6174 280a  : [{}]'.format(.
+0001e770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e790: 2063 6f6d 7061 7469 6269 6c69 7479 2c20   compatibility, 
+0001e7a0: 4770 7543 6f6d 7061 7469 6269 6c69 7479  GpuCompatibility
+0001e7b0: 2929 2066 726f 6d20 6572 726f 720a 2020  )) from error.  
+0001e7c0: 2020 2020 2020 7265 7375 6c74 735f 6469        results_di
+0001e7d0: 6374 203d 207b 7d0a 2020 2020 2020 2020  ct = {}.        
+0001e7e0: 666f 7220 6770 7520 696e 2073 656c 662e  for gpu in self.
+0001e7f0: 6770 7573 2829 3a0a 2020 2020 2020 2020  gpus():.        
+0001e800: 2020 2020 6966 2063 6f6d 7061 7469 6269      if compatibi
+0001e810: 6c69 7479 203d 3d20 4770 7543 6f6d 7061  lity == GpuCompa
+0001e820: 7469 6269 6c69 7479 2e52 6561 6457 7269  tibility.ReadWri
+0001e830: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
+0001e840: 2020 2020 6966 206e 6f74 2067 7075 2e70      if not gpu.p
+0001e850: 726d 2e72 6561 6461 626c 6520 6f72 206e  rm.readable or n
+0001e860: 6f74 2067 7075 2e70 726d 2e77 7269 7461  ot gpu.prm.writa
+0001e870: 626c 653a 0a20 2020 2020 2020 2020 2020  ble:.           
+0001e880: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+0001e890: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
+0001e8a0: 2063 6f6d 7061 7469 6269 6c69 7479 203d   compatibility =
+0001e8b0: 3d20 4770 7543 6f6d 7061 7469 6269 6c69  = GpuCompatibili
+0001e8c0: 7479 2e52 6561 644f 6e6c 793a 0a20 2020  ty.ReadOnly:.   
+0001e8d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001e8e0: 6e6f 7420 6770 752e 7072 6d2e 7265 6164  not gpu.prm.read
+0001e8f0: 6162 6c65 3a0a 2020 2020 2020 2020 2020  able:.          
+0001e900: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+0001e910: 7565 0a20 2020 2020 2020 2020 2020 2069  ue.            i
+0001e920: 6620 636f 6d70 6174 6962 696c 6974 7920  f compatibility 
+0001e930: 3d3d 2047 7075 436f 6d70 6174 6962 696c  == GpuCompatibil
+0001e940: 6974 792e 5772 6974 654f 6e6c 793a 0a20  ity.WriteOnly:. 
+0001e950: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001e960: 6620 6e6f 7420 6770 752e 7072 6d2e 7772  f not gpu.prm.wr
+0001e970: 6974 6162 6c65 3a0a 2020 2020 2020 2020  itable:.        
+0001e980: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0001e990: 696e 7565 0a20 2020 2020 2020 2020 2020  inue.           
+0001e9a0: 2069 6620 6770 752e 7072 6d2e 7665 6e64   if gpu.prm.vend
+0001e9b0: 6f72 2e6e 616d 6520 6e6f 7420 696e 2072  or.name not in r
+0001e9c0: 6573 756c 7473 5f64 6963 743a 0a20 2020  esults_dict:.   
+0001e9d0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0001e9e0: 756c 7473 5f64 6963 742e 7570 6461 7465  ults_dict.update
+0001e9f0: 287b 6770 752e 7072 6d2e 7665 6e64 6f72  ({gpu.prm.vendor
+0001ea00: 2e6e 616d 653a 2031 7d29 0a20 2020 2020  .name: 1}).     
+0001ea10: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001ea20: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0001ea30: 756c 7473 5f64 6963 745b 6770 752e 7072  ults_dict[gpu.pr
+0001ea40: 6d2e 7665 6e64 6f72 2e6e 616d 655d 202b  m.vendor.name] +
+0001ea50: 3d20 310a 2020 2020 2020 2020 7265 7475  = 1.        retu
+0001ea60: 726e 2072 6573 756c 7473 5f64 6963 740a  rn results_dict.
+0001ea70: 0a20 2020 2064 6566 206e 756d 5f67 7075  .    def num_gpu
+0001ea80: 7328 7365 6c66 2c20 7665 6e64 6f72 3a20  s(self, vendor: 
+0001ea90: 4770 7556 656e 646f 7220 3d20 4770 7556  GpuVendor = GpuV
+0001eaa0: 656e 646f 722e 414c 4c29 202d 3e20 4469  endor.ALL) -> Di
+0001eab0: 6374 5b73 7472 2c20 696e 745d 3a0a 2020  ct[str, int]:.  
+0001eac0: 2020 2020 2020 2222 2220 5265 7475 726e        """ Return
+0001ead0: 2074 6865 2063 6f75 6e74 206f 6620 4750   the count of GP
+0001eae0: 5573 2062 7920 746f 7461 6c2c 2072 772c  Us by total, rw,
+0001eaf0: 2072 2d6f 6e6c 7920 6f72 2077 2d6f 6e6c   r-only or w-onl
+0001eb00: 792e 0a0a 2020 2020 2020 2020 3a70 6172  y...        :par
+0001eb10: 616d 2076 656e 646f 723a 204f 6e6c 7920  am vendor: Only 
+0001eb20: 636f 756e 7420 7665 6e64 6f72 2047 5055  count vendor GPU
+0001eb30: 7320 6f66 2073 7065 6369 6669 6320 7665  s of specific ve
+0001eb40: 6e64 6f72 206f 7220 616c 6c20 7665 6e64  ndor or all vend
+0001eb50: 6f72 7320 6279 2064 6566 6175 6c74 2e0a  ors by default..
+0001eb60: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+0001eb70: 2044 6963 7469 6f6e 6172 7920 6f66 2047   Dictionary of G
+0001eb80: 5055 2063 6f75 6e74 730a 2020 2020 2020  PU counts.      
+0001eb90: 2020 2222 220a 2020 2020 2020 2020 7472    """.        tr
+0001eba0: 793a 0a20 2020 2020 2020 2020 2020 2076  y:.            v
+0001ebb0: 656e 646f 725f 6e61 6d65 203d 2076 656e  endor_name = ven
+0001ebc0: 646f 722e 6e61 6d65 0a20 2020 2020 2020  dor.name.       
+0001ebd0: 2065 7863 6570 7420 4174 7472 6962 7574   except Attribut
+0001ebe0: 6545 7272 6f72 2061 7320 6572 726f 723a  eError as error:
+0001ebf0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001ec00: 7365 2041 7474 7269 6275 7465 4572 726f  se AttributeErro
+0001ec10: 7228 2745 7272 6f72 3a20 7b7d 206e 6f74  r('Error: {} not
+0001ec20: 2061 2076 616c 6964 2076 656e 646f 7220   a valid vendor 
+0001ec30: 6e61 6d65 3a20 5b7b 7d5d 272e 666f 726d  name: [{}]'.form
+0001ec40: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
+0001ec50: 2020 2020 7665 6e64 6f72 2c20 4770 7556      vendor, GpuV
+0001ec60: 656e 646f 722e 6c69 7374 2829 2929 2066  endor.list())) f
+0001ec70: 726f 6d20 6572 726f 720a 2020 2020 2020  rom error.      
+0001ec80: 2020 7265 7375 6c74 735f 6469 6374 203d    results_dict =
+0001ec90: 207b 2776 656e 646f 7227 3a20 7665 6e64   {'vendor': vend
+0001eca0: 6f72 5f6e 616d 652c 2027 746f 7461 6c27  or_name, 'total'
+0001ecb0: 3a20 302c 2027 7277 273a 2030 2c20 2772  : 0, 'rw': 0, 'r
+0001ecc0: 2d6f 6e6c 7927 3a20 302c 2027 772d 6f6e  -only': 0, 'w-on
+0001ecd0: 6c79 273a 2030 7d0a 2020 2020 2020 2020  ly': 0}.        
+0001ece0: 666f 7220 6770 7520 696e 2073 656c 662e  for gpu in self.
+0001ecf0: 6770 7573 2829 3a0a 2020 2020 2020 2020  gpus():.        
+0001ed00: 2020 2020 6966 2076 656e 646f 7220 213d      if vendor !=
+0001ed10: 2047 7075 5665 6e64 6f72 2e41 4c4c 3a0a   GpuVendor.ALL:.
+0001ed20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ed30: 6966 2076 656e 646f 7220 213d 2067 7075  if vendor != gpu
+0001ed40: 2e70 726d 2e76 656e 646f 723a 0a20 2020  .prm.vendor:.   
+0001ed50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ed60: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+0001ed70: 2020 2020 2020 6966 2067 7075 2e70 726d        if gpu.prm
+0001ed80: 2e72 6561 6461 626c 6520 616e 6420 6770  .readable and gp
+0001ed90: 752e 7072 6d2e 7772 6974 6162 6c65 3a0a  u.prm.writable:.
+0001eda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001edb0: 7265 7375 6c74 735f 6469 6374 5b27 7277  results_dict['rw
+0001edc0: 275d 202b 3d20 310a 2020 2020 2020 2020  '] += 1.        
+0001edd0: 2020 2020 656c 6966 2067 7075 2e70 726d      elif gpu.prm
+0001ede0: 2e72 6561 6461 626c 653a 0a20 2020 2020  .readable:.     
+0001edf0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
+0001ee00: 7473 5f64 6963 745b 2772 2d6f 6e6c 7927  ts_dict['r-only'
+0001ee10: 5d20 2b3d 2031 0a20 2020 2020 2020 2020  ] += 1.         
+0001ee20: 2020 2065 6c69 6620 6770 752e 7072 6d2e     elif gpu.prm.
+0001ee30: 7772 6974 6162 6c65 3a0a 2020 2020 2020  writable:.      
+0001ee40: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0001ee50: 735f 6469 6374 5b27 772d 6f6e 6c79 275d  s_dict['w-only']
+0001ee60: 202b 3d20 310a 2020 2020 2020 2020 2020   += 1.          
+0001ee70: 2020 7265 7375 6c74 735f 6469 6374 5b27    results_dict['
+0001ee80: 746f 7461 6c27 5d20 2b3d 2031 0a20 2020  total'] += 1.   
+0001ee90: 2020 2020 2072 6574 7572 6e20 7265 7375       return resu
+0001eea0: 6c74 735f 6469 6374 0a0a 2020 2020 6465  lts_dict..    de
+0001eeb0: 6620 6c69 7374 5f67 7075 7328 7365 6c66  f list_gpus(self
+0001eec0: 2c20 7265 7665 7273 653a 2062 6f6f 6c20  , reverse: bool 
+0001eed0: 3d20 4661 6c73 652c 2076 656e 646f 723a  = False, vendor:
+0001eee0: 2047 7075 5665 6e64 6f72 203d 2047 7075   GpuVendor = Gpu
+0001eef0: 5665 6e64 6f72 2e41 4c4c 2c20 6770 755f  Vendor.ALL, gpu_
+0001ef00: 7479 7065 3a20 4770 7554 7970 6520 3d20  type: GpuType = 
+0001ef10: 4770 7554 7970 652e 414c 4c2c 0a20 2020  GpuType.ALL,.   
+0001ef20: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0001ef30: 6f6d 7061 7469 6269 6c69 7479 3a20 4770  ompatibility: Gp
+0001ef40: 7543 6f6d 7061 7469 6269 6c69 7479 203d  uCompatibility =
+0001ef50: 2047 7075 436f 6d70 6174 6962 696c 6974   GpuCompatibilit
+0001ef60: 792e 414c 4c29 202d 3e20 2763 6c61 7373  y.ALL) -> 'class
+0001ef70: 2047 7075 4c69 7374 273a 0a20 2020 2020   GpuList':.     
+0001ef80: 2020 2022 2222 2052 6574 7572 6e20 4750     """ Return GP
+0001ef90: 555f 4974 656d 206f 6620 4750 5573 2e20  U_Item of GPUs. 
+0001efa0: 2043 6f6e 7461 696e 7320 616c 6c20 6279   Contains all by
+0001efb0: 2064 6566 6175 6c74 2c20 6275 7420 6361   default, but ca
+0001efc0: 6e20 6265 2061 2073 7562 7365 7420 7769  n be a subset wi
+0001efd0: 7468 2076 656e 646f 7220 616e 640a 2020  th vendor and.  
+0001efe0: 2020 2020 2020 2020 2020 636f 6d70 6174            compat
+0001eff0: 6962 696c 6974 7920 6172 6773 2e20 4f6e  ibility args. On
+0001f000: 6c79 206f 6e65 2066 6c61 6720 7368 6f75  ly one flag shou
+0001f010: 6c64 2062 6520 7365 742e 0a0a 2020 2020  ld be set...    
+0001f020: 2020 2020 3a70 6172 616d 2072 6576 6572      :param rever
+0001f030: 7365 3a20 7265 7475 726e 2069 7465 6d73  se: return items
+0001f040: 206e 6f74 206d 6174 6368 696e 6720 636f   not matching co
+0001f050: 6e64 6974 696f 6e73 2e0a 2020 2020 2020  nditions..      
+0001f060: 2020 3a70 6172 616d 2076 656e 646f 723a    :param vendor:
+0001f070: 204f 6e6c 7920 636f 756e 7420 7665 6e64   Only count vend
+0001f080: 6f72 2047 5055 7320 6f72 2041 4c4c 2062  or GPUs or ALL b
+0001f090: 7920 6465 6661 756c 742e 0a20 2020 2020  y default..     
+0001f0a0: 2020 203a 7061 7261 6d20 6770 755f 7479     :param gpu_ty
+0001f0b0: 7065 3a20 4f6e 6c79 2063 6f75 6e74 2074  pe: Only count t
+0001f0c0: 7970 6520 4750 5573 206f 7220 414c 4c20  ype GPUs or ALL 
+0001f0d0: 6279 2064 6566 6175 6c74 2e0a 2020 2020  by default..    
+0001f0e0: 2020 2020 3a70 6172 616d 2063 6f6d 7061      :param compa
+0001f0f0: 7469 6269 6c69 7479 3a20 4f6e 6c79 2063  tibility: Only c
+0001f100: 6f75 6e74 2047 5055 7320 7769 7468 2073  ount GPUs with s
+0001f110: 7065 6369 6669 6564 2063 6f6d 7061 7469  pecified compati
+0001f120: 6269 6c69 7479 2028 616c 6c2c 2072 6561  bility (all, rea
+0001f130: 6461 626c 652c 2077 7269 7461 626c 6529  dable, writable)
+0001f140: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+0001f150: 3a20 4770 754c 6973 7420 6f66 2063 6f6d  : GpuList of com
+0001f160: 7061 7469 626c 6520 4750 5573 0a20 2020  patible GPUs.   
+0001f170: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001f180: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+0001f190: 2020 5f20 3d20 636f 6d70 6174 6962 696c    _ = compatibil
+0001f1a0: 6974 792e 6e61 6d65 0a20 2020 2020 2020  ity.name.       
+0001f1b0: 2065 7863 6570 7420 4174 7472 6962 7574   except Attribut
+0001f1c0: 6545 7272 6f72 2061 7320 6572 726f 723a  eError as error:
+0001f1d0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001f1e0: 7365 2041 7474 7269 6275 7465 4572 726f  se AttributeErro
+0001f1f0: 7228 2745 7272 6f72 3a20 7b7d 206e 6f74  r('Error: {} not
+0001f200: 2061 2076 616c 6964 2063 6f6d 7061 7469   a valid compati
+0001f210: 6269 6c69 7479 206e 616d 653a 207b 7d27  bility name: {}'
+0001f220: 2e66 6f72 6d61 7428 0a20 2020 2020 2020  .format(.       
+0001f230: 2020 2020 2020 2020 2063 6f6d 7061 7469           compati
+0001f240: 6269 6c69 7479 2c20 4770 7543 6f6d 7061  bility, GpuCompa
+0001f250: 7469 6269 6c69 7479 2e6c 6973 7428 2929  tibility.list())
+0001f260: 2920 6672 6f6d 2065 7272 6f72 0a20 2020  ) from error.   
+0001f270: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0001f280: 2020 2020 2020 5f20 3d20 6770 755f 7479        _ = gpu_ty
+0001f290: 7065 2e6e 616d 650a 2020 2020 2020 2020  pe.name.        
+0001f2a0: 6578 6365 7074 2041 7474 7269 6275 7465  except Attribute
+0001f2b0: 4572 726f 7220 6173 2065 7272 6f72 3a0a  Error as error:.
+0001f2c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001f2d0: 6520 4174 7472 6962 7574 6545 7272 6f72  e AttributeError
+0001f2e0: 2827 4572 726f 723a 207b 7d20 6e6f 7420  ('Error: {} not 
+0001f2f0: 6120 7661 6c69 6420 7479 7065 206e 616d  a valid type nam
+0001f300: 653a 205b 7b7d 5d27 2e66 6f72 6d61 7428  e: [{}]'.format(
+0001f310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f320: 2067 7075 5f74 7970 652c 2047 7075 5479   gpu_type, GpuTy
+0001f330: 7065 2e6c 6973 7428 2929 2920 6672 6f6d  pe.list())) from
+0001f340: 2065 7272 6f72 0a20 2020 2020 2020 2074   error.        t
+0001f350: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0001f360: 5f20 3d20 7665 6e64 6f72 2e6e 616d 650a  _ = vendor.name.
+0001f370: 2020 2020 2020 2020 6578 6365 7074 2041          except A
+0001f380: 7474 7269 6275 7465 4572 726f 7220 6173  ttributeError as
+0001f390: 2065 7272 6f72 3a0a 2020 2020 2020 2020   error:.        
+0001f3a0: 2020 2020 7261 6973 6520 4174 7472 6962      raise Attrib
+0001f3b0: 7574 6545 7272 6f72 2827 4572 726f 723a  uteError('Error:
+0001f3c0: 207b 7d20 6e6f 7420 6120 7661 6c69 6420   {} not a valid 
+0001f3d0: 7665 6e64 6f72 206e 616d 653a 205b 7b7d  vendor name: [{}
+0001f3e0: 5d27 2e66 6f72 6d61 7428 0a20 2020 2020  ]'.format(.     
+0001f3f0: 2020 2020 2020 2020 2020 2076 656e 646f             vendo
+0001f400: 722c 2047 7075 5665 6e64 6f72 2e6c 6973  r, GpuVendor.lis
+0001f410: 7428 2929 2920 6672 6f6d 2065 7272 6f72  t())) from error
+0001f420: 0a0a 2020 2020 2020 2020 7265 7375 6c74  ..        result
+0001f430: 5f6c 6973 7420 3d20 4770 754c 6973 7428  _list = GpuList(
+0001f440: 290a 2020 2020 2020 2020 666f 7220 7575  ).        for uu
+0001f450: 6964 2c20 6770 7520 696e 2073 656c 662e  id, gpu in self.
+0001f460: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
+0001f470: 2020 2020 2069 6620 7665 6e64 6f72 2021       if vendor !
+0001f480: 3d20 4770 7556 656e 646f 722e 414c 4c3a  = GpuVendor.ALL:
+0001f490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f4a0: 2069 6620 2828 7265 7665 7273 6520 616e   if ((reverse an
+0001f4b0: 6420 2876 656e 646f 7220 3d3d 2067 7075  d (vendor == gpu
+0001f4c0: 2e70 726d 2e76 656e 646f 7229 2920 6f72  .prm.vendor)) or
+0001f4d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f4e0: 2020 2020 286e 6f74 2072 6576 6572 7365      (not reverse
+0001f4f0: 2061 6e64 2028 7665 6e64 6f72 2021 3d20   and (vendor != 
+0001f500: 6770 752e 7072 6d2e 7665 6e64 6f72 2929  gpu.prm.vendor))
+0001f510: 293a 2063 6f6e 7469 6e75 650a 2020 2020  ): continue.    
+0001f520: 2020 2020 2020 2020 6966 2067 7075 5f74          if gpu_t
+0001f530: 7970 6520 213d 2047 7075 5479 7065 2e41  ype != GpuType.A
+0001f540: 4c4c 3a0a 2020 2020 2020 2020 2020 2020  LL:.            
+0001f550: 2020 2020 6966 2028 2872 6576 6572 7365      if ((reverse
+0001f560: 2061 6e64 2028 6770 755f 7479 7065 203d   and (gpu_type =
+0001f570: 3d20 6770 752e 7072 6d2e 6770 755f 7479  = gpu.prm.gpu_ty
+0001f580: 7065 2929 206f 720a 2020 2020 2020 2020  pe)) or.        
+0001f590: 2020 2020 2020 2020 2020 2028 6e6f 7420             (not 
+0001f5a0: 7265 7665 7273 6520 616e 6420 2867 7075  reverse and (gpu
+0001f5b0: 5f74 7970 6520 213d 2067 7075 2e70 726d  _type != gpu.prm
+0001f5c0: 2e67 7075 5f74 7970 6529 2929 3a20 636f  .gpu_type))): co
+0001f5d0: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
+0001f5e0: 2020 2069 6620 636f 6d70 6174 6962 696c     if compatibil
+0001f5f0: 6974 7920 213d 2047 7075 436f 6d70 6174  ity != GpuCompat
+0001f600: 6962 696c 6974 792e 414c 4c3a 0a20 2020  ibility.ALL:.   
+0001f610: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001f620: 636f 6d70 6174 6962 696c 6974 7920 3d3d  compatibility ==
+0001f630: 2047 7075 436f 6d70 6174 6962 696c 6974   GpuCompatibilit
+0001f640: 792e 5265 6164 6162 6c65 3a0a 2020 2020  y.Readable:.    
+0001f650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f660: 6966 2028 2872 6576 6572 7365 2061 6e64  if ((reverse and
+0001f670: 2067 7075 2e70 726d 2e72 6561 6461 626c   gpu.prm.readabl
+0001f680: 6529 206f 720a 2020 2020 2020 2020 2020  e) or.          
+0001f690: 2020 2020 2020 2020 2020 2020 2028 6e6f               (no
+0001f6a0: 7420 7265 7665 7273 6520 616e 6420 6e6f  t reverse and no
+0001f6b0: 7420 6770 752e 7072 6d2e 7265 6164 6162  t gpu.prm.readab
+0001f6c0: 6c65 2929 3a20 636f 6e74 696e 7565 0a20  le)): continue. 
+0001f6d0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001f6e0: 6c69 6620 636f 6d70 6174 6962 696c 6974  lif compatibilit
+0001f6f0: 7920 3d3d 2047 7075 436f 6d70 6174 6962  y == GpuCompatib
+0001f700: 696c 6974 792e 5772 6974 6162 6c65 3a0a  ility.Writable:.
+0001f710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f720: 2020 2020 6966 2028 2872 6576 6572 7365      if ((reverse
+0001f730: 2061 6e64 2067 7075 2e70 726d 2e77 7269   and gpu.prm.wri
+0001f740: 7461 626c 6529 206f 720a 2020 2020 2020  table) or.      
+0001f750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f760: 2028 6e6f 7420 7265 7665 7273 6520 616e   (not reverse an
+0001f770: 6420 6e6f 7420 6770 752e 7072 6d2e 7772  d not gpu.prm.wr
+0001f780: 6974 6162 6c65 2929 3a20 636f 6e74 696e  itable)): contin
+0001f790: 7565 0a20 2020 2020 2020 2020 2020 2072  ue.            r
+0001f7a0: 6573 756c 745f 6c69 7374 5b75 7569 645d  esult_list[uuid]
+0001f7b0: 203d 2067 7075 0a0a 2020 2020 2020 2020   = gpu..        
+0001f7c0: 7265 7475 726e 2072 6573 756c 745f 6c69  return result_li
+0001f7d0: 7374 0a0a 2020 2020 6465 6620 7265 6164  st..    def read
+0001f7e0: 5f72 6177 5f73 656e 736f 7273 2873 656c  _raw_sensors(sel
+0001f7f0: 6629 202d 3e20 4e6f 6e65 3a0a 2020 2020  f) -> None:.    
+0001f800: 2020 2020 2222 2220 5261 7720 7265 6164      """ Raw read
+0001f810: 206f 6620 616c 6c20 6472 6976 6572 2066   of all driver f
+0001f820: 696c 6573 2066 6f72 2061 6c6c 2047 5055  iles for all GPU
+0001f830: 732e 0a20 2020 2020 2020 2022 2222 0a20  s..        """. 
+0001f840: 2020 2020 2020 2066 6f72 2067 7075 2069         for gpu i
+0001f850: 6e20 7365 6c66 2e67 7075 7328 293a 0a20  n self.gpus():. 
+0001f860: 2020 2020 2020 2020 2020 2067 7075 2e72             gpu.r
+0001f870: 6561 645f 7261 775f 7365 6e73 6f72 7328  ead_raw_sensors(
+0001f880: 290a 0a20 2020 2064 6566 2072 6561 645f  )..    def read_
+0001f890: 6770 755f 7070 6d5f 7461 626c 6528 7365  gpu_ppm_table(se
+0001f8a0: 6c66 2920 2d3e 204e 6f6e 653a 0a20 2020  lf) -> None:.   
+0001f8b0: 2020 2020 2022 2222 2052 6561 6420 4750       """ Read GP
+0001f8c0: 5520 7070 6d20 6461 7461 2061 6e64 2070  U ppm data and p
+0001f8d0: 6f70 756c 6174 6520 4770 7549 7465 6d2e  opulate GpuItem.
+0001f8e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001f8f0: 2020 2020 2066 6f72 2067 7075 2069 6e20       for gpu in 
+0001f900: 7365 6c66 2e67 7075 7328 293a 0a20 2020  self.gpus():.   
+0001f910: 2020 2020 2020 2020 2069 6620 6770 752e           if gpu.
+0001f920: 7072 6d2e 7265 6164 6162 6c65 3a0a 2020  prm.readable:.  
+0001f930: 2020 2020 2020 2020 2020 2020 2020 6770                gp
+0001f940: 752e 7265 6164 5f67 7075 5f70 706d 5f74  u.read_gpu_ppm_t
+0001f950: 6162 6c65 2829 0a0a 2020 2020 6465 6620  able()..    def 
+0001f960: 7072 696e 745f 7061 7261 6d5f 7461 626c  print_param_tabl
+0001f970: 6528 7365 6c66 2c20 7061 7261 6d5f 6e61  e(self, param_na
+0001f980: 6d65 2920 2d3e 204e 6f6e 653a 0a20 2020  me) -> None:.   
+0001f990: 2020 2020 2022 2222 2050 7269 6e74 2074       """ Print t
+0001f9a0: 6865 2047 7075 4974 656d 2070 706d 2064  he GpuItem ppm d
+0001f9b0: 6174 612e 0a20 2020 2020 2020 2022 2222  ata..        """
+0001f9c0: 0a20 2020 2020 2020 2066 6f72 2067 7075  .        for gpu
+0001f9d0: 2069 6e20 7365 6c66 2e67 7075 7328 293a   in self.gpus():
+0001f9e0: 0a20 2020 2020 2020 2020 2020 2067 7075  .            gpu
+0001f9f0: 2e70 7269 6e74 5f70 6172 616d 5f74 6162  .print_param_tab
+0001fa00: 6c65 2870 6172 616d 5f6e 616d 653d 7061  le(param_name=pa
+0001fa10: 7261 6d5f 6e61 6d65 290a 0a20 2020 2064  ram_name)..    d
+0001fa20: 6566 2070 7269 6e74 5f70 7374 6174 6573  ef print_pstates
+0001fa30: 2873 656c 6629 202d 3e20 4e6f 6e65 3a0a  (self) -> None:.
+0001fa40: 2020 2020 2020 2020 2222 2220 5072 696e          """ Prin
+0001fa50: 7420 7468 6520 4770 7549 7465 6d20 7073  t the GpuItem ps
+0001fa60: 7461 7465 7320 6461 7461 2e0a 2020 2020  tates data..    
+0001fa70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001fa80: 666f 7220 6770 7520 696e 2073 656c 662e  for gpu in self.
+0001fa90: 6770 7573 2829 3a0a 2020 2020 2020 2020  gpus():.        
+0001faa0: 2020 2020 6770 752e 7072 696e 745f 7073      gpu.print_ps
+0001fab0: 7461 7465 7328 290a 0a20 2020 2064 6566  tates()..    def
+0001fac0: 2072 6561 645f 6770 755f 7073 7461 7465   read_gpu_pstate
+0001fad0: 7328 7365 6c66 2920 2d3e 204e 6f6e 653a  s(self) -> None:
+0001fae0: 0a20 2020 2020 2020 2022 2222 2052 6561  .        """ Rea
+0001faf0: 6420 4750 5520 702d 7374 6174 6520 6461  d GPU p-state da
+0001fb00: 7461 2061 6e64 2070 6f70 756c 6174 6520  ta and populate 
+0001fb10: 4770 7549 7465 6d2e 0a20 2020 2020 2020  GpuItem..       
+0001fb20: 2022 2222 0a20 2020 2020 2020 2066 6f72   """.        for
+0001fb30: 2067 7075 2069 6e20 7365 6c66 2e67 7075   gpu in self.gpu
+0001fb40: 7328 293a 0a20 2020 2020 2020 2020 2020  s():.           
+0001fb50: 2069 6620 6770 752e 7072 6d2e 7265 6164   if gpu.prm.read
+0001fb60: 6162 6c65 3a0a 2020 2020 2020 2020 2020  able:.          
+0001fb70: 2020 2020 2020 6770 752e 7265 6164 5f67        gpu.read_g
+0001fb80: 7075 5f70 7374 6174 6573 2829 0a0a 2020  pu_pstates()..  
+0001fb90: 2020 6465 6620 7265 6164 5f67 7075 5f73    def read_gpu_s
+0001fba0: 656e 736f 725f 7365 7428 7365 6c66 2c20  ensor_set(self, 
+0001fbb0: 6461 7461 5f74 7970 653a 2053 656e 736f  data_type: Senso
+0001fbc0: 7253 6574 203d 2053 656e 736f 7253 6574  rSet = SensorSet
+0001fbd0: 2e41 6c6c 2920 2d3e 204e 6f6e 653a 0a20  .All) -> None:. 
+0001fbe0: 2020 2020 2020 2022 2222 2052 6561 6420         """ Read 
+0001fbf0: 7365 6e73 6f72 2064 6174 6120 6672 6f6d  sensor data from
+0001fc00: 2061 6c6c 2047 5055 7320 696e 2073 656c   all GPUs in sel
+0001fc10: 662e 6c69 7374 2e0a 0a20 2020 2020 2020  f.list...       
+0001fc20: 203a 7061 7261 6d20 6461 7461 5f74 7970   :param data_typ
+0001fc30: 653a 2053 7065 6369 6669 6573 2074 6865  e: Specifies the
+0001fc40: 2073 656e 736f 7220 7365 7420 746f 2075   sensor set to u
+0001fc50: 7365 2069 6e20 7468 6520 7265 6164 2e0a  se in the read..
+0001fc60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001fc70: 2020 2020 666f 7220 6770 7520 696e 2073      for gpu in s
+0001fc80: 656c 662e 6770 7573 2829 3a0a 2020 2020  elf.gpus():.    
+0001fc90: 2020 2020 2020 2020 6966 2067 7075 2e70          if gpu.p
+0001fca0: 726d 2e72 6561 6461 626c 6520 6f72 2047  rm.readable or G
+0001fcb0: 5554 5f43 4f4e 5354 2e66 6f72 6365 5f61  UT_CONST.force_a
+0001fcc0: 6c6c 3a0a 2020 2020 2020 2020 2020 2020  ll:.            
+0001fcd0: 2020 2020 6770 752e 7265 6164 5f67 7075      gpu.read_gpu
+0001fce0: 5f73 656e 736f 725f 7365 7428 6461 7461  _sensor_set(data
+0001fcf0: 5f74 7970 6529 0a0a 2020 2020 2320 5072  _type)..    # Pr
+0001fd00: 696e 7469 6e67 204d 6574 686f 6473 2066  inting Methods f
+0001fd10: 6f6c 6c6f 772e 0a20 2020 2064 6566 2070  ollow..    def p
+0001fd20: 7269 6e74 5f72 6177 2873 656c 6629 202d  rint_raw(self) -
+0001fd30: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+0001fd40: 2222 2220 5072 696e 7420 7261 7720 7265  """ Print raw re
+0001fd50: 6164 2064 6174 6120 666f 7220 616c 6c20  ad data for all 
+0001fd60: 4750 5573 2e0a 2020 2020 2020 2020 2222  GPUs..        ""
+0001fd70: 220a 2020 2020 2020 2020 666f 7220 6770  ".        for gp
+0001fd80: 7520 696e 2073 656c 662e 6770 7573 2829  u in self.gpus()
+0001fd90: 3a0a 2020 2020 2020 2020 2020 2020 6770  :.            gp
+0001fda0: 752e 7072 696e 745f 7261 7728 290a 0a20  u.print_raw().. 
+0001fdb0: 2020 2064 6566 2070 7269 6e74 2873 656c     def print(sel
+0001fdc0: 662c 2073 686f 7274 3a20 626f 6f6c 203d  f, short: bool =
+0001fdd0: 2046 616c 7365 2c20 6c6f 6e67 3a20 626f   False, long: bo
+0001fde0: 6f6c 203d 2046 616c 7365 2920 2d3e 204e  ol = False) -> N
+0001fdf0: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+0001fe00: 2050 7269 6e74 2061 6c6c 2047 7075 4974   Print all GpuIt
+0001fe10: 656d 2e0a 0a20 2020 2020 2020 203a 7061  em...        :pa
+0001fe20: 7261 6d20 7368 6f72 743a 2049 6620 7472  ram short: If tr
+0001fe30: 7565 2c20 7072 696e 7420 7368 6f72 7420  ue, print short 
+0001fe40: 7265 706f 7274 0a20 2020 2020 2020 203a  report.        :
+0001fe50: 7061 7261 6d20 6c6f 6e67 3a20 4966 2074  param long: If t
+0001fe60: 7275 652c 2070 7269 6e74 206c 6f6e 6720  rue, print long 
+0001fe70: 7265 706f 7274 0a20 2020 2020 2020 2022  report.        "
+0001fe80: 2222 0a20 2020 2020 2020 2066 6f72 2067  "".        for g
+0001fe90: 7075 2069 6e20 7365 6c66 2e67 7075 7328  pu in self.gpus(
+0001fea0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+0001feb0: 6620 7368 6f72 743a 2067 7075 2e70 7269  f short: gpu.pri
+0001fec0: 6e74 2873 686f 7274 3d73 686f 7274 290a  nt(short=short).
+0001fed0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0001fee0: 206c 6f6e 673a 0a20 2020 2020 2020 2020   long:.         
+0001fef0: 2020 2020 2020 2067 7075 2e70 7269 6e74         gpu.print
+0001ff00: 286e 6577 6c69 6e65 3d46 616c 7365 290a  (newline=False).
+0001ff10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ff20: 666f 7220 7265 706f 7274 5f6e 616d 6520  for report_name 
+0001ff30: 696e 2028 2770 705f 6665 6174 7572 6573  in ('pp_features
+0001ff40: 272c 2027 7070 6d27 2c20 2770 7374 6174  ', 'ppm', 'pstat
+0001ff50: 6527 2c20 2763 6c69 6e66 6f27 293a 0a20  e', 'clinfo'):. 
+0001ff60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ff70: 2020 2067 7075 2e70 7269 6e74 5f70 6172     gpu.print_par
+0001ff80: 616d 5f74 6162 6c65 2872 6570 6f72 745f  am_table(report_
+0001ff90: 6e61 6d65 2c20 7368 6f72 743d 4661 6c73  name, short=Fals
+0001ffa0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0001ffb0: 2020 2070 7269 6e74 2827 2729 0a20 2020     print('').   
+0001ffc0: 2020 2020 2020 2020 2065 6c73 653a 2067           else: g
+0001ffd0: 7075 2e70 7269 6e74 2829 0a0a 2020 2020  pu.print()..    
+0001ffe0: 6465 6620 7072 696e 745f 7461 626c 6528  def print_table(
+0001fff0: 7365 6c66 2c20 7469 746c 653a 204f 7074  self, title: Opt
+00020000: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+00020010: 6529 202d 3e20 626f 6f6c 3a0a 2020 2020  e) -> bool:.    
+00020020: 2020 2020 2222 2220 5072 696e 7420 7461      """ Print ta
+00020030: 626c 6520 6f66 2070 6172 616d 6574 6572  ble of parameter
+00020040: 732e 0a0a 2020 2020 2020 2020 3a72 6574  s...        :ret
+00020050: 7572 6e3a 2054 7275 6520 6966 2073 7563  urn: True if suc
+00020060: 6365 7373 0a20 2020 2020 2020 2022 2222  cess.        """
+00020070: 0a20 2020 2020 2020 2063 6f6c 6f72 203d  .        color =
+00020080: 2047 7075 4974 656d 2e6d 6172 6b5f 7570   GpuItem.mark_up
+00020090: 5f63 6f64 6573 5b27 626f 6c64 275d 202b  _codes['bold'] +
+000200a0: 2047 7075 4974 656d 2e6d 6172 6b5f 7570   GpuItem.mark_up
+000200b0: 5f63 6f64 6573 5b27 6379 616e 275d 0a20  _codes['cyan']. 
+000200c0: 2020 2020 2020 2063 6f6c 6f72 5f72 6573         color_res
+000200d0: 6574 203d 2047 7075 4974 656d 2e6d 6172  et = GpuItem.mar
+000200e0: 6b5f 7570 5f63 6f64 6573 5b27 7265 7365  k_up_codes['rese
+000200f0: 7427 5d0a 2020 2020 2020 2020 7461 626c  t'].        tabl
+00020100: 655f 7769 6474 683a 2069 6e74 203d 2032  e_width: int = 2
+00020110: 300a 2020 2020 2020 2020 6966 2073 656c  0.        if sel
+00020120: 662e 6e75 6d5f 6770 7573 2829 5b27 746f  f.num_gpus()['to
+00020130: 7461 6c27 5d20 3c20 313a 2072 6574 7572  tal'] < 1: retur
+00020140: 6e20 4661 6c73 650a 0a20 2020 2020 2020  n False..       
+00020150: 2069 6620 7469 746c 653a 2070 7269 6e74   if title: print
+00020160: 2827 7b7d 7b7d 7b7d 272e 666f 726d 6174  ('{}{}{}'.format
+00020170: 2863 6f6c 6f72 2c20 7469 746c 652c 2063  (color, title, c
+00020180: 6f6c 6f72 5f72 6573 6574 2929 0a0a 2020  olor_reset))..  
+00020190: 2020 2020 2020 7072 696e 7428 27e2 948c        print('...
+000201a0: 272c 2027 e294 8027 2e6c 6a75 7374 2831  ', '...'.ljust(1
+000201b0: 332c 2027 e294 8027 292c 2073 6570 3d27  3, '...'), sep='
+000201c0: 272c 2065 6e64 3d27 2729 0a20 2020 2020  ', end='').     
+000201d0: 2020 2066 6f72 205f 2069 6e20 7365 6c66     for _ in self
+000201e0: 2e67 7075 7328 293a 0a20 2020 2020 2020  .gpus():.       
+000201f0: 2020 2020 2070 7269 6e74 2827 e294 ac27       print('...'
+00020200: 2c20 27e2 9480 272e 6c6a 7573 7428 7461  , '...'.ljust(ta
+00020210: 626c 655f 7769 6474 682c 2027 e294 8027  ble_width, '...'
+00020220: 292c 2073 6570 3d27 272c 2065 6e64 3d27  ), sep='', end='
+00020230: 2729 0a20 2020 2020 2020 2070 7269 6e74  ').        print
+00020240: 2827 e294 9027 290a 0a20 2020 2020 2020  ('...')..       
+00020250: 2070 7269 6e74 2827 e294 827b 7d7b 7d7b   print('...{}{}{
+00020260: 7d27 2e66 6f72 6d61 7428 636f 6c6f 722c  }'.format(color,
+00020270: 2027 4361 7264 2023 272e 6c6a 7573 7428   'Card #'.ljust(
+00020280: 3133 2c20 2720 2729 2c20 636f 6c6f 725f  13, ' '), color_
+00020290: 7265 7365 7429 2c20 7365 703d 2727 2c20  reset), sep='', 
+000202a0: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
+000202b0: 666f 7220 6770 7520 696e 2073 656c 662e  for gpu in self.
+000202c0: 6770 7573 2829 3a0a 2020 2020 2020 2020  gpus():.        
+000202d0: 2020 2020 6361 7264 5f73 7472 203d 2027      card_str = '
+000202e0: 6361 7264 7b7d 272e 666f 726d 6174 2867  card{}'.format(g
+000202f0: 7075 2e70 726d 2e63 6172 645f 6e75 6d29  pu.prm.card_num)
+00020300: 2e63 656e 7465 7228 7461 626c 655f 7769  .center(table_wi
+00020310: 6474 6829 0a20 2020 2020 2020 2020 2020  dth).           
+00020320: 2070 7269 6e74 2827 e294 827b 7d7b 3a3c   print('...{}{:<
+00020330: 3230 7d7b 7d27 2e66 6f72 6d61 7428 636f  20}{}'.format(co
+00020340: 6c6f 722c 2063 6172 645f 7374 722c 2063  lor, card_str, c
+00020350: 6f6c 6f72 5f72 6573 6574 292c 2065 6e64  olor_reset), end
+00020360: 3d27 2729 0a20 2020 2020 2020 2070 7269  ='').        pri
+00020370: 6e74 2827 e294 8227 290a 0a20 2020 2020  nt('...')..     
+00020380: 2020 2070 7269 6e74 2827 e294 9c27 2c20     print('...', 
+00020390: 27e2 9480 272e 6c6a 7573 7428 3133 2c20  '...'.ljust(13, 
+000203a0: 27e2 9480 2729 2c20 7365 703d 2727 2c20  '...'), sep='', 
+000203b0: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
+000203c0: 666f 7220 5f20 696e 2073 656c 662e 6770  for _ in self.gp
+000203d0: 7573 2829 3a0a 2020 2020 2020 2020 2020  us():.          
+000203e0: 2020 7072 696e 7428 27e2 94bc 272c 2027    print('...', '
+000203f0: e294 8027 2e6c 6a75 7374 2874 6162 6c65  ...'.ljust(table
+00020400: 5f77 6964 7468 2c20 27e2 9480 2729 2c20  _width, '...'), 
+00020410: 7365 703d 2727 2c20 656e 643d 2727 290a  sep='', end='').
+00020420: 2020 2020 2020 2020 7072 696e 7428 27e2          print('.
+00020430: 94a4 2729 0a0a 2020 2020 2020 2020 666f  ..')..        fo
+00020440: 7220 7461 626c 655f 6974 656d 2069 6e20  r table_item in 
+00020450: 4770 7549 7465 6d2e 7461 626c 655f 7061  GpuItem.table_pa
+00020460: 7261 6d65 7465 7273 3a0a 2020 2020 2020  rameters:.      
+00020470: 2020 2020 2020 7072 696e 7428 27e2 9482        print('...
+00020480: 7b7d 7b3a 3c31 337d 7b7d 272e 666f 726d  {}{:<13}{}'.form
+00020490: 6174 2863 6f6c 6f72 2c20 7374 7228 4770  at(color, str(Gp
+000204a0: 7549 7465 6d2e 7461 626c 655f 7061 7261  uItem.table_para
+000204b0: 6d5f 6c61 6265 6c73 5b74 6162 6c65 5f69  m_labels[table_i
+000204c0: 7465 6d5d 295b 3a31 335d 2c20 636f 6c6f  tem])[:13], colo
+000204d0: 725f 7265 7365 7429 2c20 656e 643d 2727  r_reset), end=''
+000204e0: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
+000204f0: 7220 6770 7520 696e 2073 656c 662e 6770  r gpu in self.gp
+00020500: 7573 2829 3a0a 2020 2020 2020 2020 2020  us():.          
+00020510: 2020 2020 2020 6461 7461 5f76 616c 7565        data_value
+00020520: 5f72 6177 203d 2067 7075 2e67 6574 5f70  _raw = gpu.get_p
+00020530: 6172 616d 735f 7661 6c75 6528 7461 626c  arams_value(tabl
+00020540: 655f 6974 656d 290a 2020 2020 2020 2020  e_item).        
+00020550: 2020 2020 2020 2020 6461 7461 5f76 616c          data_val
+00020560: 7565 5f72 6177 203d 2066 6f72 6d61 745f  ue_raw = format_
+00020570: 7461 626c 655f 7661 6c75 6528 6461 7461  table_value(data
+00020580: 5f76 616c 7565 5f72 6177 2c20 7461 626c  _value_raw, tabl
+00020590: 655f 6974 656d 290a 2020 2020 2020 2020  e_item).        
+000205a0: 2020 2020 2020 2020 7072 696e 7428 27e2          print('.
+000205b0: 9482 7b3a 3c32 307d 272e 666f 726d 6174  ..{:<20}'.format
+000205c0: 2873 7472 2864 6174 615f 7661 6c75 655f  (str(data_value_
+000205d0: 7261 7729 5b3a 7461 626c 655f 7769 6474  raw)[:table_widt
+000205e0: 685d 2e63 656e 7465 7228 7461 626c 655f  h].center(table_
+000205f0: 7769 6474 6829 292c 2065 6e64 3d27 2729  width)), end='')
+00020600: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00020610: 6e74 2827 e294 8227 290a 0a20 2020 2020  nt('...')..     
+00020620: 2020 2070 7269 6e74 2827 e294 9427 2c20     print('...', 
+00020630: 27e2 9480 272e 6c6a 7573 7428 3133 2c20  '...'.ljust(13, 
+00020640: 27e2 9480 2729 2c20 7365 703d 2727 2c20  '...'), sep='', 
+00020650: 656e 643d 2727 290a 2020 2020 2020 2020  end='').        
+00020660: 666f 7220 5f20 696e 2073 656c 662e 6770  for _ in self.gp
+00020670: 7573 2829 3a0a 2020 2020 2020 2020 2020  us():.          
+00020680: 2020 7072 696e 7428 27e2 94b4 272c 2027    print('...', '
+00020690: e294 8027 2e6c 6a75 7374 2874 6162 6c65  ...'.ljust(table
+000206a0: 5f77 6964 7468 2c20 27e2 9480 2729 2c20  _width, '...'), 
+000206b0: 7365 703d 2727 2c20 656e 643d 2727 290a  sep='', end='').
+000206c0: 2020 2020 2020 2020 7072 696e 7428 27e2          print('.
+000206d0: 9498 2729 0a20 2020 2020 2020 2072 6574  ..').        ret
+000206e0: 7572 6e20 5472 7565 0a0a 2020 2020 6465  urn True..    de
+000206f0: 6620 7072 696e 745f 6c6f 675f 6865 6164  f print_log_head
+00020700: 6572 2873 656c 662c 206c 6f67 5f66 696c  er(self, log_fil
+00020710: 655f 7074 723a 2054 6578 7449 4f29 202d  e_ptr: TextIO) -
+00020720: 3e20 626f 6f6c 3a0a 2020 2020 2020 2020  > bool:.        
+00020730: 2222 2220 5072 696e 7420 7468 6520 6c6f  """ Print the lo
+00020740: 6720 6865 6164 6572 2e0a 0a20 2020 2020  g header...     
+00020750: 2020 203a 7061 7261 6d20 6c6f 675f 6669     :param log_fi
+00020760: 6c65 5f70 7472 3a20 4669 6c65 2070 6f69  le_ptr: File poi
+00020770: 6e74 6572 2066 6f72 2074 6172 6765 7420  nter for target 
+00020780: 6f75 7470 7574 2e0a 2020 2020 2020 2020  output..        
+00020790: 3a72 6574 7572 6e3a 2054 7275 6520 6966  :return: True if
+000207a0: 2073 7563 6365 7373 0a20 2020 2020 2020   success.       
+000207b0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+000207c0: 7365 6c66 2e6e 756d 5f67 7075 7328 295b  self.num_gpus()[
+000207d0: 2774 6f74 616c 275d 203c 2031 3a20 7265  'total'] < 1: re
+000207e0: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
+000207f0: 2020 2020 2320 5072 696e 7420 4865 6164      # Print Head
+00020800: 6572 0a20 2020 2020 2020 2070 7269 6e74  er.        print
+00020810: 2827 5469 6d65 7c43 6172 6423 272c 2065  ('Time|Card#', e
+00020820: 6e64 3d27 272c 2066 696c 653d 6c6f 675f  nd='', file=log_
+00020830: 6669 6c65 5f70 7472 290a 2020 2020 2020  file_ptr).      
+00020840: 2020 666f 7220 7461 626c 655f 6974 656d    for table_item
+00020850: 2069 6e20 4770 7549 7465 6d2e 7461 626c   in GpuItem.tabl
+00020860: 655f 7061 7261 6d65 7465 7273 3a0a 2020  e_parameters:.  
+00020870: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00020880: 277c 7b7d 272e 666f 726d 6174 2874 6162  '|{}'.format(tab
+00020890: 6c65 5f69 7465 6d29 2c20 656e 643d 2727  le_item), end=''
+000208a0: 2c20 6669 6c65 3d6c 6f67 5f66 696c 655f  , file=log_file_
+000208b0: 7074 7229 0a20 2020 2020 2020 2070 7269  ptr).        pri
+000208c0: 6e74 2827 272c 2066 696c 653d 6c6f 675f  nt('', file=log_
+000208d0: 6669 6c65 5f70 7472 290a 2020 2020 2020  file_ptr).      
+000208e0: 2020 7265 7475 726e 2054 7275 650a 0a20    return True.. 
+000208f0: 2020 2064 6566 2070 7269 6e74 5f6c 6f67     def print_log
+00020900: 2873 656c 662c 206c 6f67 5f66 696c 655f  (self, log_file_
+00020910: 7074 723a 2054 6578 7449 4f29 202d 3e20  ptr: TextIO) -> 
+00020920: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
+00020930: 2220 5072 696e 7420 7468 6520 6c6f 6720  " Print the log 
+00020940: 6461 7461 2e0a 0a20 2020 2020 2020 203a  data...        :
+00020950: 7061 7261 6d20 6c6f 675f 6669 6c65 5f70  param log_file_p
+00020960: 7472 3a20 4669 6c65 2070 6f69 6e74 6572  tr: File pointer
+00020970: 2066 6f72 2074 6172 6765 7420 6f75 7470   for target outp
+00020980: 7574 2e0a 2020 2020 2020 2020 3a72 6574  ut..        :ret
+00020990: 7572 6e3a 2054 7275 6520 6966 2073 7563  urn: True if suc
+000209a0: 6365 7373 0a20 2020 2020 2020 2022 2222  cess.        """
+000209b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+000209c0: 2e6e 756d 5f67 7075 7328 295b 2774 6f74  .num_gpus()['tot
+000209d0: 616c 275d 203c 2031 3a20 7265 7475 726e  al'] < 1: return
+000209e0: 2046 616c 7365 0a0a 2020 2020 2020 2020   False..        
+000209f0: 2320 5072 696e 7420 4461 7461 0a20 2020  # Print Data.   
+00020a00: 2020 2020 2066 6f72 2067 7075 2069 6e20       for gpu in 
+00020a10: 7365 6c66 2e67 7075 7328 293a 0a20 2020  self.gpus():.   
+00020a20: 2020 2020 2020 2020 2070 7269 6e74 2827           print('
+00020a30: 7b7d 7c7b 7d27 2e66 6f72 6d61 7428 6770  {}|{}'.format(gp
+00020a40: 752e 6765 745f 7061 7261 6d73 5f76 616c  u.get_params_val
+00020a50: 7565 2827 7265 6164 5f74 696d 6527 292e  ue('read_time').
+00020a60: 7374 7266 7469 6d65 2847 5554 5f43 4f4e  strftime(GUT_CON
+00020a70: 5354 2e54 494d 455f 464f 524d 4154 292c  ST.TIME_FORMAT),
+00020a80: 2067 7075 2e70 726d 2e63 6172 645f 6e75   gpu.prm.card_nu
+00020a90: 6d29 2c0a 2020 2020 2020 2020 2020 2020  m),.            
+00020aa0: 2020 2020 2020 7365 703d 2727 2c20 656e        sep='', en
+00020ab0: 643d 2727 2c20 6669 6c65 3d6c 6f67 5f66  d='', file=log_f
+00020ac0: 696c 655f 7074 7229 0a20 2020 2020 2020  ile_ptr).       
+00020ad0: 2020 2020 2066 6f72 2074 6162 6c65 5f69       for table_i
+00020ae0: 7465 6d20 696e 2047 7075 4974 656d 2e74  tem in GpuItem.t
+00020af0: 6162 6c65 5f70 6172 616d 6574 6572 733a  able_parameters:
+00020b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020b10: 2070 7269 6e74 2827 7c7b 7d27 2e66 6f72   print('|{}'.for
+00020b20: 6d61 7428 7265 2e73 7562 2850 4154 5445  mat(re.sub(PATTE
+00020b30: 524e 535b 504b 2e4d 487a 5d2c 2027 272c  RNS[PK.MHz], '',
+00020b40: 2073 7472 2867 7075 2e67 6574 5f70 6172   str(gpu.get_par
+00020b50: 616d 735f 7661 6c75 6528 7461 626c 655f  ams_value(table_
+00020b60: 6974 656d 2929 2e73 7472 6970 2829 2929  item)).strip()))
+00020b70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00020b80: 2020 2020 2020 2020 7365 703d 2727 2c20          sep='', 
+00020b90: 656e 643d 2727 2c20 6669 6c65 3d6c 6f67  end='', file=log
+00020ba0: 5f66 696c 655f 7074 7229 0a20 2020 2020  _file_ptr).     
+00020bb0: 2020 2020 2020 2070 7269 6e74 2827 272c         print('',
+00020bc0: 2066 696c 653d 6c6f 675f 6669 6c65 5f70   file=log_file_p
+00020bd0: 7472 290a 2020 2020 2020 2020 7265 7475  tr).        retu
+00020be0: 726e 2054 7275 650a 0a20 2020 2064 6566  rn True..    def
+00020bf0: 2070 7269 6e74 5f70 6c6f 745f 6865 6164   print_plot_head
+00020c00: 6572 2873 656c 662c 206c 6f67 5f66 696c  er(self, log_fil
+00020c10: 655f 7074 723a 2049 4f5b 556e 696f 6e5b  e_ptr: IO[Union[
+00020c20: 7374 722c 2062 7974 6573 5d5d 2920 2d3e  str, bytes]]) ->
+00020c30: 2062 6f6f 6c3a 0a20 2020 2020 2020 2022   bool:.        "
+00020c40: 2222 2050 7269 6e74 2074 6865 2070 6c6f  "" Print the plo
+00020c50: 7420 6865 6164 6572 2e0a 0a20 2020 2020  t header...     
+00020c60: 2020 203a 7061 7261 6d20 6c6f 675f 6669     :param log_fi
+00020c70: 6c65 5f70 7472 3a20 4669 6c65 2070 6f69  le_ptr: File poi
+00020c80: 6e74 6572 2066 6f72 2074 6172 6765 7420  nter for target 
+00020c90: 6f75 7470 7574 2e0a 2020 2020 2020 2020  output..        
+00020ca0: 3a72 6574 7572 6e3a 2054 7275 6520 6966  :return: True if
+00020cb0: 2073 7563 6365 7373 0a20 2020 2020 2020   success.       
+00020cc0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00020cd0: 7365 6c66 2e6e 756d 5f67 7075 7328 295b  self.num_gpus()[
+00020ce0: 2774 6f74 616c 275d 203c 2031 3a20 7265  'total'] < 1: re
+00020cf0: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
+00020d00: 2020 2020 2320 5072 696e 7420 4865 6164      # Print Head
+00020d10: 6572 0a20 2020 2020 2020 206c 696e 655f  er.        line_
+00020d20: 7374 725f 6974 656d 203d 205b 2754 696d  str_item = ['Tim
+00020d30: 657c 4361 7264 2327 5d0a 2020 2020 2020  e|Card#'].      
+00020d40: 2020 666f 7220 7461 626c 655f 6974 656d    for table_item
+00020d50: 2069 6e20 4770 7549 7465 6d2e 7461 626c   in GpuItem.tabl
+00020d60: 655f 7061 7261 6d65 7465 7273 3a0a 2020  e_parameters:.  
+00020d70: 2020 2020 2020 2020 2020 6c69 6e65 5f73            line_s
+00020d80: 7472 5f69 7465 6d2e 6170 7065 6e64 2827  tr_item.append('
+00020d90: 7c27 202b 2074 6162 6c65 5f69 7465 6d29  |' + table_item)
+00020da0: 0a20 2020 2020 2020 206c 696e 655f 7374  .        line_st
+00020db0: 725f 6974 656d 2e61 7070 656e 6428 275c  r_item.append('\
+00020dc0: 6e27 290a 2020 2020 2020 2020 6c69 6e65  n').        line
+00020dd0: 5f73 7472 203d 2027 272e 6a6f 696e 286c  _str = ''.join(l
+00020de0: 696e 655f 7374 725f 6974 656d 290a 2020  ine_str_item).  
+00020df0: 2020 2020 2020 6c6f 675f 6669 6c65 5f70        log_file_p
+00020e00: 7472 2e77 7269 7465 286c 696e 655f 7374  tr.write(line_st
+00020e10: 722e 656e 636f 6465 2827 7574 662d 3827  r.encode('utf-8'
+00020e20: 2929 0a20 2020 2020 2020 206c 6f67 5f66  )).        log_f
+00020e30: 696c 655f 7074 722e 666c 7573 6828 290a  ile_ptr.flush().
+00020e40: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+00020e50: 7275 650a 0a20 2020 2064 6566 2070 7269  rue..    def pri
+00020e60: 6e74 5f70 6c6f 7428 7365 6c66 2c20 6c6f  nt_plot(self, lo
+00020e70: 675f 6669 6c65 5f70 7472 3a20 494f 5b55  g_file_ptr: IO[U
+00020e80: 6e69 6f6e 5b73 7472 2c20 6279 7465 735d  nion[str, bytes]
+00020e90: 5d29 202d 3e20 626f 6f6c 3a0a 2020 2020  ]) -> bool:.    
+00020ea0: 2020 2020 2222 2220 5072 696e 7420 7468      """ Print th
+00020eb0: 6520 706c 6f74 2064 6174 612e 0a0a 2020  e plot data...  
+00020ec0: 2020 2020 2020 3a70 6172 616d 206c 6f67        :param log
+00020ed0: 5f66 696c 655f 7074 723a 2046 696c 6520  _file_ptr: File 
+00020ee0: 706f 696e 7465 7220 666f 7220 7461 7267  pointer for targ
+00020ef0: 6574 206f 7574 7075 742e 0a20 2020 2020  et output..     
+00020f00: 2020 203a 7265 7475 726e 3a20 5472 7565     :return: True
+00020f10: 206f 6e20 7375 6363 6573 730a 2020 2020   on success.    
+00020f20: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00020f30: 6966 2073 656c 662e 6e75 6d5f 6770 7573  if self.num_gpus
+00020f40: 2829 5b27 746f 7461 6c27 5d20 3c20 313a  ()['total'] < 1:
+00020f50: 2072 6574 7572 6e20 4661 6c73 650a 0a20   return False.. 
+00020f60: 2020 2020 2020 2023 2050 7269 6e74 2044         # Print D
+00020f70: 6174 610a 2020 2020 2020 2020 666f 7220  ata.        for 
+00020f80: 6770 7520 696e 2073 656c 662e 6770 7573  gpu in self.gpus
+00020f90: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+00020fa0: 6c69 6e65 5f73 7472 5f69 7465 6d20 3d20  line_str_item = 
+00020fb0: 5b27 7b7d 7c7b 7d27 2e66 6f72 6d61 7428  ['{}|{}'.format(
+00020fc0: 7374 7228 6770 752e 6765 745f 7061 7261  str(gpu.get_para
+00020fd0: 6d73 5f76 616c 7565 2827 7265 6164 5f74  ms_value('read_t
+00020fe0: 696d 6527 292e 7374 7266 7469 6d65 2847  ime').strftime(G
+00020ff0: 5554 5f43 4f4e 5354 2e54 494d 455f 464f  UT_CONST.TIME_FO
+00021000: 524d 4154 2929 2c0a 2020 2020 2020 2020  RMAT)),.        
+00021010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021030: 2020 2020 6770 752e 7072 6d2e 6361 7264      gpu.prm.card
+00021040: 5f6e 756d 295d 0a20 2020 2020 2020 2020  _num)].         
+00021050: 2020 2066 6f72 2074 6162 6c65 5f69 7465     for table_ite
+00021060: 6d20 696e 2047 7075 4974 656d 2e74 6162  m in GpuItem.tab
+00021070: 6c65 5f70 6172 616d 6574 6572 733a 0a20  le_parameters:. 
+00021080: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00021090: 696e 655f 7374 725f 6974 656d 2e61 7070  ine_str_item.app
+000210a0: 656e 6428 277c 2720 2b20 7265 2e73 7562  end('|' + re.sub
+000210b0: 2850 4154 5445 524e 535b 504b 2e4d 487a  (PATTERNS[PK.MHz
+000210c0: 5d2c 2027 272c 2073 7472 2867 7075 2e67  ], '', str(gpu.g
+000210d0: 6574 5f70 6172 616d 735f 7661 6c75 6528  et_params_value(
+000210e0: 7461 626c 655f 6974 656d 2929 292e 7374  table_item))).st
+000210f0: 7269 7028 2929 0a20 2020 2020 2020 2020  rip()).         
+00021100: 2020 206c 696e 655f 7374 725f 6974 656d     line_str_item
+00021110: 2e61 7070 656e 6428 275c 6e27 290a 2020  .append('\n').  
+00021120: 2020 2020 2020 2020 2020 6c69 6e65 5f73            line_s
+00021130: 7472 203d 2027 272e 6a6f 696e 286c 696e  tr = ''.join(lin
+00021140: 655f 7374 725f 6974 656d 290a 2020 2020  e_str_item).    
+00021150: 2020 2020 2020 2020 6c6f 675f 6669 6c65          log_file
+00021160: 5f70 7472 2e77 7269 7465 286c 696e 655f  _ptr.write(line_
+00021170: 7374 722e 656e 636f 6465 2827 7574 662d  str.encode('utf-
+00021180: 3827 2929 0a20 2020 2020 2020 206c 6f67  8')).        log
+00021190: 5f66 696c 655f 7074 722e 666c 7573 6828  _file_ptr.flush(
+000211a0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+000211b0: 2054 7275 650a 0a20 2020 2064 6566 2073   True..    def s
+000211c0: 656c 6563 745f 6770 7528 7365 6c66 2c20  elect_gpu(self, 
+000211d0: 6361 7264 5f6e 756d 6265 723a 2069 6e74  card_number: int
+000211e0: 2920 2d3e 204f 7074 696f 6e61 6c5b 4770  ) -> Optional[Gp
+000211f0: 7549 7465 6d5d 3a0a 2020 2020 2020 2020  uItem]:.        
+00021200: 2222 2220 5365 6c65 6374 2047 5055 2074  """ Select GPU t
+00021210: 6861 7420 6d61 7463 6865 7320 7468 6520  hat matches the 
+00021220: 6769 7665 6e20 6361 7264 206e 756d 6265  given card numbe
+00021230: 722e 0a0a 2020 2020 2020 2020 3a70 6172  r...        :par
+00021240: 616d 2063 6172 645f 6e75 6d62 6572 3a20  am card_number: 
+00021250: 2054 6865 2069 6e74 6567 6572 2074 6861   The integer tha
+00021260: 7420 6964 656e 7469 6669 6573 2074 6865  t identifies the
+00021270: 2047 5055 2e0a 2020 2020 2020 2020 3a72   GPU..        :r
+00021280: 6574 7572 6e3a 2047 7075 4974 656d 206f  eturn: GpuItem o
+00021290: 6620 7468 6520 6d61 7463 6869 6e67 2047  f the matching G
+000212a0: 5055 206f 7220 4e6f 6e65 2069 6620 6e6f  PU or None if no
+000212b0: 206d 6174 6368 2e0a 2020 2020 2020 2020   match..        
+000212c0: 2222 220a 2020 2020 2020 2020 666f 7220  """.        for 
+000212d0: 6770 7520 696e 2073 656c 662e 6770 7573  gpu in self.gpus
+000212e0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+000212f0: 6966 2067 7075 2e70 726d 2e63 6172 645f  if gpu.prm.card_
+00021300: 6e75 6d20 3d3d 2063 6172 645f 6e75 6d62  num == card_numb
+00021310: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
+00021320: 2020 2020 7265 7475 726e 2067 7075 0a20      return gpu. 
+00021330: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+00021340: 6e65 0a0a 0a23 2055 7469 6c69 7479 2048  ne...# Utility H
+00021350: 656c 7065 7220 4675 6e63 7469 6f6e 730a  elper Functions.
+00021360: 6465 6620 7072 696e 745f 6472 6976 6572  def print_driver
+00021370: 5f76 656e 646f 725f 7375 6d6d 6172 7928  _vendor_summary(
+00021380: 6770 755f 6c69 7374 3a20 4770 754c 6973  gpu_list: GpuLis
+00021390: 7429 202d 3e20 4e6f 6e65 3a0a 2020 2020  t) -> None:.    
+000213a0: 2222 2220 4469 7370 6c61 7920 7665 6e64  """ Display vend
+000213b0: 6f72 2061 6e64 2064 7269 7665 7220 6465  or and driver de
+000213c0: 7461 696c 732e 0a0a 2020 2020 3a70 6172  tails...    :par
+000213d0: 616d 2067 7075 5f6c 6973 743a 2054 6172  am gpu_list: Tar
+000213e0: 6765 7420 6c69 7374 206f 6620 4750 5573  get list of GPUs
+000213f0: 2066 6f72 2074 6865 2073 756d 6d61 7279   for the summary
+00021400: 2e0a 2020 2020 2222 220a 2020 2020 6e75  ..    """.    nu
+00021410: 6d5f 6770 7573 203d 2067 7075 5f6c 6973  m_gpus = gpu_lis
+00021420: 742e 6e75 6d5f 7665 6e64 6f72 5f67 7075  t.num_vendor_gpu
+00021430: 7328 290a 2020 2020 7072 696e 7428 2744  s().    print('D
+00021440: 6574 6563 7465 6420 4750 5573 3a20 272c  etected GPUs: ',
+00021450: 2065 6e64 3d27 2729 0a20 2020 2066 6f72   end='').    for
+00021460: 2069 2c20 2874 7970 655f 6e61 6d65 2c20   i, (type_name, 
+00021470: 7479 7065 5f76 616c 7565 2920 696e 2065  type_value) in e
+00021480: 6e75 6d65 7261 7465 286e 756d 5f67 7075  numerate(num_gpu
+00021490: 732e 6974 656d 7328 2929 3a0a 2020 2020  s.items()):.    
+000214a0: 2020 2020 6966 2069 3a0a 2020 2020 2020      if i:.      
+000214b0: 2020 2020 2020 7072 696e 7428 272c 207b        print(', {
+000214c0: 7d3a 207b 7d27 2e66 6f72 6d61 7428 7479  }: {}'.format(ty
+000214d0: 7065 5f6e 616d 652c 2074 7970 655f 7661  pe_name, type_va
+000214e0: 6c75 6529 2c20 656e 643d 2727 290a 2020  lue), end='').  
+000214f0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00021500: 2020 2020 2020 2020 7072 696e 7428 277b          print('{
+00021510: 7d3a 207b 7d27 2e66 6f72 6d61 7428 7479  }: {}'.format(ty
+00021520: 7065 5f6e 616d 652c 2074 7970 655f 7661  pe_name, type_va
+00021530: 6c75 6529 2c20 656e 643d 2727 290a 2020  lue), end='').  
+00021540: 2020 7072 696e 7428 2727 290a 2020 2020    print('').    
+00021550: 6966 2027 414d 4427 2069 6e20 6e75 6d5f  if 'AMD' in num_
+00021560: 6770 7573 3a0a 2020 2020 2020 2020 4755  gpus:.        GU
+00021570: 545f 434f 4e53 542e 7265 6164 5f61 6d64  T_CONST.read_amd
+00021580: 5f64 7269 7665 725f 7665 7273 696f 6e28  _driver_version(
+00021590: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+000215a0: 2741 4d44 3a20 7b7d 272e 666f 726d 6174  'AMD: {}'.format
+000215b0: 2867 7075 5f6c 6973 742e 7761 7474 6d61  (gpu_list.wattma
+000215c0: 6e5f 7374 6174 7573 2829 2929 0a20 2020  n_status())).   
+000215d0: 2069 6620 274e 5627 2069 6e20 6e75 6d5f   if 'NV' in num_
+000215e0: 6770 7573 3a0a 2020 2020 2020 2020 6966  gpus:.        if
+000215f0: 2047 5554 5f43 4f4e 5354 2e63 6d64 5f6e   GUT_CONST.cmd_n
+00021600: 7669 6469 615f 736d 693a 0a20 2020 2020  vidia_smi:.     
+00021610: 2020 2020 2020 2070 7269 6e74 2827 4e56         print('NV
+00021620: 3a20 6e76 6964 6961 2073 6d69 3a20 5b7b  : nvidia smi: [{
+00021630: 7d5d 272e 666f 726d 6174 2847 5554 5f43  }]'.format(GUT_C
+00021640: 4f4e 5354 2e63 6d64 5f6e 7669 6469 615f  ONST.cmd_nvidia_
+00021650: 736d 6929 290a 2020 2020 2020 2020 656c  smi)).        el
+00021660: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00021670: 7072 696e 7428 274e 563a 2041 6464 6f6e  print('NV: Addon
+00021680: 2070 6163 6b61 6765 205b 6e76 6964 6961   package [nvidia
+00021690: 2d73 6d69 5d20 6578 6563 7574 6162 6c65  -smi] executable
+000216a0: 206e 6f74 2066 6f75 6e64 2e27 290a 0a0a   not found.')...
+000216b0: 6465 6620 7365 745f 6d6f 6e5f 706c 6f74  def set_mon_plot
+000216c0: 5f63 6f6d 7061 7469 626c 655f 6770 755f  _compatible_gpu_
+000216d0: 6c69 7374 2867 7075 5f6c 6973 743a 2047  list(gpu_list: G
+000216e0: 7075 4c69 7374 2920 2d3e 2047 7075 4c69  puList) -> GpuLi
+000216f0: 7374 3a0a 2020 2020 2222 2220 4675 6e63  st:.    """ Func
+00021700: 7469 6f6e 2074 6f20 7365 6c65 6374 206f  tion to select o
+00021710: 6e6c 7920 4d6f 6e69 746f 722f 506c 6f74  nly Monitor/Plot
+00021720: 2063 6f6d 7061 7469 626c 6520 4750 5573   compatible GPUs
+00021730: 2e0a 0a20 2020 203a 7265 7475 726e 3a20  ...    :return: 
+00021740: 5468 6520 7265 7375 6c74 616e 7420 6c69  The resultant li
+00021750: 7374 206f 6620 4750 5573 0a20 2020 2022  st of GPUs.    "
+00021760: 2222 0a20 2020 2063 6f6d 5f67 7075 5f6c  "".    com_gpu_l
+00021770: 6973 7420 3d20 6770 755f 6c69 7374 2e6c  ist = gpu_list.l
+00021780: 6973 745f 6770 7573 2863 6f6d 7061 7469  ist_gpus(compati
+00021790: 6269 6c69 7479 3d47 7075 436f 6d70 6174  bility=GpuCompat
+000217a0: 6962 696c 6974 792e 5265 6164 6162 6c65  ibility.Readable
+000217b0: 290a 2020 2020 636f 6d5f 6770 755f 6c69  ).    com_gpu_li
+000217c0: 7374 203d 2063 6f6d 5f67 7075 5f6c 6973  st = com_gpu_lis
+000217d0: 742e 6c69 7374 5f67 7075 7328 6770 755f  t.list_gpus(gpu_
+000217e0: 7479 7065 3d47 7075 5479 7065 2e55 6e73  type=GpuType.Uns
+000217f0: 7570 706f 7274 6564 2c20 7265 7665 7273  upported, revers
+00021800: 653d 5472 7565 290a 2020 2020 636f 6d5f  e=True).    com_
+00021810: 6770 755f 6c69 7374 203d 2063 6f6d 5f67  gpu_list = com_g
+00021820: 7075 5f6c 6973 742e 6c69 7374 5f67 7075  pu_list.list_gpu
+00021830: 7328 6770 755f 7479 7065 3d47 7075 5479  s(gpu_type=GpuTy
+00021840: 7065 2e55 6e64 6566 696e 6564 2c20 7265  pe.Undefined, re
+00021850: 7665 7273 653d 5472 7565 290a 0a20 2020  verse=True)..   
+00021860: 2072 6574 7572 6e20 636f 6d5f 6770 755f   return com_gpu_
+00021870: 6c69 7374 0a0a 0a64 6566 2066 6f72 6d61  list...def forma
+00021880: 745f 7461 626c 655f 7661 6c75 6528 6461  t_table_value(da
+00021890: 7461 5f76 616c 7565 5f72 6177 3a20 416e  ta_value_raw: An
+000218a0: 792c 2064 6174 615f 6e61 6d65 3a20 7374  y, data_name: st
+000218b0: 7229 202d 3e20 556e 696f 6e5b 7374 722c  r) -> Union[str,
+000218c0: 2069 6e74 2c20 666c 6f61 745d 3a0a 2020   int, float]:.  
+000218d0: 2020 2222 2220 466f 726d 6174 2066 6965    """ Format fie
+000218e0: 6c64 7320 666f 7220 6d6f 6e69 746f 7220  lds for monitor 
+000218f0: 7461 626c 652e 0a0a 2020 2020 3a70 6172  table...    :par
+00021900: 616d 2064 6174 615f 7661 6c75 655f 7261  am data_value_ra
+00021910: 773a 0a20 2020 203a 7061 7261 6d20 6461  w:.    :param da
+00021920: 7461 5f6e 616d 653a 0a20 2020 203a 7265  ta_name:.    :re
+00021930: 7475 726e 3a20 466f 726d 6174 7465 6420  turn: Formatted 
+00021940: 6461 7461 2076 616c 7565 0a20 2020 2022  data value.    "
+00021950: 2222 0a20 2020 2069 6620 6461 7461 5f76  "".    if data_v
+00021960: 616c 7565 5f72 6177 203d 3d20 276e 616e  alue_raw == 'nan
+00021970: 273a 0a20 2020 2020 2020 2072 6574 7572  ':.        retur
+00021980: 6e20 6e70 5f6e 616e 0a20 2020 2069 6620  n np_nan.    if 
+00021990: 6973 696e 7374 616e 6365 2864 6174 615f  isinstance(data_
+000219a0: 7661 6c75 655f 7261 772c 2066 6c6f 6174  value_raw, float
+000219b0: 293a 0a20 2020 2020 2020 2069 6620 6461  ):.        if da
+000219c0: 7461 5f6e 616d 6520 3d3d 2027 656e 6572  ta_name == 'ener
+000219d0: 6779 273a 2072 6574 7572 6e20 277b 3a2e  gy': return '{:.
+000219e0: 3365 7d27 2e66 6f72 6d61 7428 6461 7461  3e}'.format(data
+000219f0: 5f76 616c 7565 5f72 6177 2920 6966 2064  _value_raw) if d
+00021a00: 6174 615f 7661 6c75 655f 7261 7720 3e20  ata_value_raw > 
+00021a10: 302e 3030 3030 3030 3120 656c 7365 2027  0.0000001 else '
+00021a20: 2d2d 2d27 0a20 2020 2020 2020 2072 6574  ---'.        ret
+00021a30: 7572 6e20 726f 756e 6428 6461 7461 5f76  urn round(data_v
+00021a40: 616c 7565 5f72 6177 2c20 3329 0a20 2020  alue_raw, 3).   
+00021a50: 2069 6620 6973 696e 7374 616e 6365 2864   if isinstance(d
+00021a60: 6174 615f 7661 6c75 655f 7261 772c 2069  ata_value_raw, i
+00021a70: 6e74 293a 0a20 2020 2020 2020 2072 6574  nt):.        ret
+00021a80: 7572 6e20 6461 7461 5f76 616c 7565 5f72  urn data_value_r
+00021a90: 6177 0a20 2020 2069 6620 6973 696e 7374  aw.    if isinst
+00021aa0: 616e 6365 2864 6174 615f 7661 6c75 655f  ance(data_value_
+00021ab0: 7261 772c 2073 7472 293a 0a20 2020 2020  raw, str):.     
+00021ac0: 2020 2064 6174 615f 7661 6c75 655f 7261     data_value_ra
+00021ad0: 7720 3d20 7265 2e73 7562 2850 4154 5445  w = re.sub(PATTE
+00021ae0: 524e 535b 504b 2e4d 487a 5d2c 2027 272c  RNS[PK.MHz], '',
+00021af0: 2064 6174 615f 7661 6c75 655f 7261 7729   data_value_raw)
+00021b00: 2e73 7472 6970 2829 0a20 2020 2020 2020  .strip().       
+00021b10: 2069 6620 6461 7461 5f76 616c 7565 5f72   if data_value_r
+00021b20: 6177 2e69 736e 756d 6572 6963 2829 3a0a  aw.isnumeric():.
+00021b30: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00021b40: 726e 2069 6e74 2864 6174 615f 7661 6c75  rn int(data_valu
+00021b50: 655f 7261 7729 0a20 2020 2069 6620 6461  e_raw).    if da
+00021b60: 7461 5f76 616c 7565 5f72 6177 2069 6e20  ta_value_raw in 
+00021b70: 7b27 272c 204e 6f6e 652c 2027 2d31 272c  {'', None, '-1',
+00021b80: 2027 4e41 277d 3a0a 2020 2020 2020 2020   'NA'}:.        
+00021b90: 7265 7475 726e 2027 2d2d 2d27 0a20 2020  return '---'.   
+00021ba0: 2072 6574 7572 6e20 7374 7228 6461 7461   return str(data
+00021bb0: 5f76 616c 7565 5f72 6177 290a            _value_raw).
```

## GPUmodules/__init__.py

```diff
@@ -1,8 +1,8 @@
-__version__ = '3.8.4'
+__version__ = '3.9.0-RC1'
 __status__ = 'Development Status :: 5 - Production/Stable'
 #__status__ = 'Development Status :: 4 - Beta'
 __author__ = 'RicksLab'
 __credits__ = ('Craig Echt - Testing, Debug, Verification, and Documentation',
                'Keith Myers - Testing, Debug, and Verification of NV Capability',
                '@berturion - Testing and Verification for Arch',
                '@Marjorie-R - Testing, Debug, and Verification for AMD-APU Capability',
```

## GPUmodules/env.py

```diff
@@ -36,23 +36,23 @@
 import logging
 from pathlib import Path
 import inspect
 from shlex import split as shlex_split
 import shutil
 from time import mktime as time_mktime
 from datetime import datetime
-from typing import Dict, Union, TextIO, Set, Optional
+from typing import Dict, TextIO, Set, Optional
 from GPUmodules import __required_pversion__, __required_kversion__
+from GPUmodules.RegexPatterns import RegexPatterns
 
 LOGGER = logging.getLogger('gpu-utils')
 
 
 class GutConst:
-    """
-    GPU Utils constants used throughout the project.
+    """ GPU Utils constants used throughout the project.
     """
     # Private class variables
     _verified_distros: Set[str] = {'Debian', 'Ubuntu', 'Neon', 'Gentoo', 'Arch', 'Devuan'}
     _dpkg_tool: Dict[str, str] = {'Debian': 'dpkg', 'Ubuntu': 'dpkg', 'Neon': 'dpkg', 'Devuan': 'dpkg',
                                   'Arch': 'pacman',
                                   'Gentoo': 'equery'}
     _all_args: Set[str] = {'execute_pac', 'debug', 'pdebug', 'sleep', 'no_fan', 'ltz', 'simlog', 'log',
@@ -81,65 +81,38 @@
                                      'cyan':      '\033[36m',
                                      'purple':    '\033[35m',
                                      'blue':      '\033[34m',
                                      'yellow':    '\033[33m',
                                      'green':     '\033[32m',
                                      'red':       '\033[31m',
                                      # Named formats
-                                     'amd':       '\033[1;37;41m',
+                                     'AMD':       '\033[1;37;41m',
                                      'error':     '\033[1;37;41m',
                                      'ok':        '\033[1;37;42m',
-                                     'nvidia':    '\033[1;30;42m',
+                                     'NVIDIA':    '\033[1;30;42m',
                                      'warn':      '\033[1;30;43m',
-                                     'intel':     '\033[1;37;44m',
+                                     'INTEL':     '\033[1;37;44m',
                                      'other':     '\033[1;37;45m',
                                      'label':     '\033[1;37;46m',
                                      'reset':     '\033[0;0;0m'}
 
-    PATTERNS = {'HEXRGB':       re.compile(r'^#[\da-fA-F]{6}'),
-                'PCIIID_L0':    re.compile(r'^[\da-fA-F]{4}.*'),
-                'PCIIID_L1':    re.compile(r'^\t[\da-fA-F]{4}.*'),
-                'PCIIID_L2':    re.compile(r'^\t\t[\da-fA-F]{4}.*'),
-                'NUM_END_IN_ALPHA': re.compile(r'\d+[a-zA-Z]+$'),
-                'END_IN_ALPHA': re.compile(r'[a-zA-Z]+$'),
-                'ALPHA':        re.compile(r'[a-zA-Z]+'),
-                'AMD_FEATURES': re.compile(r'^(Current pp)*\s*:*\s*features:*\s+', re.IGNORECASE),
-                'AMD_GPU':      re.compile(r'(AMD|ATI)'),
-                'NV_GPU':       re.compile(r'NVIDIA', re.IGNORECASE),
-                'INTC_GPU':     re.compile(r'INTEL'),
-                'ASPD_GPU':     re.compile(r'ASPEED', re.IGNORECASE),
-                'MTRX_GPU':     re.compile(r'MATROX', re.IGNORECASE),
-                'InputLabelX':  re.compile(r'[a-zA-Z]*(\d|\*)_(input|label)'),  # 'freq*_input'
-                'MHz':          re.compile(r'M[Hh]z'),
-                'PPM_CHK':      re.compile(r'[*].*'),
-                'PCI_GPU':      re.compile(r'(VGA|3D|Display)', re.IGNORECASE),
-                'NOT_PCI_GPU':  re.compile(r'Non-?VGA', re.IGNORECASE),
-                'PCI_ADD':      re.compile(r'^(([\da-fA-F]{4}:)?[\da-fA-F]{2}:[\da-fA-F]{2}.[\da-fA-F])'),
-                'PCI_ADD_LONG': re.compile(r'^([\da-fA-F]{4}:[\da-fA-F]{2}:[\da-fA-F]{2}.[\da-fA-F])'),
-                'PCI_ADD_SHRT': re.compile(r'^([\da-fA-F]{2}:[\da-fA-F]{2}.[\da-fA-F])'),
-                'PPM_NOTCHK':   re.compile(r'\s+'),
-                'VALID_PS_STR': re.compile(r'\d+(\s\d)*'),
-                'IS_FLOAT':     re.compile(r'[-+]?\d*\.?\d+|[-+]?\d+'),
-                'DIGITS':       re.compile(r'^\d+\d*$'),
-                'VAL_ITEM':     re.compile(r'.*_val$'),
-                'GPU_GENERIC':  re.compile(r'(^\s|intel|amd|nvidia|amd/ati|ati|radeon|\[|])', re.IGNORECASE),
-                'GPUMEMTYPE':   re.compile(r'^mem_(gtt|vram)_.*')}
+    PATTERNS = RegexPatterns()
 
     featuremask: str = '/sys/module/amdgpu/parameters/ppfeaturemask'
     card_root: str = '/sys/class/drm/'
     hwmon_sub: str = 'hwmon/hwmon'
     gui_window_title: str = 'Ricks-Lab GPU Utilities'
     mon_field_width: int = 20
     TIME_FORMAT: str = '%d-%b-%Y %H:%M:%S'
 
     def __init__(self):
         self.calling_program: str = ''
         self.args: Optional[argparse.Namespace] = None
         self.repository_path: str = self._repository_path
-        self.install_type: Union[str, None] = None
+        self.install_type: Optional[str] = None
         self.package_path: str = inspect.getfile(inspect.currentframe())
 
         if 'dist-packages' in self.package_path: self.install_type = 'debian'
         elif '.local' in self.package_path: self.install_type = 'pypi-linux'
         else: self.install_type = 'repository'
         self._icon_path = self._local_icon_list[self.install_type]
         self.icon_file = ''
@@ -149,17 +122,17 @@
             if os.path.isfile(try_pciid_path):
                 self.sys_pciid = try_pciid_path
                 break
         else:
             print('Error: Invalid pciid path')
             self.sys_pciid = None
 
-        self.distro: Dict[str, Union[str, None]] = {'Distributor': None, 'Description': None}
-        self.amdfeaturemask: Union[int, None] = None
-        self.log_file_ptr: Union[TextIO, None] = None
+        self.distro: Dict[str, Optional[str]] = {'Distributor': None, 'Description': None}
+        self.amdfeaturemask: Optional[int] = None
+        self.log_file_ptr: Optional[TextIO] = None
 
         # From args
         self.no_markup: bool = False
         self.force_all: bool = False
         self.execute_pac: bool = False
         self.verbose: bool = False
         self.debug: bool = False
@@ -170,28 +143,27 @@
         self.show_fans: bool = True
         self.write_delta_only: bool = False
         self.sleep: int = 2
         self.useltz: bool = False
         # Time
         self.ltz: datetime.tzinfo = datetime.utcnow().astimezone().tzinfo
         # Command access
-        self.cmd_lsb_release: Union[str, None] = None
-        self.cmd_lspci: Union[str, None] = None
-        self.cmd_clinfo: Union[str, None] = None
-        self.cmd_dpkg: Union[str, None] = None
-        self.cmd_nvidia_smi: Union[str, None] = None
+        self.cmd_lsb_release: Optional[str] = None
+        self.cmd_lspci: Optional[str] = None
+        self.cmd_clinfo: Optional[str] = None
+        self.cmd_dpkg: Optional[str] = None
+        self.cmd_nvidia_smi: Optional[str] = None
 
         # base_prefix = getattr(sys, "base_prefix", None) or getattr(sys, "real_prefix", None) or sys.prefix
         # print('base_prefix: {}, sys_prefix: {}'.format(base_prefix, sys.prefix))
         # if base_prefix != sys.prefix:
         #     sys.path.append('/usr/lib/python3/dist-packages')
 
     def set_args(self, args: argparse.Namespace, program_name: str = '') -> None:
-        """
-        Set arguments for the give args object.
+        """ Set arguments for the give args object.
 
         :param args: The object return by args parser.
         :param program_name: The name of the calling program.
         """
         self.calling_program = program_name
         self.args = args
         for target_arg in self._all_args:
@@ -235,50 +207,46 @@
             self.icon_file = None
         else:
             if not os.path.isfile(self.icon_file):
                 self.process_message('Error: Icon file not found: [{}]'.format(self.icon_file), log_flag=True)
 
     @staticmethod
     def now(ltz: bool = False) -> datetime:
-        """
-        Get the current datetime object.
+        """ Get the current datetime object.
 
         :param ltz: Flag to get local time instead of UTC
         :return: datetime obj of current time
         """
         return datetime.now() if ltz else datetime.utcnow()
 
     @staticmethod
     def utc2local(utc: datetime) -> datetime:
-        """
-        Return local time for given UTC time.
+        """ Return local time for given UTC time.
 
         :param utc: Time for UTC
         :return: Time for local time zone
         .. note:: from https://stackoverflow.com/questions/4770297/convert-utc-datetime-string-to-local-datetime
         """
         epoch = time_mktime(utc.timetuple())
         offset = datetime.fromtimestamp(epoch) - datetime.utcfromtimestamp(epoch)
         return utc + offset
 
     def process_message(self, message: str, log_flag: bool = False) -> None:
-        """
-        For given message, print to stderr and/or LOGGER depending on command line options and
-        the value of log_flag.
+        """ For given message, print to stderr and/or LOGGER depending on command line options and
+            the value of log_flag.
 
         :param message: A string containing the message to be processed.
         :param log_flag:  If True, write to LOGGER.
         """
         if not message: return
         if self.verbose: print(message, file=sys.stderr)
         if log_flag: LOGGER.debug(message)
 
     def read_amdfeaturemask(self) -> int:
-        """
-        Read and return the amdfeaturemask as an int.
+        """ Read and return the amdfeaturemask as an int.
 
         :return: AMD Feature Mask
         """
         try:
             with open(self.featuremask, 'r', encoding='utf-8') as fm_file:
                 fm_str = fm_file.readline().rstrip()
                 LOGGER.debug('Raw Featuremask string: [%s]', fm_str)
@@ -289,16 +257,15 @@
         except OSError as err:
             LOGGER.debug('Could not read AMD Featuremask, %s', err)
             self.amdfeaturemask = 0
         LOGGER.debug('AMD featuremask: %s', hex(self.amdfeaturemask))
         return self.amdfeaturemask
 
     def check_env(self) -> int:
-        """
-        Check the compatibility of the user environment.
+        """ Check the compatibility of the user environment.
 
         :return: Return status: ok=0, python issue= -1, kernel issue= -2, command issue= -3
         """
         # Check python version
         current_pversion = sys.version_info
         LOGGER.debug('Using python: %s', current_pversion)
         if current_pversion[:2] < __required_pversion__:
@@ -306,21 +273,24 @@
                 current_pversion[0], current_pversion[1], current_pversion[2],
                 __program_name__, __required_pversion__[0], __required_pversion__[1]),
                   file=sys.stderr)
             return -1
 
         # Check Linux Kernel version
         current_kversion_str = release()
-        current_kversion = tuple([int(x) for x in re.sub('-.*', '', current_kversion_str).split('.')])
         LOGGER.debug('Using Linux Kernel: %s', current_kversion_str)
-        if current_kversion < __required_kversion__:
-            print('Using Linux Kernel {}, but {} requires > {}.{}.'.format(
-                current_kversion_str, __program_name__, __required_kversion__[0],
-                __required_kversion__[1]), file=sys.stderr)
-            return -2
+        try:
+            current_kversion = tuple([int(x) for x in re.sub('(-.*)|([a-zA-Z]+)', '', current_kversion_str).split('.')])
+            if current_kversion < __required_kversion__:
+                print('Using Linux Kernel {}, but {} requires > {}.{}.'.format(
+                    current_kversion_str, __program_name__, __required_kversion__[0],
+                    __required_kversion__[1]), file=sys.stderr)
+                return -2
+        except ValueError:
+            print('Linux Kernel version check skipped.')
 
         # Check Linux Init Type
         init_type = 'Unknown'
         cmd_init = '/sbin/init' if os.path.isfile('/sbin/init') else shutil.which('init')
         if cmd_init:
             if os.path.islink(cmd_init):
                 sys_path = os.readlink(cmd_init)
@@ -382,16 +352,15 @@
         self.cmd_nvidia_smi = shutil.which('nvidia-smi')
         LOGGER.debug('nvidia-smi executable full path: [%s]', self.cmd_nvidia_smi)
         if command_access_fail:
             return -3
         return 0
 
     def read_amd_driver_version(self) -> bool:
-        """
-        Read the AMD driver version and store in GutConst object.
+        """ Read the AMD driver version and store in GutConst object.
 
         :return: True on success.
         """
         if not self.cmd_dpkg:
             print('Can not access package read utility to verify AMD driver.')
             return False
         if re.search(r'([uU]buntu|[dD]ebian)', self.distro['Distributor']):
@@ -399,16 +368,15 @@
         if re.search(r'([gG]entoo)', self.distro['Distributor']):
             return self.read_amd_driver_version_gentoo()
         if re.search(r'([aA]rch)', self.distro['Distributor']):
             return self.read_amd_driver_version_arch()
         return False
 
     def read_amd_driver_version_gentoo(self) -> bool:
-        """
-        Read the AMD driver version and store in GutConst object.
+        """ Read the AMD driver version and store in GutConst object.
 
         :return: True if successful
         """
         for pkgname in ('dev-libs/amdgpu', 'dev-libs/amdgpu-pro-opencl', 'dev-libs/rocm', 'dev-libs/rocm-utils'):
             try:
                 dpkg_out = subprocess.check_output(shlex_split('{} list {}'.format(self.cmd_dpkg, pkgname)),
                                                    shell=False, stderr=subprocess.DEVNULL).decode().split('\n')
@@ -425,16 +393,15 @@
                         dpkg_line = re.sub(r'.*]\s*', '', dpkg_line)
                         print('AMD: {} version: {}'.format(driverpkg, dpkg_line))
                         return True
         print('AMD: amdgpu/rocm version: UNKNOWN')
         return False
 
     def read_amd_driver_version_arch(self) -> bool:
-        """
-        Read the AMD driver version and store in GutConst object.
+        """ Read the AMD driver version and store in GutConst object.
 
         :return: True if successful
         """
         for pkgname in ('amdgpu', 'rocm', 'rocm-utils'):
             try:
                 dpkg_out = subprocess.check_output(shlex_split('{} -Qs {}'.format(self.cmd_dpkg, pkgname)),
                                                    shell=False, stderr=subprocess.DEVNULL).decode().split('\n')
@@ -448,16 +415,15 @@
                         if len(dpkg_items) >= 2:
                             print('AMD: {} version: {}'.format(driverpkg, dpkg_items[1]))
                             return True
         print('AMD: amdgpu/rocm version: UNKNOWN')
         return False
 
     def read_amd_driver_version_debian(self) -> bool:
-        """
-        Read the AMD driver version and store in GutConst object.
+        """ Read the AMD driver version and store in GutConst object.
 
         :return: True if successful
         """
         for pkgname in ('amdgpu', 'amdgpu-core', 'amdgpu-pro', 'rocm-utils'):
             try:
                 dpkg_out = subprocess.check_output(shlex_split('{} -l {}'.format(self.cmd_dpkg, pkgname)),
                                                    shell=False, stderr=subprocess.DEVNULL).decode().split('\n')
```

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-chk.1` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-chk.1`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-ls.1` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-ls.1`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-mon.1` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-mon.1`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-pac.1` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-pac.1`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-plot.1` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-plot.1`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/LICENSE` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/LICENSE`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/README.md` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/README.md`

 * *Files 0% similar despite different names*

```diff
@@ -125,19 +125,20 @@
 saved bash file.  Since the GPU device files are writable only by root, sudo is used to
 execute commands in the bash file, as a result, you will be prompted for credentials in the
 terminal where you executed *gpu-pac*. The *--no_fan* option can be used to eliminate
 fan details from the utility. The *--force_write* option can be used to force all configuration
 parameters to be written to the GPU.  The default behavior is to only write changes.  The
 *--verbose* option will display progress and informational messages generated by the utilities.
 
-## New in this Version -  v3.8.4
+## New in Current Release -  v3.9.0
 
-* Fixed GpuType and GpuVendor dictionary initialization as described in update to issue 139.
-* Fixed skip list for APU which incorrectly included memory parameters.
-* Fixed matplotlib 3.5.* compatibility issues.
+* Optimized regex compile strategy for improved performance.
+* Fixed issue with handling of alpha strings in kernel version.
+* Fixed matplotlib deprecation issue.
+* Prep for debian repository release.
 
 ## Development Plans
 
 * Add status read capabilities for Intel GPUs.  Need someone to provide `gpu-ls --raw --no_markup`
 and `clinfo` output for Intel GPU.
 * Add pac capabilities for Nvidia GPUs.
 
@@ -161,14 +162,20 @@
 * Relevant Kernel Details: [Kernel Details](https://www.kernel.org/doc/html/latest/gpu/amdgpu.html)
 * PCI ID Decode Table: [PCI IDs](https://pci-ids.ucw.cz/v2.2/pci.ids)
 * Radeon VII discussion on Reddit: [Radeon VII OC](https://www.reddit.com/r/linux_gaming/duplicates/au7m3x/radeon_vii_on_linux_overclocking_undervolting/)
 * Example use cases: [wiki.archlinux.org](https://wiki.archlinux.org/index.php/AMDGPU)
 
 ## History
 
+### New in Previous Version -  v3.8.4
+
+* Fixed GpuType and GpuVendor dictionary initialization as described in update to issue 139.
+* Fixed skip list for APU which incorrectly included memory parameters.
+* Fixed matplotlib 3.5.* compatibility issues.
+
 ### New in Previous Release -  v3.8.3
 
 * Implementation of gpu-pac capability for VDDGFX Offset mode type of AMD GPUs. Does not
   seem to work for negative values.
 * Improvements to code including improved use of Enum objects as dictionary keys.
 * Improved check for Gtk import errors.
 * Fixed bug 147, ignore invalid data read from GPU.
```

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png` & `rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/scripts/gpu-chk` & `rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-chk`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/scripts/gpu-ls` & `rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-ls`

 * *Files 2% similar despite different names*

```diff
@@ -168,12 +168,15 @@
             gpu_list.print_param_table(param_name='pp_features')
         elif args.clinfo:
             gpu_list.print_param_table(param_name='clinfo')
         print('')
     else:
         gpu_list.print()
 
+    if GUT_CONST.debug:
+        for key, value in GUT_CONST.PATTERNS.patterns.items():
+            print('{}\n   {}'.format(key, value))
     sys.exit(0)
 
 
 if __name__ == '__main__':
     main()
```

## Comparing `rickslab_gpu_utils-3.8.4.data/scripts/gpu-mon` & `rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-mon`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.data/scripts/gpu-pac` & `rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-pac`

 * *Files 1% similar despite different names*

```diff
@@ -66,14 +66,15 @@
     sys.exit(0)
 
 from GPUmodules import __version__, __status__, __credits__
 from GPUmodules import GPUgui
 from GPUmodules import GPUmodule as Gpu
 from GPUmodules.env import GUT_CONST
 from GPUmodules.GPUKeys import GpuType, GpuCompatibility, SensorSet
+from GPUmodules.RegexPatterns import PatternKeys as PK
 
 MAX_CHAR = 54
 CHAR_WIDTH = 8
 set_gtk_prop = GPUgui.GuiProps.set_gtk_prop
 LOGGER = logging.getLogger('gpu-utils')
 PATTERNS = GUT_CONST.PATTERNS
 
@@ -666,70 +667,70 @@
                                                             gpu.get_params_value('fan_pwm', num_as_int=True)))
                 devices[gpu.prm.uuid]['fan_pwm_ent'].set_text(str(gpu.get_params_value('fan_pwm', num_as_int=True)))
                 LOGGER.debug('Refresh got current pwm speed: %s', devices[gpu.prm.uuid]['fan_pwm_ent'].get_text())
             # SCLK
             if gpu.get_params_value('gpu_type') in (GpuType.PStates, ):
                 for ps, psd in gpu.sclk_state.items():
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_cur_obj'].set_text('    {}:  {}, {}'.format(ps, *psd))
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[0]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[0]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[0]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[0]))
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_f_obj'].set_text(item_value)
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_f_obj_unit'].set_text(item_unit + '     ')
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[1]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[1]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[1]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[1]))
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_v_obj'].set_text(str(item_value))
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_v_obj_unit'].set_text(item_unit)
                 devices[gpu.prm.uuid]['sclk_pst_mask_cur'].set_text(
                     '    SCLK Default: {}    Set Mask: '.format(gpu.prm.sclk_mask))
                 devices[gpu.prm.uuid]['sclk_pst_mask_ent'].set_text(gpu.prm.sclk_mask)
             elif gpu.get_params_value('gpu_type') in (GpuType.CurvePts, GpuType.Offset):
                 for ps, psd in gpu.sclk_state.items():
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_cur_obj'].set_text('    {}:  {}'.format(ps, psd[0]))
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[0]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[0]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[0]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[0]))
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_f_obj'].set_text(item_value)
                     devices[gpu.prm.uuid]['sclk_pstate'][ps]['gtk_ent_f_obj_unit'].set_text(item_unit + '     ')
                 devices[gpu.prm.uuid]['sclk_pst_mask_cur'].set_text(
                     '    SCLK Default: {}    Set Mask: '.format(gpu.prm.sclk_mask))
                 devices[gpu.prm.uuid]['sclk_pst_mask_ent'].set_text(gpu.prm.sclk_mask)
             # MCLK
             if gpu.get_params_value('gpu_type') in (GpuType.PStates, ):
                 for ps, psd in gpu.mclk_state.items():
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_cur_obj'].set_text('    {}:  {}, {}'.format(ps, *psd))
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[0]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[0]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[0]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[0]))
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_f_obj'].set_text(item_value)
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_f_obj_unit'].set_text(item_unit + '     ')
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[1]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[1]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[1]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[1]))
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_v_obj'].set_text(str(item_value))
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_v_obj_unit'].set_text(item_unit)
                 devices[gpu.prm.uuid]['mclk_pst_mask_cur'].set_text(
                     '    MCLK Default: {}    Set Mask: '.format(gpu.prm.mclk_mask))
                 devices[gpu.prm.uuid]['mclk_pst_mask_ent'].set_text(gpu.prm.mclk_mask)
             elif gpu.get_params_value('gpu_type') in (GpuType.CurvePts, GpuType.Offset):
                 for ps, psd in gpu.mclk_state.items():
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_cur_obj'].set_text('    {}:  {}'.format(ps, psd[0]))
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[0]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[0]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[0]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[0]))
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_f_obj'].set_text(item_value)
                     devices[gpu.prm.uuid]['mclk_pstate'][ps]['gtk_ent_f_obj_unit'].set_text(item_unit + '     ')
                 devices[gpu.prm.uuid]['mclk_pst_mask_cur'].set_text(
                     '    MCLK Default: {}    Set Mask: '.format(gpu.prm.mclk_mask))
                 devices[gpu.prm.uuid]['mclk_pst_mask_ent'].set_text(gpu.prm.mclk_mask)
             # VDDC CURVE
             if gpu.get_params_value('gpu_type') == GpuType.CurvePts:
                 for ps, psd in gpu.vddc_curve.items():
                     devices[gpu.prm.uuid]['vddc_curve_pt'][ps]['gtk_cur_obj'].set_text('    {}:  {}, {}'.format(ps, *psd))
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[0]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[0]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[0]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[0]))
                     devices[gpu.prm.uuid]['vddc_curve_pt'][ps]['gtk_ent_f_obj'].set_text(item_value)
                     devices[gpu.prm.uuid]['vddc_curve_pt'][ps]['gtk_ent_f_obj_unit'].set_text(item_unit + '     ')
-                    item_value = re.sub(PATTERNS['END_IN_ALPHA'], '', str(psd[1]))
-                    item_unit = re.sub(PATTERNS['IS_FLOAT'], '', str(psd[1]))
+                    item_value = re.sub(PATTERNS[PK.END_IN_ALPHA], '', str(psd[1]))
+                    item_unit = re.sub(PATTERNS[PK.IS_FLOAT], '', str(psd[1]))
                     devices[gpu.prm.uuid]['vddc_curve_pt'][ps]['gtk_ent_v_obj'].set_text(str(item_value))
                     devices[gpu.prm.uuid]['vddc_curve_pt'][ps]['gtk_ent_v_obj_unit'].set_text(item_unit)
 
             # refresh active mode item
             devices[gpu.prm.uuid]['ppm_modes_combo'].set_active(
                 devices[gpu.prm.uuid]['ppm_mode_items'][gpu.get_current_ppm_mode()[0]])
 
@@ -857,15 +858,15 @@
         power_cap_file = os.path.join(gpu.prm.hwmon_path, 'power1_cap')
         old_power_cap = gpu.get_params_value('power_cap', num_as_int=True)
         new_power_cap_str = devices[uuid]['power_cap_ent'].get_text()
         if new_power_cap_str.lower() == 'reset':
             changed += 1
             print('# Powercap entry: {}, Resetting to default'.format(new_power_cap_str), file=fileptr)
             print("sudo sh -c \"echo \'0\' >  {}\"".format(power_cap_file), file=fileptr)
-        elif re.fullmatch(PATTERNS['DIGITS'], new_power_cap_str):
+        elif re.fullmatch(PATTERNS[PK.DIGITS], new_power_cap_str):
             new_power_cap = int(new_power_cap_str)
             power_cap_range = gpu.get_params_value('power_cap_range')
             print('# Powercap Old: {}'.format(old_power_cap), end='', file=fileptr)
             print(' New: {}'.format(new_power_cap), end='', file=fileptr)
             print(' Min: {}'.format(power_cap_range[0]), end='', file=fileptr)
             print(' Max: {}\n'.format(power_cap_range[1]), end='', file=fileptr)
             if new_power_cap == old_power_cap and GUT_CONST.write_delta_only:
@@ -895,15 +896,15 @@
                 print('# PWM entry: {}, Resetting to default mode of dynamic'.format(new_pwm_str), file=fileptr)
                 print("sudo sh -c \"echo \'0\' >  {}\"".format(pwm_enable_file), file=fileptr)
                 print("sudo sh -c \"echo \'2\' >  {}\"".format(pwm_enable_file), file=fileptr)
             elif new_pwm_str.lower() == 'max':
                 changed += 1
                 print('# PWM entry: {}, Disabling fan control'.format(new_pwm_str), file=fileptr)
                 print("sudo sh -c \"echo \'0\' >  {}\"".format(pwm_enable_file), file=fileptr)
-            elif re.fullmatch(PATTERNS['DIGITS'], new_pwm_str):
+            elif re.fullmatch(PATTERNS[PK.DIGITS], new_pwm_str):
                 new_pwm = int(new_pwm_str)
                 print('# Fan PWM Old: {}'.format(old_pwm), end='', file=fileptr)
                 print(' New: {}'.format(new_pwm), end='', file=fileptr)
                 pwm_range = gpu.get_params_value('fan_pwm_range')
                 print(' Min: {}'.format(pwm_range[0]), end='', file=fileptr)
                 print(' Max: {}\n'.format(pwm_range[1]), end='', file=fileptr)
                 if new_pwm == old_pwm and GUT_CONST.write_delta_only:
```

## Comparing `rickslab_gpu_utils-3.8.4.data/scripts/gpu-plot` & `rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-plot`

 * *Files 0% similar despite different names*

```diff
@@ -91,14 +91,15 @@
 from pandas.plotting import register_matplotlib_converters
 
 from GPUmodules import __version__, __status__, __credits__
 from GPUmodules import GPUgui
 from GPUmodules import GPUmodule as Gpu
 from GPUmodules.env import GUT_CONST
 from GPUmodules.GPUKeys import SensorSet
+from GPUmodules.RegexPatterns import PatternKeys as PK
 
 warnings.simplefilter(action='ignore', category=FutureWarning)
 
 register_matplotlib_converters()
 set_gtk_prop = GPUgui.GuiProps.set_gtk_prop
 LOGGER = logging.getLogger('gpu-utils')
 PATTERNS = GUT_CONST.PATTERNS
@@ -618,15 +619,15 @@
                 axis_label_col = 'white_off' if axis_name == 'ax1' else 'gray95'
                 comp_item[axis_name].clear()
                 comp_item[axis_name].set_xticklabels([])
                 comp_item[axis_name].set_ylabel(axis_label,
                                                 color=GPUgui.GuiProps.color_name_to_hex(axis_label_col), fontsize=10)
                 for plot_item in active_plot_items:
                     if gc.plot_items[plot_item]:
-                        comp_item[axis_name].plot(ldf[ldf['Card#'].isin([comp_num])]['datetime'],
+                        comp_item[axis_name].plot(ldf[ldf['Card#'].isin([comp_num])]['datetime'].values,
                                                   ldf[ldf['Card#'].isin([comp_num])][plot_item].values,
                                                   color=gc.get_color(plot_item), linewidth=0.5)
                         comp_item[axis_name].text(x=ldf[ldf['Card#'].isin([comp_num])]['datetime'].iloc[-1],
                                                   y=ldf[ldf['Card#'].isin([comp_num])][plot_item].iloc[-1],
                                                   s=str(int(ldf[ldf['Card#'].isin([comp_num])][plot_item].iloc[-1])),
                                                   bbox={'boxstyle': 'round,pad=0.2',
                                                         'facecolor': gc.get_color(plot_item)},
@@ -691,15 +692,15 @@
             new_line_items = []
             for item in line_items:
                 item = item.strip()
                 if item == 'nan':
                     new_line_items.append(np.nan)
                 elif item.isnumeric():
                     new_line_items.append(int(item))
-                elif re.fullmatch(PATTERNS['IS_FLOAT'], item):
+                elif re.fullmatch(PATTERNS[PK.IS_FLOAT], item):
                     new_line_items.append(float(item))
                 elif item in ('', '-1', 'NA', 'None') or item is None:
                     new_line_items.append(np.nan)
                 else:
                     new_line_items.append(item)
             line_items = tuple(new_line_items)
             rdf = pd.DataFrame.from_records([line_items], columns=header_item)
```

## Comparing `rickslab_gpu_utils-3.8.4.dist-info/LICENSE` & `rickslab_gpu_utils-3.9.0rc1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `rickslab_gpu_utils-3.8.4.dist-info/METADATA` & `rickslab_gpu_utils-3.9.0rc1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: rickslab-gpu-utils
-Version: 3.8.4
+Version: 3.9.0rc1
 Summary: Ricks-Lab GPU Utilities
 Home-page: https://github.com/Ricks-Lab/gpu-utils
 Author: RicksLab
 Author-email: rueikes.homelab@gmail.com
 License: GPL-3
 Project-URL: Bug Tracker, https://github.com/Ricks-Lab/gpu-utils/issues
 Project-URL: Documentation, https://github.com/Ricks-Lab/gpu-utils/blob/master/docs/USER_GUIDE.md
@@ -150,19 +150,20 @@
 saved bash file.  Since the GPU device files are writable only by root, sudo is used to
 execute commands in the bash file, as a result, you will be prompted for credentials in the
 terminal where you executed *gpu-pac*. The *--no_fan* option can be used to eliminate
 fan details from the utility. The *--force_write* option can be used to force all configuration
 parameters to be written to the GPU.  The default behavior is to only write changes.  The
 *--verbose* option will display progress and informational messages generated by the utilities.
 
-## New in this Version -  v3.8.4
+## New in Current Release -  v3.9.0
 
-* Fixed GpuType and GpuVendor dictionary initialization as described in update to issue 139.
-* Fixed skip list for APU which incorrectly included memory parameters.
-* Fixed matplotlib 3.5.* compatibility issues.
+* Optimized regex compile strategy for improved performance.
+* Fixed issue with handling of alpha strings in kernel version.
+* Fixed matplotlib deprecation issue.
+* Prep for debian repository release.
 
 ## Development Plans
 
 * Add status read capabilities for Intel GPUs.  Need someone to provide `gpu-ls --raw --no_markup`
 and `clinfo` output for Intel GPU.
 * Add pac capabilities for Nvidia GPUs.
 
@@ -186,14 +187,20 @@
 * Relevant Kernel Details: [Kernel Details](https://www.kernel.org/doc/html/latest/gpu/amdgpu.html)
 * PCI ID Decode Table: [PCI IDs](https://pci-ids.ucw.cz/v2.2/pci.ids)
 * Radeon VII discussion on Reddit: [Radeon VII OC](https://www.reddit.com/r/linux_gaming/duplicates/au7m3x/radeon_vii_on_linux_overclocking_undervolting/)
 * Example use cases: [wiki.archlinux.org](https://wiki.archlinux.org/index.php/AMDGPU)
 
 ## History
 
+### New in Previous Version -  v3.8.4
+
+* Fixed GpuType and GpuVendor dictionary initialization as described in update to issue 139.
+* Fixed skip list for APU which incorrectly included memory parameters.
+* Fixed matplotlib 3.5.* compatibility issues.
+
 ### New in Previous Release -  v3.8.3
 
 * Implementation of gpu-pac capability for VDDGFX Offset mode type of AMD GPUs. Does not
   seem to work for negative values.
 * Improvements to code including improved use of Enum objects as dictionary keys.
 * Improved check for Gtk import errors.
 * Fixed bug 147, ignore invalid data read from GPU.
```

## Comparing `rickslab_gpu_utils-3.8.4.dist-info/RECORD` & `rickslab_gpu_utils-3.9.0rc1.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,25 +1,26 @@
 GPUmodules/GPUKeys.py,sha256=sbD8Q_llBRrL4Cl1mYWJupDDHSXNEF3_ARqq6ZO7ogk,3252
 GPUmodules/GPUgui.py,sha256=OFopVIxWxiKIgm0BRhDfnqlRjV3moSg4qDYlawzzf0o,10090
-GPUmodules/GPUmodule.py,sha256=LlU0-DFDVxVeIwMW2oUguKY46OzScpjGRXEZ6-lEmqU,137206
-GPUmodules/__init__.py,sha256=FpmaxPdM_lFemuBgOd3PP9OgcuZ9X3N2BYlq3GD8hSI,656
-GPUmodules/env.py,sha256=CFeBQhvOBFkcv60M4I5IuIOfKcnTqLjy6WIBi3OkK8M,22566
-rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-chk.1,sha256=Ya_YaCqQZPzm44ENpXsQBcLtnhdk0rT1pq9ShoUa1AU,1583
-rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-ls.1,sha256=Fjm1RgE1IsEXIMn8y-GsdBrb5lty7CPYLiiNp2IB-ww,6653
-rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-mon.1,sha256=V0e44AD_5saZI116RGVO23XgeCfhhSiBWwkkPyLXsXs,5271
-rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-pac.1,sha256=TVgWL9P3yldhS711GEqJLVazse217lQd0UBctgKZz-A,4589
-rickslab_gpu_utils-3.8.4.data/data/share/man/man1/gpu-plot.1,sha256=oKxXseb6ddaNFnUFuxDzz9syd8goDjAYPawpvPj5BgE,4384
-rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/doc/README.md,sha256=z3WlAVDTLrtej7xW1tbzSW6QN360eg3Z-bUCYkzoz60,26294
-rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png,sha256=5JpDvnG9Fu9sfIj17VhXqfXJ0OcadI-ifWZUQE0YrsQ,9369
-rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png,sha256=axq_vMfKhZVkZX_TUngGKNmJ371joaUn0pjJ_paCzYU,9417
-rickslab_gpu_utils-3.8.4.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png,sha256=QgGSGrjdzMfKalmPeG2j5PqMaejam7NIUMNfbgwyrN0,10883
-rickslab_gpu_utils-3.8.4.data/scripts/gpu-chk,sha256=LxkP8-aosFsG_bLGX2M023JEGukrR1G_AEKf83IVfP4,12704
-rickslab_gpu_utils-3.8.4.data/scripts/gpu-ls,sha256=yhT4akXjgzGwfwP9Z1_wT2LDAkfJbYl_v5v-qlRFf_Q,7870
-rickslab_gpu_utils-3.8.4.data/scripts/gpu-mon,sha256=z9IrnHp1CR4RW6hwaU9XKyGdtBf-zLTZzfgKewcjh5s,18764
-rickslab_gpu_utils-3.8.4.data/scripts/gpu-pac,sha256=flNUSstre16-7DXn9HEX8bgKxU5-N0F0__6jf0JyeIw,84696
-rickslab_gpu_utils-3.8.4.data/scripts/gpu-plot,sha256=_sgHNhCHYfTMTO8f7i6P1xgGkFYAtzyAaGCaspVbX8o,40816
-rickslab_gpu_utils-3.8.4.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
-rickslab_gpu_utils-3.8.4.dist-info/METADATA,sha256=BJ-Ls7negEUr0CfPHTOmbTDhWJvof0jweZMivx7zd_8,27340
-rickslab_gpu_utils-3.8.4.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
-rickslab_gpu_utils-3.8.4.dist-info/top_level.txt,sha256=pOhNIHWCcQzJKR6jCBhQj8IvX6wsdBhcVK5vVmoMCas,11
-rickslab_gpu_utils-3.8.4.dist-info/RECORD,,
+GPUmodules/GPUmodule.py,sha256=e4CY29nz-5SdZ2SNuYdbIhLIym8mxl7yqda0DbpJa1k,138172
+GPUmodules/RegexPatterns.py,sha256=-LknrmLueANMxJfZYpBo_uwnt1O6AOMFXl6MAR8pckg,5832
+GPUmodules/__init__.py,sha256=9ccaYhLJrwHnctlyNiPk-WTgmgE0wR-YtLuQd6LBY2E,660
+GPUmodules/env.py,sha256=XGd9GrfDHAYF6Ew8qSx8jdnMFUpKCLA35osooCWwQ6s,20669
+rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-chk.1,sha256=Ya_YaCqQZPzm44ENpXsQBcLtnhdk0rT1pq9ShoUa1AU,1583
+rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-ls.1,sha256=Fjm1RgE1IsEXIMn8y-GsdBrb5lty7CPYLiiNp2IB-ww,6653
+rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-mon.1,sha256=V0e44AD_5saZI116RGVO23XgeCfhhSiBWwkkPyLXsXs,5271
+rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-pac.1,sha256=TVgWL9P3yldhS711GEqJLVazse217lQd0UBctgKZz-A,4589
+rickslab_gpu_utils-3.9.0rc1.data/data/share/man/man1/gpu-plot.1,sha256=oKxXseb6ddaNFnUFuxDzz9syd8goDjAYPawpvPj5BgE,4384
+rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/doc/README.md,sha256=pcY5US3DsIMCzq3Al7dKgT80r8B_0xpeMxyfeT5rniI,26538
+rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-mon.icon.png,sha256=5JpDvnG9Fu9sfIj17VhXqfXJ0OcadI-ifWZUQE0YrsQ,9369
+rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-pac.icon.png,sha256=axq_vMfKhZVkZX_TUngGKNmJ371joaUn0pjJ_paCzYU,9417
+rickslab_gpu_utils-3.9.0rc1.data/data/share/rickslab-gpu-utils/icons/gpu-plot.icon.png,sha256=QgGSGrjdzMfKalmPeG2j5PqMaejam7NIUMNfbgwyrN0,10883
+rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-chk,sha256=LxkP8-aosFsG_bLGX2M023JEGukrR1G_AEKf83IVfP4,12704
+rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-ls,sha256=JexZqPetUR_nk9-rWoXAlvbT4AorrXhnKAOjxDcxAJo,8007
+rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-mon,sha256=z9IrnHp1CR4RW6hwaU9XKyGdtBf-zLTZzfgKewcjh5s,18764
+rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-pac,sha256=Kq09VG7i0Snyo7K8Dx630zWhJVxCJf1awnQgl3U7Yoc,84769
+rickslab_gpu_utils-3.9.0rc1.data/scripts/gpu-plot,sha256=WYEdLd3t1pSGGHMftFvbDQ2Z8uYjs1H5QRgf6Z2d3TI,40879
+rickslab_gpu_utils-3.9.0rc1.dist-info/LICENSE,sha256=OXLcl0T2SZ8Pmy2_dmlvKuetivmyPd5m1q-Gyd-zaYY,35149
+rickslab_gpu_utils-3.9.0rc1.dist-info/METADATA,sha256=00XqDRLUJqD4AhKeGgEwNVonlLqCePjwfdpmgc_0Erk,27587
+rickslab_gpu_utils-3.9.0rc1.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
+rickslab_gpu_utils-3.9.0rc1.dist-info/top_level.txt,sha256=pOhNIHWCcQzJKR6jCBhQj8IvX6wsdBhcVK5vVmoMCas,11
+rickslab_gpu_utils-3.9.0rc1.dist-info/RECORD,,
```

