# Comparing `tmp/h3sed-2.1-py2.py3-none-any.whl.zip` & `tmp/h3sed-2.2-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,15 +1,15 @@
-Zip file size: 142431 bytes, number of entries: 35
+Zip file size: 142445 bytes, number of entries: 35
 -rw-rw-rw-  2.0 fat       76 b- defN 22-Jan-20 18:23 h3sed/__init__.py
 -rw-rw-rw-  2.0 fat       94 b- defN 22-Jan-20 18:23 h3sed/__main__.py
--rw-rw-rw-  2.0 fat     7940 b- defN 24-May-24 15:03 h3sed/conf.py
+-rw-rw-rw-  2.0 fat     7940 b- defN 24-May-28 16:47 h3sed/conf.py
 -rw-rw-rw-  2.0 fat    74162 b- defN 24-May-23 16:57 h3sed/gui.py
 -rw-rw-rw-  2.0 fat    10876 b- defN 24-Jan-21 19:05 h3sed/guibase.py
 -rw-rw-rw-  2.0 fat    41483 b- defN 23-Feb-26 17:55 h3sed/images.py
--rw-rw-rw-  2.0 fat     5816 b- defN 24-May-23 16:56 h3sed/main.py
+-rw-rw-rw-  2.0 fat     5608 b- defN 24-May-27 18:22 h3sed/main.py
 -rw-rw-rw-  2.0 fat    45036 b- defN 24-May-22 17:45 h3sed/metadata.py
 -rw-rw-rw-  2.0 fat    30207 b- defN 24-May-22 18:10 h3sed/templates.py
 -rw-rw-rw-  2.0 fat      255 b- defN 24-Mar-11 18:29 h3sed/etc/h3sed.ini
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Jan-20 18:23 h3sed/lib/__init__.py
 -rw-rw-rw-  2.0 fat    23875 b- defN 24-Jan-29 07:56 h3sed/lib/controls.py
 -rw-rw-rw-  2.0 fat    14180 b- defN 24-Mar-11 18:33 h3sed/lib/util.py
 -rw-rw-rw-  2.0 fat    17561 b- defN 22-Jan-20 18:23 h3sed/lib/wx_accel.py
@@ -24,14 +24,14 @@
 -rw-rw-rw-  2.0 fat     5709 b- defN 24-Jan-29 07:56 h3sed/plugins/hero/spells.py
 -rw-rw-rw-  2.0 fat     8411 b- defN 24-Jan-29 07:56 h3sed/plugins/hero/stats.py
 -rw-rw-rw-  2.0 fat     2213 b- defN 24-May-22 17:24 h3sed/plugins/version/__init__.py
 -rw-rw-rw-  2.0 fat     6874 b- defN 24-May-23 08:38 h3sed/plugins/version/ab.py
 -rw-rw-rw-  2.0 fat    16403 b- defN 24-May-23 08:38 h3sed/plugins/version/hota.py
 -rw-rw-rw-  2.0 fat     4206 b- defN 24-May-23 08:38 h3sed/plugins/version/roe.py
 -rw-rw-rw-  2.0 fat     6623 b- defN 24-May-23 08:38 h3sed/plugins/version/sod.py
--rw-rw-rw-  2.0 fat     1100 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/LICENSE.md
--rw-rw-rw-  2.0 fat     4264 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/METADATA
--rw-rw-rw-  2.0 fat      110 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       37 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/entry_points.txt
--rw-rw-rw-  2.0 fat        6 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     2774 b- defN 24-May-24 15:05 h3sed-2.1.dist-info/RECORD
-35 files, 439615 bytes uncompressed, 138073 bytes compressed:  68.6%
+-rw-rw-rw-  2.0 fat     1100 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/LICENSE.md
+-rw-rw-rw-  2.0 fat     4264 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/METADATA
+-rw-rw-rw-  2.0 fat      110 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       37 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/entry_points.txt
+-rw-rw-rw-  2.0 fat        6 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     2774 b- defN 24-May-28 16:51 h3sed-2.2.dist-info/RECORD
+35 files, 439407 bytes uncompressed, 138087 bytes compressed:  68.6%
```

## zipnote {}

```diff
@@ -81,26 +81,26 @@
 
 Filename: h3sed/plugins/version/roe.py
 Comment: 
 
 Filename: h3sed/plugins/version/sod.py
 Comment: 
 
-Filename: h3sed-2.1.dist-info/LICENSE.md
+Filename: h3sed-2.2.dist-info/LICENSE.md
 Comment: 
 
-Filename: h3sed-2.1.dist-info/METADATA
+Filename: h3sed-2.2.dist-info/METADATA
 Comment: 
 
-Filename: h3sed-2.1.dist-info/WHEEL
+Filename: h3sed-2.2.dist-info/WHEEL
 Comment: 
 
-Filename: h3sed-2.1.dist-info/entry_points.txt
+Filename: h3sed-2.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: h3sed-2.1.dist-info/top_level.txt
+Filename: h3sed-2.2.dist-info/top_level.txt
 Comment: 
 
-Filename: h3sed-2.1.dist-info/RECORD
+Filename: h3sed-2.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## h3sed/conf.py

```diff
@@ -5,15 +5,15 @@
 and all values are kept in JSON.
 
 ------------------------------------------------------------------------------
 This file is part of h3sed - Heroes3 Savegame Editor.
 Released under the MIT License.
 
 @created     14.03.2020
-@modified    24.05.2024
+@modified    28.05.2024
 ------------------------------------------------------------------------------
 """
 try: from ConfigParser import RawConfigParser                 # Py2
 except ImportError: from configparser import RawConfigParser  # Py3
 import copy
 import datetime
 import io
@@ -22,16 +22,16 @@
 import re
 import sys
 
 
 """Program title, version number and version date."""
 Name = "h3sed"
 Title = "Heroes3 Savegame Editor"
-Version = "2.1"
-VersionDate = "24.05.2024"
+Version = "2.2"
+VersionDate = "28.05.2024"
 
 if getattr(sys, "frozen", False):
     # Running as a pyinstaller executable
     ApplicationDirectory = os.path.dirname(sys.executable)
     PluginDirectory = os.path.join(getattr(sys, "_MEIPASS", ""), "h3sed", "plugins")
     EtcDirectory = ApplicationDirectory
 else:
```

## h3sed/main.py

```diff
@@ -4,15 +4,15 @@
 handles logging and status calls.
 
 ------------------------------------------------------------------------------
 This file is part of h3sed - Heroes3 Savegame Editor.
 Released under the MIT License.
 
 @created     14.03.2020
-@modified    23.05.2024
+@modified    27.05.2024
 ------------------------------------------------------------------------------
 """
 import argparse
 import gzip
 import locale
 import logging
 import os
@@ -82,39 +82,29 @@
             except Exception: sys.excepthook(*sys.exc_info())
         self.run = run_with_except_hook
     threading.Thread.__init__ = init
 
 
 def patch_gzip_for_partial():
     """
-    Replaces gzip.GzipFile._read_eof with a version not throwing CRC error.
-    for decompressing partial files.
+    Replaces gzip.GzipFile._read_eof() with a version not throwing CRC error.
+    For decompressing partial files.
     """
 
     def read_eof_py3(self):
-        self._read_exact(8)
-
-        # Gzip files can be padded with zeroes and still have archives.
-        # Consume all zero bytes and set the file position to the first
-        # non-zero byte. See http://www.gzip.org/#faq8
+        if not all(self._fp.read(1) for _ in range(8)): # Consume and require 8 bytes of CRC
+            raise EOFError("Compressed file ended before the end-of-stream marker was reached")
         c = b"\x00"
-        while c == b"\x00":
-            c = self._fp.read(1)
-        if c:
-            self._fp.prepend(c)
+        while c == b"\x00": c = self._fp.read(1) # Consume stream until first non-zero byte
+        if c: self._fp.prepend(c)
 
     def read_eof_py2(self):
-        # Gzip files can be padded with zeroes and still have archives.
-        # Consume all zero bytes and set the file position to the first
-        # non-zero byte. See http://www.gzip.org/#faq8
         c = "\x00"
-        while c == "\x00":
-            c = self.fileobj.read(1)
-        if c:
-            self.fileobj.seek(-1, 1)
+        while c == "\x00": c = self.fileobj.read(1) # Consume stream until first non-zero byte
+        if c: self.fileobj.seek(-1, 1)
 
     readercls = getattr(gzip, "_GzipReader", gzip.GzipFile)  # Py3/Py2
     readercls._read_eof = read_eof_py2 if readercls is gzip.GzipFile else read_eof_py3
 
 
 def run_gui(filename):
     """Main GUI program entrance."""
```

## Comparing `h3sed-2.1.dist-info/LICENSE.md` & `h3sed-2.2.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `h3sed-2.1.dist-info/METADATA` & `h3sed-2.2.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: h3sed
-Version: 2.1
+Version: 2.2
 Summary: Heroes3 Savegame Editor
 Home-page: https://github.com/suurjaak/h3sed
 Author: Erki Suurjaak
 Author-email: erki@lap.ee
 License: MIT
 Keywords: homm homm3 heroes3 savegame
 Platform: any
```

## Comparing `h3sed-2.1.dist-info/RECORD` & `h3sed-2.2.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 h3sed/__init__.py,sha256=mgWnKo3Y6AQUI6FMaFYghlhhUEWw_8O4e-aF8bs1uvk,76
 h3sed/__main__.py,sha256=dLLEHzSyAMiFo7-zsAQhqzR2nvoiC23WKBBUCuuHl_4,94
-h3sed/conf.py,sha256=z_7bFdssv5jZKI-gTp_zLmVby-wAHVxT_ASXMomN3QQ,7940
+h3sed/conf.py,sha256=oowug6ALq3W6kuJO3Tqm40TD2QTJNFLutULQDDzyEpA,7940
 h3sed/gui.py,sha256=SYTcBSjU5JoVBoDKDhKeJ9FCMWpEdAVb7rujxozCWac,74162
 h3sed/guibase.py,sha256=IOVEpjvBFrV6EkSCKfXQ65u8S1sfdn3--LPEpV16tVo,10876
 h3sed/images.py,sha256=CdloD0Pfpc0zDxfA8emcs-P4WgIeIlLD_YFCQQeOK7A,41483
-h3sed/main.py,sha256=DKIjbCKjgoyM7BnysqtQGv13lAQO7HbfzeF3zpjzAbc,5816
+h3sed/main.py,sha256=w0rBPx-ICC8plB8CD44Afwpr77QNxmSZpN-moI_RKZk,5608
 h3sed/metadata.py,sha256=0Qdbw9tEH6-AmNbFMskd33WQV3H6tjaifcidvctITYM,45036
 h3sed/templates.py,sha256=v6-TuN_rQMldKcqdkZj9oaPZqd4IBgSUDyMFqY3ePLM,30207
 h3sed/etc/h3sed.ini,sha256=USxJ4rF4LSuXaDHj-oi4hepttWxDuTBe8c0vxnb4RLQ,255
 h3sed/lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 h3sed/lib/controls.py,sha256=QyA8nzeNCF7J4EfZZVYDJKJAt3HCLjZUGRR4mWizC84,23875
 h3sed/lib/util.py,sha256=37pvC24GqOH3wYL57qQExEn7RRGIOiyB_tjEgVfEqpg,14180
 h3sed/lib/wx_accel.py,sha256=hwsUKEj032eKAFSB6JyUhpgS_mnUZ7dY_96RwhKCDho,17561
@@ -23,13 +23,13 @@
 h3sed/plugins/hero/spells.py,sha256=YzQ223ujDkipJ8UspUCzQ-k6Y41co9QoRdtQAb8bPxk,5709
 h3sed/plugins/hero/stats.py,sha256=GIS2ceBWo9_FbrM6qYvZ1yqi2j6-H4XY5MENwa7iinM,8411
 h3sed/plugins/version/__init__.py,sha256=SqX1U2akYSv1wmSFrbENkKtrbgQONHMGkxfGe4A_hJw,2213
 h3sed/plugins/version/ab.py,sha256=gS4YuNGcIXGwBwfmjTr0bau3NG977PxmzxxoxrnvsOU,6874
 h3sed/plugins/version/hota.py,sha256=WV_Ohsj3ysxUCKU30T09--STuCZISfh17KevJ_8U-1M,16403
 h3sed/plugins/version/roe.py,sha256=iTZCUDHsdx1NzVtz1M1JfNH55mZ9nM0eRNlrZgvP62Q,4206
 h3sed/plugins/version/sod.py,sha256=mzGXqhs5Eeh0uyW5Jcb4AJISg1c8tVdQ5L9QWsV0D8s,6623
-h3sed-2.1.dist-info/LICENSE.md,sha256=8YjDZM6LRG87mXfw2KYhdbWHuR-wvwOGi4D1y9Qghm0,1100
-h3sed-2.1.dist-info/METADATA,sha256=t9xmVZiQamuBDu19hmAmvCfw81D_i05nMoOz1QwWwAk,4264
-h3sed-2.1.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
-h3sed-2.1.dist-info/entry_points.txt,sha256=bS7QP5bCbFdfTYsBx5xAUxc_FLVIEjYuduUbz-8TSn4,37
-h3sed-2.1.dist-info/top_level.txt,sha256=9IbalHA56Rhkznc6o4tVTefe9tS6jw8SMFy9gOrFJE4,6
-h3sed-2.1.dist-info/RECORD,,
+h3sed-2.2.dist-info/LICENSE.md,sha256=8YjDZM6LRG87mXfw2KYhdbWHuR-wvwOGi4D1y9Qghm0,1100
+h3sed-2.2.dist-info/METADATA,sha256=BMhb0iKYortJ3RGr-gcBOMW7BQkMaFRNfDcw-_tfdtE,4264
+h3sed-2.2.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
+h3sed-2.2.dist-info/entry_points.txt,sha256=bS7QP5bCbFdfTYsBx5xAUxc_FLVIEjYuduUbz-8TSn4,37
+h3sed-2.2.dist-info/top_level.txt,sha256=9IbalHA56Rhkznc6o4tVTefe9tS6jw8SMFy9gOrFJE4,6
+h3sed-2.2.dist-info/RECORD,,
```

